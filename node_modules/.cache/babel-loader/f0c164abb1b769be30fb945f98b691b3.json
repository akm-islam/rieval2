{"ast":null,"code":"var _jsxFileName = \"/Users/kaustav/NewWork/trivea/src/components/Top/SelectExpMethod.js\";\nimport React from 'react';\nimport * as d3 from 'd3';\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport { connect } from 'react-redux';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport fiscal_ice from \"../../Data/data/fiscal/ice/fiscal_ice_may25.csv\";\nimport fiscal_lime from \"../../Data/data/fiscal/lime/fiscal_lime_may25.csv\";\nimport school_lime from \"../../Data/data/school/lime/school_lime_may25.csv\";\nimport school_ice from \"../../Data/data/school/ice/school_ice_may25.csv\";\nexport function SelectExpMethod(props) {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleClick = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const process_data_mini = (dataset, val, Set_lime_data) => {\n    var lime_data_filename = \"\";\n\n    if (dataset === \"fiscal\") {\n      lime_data_filename = val === \"lime\" ? fiscal_lime : fiscal_ice;\n    }\n\n    if (dataset === \"school\") {\n      lime_data_filename = val === \"lime\" ? school_lime : school_ice;\n    }\n\n    d3.csv(lime_data_filename).then(temp_data => {\n      var temp_data2 = temp_data.map(d => {\n        var d1 = {};\n\n        for (var key of Object.keys(d)) {\n          d1[key] = d[key] === \"\" ? \"0\" : d[key];\n        }\n\n        return d1;\n      });\n      var data = temp_data2.map(item => {\n        item['predicted'] = parseInt(item['predicted']);\n        item['two_realRank'] = parseInt(item['two_realRank']);\n        item['deviation'] = Math.abs(item['predicted'] - item['two_realRank']);\n        return item;\n      });\n      var nested_data = {};\n      d3.nest().key(function (d) {\n        return d.model;\n      }).entries(data).map(item => {\n        nested_data[item.key] = item.values;\n      });\n      Set_lime_data(nested_data);\n    });\n  }; //ending process_data_mini\n\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: -2\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    \"aria-controls\": \"simple-menu\",\n    \"aria-haspopup\": \"true\",\n    onClick: handleClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, \"Select Explanation Method\", /*#__PURE__*/React.createElement(ArrowDropDownIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 111\n    }\n  })), /*#__PURE__*/React.createElement(Menu, {\n    id: \"simple-menu\",\n    anchorEl: anchorEl,\n    keepMounted: true,\n    open: Boolean(anchorEl),\n    onClose: handleClose,\n    style: {\n      marginTop: 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, anchorEl ? /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      paddingLeft: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 18\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: () => this.buttonclickHandler(1, \"form\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 48\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    component: \"fieldset\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(FormLabel, {\n    component: \"legend\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(RadioGroup, {\n    \"aria-label\": \"gender\",\n    name: \"gender1\",\n    onChange: (event, val) => {\n      handleClose();\n      process_data_mini(props.dataset, val, props.Set_lime_data);\n\n      if (val === \"ice\") {\n        props.Set_default_models(props.default_models.filter(item => item != \"RandomFor\"));\n      } //if(val === \"lime\"){props.Set_default_models(props.default_models.filter(item => item != \"SVM\"))}\n\n\n      console.log(val);\n      props.Set_exp_method(val);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 19\n    }\n  }, ['LIME', 'ICE'].map(value => {\n    return /*#__PURE__*/React.createElement(FormControlLabel, {\n      value: value.toLowerCase(),\n      control: /*#__PURE__*/React.createElement(Radio, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 85\n        }\n      }),\n      label: value,\n      checked: props.exp_method === value.toLowerCase(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 30\n      }\n    });\n  }))))) : null));\n}\n\nconst maptstateToprop = state => {\n  return {\n    state_range: state.state_range,\n    dataset: state.dataset,\n    exp_method: state.exp_method,\n    default_models: state.default_models\n  };\n};\n\nconst mapdispatchToprop = dispatch => {\n  return {\n    Set_exp_method: val => dispatch({\n      type: \"exp_method\",\n      value: val\n    }),\n    Set_histogram_data: val => dispatch({\n      type: \"histogram_data\",\n      value: val\n    }),\n    Set_default_models: val => dispatch({\n      type: \"default_models\",\n      value: val\n    }),\n    Set_lime_data: val => dispatch({\n      type: \"lime_data\",\n      value: val\n    })\n  };\n};\n\nexport default connect(maptstateToprop, mapdispatchToprop)(SelectExpMethod);","map":{"version":3,"sources":["/Users/kaustav/NewWork/trivea/src/components/Top/SelectExpMethod.js"],"names":["React","d3","Button","Menu","ArrowDropDownIcon","connect","FormControlLabel","FormControl","Radio","RadioGroup","FormLabel","fiscal_ice","fiscal_lime","school_lime","school_ice","SelectExpMethod","props","anchorEl","setAnchorEl","useState","handleClick","event","currentTarget","handleClose","process_data_mini","dataset","val","Set_lime_data","lime_data_filename","csv","then","temp_data","temp_data2","map","d","d1","key","Object","keys","data","item","parseInt","Math","abs","nested_data","nest","model","entries","values","marginTop","Boolean","paddingLeft","buttonclickHandler","Set_default_models","default_models","filter","console","log","Set_exp_method","value","toLowerCase","exp_method","maptstateToprop","state","state_range","mapdispatchToprop","dispatch","type","Set_histogram_data"],"mappings":"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","sourcesContent":["import React from 'react';\nimport * as d3 from 'd3';\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport { connect } from 'react-redux';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormLabel from '@material-ui/core/FormLabel';\n\nimport fiscal_ice from \"../../Data/data/fiscal/ice/fiscal_ice_may25.csv\";\nimport fiscal_lime from \"../../Data/data/fiscal/lime/fiscal_lime_may25.csv\";\n\nimport school_lime from \"../../Data/data/school/lime/school_lime_may25.csv\";\nimport school_ice from \"../../Data/data/school/ice/school_ice_may25.csv\";\n\nexport function SelectExpMethod(props) {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const process_data_mini = (dataset,val, Set_lime_data) => {\n    var lime_data_filename = \"\";\n    if(dataset===\"fiscal\"){\n      lime_data_filename = (val === \"lime\")?fiscal_lime:fiscal_ice;\n    }\n    if(dataset===\"school\"){\n      lime_data_filename = (val === \"lime\")?school_lime:school_ice;\n    }\n    d3.csv(lime_data_filename).then(temp_data => {\n      var temp_data2 = temp_data.map(d=>{\n        var d1 = {};\n        for(var key of Object.keys(d)){\n          d1[key] = (d[key] === \"\")?\"0\":d[key]\n        }\n        return d1;\n      })\n      var data=temp_data2.map(item=>{\n        item['predicted']=parseInt(item['predicted'])\n        item['two_realRank']=parseInt(item['two_realRank'])\n        item['deviation']=Math.abs(item['predicted']-item['two_realRank'])\n        return item\n      })\n      \n    var nested_data = {}\n    d3.nest().key(function (d) { return d.model; }).entries(data).map(item => {\n      nested_data[item.key] = item.values\n    })\n    Set_lime_data(nested_data)\n  })\n  }; //ending process_data_mini\n\n\n  return (\n    <div style={{marginTop:-2}}>\n      <Button aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleClick}>Select Explanation Method<ArrowDropDownIcon></ArrowDropDownIcon></Button>\n      <Menu id=\"simple-menu\" anchorEl={anchorEl} keepMounted open={Boolean(anchorEl)} onClose={handleClose} style={{marginTop:0}}>\n       {anchorEl?<div style={{paddingLeft:10}}><form onSubmit={() => this.buttonclickHandler(1, \"form\")}>\n                <FormControl component=\"fieldset\">\n                  <FormLabel component=\"legend\"></FormLabel>\n                  <RadioGroup aria-label=\"gender\" name=\"gender1\" onChange={(event, val) => {\n                    handleClose();\n                    process_data_mini(props.dataset, val, props.Set_lime_data);\n                    if(val === \"ice\"){props.Set_default_models(props.default_models.filter(item => item != \"RandomFor\"))}\n                    //if(val === \"lime\"){props.Set_default_models(props.default_models.filter(item => item != \"SVM\"))}\n                    console.log(val);\n                    props.Set_exp_method(val)\n                    }}>\n                    {['LIME', 'ICE'].map((value) => {\n                      return <FormControlLabel value={value.toLowerCase()} control={<Radio />} label={value} checked={props.exp_method === value.toLowerCase()} />\n                    })}\n                  </RadioGroup>\n                </FormControl>\n              </form></div>:null}\n      </Menu>\n    </div>\n  );\n}\nconst maptstateToprop = (state) => {\n  return {\n    state_range: state.state_range,\n    dataset: state.dataset,\n    exp_method: state.exp_method,\n    default_models: state.default_models,\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_exp_method: (val) => dispatch({ type: \"exp_method\", value: val }),\n    Set_histogram_data: (val) => dispatch({ type: \"histogram_data\", value: val }),\n    Set_default_models: (val) => dispatch({ type: \"default_models\", value: val }),\n    Set_lime_data: (val) => dispatch({ type: \"lime_data\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(SelectExpMethod);\n"]},"metadata":{},"sourceType":"module"}