{"ast":null,"code":"import _classCallCheck from\"/Users/kaustav/NewWork/trivea/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/kaustav/NewWork/trivea/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/kaustav/NewWork/trivea/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _createSuper from\"/Users/kaustav/NewWork/trivea/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/Users/kaustav/NewWork/trivea/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';//------------------------------------------------All datasets imports\nimport fiscal from\"./Data/fiscal.csv\";import school from\"./Data/school.csv\";import house from\"./Data/house.csv\";import rur from\"./Data/RUR/RUR.csv\";/** Also update SelectExpMethod.js */import fiscal_rank from\"./Data/data/fiscal/lime/fiscal_rank.csv\";import fiscal_lime from\"./Data/data/fiscal/lime/fiscal_lime_may25.csv\";import fiscal_ice from\"./Data/data/fiscal/ice/fiscal_ice_may25.csv\";import school_rank from\"./Data/data/school/lime/school_rank.csv\";import school_lime from\"./Data/data/school/lime/school_lime_may25.csv\";import school_ice from\"./Data/data/school/ice/school_ice_may25.csv\";import rur_rank from\"./Data/RUR/RUR_rank.csv\";import rur_lime from\"./Data/RUR/RUR_lime.csv\";import house_rank from\"./Data/data/house/lime/house_rank.csv\";import house_lime from\"./Data/data/house/lime/house_lime.csv\";//------------------------------------------------All datasets imports ends here\nimport\"./App.scss\";import*as d3 from'd3';import*as algo1 from\"./Algorithms/algo1\";import ModelChart from\"./components/Charts/Model/ModelChartComponent\";import RangeChart from\"./components/Charts/Range/01RangeChartComponent\";import YearChart from\"./components/Charts/Time/01YearChartComponent\";import{Row,Col}from'reactstrap';import*as $ from'jquery';import{connect}from\"react-redux\";import Grid from'@mui/material/Grid';import Top from'./components/Top/Top';import Legend from'../src/components/Legend/Legend';var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);// mydata is original data\n_this.dataprocessor=function(dataset_name,exp_method){if(dataset_name==\"school\"){_this.process_data(school,school_rank,exp_method===\"lime\"?school_lime:school_ice,dataset_name);}if(dataset_name==\"fiscal\"){_this.process_data(fiscal,fiscal_rank,exp_method===\"lime\"?fiscal_lime:fiscal_ice,dataset_name);}if(dataset_name==\"house\"){_this.process_data(house,house_rank,house_lime,dataset_name);}if(dataset_name==\"rur\"){_this.process_data(rur,rur_rank,rur_lime,dataset_name);}};_this.process_data=function(slopechart_data_filename,rank_data_filename,lime_data_filename,dataset_name){var self=_assertThisInitialized(_this);//-------------\nd3.csv(slopechart_data_filename).then(function(original_data){var grouped_by_year_data=algo1.groupby_year(original_data).years;var sparkline_data=algo1.groupby_year(original_data).sparkline_data;var years_for_dropdown=Object.keys(grouped_by_year_data);//console.log(grouped_by_year_data,sparkline_data,years_for_dropdown,'selected_year')\nself.props.Set_sparkline_data(sparkline_data);self.props.Set_slider_max(grouped_by_year_data[years_for_dropdown[0]].length);self.setState({years_for_dropdown:years_for_dropdown});self.props.Set_years_for_dropdown(years_for_dropdown);self.props.Set_time_mode_year1(years_for_dropdown[0]);self.props.Set_time_mode_year2(years_for_dropdown[1]);self.props.Set_legend_year(years_for_dropdown[0]);self.setState({ref_year:years_for_dropdown[0]});self.props.Set_grouped_by_year_data(grouped_by_year_data);self.setState({grouped_by_year_data:grouped_by_year_data});self.setState({original_data:original_data});self.props.Set_original_data(original_data);//self.props.Set_selected_year(years_for_dropdown[0])\n});//-------------\nd3.csv(rank_data_filename).then(function(data){var nested_data={};d3.nest().key(function(d){return d.model;}).entries(data).map(function(item){nested_data[item.key]=item.values;});self.props.Set_rank_data(nested_data);});//-------------\nd3.csv(lime_data_filename).then(function(temp_data){var temp_data2=temp_data.map(function(d){var d1={};for(var _i=0,_Object$keys=Object.keys(d);_i<_Object$keys.length;_i++){var key=_Object$keys[_i];d1[key]=d[key]===\"\"?\"0\":d[key];}return d1;});var data=temp_data2.map(function(item){item['predicted']=parseInt(item['predicted']);item['two_realRank']=parseInt(item['two_realRank']);item['deviation']=Math.abs(item['predicted']-item['two_realRank']);return item;});var nested_data={};d3.nest().key(function(d){return d.model;}).entries(data).map(function(item){nested_data[item.key]=item.values;});self.props.Set_lime_data(nested_data);});};_this.handleradioChange=function(selected_dataset){_this.props.Set_rank_data(null);_this.props.Set_clicked_items_in_slopechart([]);_this.props.Set_state_range([1,25]);_this.props.Set_histogram_data([]);_this.props.Set_mode(\"Model\");_this.props.Set_range_mode_range1([1,25]);_this.props.Set_range_mode_range2([15,40]);_this.props.Set_time_mode_range([5,35]);if(selected_dataset=='Fiscal Dataset'){_this.setState({dataset:'fiscal'});_this.props.Set_dataset('fiscal');_this.dataprocessor(\"fiscal\",_this.props.exp_method);}else if(selected_dataset=='House Dataset'){_this.setState({dataset:'house'});_this.props.Set_dataset('house');_this.dataprocessor(\"house\");}else if(selected_dataset=='School Dataset (USA)'){_this.setState({dataset:'rur'});_this.props.Set_dataset('rur');_this.dataprocessor(\"rur\");_this.props.Set_selected_year(2012);}else{_this.setState({dataset:'school'});_this.props.Set_dataset('school');_this.dataprocessor(\"school\",_this.props.exp_method);}};_this.state={random:10,original_data:null,grouped_by_year_data:null,show:[\"Slope charts\",\"Rankings\",\"Explanation\"],view_data:1,histogram_data:[],ref_year:null,features_dict:{},features_voted:null,Legend_ready_to_vis:null,legend_model:\"CordAscent\",width:window.innerWidth};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){var self=this;this.dataprocessor(this.props.dataset,this.props.exp_method);$(document).keyup(function(e){if(e.key===\"Escape\"){self.props.Set_clicked_circles([]);self.props.Set_clicked_features([]);}});}//-------------------------------------------------------------------------------------------------------------------- data processor processes data for initial render\n},{key:\"render\",value:function render(){var legend_width=120;return/*#__PURE__*/React.createElement(\"div\",{className:\"root_container\",style:{height:window.innerHeight,width:window.innerWidth}},/*#__PURE__*/React.createElement(\"div\",{className:\"topBar_root\",style:{height:35,width:window.innerWidth}},/*#__PURE__*/React.createElement(Top,{handleradioChange:this.handleradioChange})),this.props.view_data?/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"div\",{style:{width:window.innerWidth,height:window.innerHeight-$('.topBar_root').height(),padding:\"2px 0px\"},key:this.props.view_data},this.state.view_data==true?/*#__PURE__*/React.createElement(Grid,{className:\"charts_and_legend_container\",style:{height:'100%',width:window.innerWidth,border:\"2px solid grey\"},container:true,direction:\"row\",justify:\"flex-start\",alignItems:\"center\"},/*#__PURE__*/React.createElement(Grid,{className:\"charts_container\",style:{height:'100%',width:window.innerWidth-legend_width},container:true,spacing:0,direction:\"row\",justify:\"space-evenly\"},this.props.mode==\"Model\"&&this.state.grouped_by_year_data!=null&&this.props.original_data!=null&&this.props.lime_data!=null?/*#__PURE__*/React.createElement(ModelChart,null):null,this.props.mode==\"Ranges\"&&this.state.grouped_by_year_data!=null&&this.props.original_data!=null&&this.props.lime_data!=null?/*#__PURE__*/React.createElement(RangeChart,null):null,this.props.mode==\"Time\"&&this.state.grouped_by_year_data!=null&&this.props.original_data!=null&&this.props.lime_data!=null?/*#__PURE__*/React.createElement(YearChart,null):null),/*#__PURE__*/React.createElement(\"div\",{style:{padding:0,marginTop:5,height:'100%',width:legend_width-10}},/*#__PURE__*/React.createElement(Legend,{legend_width:legend_width}))):null)):null);}}]);return App;}(Component);var maptstateToprop=function maptstateToprop(state){return{tracking:state.tracking,state_range:state.state_range,deviate_by:state.deviate_by,default_models:state.default_models,sparkline_data:state.sparkline_data,selected_year:state.selected_year,mode:state.mode,range_mode_model:state.range_mode_model,original_data:state.original_data,time_mode_model:state.time_mode_model,chart_scale_type:state.chart_scale_type,dataset:state.dataset,histogram_data:state.histogram_data,sort_by:state.sort_by,time_mode_year1:state.time_mode_year1,time_mode_year2:state.time_mode_year2,popup_chart_data:state.popup_chart_data,clicked_items_in_slopechart:state.clicked_items_in_slopechart,config:state.config,lime_data:state.lime_data,view_data:state.view_data,exp_method:state.exp_method};};var mapdispatchToprop=function mapdispatchToprop(dispatch){return{Set_dataset:function Set_dataset(val){return dispatch({type:\"dataset\",value:val});},Set_default_models:function Set_default_models(val){return dispatch({type:\"default_models\",value:val});},Set_sparkline_data:function Set_sparkline_data(val){return dispatch({type:\"sparkline_data\",value:val});},Set_slider_max:function Set_slider_max(val){return dispatch({type:\"slider_max\",value:val});},Set_years_for_dropdown:function Set_years_for_dropdown(val){return dispatch({type:\"years_for_dropdown\",value:val});},Set_selected_year:function Set_selected_year(val){return dispatch({type:\"selected_year\",value:parseInt(val)});},Set_ref_year:function Set_ref_year(val){return dispatch({type:\"ref_year\",value:val});},Set_original_data:function Set_original_data(val){return dispatch({type:\"original_data\",value:val});},Set_grouped_by_year_data:function Set_grouped_by_year_data(val){return dispatch({type:\"grouped_by_year_data\",value:val});},Set_slider_and_feature_value:function Set_slider_and_feature_value(val){return dispatch({type:\"slider_and_feature_value\",value:val});},Set_clicked_items_in_slopechart:function Set_clicked_items_in_slopechart(val){return dispatch({type:\"clicked_items_in_slopechart\",value:val});},Set_histogram_data:function Set_histogram_data(val){return dispatch({type:\"histogram_data\",value:val});},Set_state_range:function Set_state_range(val){return dispatch({type:\"state_range\",value:val});},Set_legend_year:function Set_legend_year(val){return dispatch({type:\"legend_year\",value:val});},Set_mode:function Set_mode(val){return dispatch({type:\"mode\",value:val});},Set_range_mode_range1:function Set_range_mode_range1(val){return dispatch({type:\"range_mode_range1\",value:val});},Set_range_mode_range2:function Set_range_mode_range2(val){return dispatch({type:\"range_mode_range2\",value:val});},Set_time_mode_range:function Set_time_mode_range(val){return dispatch({type:\"time_mode_range\",value:val});},Set_time_mode_year1:function Set_time_mode_year1(val){return dispatch({type:\"time_mode_year1\",value:val});},Set_time_mode_year2:function Set_time_mode_year2(val){return dispatch({type:\"time_mode_year2\",value:val});},Set_rank_data:function Set_rank_data(val){return dispatch({type:\"rank_data\",value:val});},Set_lime_data:function Set_lime_data(val){return dispatch({type:\"lime_data\",value:val});},Set_pop_over_models:function Set_pop_over_models(val){return dispatch({type:\"pop_over_models\",value:val});},Set_default_model_scores:function Set_default_model_scores(val){return dispatch({type:\"default_model_scores\",value:val});},Set_clicked_circles:function Set_clicked_circles(val){return dispatch({type:\"clicked_circles\",value:val});},Set_clicked_features:function Set_clicked_features(val){return dispatch({type:\"clicked_features\",value:val});}};};export default connect(maptstateToprop,mapdispatchToprop)(App);","map":{"version":3,"sources":["/Users/kaustav/NewWork/trivea/src/App.js"],"names":["React","Component","fiscal","school","house","rur","fiscal_rank","fiscal_lime","fiscal_ice","school_rank","school_lime","school_ice","rur_rank","rur_lime","house_rank","house_lime","d3","algo1","ModelChart","RangeChart","YearChart","Row","Col","$","connect","Grid","Top","Legend","App","props","dataprocessor","dataset_name","exp_method","process_data","slopechart_data_filename","rank_data_filename","lime_data_filename","self","csv","then","original_data","grouped_by_year_data","groupby_year","years","sparkline_data","years_for_dropdown","Object","keys","Set_sparkline_data","Set_slider_max","length","setState","Set_years_for_dropdown","Set_time_mode_year1","Set_time_mode_year2","Set_legend_year","ref_year","Set_grouped_by_year_data","Set_original_data","data","nested_data","nest","key","d","model","entries","map","item","values","Set_rank_data","temp_data","temp_data2","d1","parseInt","Math","abs","Set_lime_data","handleradioChange","selected_dataset","Set_clicked_items_in_slopechart","Set_state_range","Set_histogram_data","Set_mode","Set_range_mode_range1","Set_range_mode_range2","Set_time_mode_range","dataset","Set_dataset","Set_selected_year","state","random","show","view_data","histogram_data","features_dict","features_voted","Legend_ready_to_vis","legend_model","width","window","innerWidth","document","keyup","e","Set_clicked_circles","Set_clicked_features","legend_width","height","innerHeight","padding","border","mode","lime_data","marginTop","maptstateToprop","tracking","state_range","deviate_by","default_models","selected_year","range_mode_model","time_mode_model","chart_scale_type","sort_by","time_mode_year1","time_mode_year2","popup_chart_data","clicked_items_in_slopechart","config","mapdispatchToprop","dispatch","val","type","value","Set_default_models","Set_ref_year","Set_slider_and_feature_value","Set_pop_over_models","Set_default_model_scores"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n//------------------------------------------------All datasets imports\nimport fiscal from \"./Data/fiscal.csv\";\nimport school from \"./Data/school.csv\";\nimport house from \"./Data/house.csv\";\nimport rur from \"./Data/RUR/RUR.csv\";\n\n/** Also update SelectExpMethod.js */\nimport fiscal_rank from \"./Data/data/fiscal/lime/fiscal_rank.csv\";\nimport fiscal_lime from \"./Data/data/fiscal/lime/fiscal_lime_may25.csv\";\nimport fiscal_ice from \"./Data/data/fiscal/ice/fiscal_ice_may25.csv\";\n\nimport school_rank from \"./Data/data/school/lime/school_rank.csv\";\nimport school_lime from \"./Data/data/school/lime/school_lime_may25.csv\";\nimport school_ice from \"./Data/data/school/ice/school_ice_may25.csv\";\n\nimport rur_rank from \"./Data/RUR/RUR_rank.csv\";\nimport rur_lime from \"./Data/RUR/RUR_lime.csv\";\n\n\nimport house_rank from \"./Data/data/house/lime/house_rank.csv\";\nimport house_lime from \"./Data/data/house/lime/house_lime.csv\";\n\n//------------------------------------------------All datasets imports ends here\nimport \"./App.scss\";\nimport * as d3 from 'd3';\nimport * as algo1 from \"./Algorithms/algo1\";\nimport ModelChart from \"./components/Charts/Model/ModelChartComponent\"\nimport RangeChart from \"./components/Charts/Range/01RangeChartComponent\"\nimport YearChart from \"./components/Charts/Time/01YearChartComponent\"\nimport { Row, Col } from 'reactstrap';\nimport * as $ from 'jquery';\nimport { connect } from \"react-redux\";\nimport Grid from '@mui/material/Grid';\nimport Top from './components/Top/Top';\nimport Legend from '../src/components/Legend/Legend'\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    // mydata is original data\n    this.state = {\n      random: 10,\n      original_data: null, grouped_by_year_data: null, show: [\"Slope charts\", \"Rankings\", \"Explanation\"], view_data: 1,\n      histogram_data: [], ref_year: null, features_dict: {}, features_voted: null, Legend_ready_to_vis: null, legend_model: \"CordAscent\",width:window.innerWidth\n    };\n  }\n  componentDidMount() { \n    var self=this\n    this.dataprocessor(this.props.dataset, this.props.exp_method) \n    $(document).keyup(function(e) {\n      if (e.key === \"Escape\") {\n        self.props.Set_clicked_circles([])\n        self.props.Set_clicked_features([])\n     }\n });\n  }\n\n  //-------------------------------------------------------------------------------------------------------------------- data processor processes data for initial render\n  dataprocessor = (dataset_name, exp_method) => {\n    if (dataset_name == \"school\") { this.process_data(school, school_rank, (exp_method===\"lime\")?school_lime:school_ice, dataset_name) }\n    if (dataset_name == \"fiscal\") { this.process_data(fiscal, fiscal_rank, (exp_method===\"lime\")?fiscal_lime:fiscal_ice, dataset_name) }\n    if (dataset_name == \"house\") { this.process_data(house, house_rank, house_lime, dataset_name) }\n    if (dataset_name == \"rur\") { this.process_data(rur, rur_rank, rur_lime, dataset_name) }\n  }\n  process_data = (slopechart_data_filename, rank_data_filename, lime_data_filename, dataset_name) => {\n    var self = this\n    //-------------\n    d3.csv(slopechart_data_filename).then(original_data => {\n      var grouped_by_year_data = algo1.groupby_year(original_data).years\n      var sparkline_data = algo1.groupby_year(original_data).sparkline_data\n      var years_for_dropdown = Object.keys(grouped_by_year_data)\n      //console.log(grouped_by_year_data,sparkline_data,years_for_dropdown,'selected_year')\n      self.props.Set_sparkline_data(sparkline_data)\n      self.props.Set_slider_max(grouped_by_year_data[years_for_dropdown[0]].length)\n      self.setState({ years_for_dropdown: years_for_dropdown })\n      self.props.Set_years_for_dropdown(years_for_dropdown)\n      self.props.Set_time_mode_year1(years_for_dropdown[0])\n      self.props.Set_time_mode_year2(years_for_dropdown[1])\n      self.props.Set_legend_year(years_for_dropdown[0])\n      self.setState({ ref_year: years_for_dropdown[0] })\n      self.props.Set_grouped_by_year_data(grouped_by_year_data)\n      self.setState({ grouped_by_year_data: grouped_by_year_data })\n      self.setState({ original_data: original_data })\n      self.props.Set_original_data(original_data)\n      //self.props.Set_selected_year(years_for_dropdown[0])\n    })\n    //-------------\n    d3.csv(rank_data_filename).then(data => {\n      var nested_data = {}\n      d3.nest().key(function (d) { return d.model; }).entries(data).map(item => {\n        nested_data[item.key] = item.values\n      })\n      self.props.Set_rank_data(nested_data)\n    })\n    //-------------\n    d3.csv(lime_data_filename).then(temp_data => {\n        var temp_data2 = temp_data.map(d=>{\n          var d1 = {};\n          for(var key of Object.keys(d)){\n            d1[key] = (d[key] === \"\")?\"0\":d[key]\n          }\n          return d1;\n        })\n        var data=temp_data2.map(item=>{\n          item['predicted']=parseInt(item['predicted'])\n          item['two_realRank']=parseInt(item['two_realRank'])\n          item['deviation']=Math.abs(item['predicted']-item['two_realRank'])\n          return item\n        })\n        \n      var nested_data = {}\n      d3.nest().key(function (d) { return d.model; }).entries(data).map(item => {\n        nested_data[item.key] = item.values\n      })\n      self.props.Set_lime_data(nested_data)\n    })\n  }\n  //-------------------------------------------------------------------------------------------------------------------- data processor processes data for initial render\n\n  handleradioChange = (selected_dataset) => {\n    this.props.Set_rank_data(null)\n    this.props.Set_clicked_items_in_slopechart([])\n    this.props.Set_state_range([1, 25])\n    this.props.Set_histogram_data([])\n    this.props.Set_mode(\"Model\")\n    this.props.Set_range_mode_range1([1, 25])\n    this.props.Set_range_mode_range2([15, 40])\n    this.props.Set_time_mode_range([5, 35])\n    if (selected_dataset == 'Fiscal Dataset') {\n      this.setState({ dataset: 'fiscal' })\n      this.props.Set_dataset('fiscal')\n      this.dataprocessor(\"fiscal\", this.props.exp_method)\n    }\n    else if (selected_dataset == 'House Dataset') {\n      this.setState({ dataset: 'house' })\n      this.props.Set_dataset('house')\n      this.dataprocessor(\"house\")\n    }\n    else if (selected_dataset == 'School Dataset (USA)') {\n      this.setState({ dataset: 'rur' })\n      this.props.Set_dataset('rur')\n      this.dataprocessor(\"rur\")\n      this.props.Set_selected_year(2012)\n    }\n    else {\n      this.setState({ dataset: 'school' })\n      this.props.Set_dataset('school')\n      this.dataprocessor(\"school\", this.props.exp_method)\n    }\n  };\n  render() {\n    var legend_width = 120\n    return (\n      <div className=\"root_container\" style={{ height: window.innerHeight, width: window.innerWidth}}>\n        <div className=\"topBar_root\" style={{ height: 35, width: window.innerWidth}}>\n          <Top handleradioChange={this.handleradioChange}></Top>\n        </div>\n        {this.props.view_data ? <Row>\n          <div style={{ width: window.innerWidth, height: window.innerHeight - $('.topBar_root').height(), padding: \"2px 0px\" }} key={this.props.view_data}>\n            {this.state.view_data == true ?\n              <Grid className=\"charts_and_legend_container\" style={{ height: '100%', width: window.innerWidth, border: \"2px solid grey\"}} container direction=\"row\" justify=\"flex-start\" alignItems=\"center\" >\n                <Grid className=\"charts_container\" style={{ height: '100%', width: window.innerWidth - legend_width }} container spacing={0} direction=\"row\" justify=\"space-evenly\" >\n                  {this.props.mode == \"Model\" && this.state.grouped_by_year_data != null && this.props.original_data != null && this.props.lime_data != null ? <ModelChart></ModelChart> : null}\n                  {this.props.mode == \"Ranges\" && this.state.grouped_by_year_data != null && this.props.original_data != null && this.props.lime_data != null ? <RangeChart></RangeChart> : null}\n                  {this.props.mode == \"Time\" && this.state.grouped_by_year_data != null && this.props.original_data != null && this.props.lime_data != null ? <YearChart></YearChart> : null}\n                </Grid>\n                <div style={{ padding: 0,marginTop:5, height: '100%', width: legend_width-10 }}><Legend legend_width={legend_width}></Legend></div>\n              </Grid> : null}\n          </div>\n        </Row> : null}\n      </div>\n    );\n  }\n}\nconst maptstateToprop = (state) => {\n  return {\n    tracking: state.tracking,\n    state_range: state.state_range,\n    deviate_by: state.deviate_by,\n    default_models: state.default_models,\n    sparkline_data: state.sparkline_data,\n    selected_year: state.selected_year,\n    mode: state.mode,\n    range_mode_model: state.range_mode_model,\n    original_data: state.original_data,\n    time_mode_model: state.time_mode_model,\n    chart_scale_type: state.chart_scale_type,\n    dataset: state.dataset,\n    histogram_data: state.histogram_data,\n    sort_by: state.sort_by,\n    time_mode_year1: state.time_mode_year1,\n    time_mode_year2: state.time_mode_year2,\n    popup_chart_data: state.popup_chart_data,\n    clicked_items_in_slopechart: state.clicked_items_in_slopechart,\n    config: state.config,\n    lime_data: state.lime_data,\n    view_data: state.view_data,\n    exp_method: state.exp_method,\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_dataset: (val) => dispatch({ type: \"dataset\", value: val }),\n    Set_default_models: (val) => dispatch({ type: \"default_models\", value: val }),\n    Set_sparkline_data: (val) => dispatch({ type: \"sparkline_data\", value: val }),\n    Set_slider_max: (val) => dispatch({ type: \"slider_max\", value: val }),\n    Set_years_for_dropdown: (val) => dispatch({ type: \"years_for_dropdown\", value: val }),\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: parseInt(val) }),\n    Set_ref_year: (val) => dispatch({ type: \"ref_year\", value: val }),\n    Set_original_data: (val) => dispatch({ type: \"original_data\", value: val }),\n    Set_grouped_by_year_data: (val) => dispatch({ type: \"grouped_by_year_data\", value: val }),\n    Set_slider_and_feature_value: (val) => dispatch({ type: \"slider_and_feature_value\", value: val }),\n    Set_clicked_items_in_slopechart: (val) => dispatch({ type: \"clicked_items_in_slopechart\", value: val }),\n    Set_histogram_data: (val) => dispatch({ type: \"histogram_data\", value: val }),\n    Set_state_range: (val) => dispatch({ type: \"state_range\", value: val }),\n    Set_legend_year: (val) => dispatch({ type: \"legend_year\", value: val }),\n\n    Set_mode: (val) => dispatch({ type: \"mode\", value: val }),\n    Set_range_mode_range1: (val) => dispatch({ type: \"range_mode_range1\", value: val }),\n    Set_range_mode_range2: (val) => dispatch({ type: \"range_mode_range2\", value: val }),\n    Set_time_mode_range: (val) => dispatch({ type: \"time_mode_range\", value: val }),\n    Set_time_mode_year1: (val) => dispatch({ type: \"time_mode_year1\", value: val }),\n    Set_time_mode_year2: (val) => dispatch({ type: \"time_mode_year2\", value: val }),\n\n    Set_rank_data: (val) => dispatch({ type: \"rank_data\", value: val }),\n    Set_lime_data: (val) => dispatch({ type: \"lime_data\", value: val }),\n    Set_pop_over_models: (val) => dispatch({ type: \"pop_over_models\", value: val }),\n    Set_default_model_scores: (val) => dispatch({ type: \"default_model_scores\", value: val }),\n    Set_clicked_circles: (val) => dispatch({ type: \"clicked_circles\", value: val }),\n    Set_clicked_features: (val) => dispatch({ type: \"clicked_features\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(App);"]},"metadata":{},"sourceType":"module"}