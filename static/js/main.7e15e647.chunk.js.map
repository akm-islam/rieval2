{"version":3,"sources":["Data/data/fiscal/lime/chart1_data.csv","Data/data/school/lime/chart1_data.csv","Data/fiscal.csv","Data/school.csv","Data/house.csv","Data/data/fiscal/lime/fiscal_rank.csv","Data/data/fiscal/lime/fiscal_lime.csv","Data/data/school/lime/school_rank.csv","Data/data/school/lime/school_lime.csv","Data/data/house/lime/house_rank.csv","Data/data/house/lime/house_lime.csv","Data/data/house/lime/chart1_data.csv","Algorithms/algo1.js","components/Charts/deviation_chart.js","components/Charts/Sparkline.js","components/Charts/misc_algo.js","components/Charts/ThresholdSlider.js","components/Charts/Model/ModelSlider.js","components/Charts/ExpChart/ExpChartComponent.js","components/Charts/ExpChart/Create_exp_circles.js","components/Charts/Model/YearAndModelSelection/YearModelSelection.js","components/Charts/Model/ModelChartComponent.js","components/Charts/Range/SliderGroup1.js","components/Charts/Range/SliderGroup2.js","components/Charts/Range/YearAndModelSelection/YearModelSelection.js","components/Charts/Range/RangeChartComponent.js","components/Charts/Time/YearChart.js","components/Popover/chart_pop.js","components/Popover/FilterModel.js","components/Popover/Popover.js","components/Top/FeatureHistograms/FeatureHistograms.js","components/Top/FeatureHistograms/CreateBarChart.js","components/Top/FeatureHistograms/CreateHistogram.js","components/Top/FeaturesDropdown.js","components/Top/SelectMode.js","components/Top/Top.js","components/BrushTest/BrushTest.js","App.js","store/reducer.js","Themes.js","index.js"],"names":["module","exports","groupby_year","original_data","years","sparkline_data","forEach","element","replace","temp_dict","year","parseInt","rank","push","features_with_score","dataset","models","selected_instances","selected_year","number_of_charts","rank_data","temp1","temp_final","key","map","model","temp2","v","top_nine","length","items","data","feautures","tempvoted_data_with_score","data2","filter","index","Object","keys","item","feauture","parseFloat","sort","first","second","items2","sorted_features","i","key2","Create_deviation_chart","parent_id","parent_exp_id","defualt_models","anim_config","average","clicked_circles","Set_clicked_circles","diverginColor","Set_selected_year","threshold","div","d3","selectAll","join","attr","style","parent_width","$","width","parent_height","height","includes","temp_scale_data","Math","abs","config","space_for_state_name","fontSize","font_dy","sparkline_width","font_line_gap","line_stroke_width","animation_duration","container_height","my_svg_top_margin","myg_top_margin","y_distance","circle_radius","t","textures","lines","size","strokeWidth","stroke","background","call","d","enter","append","update","transition","duration","rank_animation","exit","remove","this","text","dd","val","substring","parent","s_margin","s_width","s_height","s_svg","x","domain","range","datum","y0","y","y1","raise","on","preventDefault","Create_sparkline","data_for_all_years","line_data","model_name","a","temp_max","sclale1","url","d2","temp","deviation_animation","delay","circ_data","classed","html","pageX","pageY","handle_transparency","class_name","circle_id","useStyles","makeStyles","theme","root","heading","typography","pxToRem","flexBasis","flexShrink","secondaryHeading","color","palette","secondary","tRoot","marginBottom","rang_input","marginLeft","connect","state","dispatch","Set_threshold","type","value","props","React","useState","set_threshold","temp_marks","marks","myitem","label","className","marginTop","paddingTop","Typography","Slider","onChange","event","newValue","onChangeCommitted","valueLabelDisplay","min","max","aria-labelledby","state_range","mode","slider_max","range_mode_model","range_mode_range1","range_mode_range2","time_mode_model","time_mode_range","time_mode_year1","time_mode_year2","years_for_dropdown","slider_and_feature_value","sort_by","grouped_by_year_data","Set_state_range","Set_changed","classes","sliderRange","set_sliderRange","step","border","padding","TextField","input","id","isNaN","target","alert","margin","xs","Button","backgroundColor","onClick","SlopeChart","line_color","exp","createRef","mds_height","mouseX","mouseY","excluded_features","setState","window","innerHeight","prevProps","prevState","console","log","self","histogram_data","under_threshold_instances","year_data","default_models","two_realRank","predicted_rank","interpolate","algo1","entries","b","slice","item_width","exp_id","item_height","feature_containers","current","clicked_features","Set_clicked_features","selection","lime_data","feature_name","feature_contrib_name","sum_data","xScale","my_mean","getRandomArbitrary","seed","rand","rnd","disp","sin","floor","random","circle_animation","feature_animation","CreatexpCircle","ref","Component","chart_scale_type","show","default_model_scores","average_m","average_y","Set_prev_prop","Set_sparkline_data","Set_replay","all_models","Set_defualt_models","display","justifyContent","height_slope_exp_chart","deviation_chart","misc_algo","Grid","container","direction","justify","alignItems","boxShadow","class","overflow","Set_range_mode_range1","Set_range_mode_range2","paddingLeft","Set_range_mode_model","paddingRight","fontWeight","borderBottom","SliderGroup1","SliderGroup2","selected_instances2","features_with_score2","marginRight","deviate_by","clicked_items_in_slopechart","tracking","Set_clicked_items_in_slopechart","Chart","CreateChart","feature","scatterplot_data","feature_contribute","temp_x","temp_y","nice","parent_svg","myid","svg1","hist_height","bins","histogram","y_hist","svg0","x0","x1","y2","tickSize","ticks","tickValues","tickFormat","select","color_gen","String","textClickHandler_original","CreateChart_cat","barplot_data","values","bandwidth","popup_chart_data","merged_arr","concat","apply","pop_over_models","reduced_opacity","idName","Set_pop_over_models","anchorEl","setAnchorEl","open","Boolean","checked","setChecked","handleToggle","currentIndex","indexOf","newChecked","splice","aria-controls","aria-haspopup","currentTarget","Menu","keepMounted","onClose","TransitionComponent","Fade","List","labelId","ListItem","role","undefined","Checkbox","edge","tabIndex","temp_Models","checkboxChanged","pop_over","dbclicked_features","set_pop_over","set_dbclicked_features","set_clicked_features","position","top","left","pointerEvents","FilterModel","maxHeight","maxWidth","FeatureHistograms","store_instances","instances","all_instances","feature_data","filename","exp_fiscal_CordAscent","exp_school_CordAscent","exp_house_CordAscent","then","nextProps","nextState","JSON","stringify","features_dict","feature_index","svg","number_of_features","feature_width","occur","sum_x","feature_height","CreateBarChart","item_data","area_chart_height","myticks","binned_data","thresholds","area_chart_data","yScale","areaGenerator","curve","extent","lower","invert","upper","CreateHistogram","fullWidth","borderRadius","filtered_instances","Set","handleClose","Set_histogram_data","Set_slider_max","SimpleMenu","Set_mode","onSubmit","buttonclickHandler","FormControl","component","FormLabel","RadioGroup","aria-label","name","FormControlLabel","control","Radio","App","setTimeout","Set_view_data","view_data","ref_year","features_voted","Legend_ready_to_vis","legend_model","spacing","ButtonGroup","SelectMode","Row","handleradioChange","variant","innerWidth","dataprocessor","dataset_name","process_data","school","school_rank","school_lime","fiscal","fiscal_rank","fiscal_lime","house","house_rank","house_lime","slopechart_data_filename","rank_data_filename","lime_data_filename","Set_years_for_dropdown","Set_time_mode_year1","Set_time_mode_year2","Set_legend_year","Set_grouped_by_year_data","Set_original_data","nested_data","Set_rank_data","Set_lime_data","selected_dataset","Set_time_mode_range","Set_dataset","Top","YearChart","Popover","Set_ref_year","Set_slider_and_feature_value","Set_default_model_scores","initialState","appHandleChange","slope_chart_ready_to_vis","slider_min","cmodel","dummy","legend_show_option","legend_year","reducer","action","drag_drop_feautre_data","prev_prop","replay","changed","createMuiTheme","button","textTransform","store","createStore","ReactDOM","render","ThemeProvider","document","getElementById"],"mappings":"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","file":"static/js/main.7e15e647.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/chart1_data.d3b20544.csv\";","module.exports = __webpack_public_path__ + \"static/media/chart1_data.cca71c9e.csv\";","module.exports = __webpack_public_path__ + \"static/media/fiscal.977bae2d.csv\";","module.exports = __webpack_public_path__ + \"static/media/school.2d2c77ef.csv\";","module.exports = __webpack_public_path__ + \"static/media/house.88979d03.csv\";","module.exports = __webpack_public_path__ + \"static/media/fiscal_rank.6e0a824e.csv\";","module.exports = __webpack_public_path__ + \"static/media/fiscal_lime.7992abf1.csv\";","module.exports = __webpack_public_path__ + \"static/media/school_rank.edf0b9e3.csv\";","module.exports = __webpack_public_path__ + \"static/media/school_lime.644683c6.csv\";","module.exports = __webpack_public_path__ + \"static/media/house_rank.f85c2352.csv\";","module.exports = __webpack_public_path__ + \"static/media/house_lime.b31dfb61.csv\";","module.exports = __webpack_public_path__ + \"static/media/chart1_data.45acbae8.csv\";","export function groupby_year(original_data) {\n  var years = {}\n  var sparkline_data = {}\n  original_data.forEach(element => {\n    years[element['1-qid']] = []\n    sparkline_data[element['State'].replace(/ /g, '').replace(/[^\\w\\s]/gi, '')] = []\n  });\n\n  original_data.forEach(element => {\n    var temp_dict = { year: parseInt(element['1-qid']), rank: parseInt(element['two_realRank']) }\n    sparkline_data[element['State'].replace(/ /g, '').replace(/[^\\w\\s]/gi, '')].push(temp_dict)\n    years[element['1-qid']].push(element)\n  });\n  return { years: years, sparkline_data: sparkline_data };\n}\nexport function features_with_score(dataset, models, selected_instances, selected_year, number_of_charts, rank_data) {\n  var temp1 = {}\n  var temp_final = {}\n  models.map(model => {\n    var temp2 = {}\n    var v = number_of_charts;\n    var top_nine = sorted_features(dataset, model, selected_instances, selected_year,rank_data)\n    if (top_nine.length < number_of_charts) { v = top_nine.length;; number_of_charts = top_nine.length } // This is because number of charts is calculated based on space but there are cases when we don't have that many features\n    for (var i = 0; i < number_of_charts; i++) {\n      temp2[top_nine[i]] = v;\n      v = v - 1\n    }\n    temp1[model] = temp2\n  });\n\n  for (var key in temp1) {\n    for (var key2 in temp1[key]) {\n      if (temp_final[key2] > 0) {\n\n        temp_final[key2] = temp_final[key2] + temp1[key][key2]\n      }\n      else {\n        temp_final[key2] = temp1[key][key2]\n      }\n    }\n  }\n  return temp_final;\n}\n\n\nexport function sorted_features(dataset, model, selected_instances, selected_year,rank_data) { // Uses feature rank to rank and return features name by removing the feature_rank string\n //return Object.keys(rank_data[model][0]).filter(item=>!['1-qid','model'].includes(item)).map(item=>item.replace(\"_feature_rank\", \"\"))\n  if (!selected_instances.length > 0) { return [] }\n  selected_instances = selected_instances.map(element => element - 1)\n  var tempvoted_data_with_score = {},items,data,feautures;\n\n  if (model == \"ListNet\") { return [] }\n  var data2 = rank_data[model].filter(element => { if (parseInt(element['1-qid']) == parseInt(selected_year)) { return element } })\n  data = selected_instances.map(index => data2[index])\n  feautures = Object.keys(data[0])\n  data.map(item => {\n    feautures.forEach(feauture => {\n      if (tempvoted_data_with_score[feauture] >= 0 || tempvoted_data_with_score[feauture] < 0) {\n        tempvoted_data_with_score[feauture] = tempvoted_data_with_score[feauture] + (parseFloat(item[feauture]))\n      }\n      else { tempvoted_data_with_score[feauture] = parseFloat(item[feauture]) }\n    })\n  })\n  //-----------------------------------------------------------------\n  // Create items array\n  items = Object.keys(tempvoted_data_with_score).map(function (key) {\n    return [key, tempvoted_data_with_score[key]];\n  });\n  // Sort the array based on the second element\n  items.sort(function (first, second) {\n    return first[1] - second[1];\n  });\n  var items2 = items.map((element) => element[0].replace(\"_feature_rank\", \"\"))\n  items2 = items2.filter(item => item != \"1-qid\" && item!=\"model\")\n  return items2;\n  //-----------------------------------------------------------------\n}\n","import * as d3 from 'd3';\nimport * as $ from 'jquery';\nimport textures from 'textures';\nimport Create_sparkline from \"./Sparkline\"\n\nexport function Create_deviation_chart(parent_id,parent_exp_id, selected_instances, original_data, defualt_models, anim_config, selected_year, average, clicked_circles, Set_clicked_circles, diverginColor,sparkline_data,Set_selected_year,dataset,threshold) {\n  var div = d3.select(\"body\").selectAll('.tooltip').data([0]).join(\"div\").attr(\"class\", \"tooltip\").style(\"opacity\", 0);\n  var parent_width = $(\"#\" + parent_id).width() - 5\n  var parent_height = $(\".\" + 'deviation_plot_container_div').height() // deviation_plot_container_div is the div that contains the deviation plot for all modes\n  var data = original_data.filter(item => selected_year==item['1-qid'] && selected_instances.includes(parseInt(item['two_realRank'])))\n  var temp_scale_data = []\n  data.map(item => { defualt_models.map(model => temp_scale_data.push(Math.abs(parseInt(item[model]) - parseInt(item['two_realRank'])))) })\n  // font_line_gap=sparkline_width+4\n  var config = { space_for_state_name: 120,fontSize: 12, font_dy: -6, sparkline_width:20,font_line_gap: 24, line_stroke_width: 10, animation_duration: 0, container_height: 100, my_svg_top_margin: 10, myg_top_margin: 10 }\n  var y_distance = parent_height/selected_instances.length\n  if(y_distance<15){var y_distance=15}\n  d3.select(\"#\" + parent_id).attr(\"height\",y_distance*selected_instances)\n\n  var circle_radius = config.line_stroke_width / 2\n  var t = textures.lines().size(5).strokeWidth(2).stroke(\"#cccccc\").background(\"gray\");\n  var svg=d3.select(\"#\" + parent_id).attr('height', y_distance + data.length * y_distance).call(t)\n  var parent_g = svg.selectAll(\".parent_g\").data([0]).join('g').attr('class', 'parent_g').attr('transform', \"translate(\" + 0 + \",13)\")\n  var items_g = parent_g.selectAll(\".items\").data(data, d => d['State']).join(enter => enter.append(\"g\").attr(\"class\", \"items\")\n    .attr('transform', (d, i) => \"translate(\" + config.space_for_state_name + \",\" + i * y_distance + \")\")\n    , update => update.transition().duration(anim_config.rank_animation).attr('transform', (d, i) => \"translate(\" + config.space_for_state_name + \",\" + i * y_distance + \")\")\n    , exit => exit.remove()\n  )\n  items_g.attr(\"add_state\", function (d) {\n    d3.select(this).selectAll(\"text\").data([d]).join('text')\n    .text(dd=>{\n      var max_textsize=15\n      var val = d['State']\n          if (val.length > max_textsize) { val = val.replace(\"University\", \"U\") }\n          if(val.length > max_textsize){val = val.substring(0, max_textsize)+\"..\"}\n          return val + \" \" + d['two_realRank'] \n    })\n    .attr('fill', d => diverginColor(d['two_realRank'])).attr(\"dominant-baseline\", \"hanging\").attr(\"font-size\", config.fontSize)\n      .attr(\"x\", 0).attr('text-anchor', 'end').attr(\"dy\", config.font_dy)\n  }).attr(\"add_sparkline\", function (d) {\n    // sparkline height is y_distance\n    if(dataset!='house'){Create_sparkline(d3.select(this),config,config.line_stroke_width,sparkline_data,d,diverginColor,selected_year,Set_selected_year)}\n  })\n    .attr(\"add_lines_and_circles\", function (d) {\n      var data_for_all_years = data.filter(item => d['two_realRank'] == parseInt(item['two_realRank']))\n      var line_data = []\n      defualt_models.map(model_name => {\n        data_for_all_years.map(item => {\n          var a = {}\n          a['two_realRank'] = parseInt(item['two_realRank'])\n          a['predicted_rank'] = parseInt(item[model_name])\n          a[\"model\"] = model_name\n          a['year'] = item['1-qid']\n          line_data.push(a)\n        })\n      })\n      // This is only for scaling starts here\n      var temp_scale_data = []\n      data.map(item => { defualt_models.map(model => temp_scale_data.push(Math.abs(parseInt(item[model]) - parseInt(item['two_realRank'])))) })\n      var temp_max = d3.max(temp_scale_data)\n      var sclale1 = d3.scaleLinear().domain([0, temp_max]).range([config.font_line_gap, parent_width - (config.space_for_state_name + circle_radius)])\n      if (temp_max == 0) { var sclale1 = d3.scaleLinear().domain([0, temp_max]).range([config.font_line_gap, 0]) }\n      // This is only for scaling ends here\n      d3.select(this).selectAll(\"line\").data([d]).join(enter => enter.append('line')\n        .attr(\"x1\", config.font_line_gap).attr(\"y1\", (d, i) => y_distance * i).attr(\"y2\", (d, i) => y_distance * i).attr(\"stroke-width\", config.line_stroke_width).attr(\"stroke\", t.url()).attr(\"x2\", (d2) => {\n          var temp = []\n          line_data.map(item => temp.push(Math.abs(item[\"predicted_rank\"] - item[\"two_realRank\"])))\n          return sclale1(d3.max(temp))\n        })\n        // Update\n        , update => update.transition().duration(anim_config.deviation_animation).delay(anim_config.rank_animation).attr(\"x2\", (d2) => {\n          var temp = []\n          line_data.map(item => temp.push(Math.abs(item[\"predicted_rank\"] - item[\"two_realRank\"])))\n          return sclale1(d3.max(temp))\n        }))\n      // ------------ Circles start here\n      var data_for_all_years = data.filter(item => d['two_realRank'] == parseInt(item['two_realRank']))\n      var circ_data = []\n      defualt_models.map(model_name => {\n        data_for_all_years.map(item => {\n          var a = {}\n          a['two_realRank'] = parseInt(item['two_realRank'])\n          a['predicted_rank'] = parseInt(item[model_name])\n          a[\"model\"] = model_name\n          a['year'] = item['1-qid']\n          a['id'] =item['State'].replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\") + model_name.replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\")\n          circ_data.push(a)\n        })\n      })\n      var my_circs = d3.select(this).selectAll(\".my_circles\").data(circ_data, d => d['id']).join(\n        enter => enter.append(\"circle\").attr('id', d => d['id']).attr('class', 'my_circles').attr(\"cx\", (d2, i) => {\n          d3.select(this).classed(d2['id'], true)\n          if (d2[\"predicted_rank\"] - d2['two_realRank'] == 0) { return sclale1(Math.abs(d2[\"predicted_rank\"] - d2['two_realRank'])) + circle_radius }\n          return sclale1(Math.abs(d2[\"predicted_rank\"] - d2['two_realRank']))\n        })\n        // Update\n        , update => update.transition().duration(anim_config.deviation_animation).delay(anim_config.rank_animation).attr(\"cx\", (d2, i) => {\n          d3.select(this).classed(d2['id'], true)\n          if (d2[\"predicted_rank\"] - d2['two_realRank'] == 0) { return sclale1(Math.abs(d2[\"predicted_rank\"] - d2['two_realRank'])) + circle_radius }\n          return sclale1(Math.abs(d2[\"predicted_rank\"] - d2['two_realRank']))\n        })\n      )\n      my_circs.attr(\"r\", circle_radius).attr('fill', d => diverginColor(d['two_realRank'])).attr(\"parent_id\", parent_exp_id)\n        .on('click', d => Set_clicked_circles(clicked_circles.includes(d['id']) ? clicked_circles.filter(item => item != d['id']) : [...clicked_circles, d['id']]))\n        .on(\"mouseover\", function (d2) {\n          div.transition().duration(200).style(\"opacity\", .9);\n          div.html(\"Year : \" + d2[\"year\"] + \"<br></br>\" + \"Model: \" + d2[\"model\"] + \"<br></br>\" + \"Deviation: \" + Math.abs(d2[\"predicted_rank\"] - d2['two_realRank']))\n          .style(\"left\", (d3.event.pageX - 140) + \"px\").style(\"top\", (d3.event.pageY - 98) + \"px\");\n        }).on(\"mouseout\", function (d2) {\n          //d3.select(this).classed(d2['id'],true)\n          div.transition()\n            .duration(500)\n            .style(\"opacity\", 0);\n        })\n\n    })\n\n}","import * as d3 from 'd3';\nexport default function Create_sparkline(parent, config, y_distance, sparkline_data, d, diverginColor, selected_year, Set_selected_year) { // sparkline height is y_distance\n    var year = selected_year\n    var s_margin = { top: 0, right: 0, bottom: 0, left: 4 },\n        s_width = config.sparkline_width - 2,\n        s_height = y_distance - 2;\n    var s_svg = parent.selectAll(\".sparkline_svg\").data([0]).join(\"svg\").attr(\"class\", \"sparkline_svg\").attr(\"x\", 2).attr(\"y\", -3)\n        .attr(\"width\", s_width + s_margin.left + s_margin.right)\n        .attr(\"height\", s_height + s_margin.top + s_margin.bottom)\n    \n    var data = sparkline_data[d['State'].replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\")]\n    // Add X axis  \n    var x = d3.scaleLinear().domain(d3.extent(data, function (d) { return d.year; })).range([0, s_width]);\n    //-----------------------------------------------------------------------------------------------------------------------------------------Add the area\n    s_svg.selectAll(\"path\").remove()\n    s_svg.append(\"path\")\n        .datum(data, d => d)\n        .attr(\"id\", \"A\")\n        .attr(\"opacity\", 1)\n        .attr(\"fill\", diverginColor(d['two_realRank'])) //#969696\n        .attr(\"stroke\", diverginColor(d['two_realRank']))\n        .attr(\"stroke-width\", (d) => {\n            return 1.5\n        })\n        .attr(\"d\", d3.area()\n            .x(function (d) { return x(d.year) })\n            .y0(function () {\n                var y = d3.scaleLinear().domain([0, d3.max(data, function (d) { return +d.rank; })]).range([s_height, 0]);\n                return y(0)\n            })\n            .y1(function (d) {\n                var y = d3.scaleLinear().domain([0, d3.max(data, function (d) { return +d.rank; })]).range([0, s_height]);\n                return y(d.rank)\n            })\n        )\n    //------------Circles\n    s_svg.selectAll('circle').raise().data(data).join('circle')\n        .attr('cx', function (d, i) { return x(d.year) })\n        .attr('cy', s_height - 2)\n        .attr(\"class\", \"myid\")\n        .on(\"mouseover\", function (d) {\n            d3.select(this).style('fill', 'black')\n            d3.select(this).attr('r', 3)\n        })\n        .style('fill', (d) => d.year != year ? 'transparent' : 'black')\n        .attr('class', (d) => d.year != year ? 'transparent_class' : 'red_class')\n        .attr('r', 2)\n        .on('dblclick', (d, i) => {\n            d3.event.preventDefault();\n            Set_selected_year(d.year)\n        })\n        .on(\"mouseout\", function (d) {\n            d3.select(this).style('fill', 'transparent')\n            d3.select(this).style('fill', d.year != year ? 'transparent' : 'black')\n            d3.select(this).attr('r', 2)\n        })\n}","import * as d3 from 'd3';\nexport function handle_transparency(class_name, clicked_circles, anim_config) {\n    \n    if (clicked_circles.length != 0) { // If there are no clicked circles make all opacity 1\n        d3.selectAll(\".items\").attr('opacity', 0.6) // Groups\n        d3.selectAll(\".\" + \"my_circles\").attr('opacity', 0.3) // Circles\n        clicked_circles.map(circle_id => {\n            d3.selectAll(\".\" + circle_id).attr('opacity', 1) // Groups\n            d3.selectAll(\"#\" + circle_id).attr('opacity', 1) // Circles\n        })\n    }\n    else {\n        d3.selectAll(\".items\").attr('opacity', 1); // Groups\n        d3.selectAll(\".\" + \"my_circles\").attr('opacity', 1) // Circles \n    }\n}\nexport function draw_lines(clicked_circles, diverginColor) {\n   \n}","import React from 'react';\nimport \"./Sliders.scss\";\nimport Slider from '@material-ui/core/Slider';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { connect } from \"react-redux\";\nimport Typography from '@material-ui/core/Typography';\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: '100%',\n    },\n    heading: {\n        fontSize: theme.typography.pxToRem(15),\n        flexBasis: '33.33%',\n        flexShrink: 0,\n    },\n    secondaryHeading: {\n        fontSize: theme.typography.pxToRem(15),\n        color: theme.palette.text.secondary,\n    },\n    tRoot: {\n        marginBottom: 35,\n    },\n    rang_input: {\n        marginLeft: 10,\n    },\n}));\nfunction Modes(props) {\n    const classes = useStyles();\n    // states \n    const [threshold, set_threshold] = React.useState(props.threshold);\n    //-----------------------------------------------------------------\n    var temp_marks = [];\n    var min=0\n    var max=20\n    var number_marks=10\n    var step = (max - 1) / (number_marks - 1);\n    for (var i = 0; i < number_marks; i++) {\n        temp_marks.push(1 + (step * i));\n    }\n    var marks = temp_marks.map(item => {\n        var myitem = parseInt(item)\n        return { value: myitem, label: myitem }\n    })\n    //console.log(props.marks)\n    //-----------------------------------------------------------------\n    return (\n        <div className=\"rangeslider2\" style={{ marginLeft: 60,marginTop:-28, width: \"100%\", paddingTop: 0 }} >\n            <Typography>\n                Threshold\n            </Typography>\n            <Slider value={threshold} onChange={(event, newValue) => set_threshold(newValue)} onChangeCommitted={(event, newValue) => props.Set_threshold(newValue)}\n                valueLabelDisplay=\"auto\" min={min} max={max} aria-labelledby=\"input-slider\" marks={marks}\n            />\n        </div>\n    );\n}\nconst maptstateToprop = (state) => {\n    return {\n        threshold:state.threshold\n    }\n}\nconst mapdispatchToprop = (dispatch) => {\n    return {\n        Set_threshold: (val) => dispatch({ type: \"threshold\", value: val }),\n    }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Modes);","import React from 'react';\nimport \"../Sliders.scss\";\nimport * as $ from 'jquery';\nimport Slider from '@material-ui/core/Slider';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { connect } from \"react-redux\";\nimport TextField from '@material-ui/core/TextField';\nimport Button from \"@material-ui/core/Button\";\nimport ThresholdSlider from '../ThresholdSlider';\nimport './ModelSlider.scss';\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: '100%',\n    },\n    heading: {\n        fontSize: theme.typography.pxToRem(15),\n        flexBasis: '33.33%',\n        flexShrink: 0,\n    },\n    secondaryHeading: {\n        fontSize: theme.typography.pxToRem(15),\n        color: theme.palette.text.secondary,\n    },\n    tRoot: {\n        marginBottom: 35,\n    },\n    rang_input: {\n        marginLeft: 10,\n    },\n}));\nfunction Modes(props) {\n    const classes = useStyles();\n    // states \n    const [sliderRange, set_sliderRange] = React.useState(props.state_range);\n    //-----------------------------------------------------------------\n    var temp_marks = [];\n    var step = (props.slider_max - 1) / (6 - 1);\n    for (var i = 0; i < 6; i++) {\n        temp_marks.push(1 + (step * i));\n    }\n    var marks = temp_marks.map(item => {\n        var myitem = parseInt(item)\n        return { value: myitem, label: myitem }\n    })\n    //console.log(props.marks)\n    //-----------------------------------------------------------------\n    return (\n        <div className=\"Modelslider\" style={{height: 70, width: \"99%\",\n            paddingTop: 30, border: \"2px solid rgb(178, 178, 178,0.5)\"\n        }} >\n            <div className=\"lower\" style={{ padding: \"0px 0px\", marginTop: -20 }}>\n                <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Lower\" value={sliderRange[0]} style={{ width: \"100%\" }}\n                    onChange={event => {\n                        if (isNaN(parseInt(event.target.value))) {\n                            set_sliderRange([\"\", sliderRange[1]])\n                        } else {\n                            if (event.target.value > sliderRange[1]) {\n                                alert(\"Lower range can not be larger than the upper range\")\n                            }\n                            else {\n                                set_sliderRange([event.target.value, sliderRange[1]])\n                            }\n                        }\n                    }\n                    }\n                />\n            </div>\n            <div className=\"slider\" style={{width: \"100%\", margin: \"0px 0px\" }}>\n                <Slider value={sliderRange} onChange={(event, newValue) => set_sliderRange(newValue)} onChangeCommitted={(event, newValue) => props.Set_changed(\"range\")}\n                    valueLabelDisplay=\"auto\" aria-labelledby=\"range-slider\" valueLabelDisplay=\"on\" min={1} max={props.slider_max} marks={marks}\n                />\n            </div>\n            <div className=\"upper\" style={{ padding: \"0px 0px\", marginTop: -20 }}>\n                <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Upper\" value={sliderRange[1]} style={{ width: \"100%\" }}\n                    onChange={event => {\n                        if (isNaN(parseInt(event.target.value))) {\n                            set_sliderRange([sliderRange[0], \"\"])\n                        } else {\n                            if (parseInt(event.target.value) > props.slider_max) {\n                                alert(\"Upper range can not exceed maximum\")\n                                set_sliderRange([sliderRange[0], props.slider_max])\n                            }\n                            else {\n                                set_sliderRange([sliderRange[0], parseInt(event.target.value)])\n                            }\n                        }\n                    }\n                    }\n                />\n            </div>\n            <div className=\"button\" item xs=\"2\" style={{ marginTop: -10 }}>\n                <Button className=\"range_button\" style={{ backgroundColor: \"#ededed\", height: 30 }}\n                    onClick={() => {\n                        props.Set_state_range(sliderRange)\n                    }}\n                >Update range</Button>\n            </div>\n        </div>\n    );\n}\nconst maptstateToprop = (state) => {\n    return {\n        selected_year: state.selected_year,\n        state_range: state.state_range,\n        mode: state.mode, // Model mode model\n        slider_max: state.slider_max,\n        range_mode_model: state.range_mode_model, // Range mode model\n        range_mode_range1: state.range_mode_range1,\n        range_mode_range2: state.range_mode_range2,\n        time_mode_model: state.time_mode_model, // Time mode model\n        time_mode_range: state.time_mode_range,\n        time_mode_year1: state.time_mode_year1,\n        time_mode_year2: state.time_mode_year2,\n        years_for_dropdown: state.years_for_dropdown,\n        dataset: state.dataset,\n        defualt_models: state.defualt_models,\n        slider_and_feature_value: state.slider_and_feature_value,\n        sort_by: state.sort_by,\n        grouped_by_year_data: state.grouped_by_year_data\n    }\n}\nconst mapdispatchToprop = (dispatch) => {\n    return {\n        Set_state_range: (val) => dispatch({ type: \"state_range\", value: val }),\n        Set_changed: (val) => dispatch({ type: \"changed\", value: val }),\n    }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Modes);","import React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport { connect } from \"react-redux\";\nimport * as algo1 from \"../../../Algorithms/algo1\";\nimport * as $ from 'jquery';\nimport Create_MDS from \"./MDS\"\nimport CreatexpCircle from \"./Create_exp_circles\"\n\nclass SlopeChart extends Component {\n  constructor(props) {\n    super(props);\n    this.line_color = null;\n    this.exp = React.createRef()\n    this.state = { mds_height: 110, mouseX: 0, mouseY: 0, excluded_features: [] }\n  }\n  componentDidMount() {\n    this.setState({ width: window.innerHeight })\n  }\n  componentDidUpdate(prevProps, prevState) {\n    console.log('width and height upd', $('.explanation_chart_parent').height())\n    var self = this\n    var selected_instances = d3.range(this.props.state_range[0], this.props.state_range[1] + 1)\n    if (this.props.histogram_data.length > 0) { selected_instances = this.props.histogram_data }\n    //------------------------------\n    var under_threshold_instances = []\n    var year_data = this.props.original_data.filter(item => this.props.selected_year == item['1-qid'])\n    this.props.default_models.map(model_name => {\n      year_data.map(item => {\n        var two_realRank = parseInt(item['two_realRank'])\n        var predicted_rank = parseInt(item[model_name])\n        if (Math.abs(predicted_rank - two_realRank) > this.props.threshold) {\n          under_threshold_instances.push(two_realRank)\n        }\n      })\n    })\n    selected_instances = selected_instances.filter(item => !under_threshold_instances.includes(item))\n    //------------------------------\n    var min = d3.min(selected_instances), max = d3.max(selected_instances);\n    var d = (max - min) / 8;\n    var diverginColor = d3.scaleLinear().domain([min + d * 7, min + d * 6, min + d * 5, min + d * 4, min + d * 3, min + d * 2, min]).interpolate(d3.interpolateRgb).range(['#00429d', '#4771b2', '#73a2c6', '#a5d5d8', /*'#ffffe0',*/ '#ffbcaf', '#f4777f', '#cf3759', '#93003a']);\n    var number_of_charts = 8 + self.state.excluded_features.length\n    var features_with_score = algo1.features_with_score(this.props.dataset, [this.props.model_name], selected_instances, this.props.selected_year, number_of_charts, this.props.rank_data)\n    var sorted_features = Object.entries(features_with_score).sort((a, b) => b[1] - a[1]).filter(item => !this.state.excluded_features.includes(item[0])).slice(0, number_of_charts + 1)\n    //------------------------------\n    var marginTop = 5;\n    var parent_height=parseInt($('.explanation_chart_parent').height()) - this.state.mds_height - parseInt($('.title_p').height())\n    var item_width = parseInt($(\"#\"+this.props.exp_id).width())\n    var item_height = (parent_height - 10) / sorted_features.length - marginTop // 10 is the top margin\n    var feature_containers = d3.select(this.exp.current).attr('height',parent_height).selectAll(\".feature_items\").data(sorted_features, d => d[0])\n      .join(enter => enter.append(\"svg\").attr(\"y\", (d, i) => marginTop + i * (item_height + marginTop))\n        , update => update.transition().duration(2000).attr(\"y\", (d, i) => marginTop + i * (item_height + marginTop))\n        , exit => exit.remove()\n      )\n    feature_containers.attr(\"class\", d => \"feature_items \" + d[0])\n    feature_containers.attr(\"add_text_rect\", function (d) {\n      d3.select(this).selectAll(\".title_rect\").data([0]).join('rect').attr(\"class\", \"title_rect\").attr(\"width\", \"100%\").attr(\"height\", 18).attr(\"fill\", \"#e2e2e2\").attr(\"y\", 0).attr(\"x\", 0)\n    })\n    feature_containers.attr(\"add_cross_button\", function (d) {\n      d3.select(this).selectAll(\".cross_button\").data([0]).join(\"text\").attr('y', 7.3).attr('dominant-baseline', 'middle')\n      .attr('x', item_width - 15).style('cursor', 'pointer').attr('font-size', 12).attr('fill', 'black')\n        .text(\"\\uf410\").attr('class', \"cross_button fa make_cursor\").on('click', () => self.setState({ excluded_features: [...self.state.excluded_features, d[0]] }))\n\n    })\n    feature_containers.attr(\"add_circ_rect\", function (d) {\n      d3.select(this).selectAll(\".circ_rect\").data([0]).join('rect').attr(\"class\", \"circ_rect\").attr(\"width\", \"100%\").attr(\"height\", item_height - 18).attr(\"fill\", \"#ededed\").attr(\"y\", 18).attr(\"x\", 0)\n        .on('click', () => {\n          if (self.props.clicked_features.includes(d[0])) {\n            self.props.Set_clicked_features(self.props.clicked_features.filter(item => item != d[0]))\n            d3.selectAll(\".\" + d[0]).selectAll(\".border_rect\").remove()\n          }\n          else {\n            self.props.Set_clicked_features([...self.props.clicked_features, d[0]])\n            d3.selectAll(\".\" + d[0]).selectAll(\".border_rect\").data([0]).join('rect').attr(\"class\", \"border_rect\").attr(\"width\", \"100%\").attr(\"height\", \"100%\").style(\"stroke\", \"black\").style(\"fill\", \"none\").style(\"stroke-width\", 5)\n          }\n        })\n\n    })\n    feature_containers.attr(\"add_text\", function (d) {\n      d3.select(this).selectAll(\".title_text\").data([0]).join('text').attr(\"class\", \"title_text\").attr('x', item_width / 2).text(d[0]).attr(\"dominant-baseline\", \"hanging\")\n        .attr(\"y\", 2).attr('text-anchor', 'middle').attr('font-size', 12)\n    })\n    feature_containers.attr(\"CreatexpCircle\", function (d) {\n      CreatexpCircle(d, d3.select(this), selected_instances, self.props.lime_data, self.props.selected_year, [self.props.model_name], self.props.clicked_circles,\n        self.props.Set_clicked_circles, diverginColor, self.props.anim_config, item_width, item_height)\n    }).attr(\"height\", item_height).attr('width', item_width)\n    feature_containers.attr('check_clicked_features', d => {\n      if (this.props.clicked_features.includes(d[0])) {\n        d3.selectAll(\".\" + d[0]).selectAll(\".border_rect\").data([0]).join('rect').attr(\"class\", \"border_rect\").attr(\"width\", \"100%\").attr(\"height\", \"100%\").style(\"stroke\", \"black\").style(\"fill\", \"none\").style(\"stroke-width\", 5)\n      }\n    })\n    //------------------------------\n    //Create_MDS(\"mds_parent\", \"#mds\" + this.props.model_name, this.props.lime_data, this.props.model_name, this.props.selected_year, selected_instances, sorted_features, diverginColor, this.props.Set_clicked_circles)\n    //------------------------------\n  }\n  render() {\n    return (\n     <div className={\"explanation_chart_parent exp\" + this.props.model_name} style={{ width: '100%', height: '100%', \"border\": \"2px solid #e2e2e2\", padding: \"2px 5px\" }}>\n        <p className=\"title_p\" style={{ padding: 0, margin: 0 }}>{this.props.model_name}</p>\n        <svg id={\"mds\" + this.props.model_name} style={{ margin: 0, width: \"100%\", height: this.state.mds_height }}></svg>\n        <svg ref={this.exp} id={this.props.exp_id} style={{ marginTop: 5, width: \"100%\"}}></svg>\n      </div>\n    )\n  }\n}\nconst maptstateToprop = (state) => {\n  return {\n    original_data: state.original_data,\n    time_mode_model: state.time_mode_model,\n    chart_scale_type: state.chart_scale_type,\n    dataset: state.dataset,\n    histogram_data: state.histogram_data,\n    sparkline_data: state.sparkline_data,\n    dataset: state.dataset,\n    anim_config: state.anim_config,\n    show: state.show,\n    default_model_scores: state.default_model_scores,\n    average_m: state.average_m,\n    average_y: state.average_y,\n    lime_data: state.lime_data,\n    rank_data: state.rank_data,\n    clicked_circles: state.clicked_circles,\n    clicked_features: state.clicked_features,\n    threshold: state.threshold\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_clicked_circles: (val) => dispatch({ type: \"clicked_circles\", value: val }),\n    Set_prev_prop: (val) => dispatch({ type: \"prev_prop\", value: val }),\n    Set_sparkline_data: (val) => dispatch({ type: \"sparkline_data\", value: val }),\n    Set_replay: (val) => dispatch({ type: \"replay\", value: val }),\n    Set_clicked_features: (val) => dispatch({ type: \"clicked_features\", value: val }),\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(SlopeChart);","import * as d3 from \"d3\";\nexport default function CreatexpCircle(d, selection, selected_instances, \n    lime_data, selected_year, default_models, clicked_circles, Set_clicked_circles, diverginColor, anim_config, item_width, item_height) {\n    var margin = { item_top_margin: 25, item_bottom_margin: 6, circ_radius: 5, item_left_margin: 6, item_right_margin: 6 }\n    console.log(lime_data)\n    var feature_name = d[0]\n    var feature_contrib_name = d[0] + \"_contribution\"\n\n    var circ_data = []\n    var sum_data = []\n    default_models.map(model => {\n        lime_data[model].map(item => {\n            if (item['1-qid'] == selected_year && selected_instances.includes(parseInt(item['two_realRank']))) {\n                sum_data.push(parseFloat(item[feature_contrib_name]))\n                item['id'] = item['State'].replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\") + model.replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\")\n                \n                circ_data.push(item)\n            }\n        })\n    })\n    // Draw circle starts here\n    if(isNaN(lime_data[default_models[0]][0][feature_name])){\n        var yScale = d3.scaleBand().domain(lime_data[default_models[0]].map(item=>item[feature_name])).range([margin.item_top_margin, item_height - margin.item_bottom_margin])\n    }\n    else{\n        var yScale = d3.scaleLinear().domain([d3.min(circ_data.map(item => parseFloat(item[d[0]]))), d3.max(circ_data.map(item => parseFloat(item[d[0]])))]).range([margin.item_top_margin, item_height - margin.item_bottom_margin])\n    }    \n    var xScale = d3.scaleLinear().domain([d3.min(circ_data.map(item => parseFloat(item[feature_contrib_name]))), d3.max(circ_data.map(item => parseFloat(item[feature_contrib_name])))]).range([margin.item_left_margin, item_width - margin.item_right_margin])\n    //----------\n    var my_mean = d3.mean(sum_data)\n    //----------\n    selection.selectAll(\".my_mean_line\").data([0]).join(\"line\").attr(\"class\",\"my_mean_line\").attr(\"x1\",xScale(my_mean)).attr(\"x2\",xScale(my_mean)).attr(\"y1\",18).attr(\"y2\",item_height).attr('stroke',\"rgb(96, 96, 96,0.5)\").attr('stroke-width',1)\n\n    var mycircles = selection.selectAll(\".my_circles\").data(circ_data, d => d['id']).join(\n        enter => enter.append('circle')\n            .attr('id', d => d['id'])\n            .attr('class', d => 'my_circles')\n            .attr('fill', d => diverginColor(d['two_realRank']))\n            .attr(\"transform\", function (d, i) {\n                var x_transform = xScale(parseFloat(d[feature_contrib_name]))\n                var y_transform = getRandomArbitrary(margin.item_top_margin, item_height - margin.item_bottom_margin,i)\n                return \"translate(\" + x_transform + \",\" + y_transform + \")\";\n            })\n            .attr(\"r\", 5)\n        // Update\n        , update => update.attr('class', d => d['id'] + ' items circle2 my_circles')\n            .transition().duration(anim_config.circle_animation).delay(anim_config.rank_animation + anim_config.deviation_animation + anim_config.feature_animation)\n            .attr(\"transform\", function (d, i) {\n                var x_transform = xScale(parseFloat(d[feature_contrib_name]))\n                var y_transform = getRandomArbitrary(margin.item_top_margin, item_height - margin.item_bottom_margin,i)\n                return \"translate(\" + x_transform + \",\" + y_transform + \")\";\n            })\n            .attr('id', d => d['id'])\n        , exit => exit.remove())\n    mycircles.on('click', d=>{\n        Set_clicked_circles(clicked_circles.includes(d['id']) ? clicked_circles.filter(item => item != d['id']) : [...clicked_circles, d['id']])\n    }\n    )\n    // Draw circle ends here\n    function getRandomArbitrary ( min, max, seed ) {\n        min = min || 0;\n        max = max || 1;\n        var rand;\n        if ( typeof seed === \"number\" ) {\n          seed = ( seed * 9301 + 49297 ) % 233280;\n          var rnd = seed / 233280;\n          var disp = Math.abs( Math.sin( seed ) );\n          rnd = ( rnd + disp ) - Math.floor( ( rnd + disp ) );\n          rand = Math.floor( min + rnd * ( max - min + 1 ) );\n        } else {\n          rand  = Math.floor( Math.random() * ( max - min + 1 ) ) + min;\n        }\n        return rand;\n      }\n}","import React from 'react';\nimport \"./YearModelSelection.scss\";\nimport { connect } from \"react-redux\";\nfunction YearModelSelection(props) {\n  var handle_year_click = (year) => {\n    props.Set_selected_year(year)\n  }\n  var handle_model_click=(model)=>{\n      if (props.defualt_models.includes(model)) {\n        props.Set_defualt_models(props.defualt_models.filter(item=>item!=model))\n      }\n      else {\n        props.Set_defualt_models([...props.defualt_models,model])\n    }\n  }\n  return (\n    <div className=\"topbar\" style={{width:\"100%\",marginBottom:2,display:'flex',justifyContent: \"center\",margin:0}}>\n    <div ><h5 style={{ display: \"inline-block\", marginLeft: 0,fontSize:15 }}>Years: </h5>{props.years_for_dropdown.map(item => <p className={props.selected_year==item ? \"years_p_selected years_p\" : \"years_p\"} onClick={() => handle_year_click(item)}>{item}</p>)}</div>\n    <div style={{marginLeft:20}}><h5 style={{ display: \"inline-block\", marginLeft: 0,fontSize:15}}>Models:</h5>{props.all_models.map(item => <p className={props.defualt_models.includes(item) ? \"years_p_selected years_p\" : \"years_p\"} onClick={() => handle_model_click(item)}>{item}</p>)}</div>\n    </div>\n  );\n}\nconst maptstateToprop = (state) => {\n  return {\n    all_models:state.all_models,\n    selected_year: state.selected_year,\n    years_for_dropdown: state.years_for_dropdown,\n    defualt_models: state.defualt_models,\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: val }),\n    Set_defualt_models: (val) => dispatch({ type: \"defualt_models\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(YearModelSelection);\n\n//https://material-ui.com/api/slider/\n//https://material-ui.com/components/expansion-panels/\n//https://material-ui.com/api/checkbox/\n//https://material-ui.com/components/radio-buttons/","import React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport { connect } from \"react-redux\";\nimport * as deviation_chart from \"../deviation_chart\"\nimport * as misc_algo from '../misc_algo'\nimport * as $ from 'jquery';\nimport ModelSlider from './ModelSlider';\nimport ExpChart from '../ExpChart/ExpChartComponent';\nimport './ModelSlider.scss';\nimport YearModelSelection from \"./YearAndModelSelection/YearModelSelection\"\nimport Grid from '@material-ui/core/Grid';\nclass SlopeChart extends Component {\n  constructor(props) {\n    super(props);\n    this.line_color = null;\n    this.state = { height_slope_exp_chart: 700, mouseX: 0, mouseY: 0 }\n  }\n  componentDidMount() { this.setState({ width: window.innerHeight }) }\n  shouldComponentUpdate(prevProps, prevState) { return true; }\n  componentDidUpdate(prevProps, prevState) {\n    var selected_instances = d3.range(this.props.state_range[0], this.props.state_range[1] + 1)\n    if (this.props.histogram_data.length > 0) { selected_instances = this.props.histogram_data }\n    //--------------------\n    /*\n    var under_threshold_instances = []\n    var year_data = this.props.original_data.filter(item => this.props.selected_year == item['1-qid'])\n    this.props.defualt_models.map(model_name => {\n      year_data.map(item => {\n        var two_realRank = parseInt(item['two_realRank'])\n        var predicted_rank = parseInt(item[model_name])\n        if (Math.abs(predicted_rank - two_realRank) > this.props.threshold) {\n          under_threshold_instances.push(two_realRank)\n        }\n      })\n    })\n    selected_instances = selected_instances.filter(item => !under_threshold_instances.includes(item))\n    */\n    //--------------------\n    var min = d3.min(selected_instances), max = d3.max(selected_instances);\n    var d = (max - min) / 8;\n    var diverginColor = d3.scaleLinear().domain([min + d * 7, min + d * 6, min + d * 5, min + d * 4, min + d * 3, min + d * 2, min]).interpolate(d3.interpolateRgb).range(['#00429d', '#4771b2', '#73a2c6', '#a5d5d8', /*'#ffffe0',*/ '#ffbcaf', '#f4777f', '#cf3759', '#93003a']);\n    deviation_chart.Create_deviation_chart('dev_plot_container_svg', 'exp', selected_instances, this.props.original_data, this.props.defualt_models, this.props.anim_config, this.props.selected_year, this.props.average_m, this.props.clicked_circles, this.props.Set_clicked_circles, diverginColor, this.props.sparkline_data, this.props.Set_selected_year, this.props.dataset, this.props.threshold)\n    misc_algo.handle_transparency(\"circle2\", this.props.clicked_circles, this.props.anim_config)\n  }\n  render() {\n    return (\n      <Grid className=\"ModelChartParent\" container direction=\"row\" justify=\"flex-start\" alignItems=\"center\" style={{ height: '100%', width: '100%', backgroundColor: 'white', margin: 2, padding: 2, boxShadow: \"-2px 1px 4px -1px white\" }}> {/* This model chart's height and width is the parent*/}\n        <Grid item className=\"left_container\" style={{ width: 420, backgroundColor: \"#fcfcfc\" }}>\n          {/* The deviation plot container starts below */}\n          <div className=\"year_and_model_selector_and_slider_container\"> {/* This is used to calculate the deviation plot height */}\n            <YearModelSelection></YearModelSelection><ModelSlider></ModelSlider>\n          </div>\n          {/* The deviation plot container starts below */}\n          <div class=\"deviation_plot_container_div\" style={{ width: \"100%\", height: $('.ModelChartParent').height() - $('.year_and_model_selector_and_slider_container').height(), marginBottom: 0, overflow: 'scroll' }}>\n            <svg id=\"dev_plot_container_svg\" style={{ width: \"100%\", overflow: 'hidden' }}></svg>\n          </div>\n          {/* The deviation plot container ends here */}\n        </Grid>\n        {/* The explanation plot container starts below */}\n        {this.props.rank_data != null ?\n          <Grid item className=\"right_container\" style={{ height: '100%', width: $('.ModelChartParent').width() - $('.left_container').width()}}>\n            <Grid container direction=\"row\" justify=\"flex-start\" alignItems=\"center\" style={{width:'100%',height:'100%'}}>\n            {\n              this.props.defualt_models.map(model_name => {\n                return <Grid item xs={parseInt(12/this.props.defualt_models.length)} style={{ height: \"100%\",overflow: 'hidden' }}>\n                  <ExpChart exp_id=\"exp\" default_models={this.props.defualt_models} state_range={this.props.state_range} selected_year={this.props.selected_year} model_name={model_name}></ExpChart>\n                </Grid>\n              })\n            }\n            </Grid>\n          </Grid> : null}\n        {/* The explanation plot container ends here */}\n      </Grid>\n    )\n  }\n}\nconst maptstateToprop = (state) => {\n  return {\n    histogram_data: state.histogram_data,\n    state_range: state.state_range,\n    selected_year: state.selected_year,\n    defualt_models: state.defualt_models,\n    original_data: state.original_data,\n    dataset: state.dataset,\n    sparkline_data: state.sparkline_data,\n    dataset: state.dataset,\n    anim_config: state.anim_config,\n    average_m: state.average_m,\n    rank_data: state.rank_data,\n    clicked_circles: state.clicked_circles,\n    threshold: state.threshold\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_clicked_circles: (val) => dispatch({ type: \"clicked_circles\", value: val }),\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(SlopeChart);","import React from 'react';\nimport \"../Sliders.scss\";\nimport Slider from '@material-ui/core/Slider';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { connect } from \"react-redux\";\nimport TextField from '@material-ui/core/TextField';\nimport Button from \"@material-ui/core/Button\";\nimport './ModelSlider.scss';\nimport * as $ from 'jquery'\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: '100%',\n    },\n    heading: {\n        fontSize: theme.typography.pxToRem(15),\n        flexBasis: '33.33%',\n        flexShrink: 0,\n    },\n    secondaryHeading: {\n        fontSize: theme.typography.pxToRem(15),\n        color: theme.palette.text.secondary,\n    },\n    tRoot: {\n        marginBottom: 35,\n    },\n    rang_input: {\n        marginLeft: 10,\n    },\n}));\nfunction Modes(props) {\n    const classes = useStyles();\n    // states \n    const [sliderRange, set_sliderRange] = React.useState(props.range_mode_range1);\n    //-----------------------------------------------------------------\n    var temp_marks = [];\n    var step = (props.slider_max - 1) / (6 - 1);\n    for (var i = 0; i < 6; i++) {\n        temp_marks.push(1 + (step * i));\n    }\n    var marks = temp_marks.map(item => {\n        var myitem = parseInt(item)\n        return { value: myitem, label: myitem }\n    })\n    //console.log(props.marks)\n    //-----------------------------------------------------------------\n    return (\n        <div className=\"Modelslider\" \n        style={{height: 70, width: '100%',marginBottom:5,padding: 30, border: \"1px solid rgb(178, 178, 178,0.5)\"}}>\n            <div className=\"lower\" style={{ padding: \"0px 0px\", marginTop: -20 }}>\n                <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Lower\" value={sliderRange[0]} style={{ width: \"100%\" }}\n                    onChange={event => {\n                        if (isNaN(parseInt(event.target.value))) {\n                            set_sliderRange([\"\", sliderRange[1]])\n                        } else {\n                            if (event.target.value > sliderRange[1]) {\n                                alert(\"Lower range can not be larger than the upper range\")\n                            }\n                            else {\n                                set_sliderRange([event.target.value, sliderRange[1]])\n                            }\n                        }\n                    }\n                    }\n                />\n            </div>\n            <div className=\"slider\" style={{width: \"100%\", margin: \"0px 0px\" }}>\n                <Slider value={sliderRange} onChange={(event, newValue) => set_sliderRange(newValue)} onChangeCommitted={(event, newValue) => props.Set_changed(\"range\")}\n                    valueLabelDisplay=\"auto\" aria-labelledby=\"range-slider\" valueLabelDisplay=\"on\" min={1} max={props.slider_max} marks={marks}\n                />\n            </div>\n            <div className=\"upper\" style={{ padding: \"0px 0px\", marginTop: -20 }}>\n                <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Upper\" value={sliderRange[1]} style={{ width: \"100%\" }}\n                    onChange={event => {\n                        if (isNaN(parseInt(event.target.value))) {\n                            set_sliderRange([sliderRange[0], \"\"])\n                        } else {\n                            if (parseInt(event.target.value) > props.slider_max) {\n                                alert(\"Upper range can not exceed maximum\")\n                                set_sliderRange([sliderRange[0], props.slider_max])\n                            }\n                            else {\n                                set_sliderRange([sliderRange[0], parseInt(event.target.value)])\n                            }\n                        }\n                    }\n                    }\n                />\n            </div>\n            <div className=\"button\" item xs=\"2\" style={{ marginTop: -10 }}>\n                <Button className=\"range_button\" style={{ backgroundColor: \"#ededed\", height: 30 }}\n                    onClick={() => {\n                        props.Set_range_mode_range1(sliderRange)\n                    }}\n                >Update range</Button>\n            </div>\n        </div>\n    );\n}\nconst maptstateToprop = (state) => {\n    return {\n        slider_max: state.slider_max,\n        range_mode_range1: state.range_mode_range1,\n    }\n}\nconst mapdispatchToprop = (dispatch) => {\n    return {\n        Set_range_mode_range1: (val) => dispatch({ type: \"range_mode_range1\", value: val }),\n        Set_changed: (val) => dispatch({ type: \"changed\", value: val }),\n    }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Modes);","import React from 'react';\nimport \"../Sliders.scss\";\nimport Slider from '@material-ui/core/Slider';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { connect } from \"react-redux\";\nimport TextField from '@material-ui/core/TextField';\nimport Button from \"@material-ui/core/Button\";\nimport './ModelSlider.scss';\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: '100%',\n    },\n    heading: {\n        fontSize: theme.typography.pxToRem(15),\n        flexBasis: '33.33%',\n        flexShrink: 0,\n    },\n    secondaryHeading: {\n        fontSize: theme.typography.pxToRem(15),\n        color: theme.palette.text.secondary,\n    },\n    tRoot: {\n        marginBottom: 35,\n    },\n    rang_input: {\n        marginLeft: 10,\n    },\n}));\nfunction Modes(props) {\n    const classes = useStyles();\n    // states \n    const [sliderRange, set_sliderRange] = React.useState(props.range_mode_range2);\n    //-----------------------------------------------------------------\n    var temp_marks = [];\n    var step = (props.slider_max - 1) / (6 - 1);\n    for (var i = 0; i < 6; i++) {\n        temp_marks.push(1 + (step * i));\n    }\n    var marks = temp_marks.map(item => {\n        var myitem = parseInt(item)\n        return { value: myitem, label: myitem }\n    })\n    //console.log(props.marks)\n    //-----------------------------------------------------------------\n    return (\n        <div className=\"Modelslider\" style={{height: 70, width: \"100%\",marginBottom:5, paddingTop: 30,paddingLeft:15, border: \"1px solid rgb(178, 178, 178,0.5)\"}}>\n            <div className=\"lower\" style={{ padding: \"0px 0px\", marginTop: -20 }}>\n                <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Lower\" value={sliderRange[0]} style={{ width: \"100%\" }}\n                    onChange={event => {\n                        if (isNaN(parseInt(event.target.value))) {\n                            set_sliderRange([\"\", sliderRange[1]])\n                        } else {\n                            if (event.target.value > sliderRange[1]) {\n                                alert(\"Lower range can not be larger than the upper range\")\n                            }\n                            else {\n                                set_sliderRange([event.target.value, sliderRange[1]])\n                            }\n                        }\n                    }\n                    }\n                />\n            </div>\n            <div className=\"slider\" style={{width: \"100%\", margin: \"0px 0px\" }}>\n                <Slider value={sliderRange} onChange={(event, newValue) => set_sliderRange(newValue)} onChangeCommitted={(event, newValue) => props.Set_changed(\"range\")}\n                    valueLabelDisplay=\"auto\" aria-labelledby=\"range-slider\" valueLabelDisplay=\"on\" min={1} max={props.slider_max} marks={marks}\n                />\n            </div>\n            <div className=\"upper\" style={{ padding: \"0px 0px\", marginTop: -20 }}>\n                <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Upper\" value={sliderRange[1]} style={{ width: \"100%\" }}\n                    onChange={event => {\n                        if (isNaN(parseInt(event.target.value))) {\n                            set_sliderRange([sliderRange[0], \"\"])\n                        } else {\n                            if (parseInt(event.target.value) > props.slider_max) {\n                                alert(\"Upper range can not exceed maximum\")\n                                set_sliderRange([sliderRange[0], props.slider_max])\n                            }\n                            else {\n                                set_sliderRange([sliderRange[0], parseInt(event.target.value)])\n                            }\n                        }\n                    }\n                    }\n                />\n            </div>\n            <div className=\"button\" item xs=\"2\" style={{ marginTop: -10 }}>\n                <Button className=\"range_button\" style={{ backgroundColor: \"#ededed\", height: 30 }}\n                    onClick={() => {\n                        props.Set_range_mode_range2(sliderRange)\n                    }}\n                >Update range</Button>\n            </div>\n        </div>\n    );\n}\nconst maptstateToprop = (state) => {\n    return {\n        slider_max: state.slider_max,\n        range_mode_range2: state.range_mode_range2,\n    }\n}\nconst mapdispatchToprop = (dispatch) => {\n    return {\n        Set_range_mode_range2: (val) => dispatch({ type: \"range_mode_range2\", value: val }),\n        Set_changed: (val) => dispatch({ type: \"changed\", value: val }),\n    }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Modes);","import React from 'react';\nimport \"./YearModelSelection.scss\";\nimport { connect } from \"react-redux\";\nfunction YearModelSelection(props) {\n  var handle_year_click = (year) => {\n    props.Set_selected_year(year)\n  }\n  var handle_model_click=(model)=>props.Set_range_mode_model(model)\n  return (\n    <div className=\"topbar\" style={{width:\"100%\",marginBottom:2,display:'flex',justifyContent: \"center\",margin:0}}>\n    <div ><h5 style={{ display: \"inline-block\", marginLeft: 0,fontSize:15 }}>Years: </h5>{props.years_for_dropdown.map(item => <p className={props.selected_year==item ? \"years_p_selected years_p\" : \"years_p\"} onClick={() => handle_year_click(item)}>{item}</p>)}</div>\n    <div style={{marginLeft:20}}><h5 style={{ display: \"inline-block\", marginLeft: 0,fontSize:15}}>Models:</h5>{props.all_models.map(item => <p className={props.range_mode_model==item ? \"years_p_selected years_p\" : \"years_p\"} onClick={() => handle_model_click(item)}>{item}</p>)}</div>\n    </div>\n  );\n}\nconst maptstateToprop = (state) => {\n  return {\n    all_models:state.all_models,\n    selected_year: state.selected_year,\n    years_for_dropdown: state.years_for_dropdown,\n    defualt_models: state.defualt_models,\n    range_mode_model:state.range_mode_model,\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: val }),\n    Set_range_mode_model: (val) => dispatch({ type: \"range_mode_model\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(YearModelSelection);\n\n//https://material-ui.com/api/slider/\n//https://material-ui.com/components/expansion-panels/\n//https://material-ui.com/api/checkbox/\n//https://material-ui.com/components/radio-buttons/","import React, { Component } from 'react';\nimport * as d3 from 'd3';\n\nimport { connect } from \"react-redux\";\nimport Grid from '@material-ui/core/Grid';\nimport * as algo1 from \"../../../Algorithms/algo1\";\nimport * as deviation_chart from \"../deviation_chart\"\nimport * as misc_algo from '../misc_algo'\nimport * as $ from 'jquery';\nimport SliderGroup1 from './SliderGroup1';\nimport SliderGroup2 from './SliderGroup2';\nimport YearModelSelection from \"./YearAndModelSelection/YearModelSelection\"\nimport ExpChart from '../ExpChart/ExpChartComponent';\n\nclass SlopeChart extends Component {\n  constructor(props) {\n    super(props);\n    this.line_color = null;\n    this.state = { height_slope_exp_chart: 700, mouseX: 0, mouseY: 0 }\n  }\n  componentDidMount() {\n    this.setState({ width: window.innerHeight })\n  }\n  shouldComponentUpdate(prevProps, prevState) {\n    return true;\n  }\n  componentDidUpdate(prevProps, prevState) {\n    //------------------------------\n    var selected_instances = d3.range(this.props.range_mode_range1[0], this.props.range_mode_range1[1] + 1)\n    //if (this.props.histogram_data.length > 0) { selected_instances = this.props.histogram_data }\n    var min = d3.min(selected_instances), max = d3.max(selected_instances);\n    var d = (max - min) / 8;\n    var diverginColor = d3.scaleLinear().domain([min + d * 7, min + d * 6, min + d * 5, min + d * 4, min + d * 3, min + d * 2, min]).interpolate(d3.interpolateRgb).range(['#00429d', '#4771b2', '#73a2c6', '#a5d5d8', '#ffbcaf', '#f4777f', '#cf3759', '#93003a']);\n    deviation_chart.Create_deviation_chart('r1d', 'r1exp', selected_instances, this.props.original_data, [this.props.range_mode_model], this.props.anim_config, this.props.selected_year, this.props.average_m, this.props.clicked_circles, this.props.Set_clicked_circles, diverginColor, this.props.sparkline_data, this.props.Set_selected_year, this.props.dataset, this.props.threshold)\n    //------------------------------\n    var selected_instances = d3.range(this.props.range_mode_range2[0], this.props.range_mode_range2[1] + 1)\n    //if (this.props.histogram_data.length > 0) { selected_instances = this.props.histogram_data }\n    var min = d3.min(selected_instances), max = d3.max(selected_instances);\n    var d = (max - min) / 8;\n    var diverginColor = d3.scaleLinear().domain([min + d * 7, min + d * 6, min + d * 5, min + d * 4, min + d * 3, min + d * 2, min]).interpolate(d3.interpolateRgb).range(['#00429d', '#4771b2', '#73a2c6', '#a5d5d8', '#ffbcaf', '#f4777f', '#cf3759', '#93003a']);\n    deviation_chart.Create_deviation_chart('r2d', 'r2exp', selected_instances, this.props.original_data, [this.props.range_mode_model], this.props.anim_config, this.props.selected_year, this.props.average_m, this.props.clicked_circles, this.props.Set_clicked_circles, diverginColor, this.props.sparkline_data, this.props.Set_selected_year, this.props.dataset, this.props.threshold)\n\n    //------------------------------\n    misc_algo.handle_transparency(\"circle2\", this.props.clicked_circles, this.props.anim_config)\n\n  }\n  render() {\n    return (\n      <Grid key={this.props.mode} className=\"RangeChartParent\" container direction=\"row\" justifyContent=\"space-between\"\n        className=\"slope_chart_exp\" style={{ width: \"100%\", height: '100%', backgroundColor: 'white', padding: \"0px 0px\", border: \"1px solid #eaeaea\", overflow: 'hidden' }}>\n        <div className=\"year_and_model_selector_and_slider_container\"> {/* This is used to calculate the deviation plot height */}\n          <YearModelSelection></YearModelSelection>\n        </div>\n        {/* Group 1 */}\n        <Grid className=\"Group1_container\" style={{ height: \"100%\", width: \"49.4%\", paddingRight: 0, border: \"2px solid #a0a0a0\", overflow: 'hidden' }} container item direction=\"column\" justifyContent=\"space-between\">\n          <p className=\"title_p1\" style={{ margin: 0, paddingLeft: \"45%\", backgroundColor: \"rgb(232, 232, 232,0.4)\", fontWeight: \"bolder\", borderBottom: \"1px solid #cecece\" }}>Group 1</p>\n          <Grid className=\"slidergroup1\" item style={{ backgroundColor: \"rgb(232, 232, 232,0.4)\" }}><SliderGroup1></SliderGroup1></Grid>\n          <Grid className=\"dev_plot_and_exp_container\" style={{ width: '100%', height: $('.Group1_container').height() - ($('.title_p1').height() + $('.slidergroup1').height() + $('.year_and_model_selector_and_slider_container').height() + 5) }} container direction=\"row\" justify=\"center\" alignItems=\"center\">\n            <Grid className=\"deviation_plot_container_div\" item style={{ width: '49%', height: $('.Group1_container').height() - ($('.title_p1').height() + $('.slidergroup1').height() + $('.year_and_model_selector_and_slider_container').height() + 5), overflow: 'scroll' }}>\n              <svg id=\"r1d\" style={{ width: \"100%\", padding: 5 }}></svg>\n            </Grid>\n            {\n              this.props.rank_data != null ? <Grid className=\"explanation_plot_container\" item style={{ width: '49%', height: '100%' }}>\n                <ExpChart exp_id=\"r1exp\" default_models={[this.props.range_mode_model]} state_range={this.props.range_mode_range1} selected_year={this.props.selected_year} model_name={this.props.range_mode_model}></ExpChart>\n              </Grid> : null\n            }\n          </Grid>\n        </Grid>\n        {/* Group 2 */}\n        <Grid className=\"Group2_container\" style={{ height: \"100%\", width: \"49.4%\",marginLeft:'0.5%', paddingRight: 0, border: \"2px solid #a0a0a0\", overflow: 'hidden' }} container item direction=\"column\" justifyContent=\"space-between\">\n          <p className=\"title_p2\" style={{ margin: 0, paddingLeft: \"45%\", backgroundColor: \"rgb(232, 232, 232,0.4)\", fontWeight: \"bolder\", borderBottom: \"1px solid #cecece\" }}>Group 2</p>\n          <Grid className=\"slidergroup2\" item style={{ backgroundColor: \"rgb(232, 232, 232,0.4)\" }}><SliderGroup2></SliderGroup2></Grid>\n          <Grid className=\"dev_plot_and_exp_container\" style={{ width: '100%', height: $('.Group2_container').height() - ($('.title_p2').height() + $('.slidergroup2').height() + $('.year_and_model_selector_and_slider_container').height() + 5) }} container direction=\"row\" justify=\"center\" alignItems=\"center\">\n            <Grid className=\"deviation_plot_container_div\" item style={{width: '49%', height: $('.Group1_container').height() - ($('.title_p2').height() + $('.slidergroup2').height() + $('.year_and_model_selector_and_slider_container').height() + 5), overflow: 'scroll' }}>\n              <svg id=\"r2d\" style={{ width: \"100%\", padding: 5 }}></svg>\n            </Grid>\n            {\n              this.props.rank_data != null ? <Grid className=\"explanation_plot_container\" item style={{ width: '49%', height: '100%' }}>\n                <ExpChart exp_id=\"r2exp\" default_models={[this.props.range_mode_model]} state_range={this.props.range_mode_range2} selected_year={this.props.selected_year} model_name={this.props.range_mode_model}></ExpChart>\n              </Grid> : null\n            }\n          </Grid>\n        </Grid>\n\n      </Grid>\n    )\n  }\n}\nconst maptstateToprop = (state) => {\n  return {\n    mode: state.mode,\n    range_mode_range1: state.range_mode_range1,\n    range_mode_range2: state.range_mode_range2,\n    range_mode_model: state.range_mode_model,\n    selected_year: state.selected_year,\n    defualt_models: state.defualt_models,\n    original_data: state.original_data,\n    dataset: state.dataset,\n    sparkline_data: state.sparkline_data,\n    dataset: state.dataset,\n    anim_config: state.anim_config,\n    average_m: state.average_m,\n    rank_data: state.rank_data,\n    clicked_circles: state.clicked_circles,\n    threshold: state.threshold,\n    histogram_data: state.histogram_data,\n\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_clicked_circles: (val) => dispatch({ type: \"clicked_circles\", value: val }),\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(SlopeChart);","import React, { Component } from 'react';\nimport * as d3 from 'd3';\n\nimport { connect } from \"react-redux\";\nimport Grid from '@material-ui/core/Grid';\nimport * as algo1 from \"../../../Algorithms/algo1\";\nimport * as deviation_chart from \"../deviation_chart\"\nimport * as misc_algo from '../misc_algo'\nimport * as $ from 'jquery';\nclass SlopeChart extends Component {\n  constructor(props) {\n    super(props);\n    this.line_color = null;\n    this.state = { height_slope_exp_chart: 700, mouseX: 0, mouseY: 0 }\n  }\n  componentDidMount() {\n    this.setState({ width: window.innerHeight })\n  }\n  shouldComponentUpdate(prevProps, prevState) {\n    return true;\n  }\n  componentDidUpdate(prevProps, prevState) {\n    // Range1\n    var min = this.props.time_mode_range[0], max = this.props.time_mode_range[1];\n    var d = (max - min) / 8;\n    var diverginColor = d3.scaleLinear().domain([min + d * 7, min + d * 6, min + d * 5, min + d * 4, min + d * 3, min + d * 2, min]).interpolate(d3.interpolateRgb).range(['#00429d', '#4771b2', '#73a2c6', '#a5d5d8', /*'#ffffe0',*/ '#ffbcaf', '#f4777f', '#cf3759', '#93003a']);\n    \n    var selected_instances = d3.range(this.props.time_mode_range[0], this.props.time_mode_range[1] + 1)\n    var number_of_charts = 9\n    var features_with_score = algo1.features_with_score(this.props.dataset, this.props.defualt_models, this.props.time_mode_range, this.props.time_mode_year1, number_of_charts, this.props.rank_data)\n    var sorted_features = Object.entries(features_with_score).sort((a, b) => a[1] - b[1]).slice(0, number_of_charts)\n    deviation_chart.Create_deviation_chart('y1d','y1e', selected_instances, this.props.original_data, this.props.defualt_models, this.props.anim_config, this.props.time_mode_year1, this.props.average_m, this.props.clicked_circles, this.props.Set_clicked_circles, diverginColor)\n  \n    // Range2\n    var selected_instances2 = d3.range(this.props.time_mode_range[0], this.props.time_mode_range[1] + 1)\n    var features_with_score2 = algo1.features_with_score(this.props.dataset, this.props.defualt_models, this.props.time_mode_range, this.props.time_mode_year2, number_of_charts, this.props.rank_data)\n    var sorted_features2 = Object.entries(features_with_score2).sort((a, b) => a[1] - b[1]).slice(0, number_of_charts)\n    deviation_chart.Create_deviation_chart('y2d','y2e', selected_instances2, this.props.original_data, this.props.defualt_models, this.props.anim_config, this.props.time_mode_year2, this.props.average_m, this.props.clicked_circles, this.props.Set_clicked_circles, diverginColor)\n    //---------------------------------\n    misc_algo.draw_lines(this.props.clicked_circles, diverginColor, this.props.anim_config, sorted_features)\n    misc_algo.handle_transparency(\"circle2\", this.props.clicked_circles, this.props.anim_config)\n\n  }\n  render() {\n    return (\n      <Grid container direction=\"row\" justifyContent=\"space-between\" className=\"slope_chart_exp\" style={{ backgroundColor: 'white', padding: \"0px 0px\", border: \"1px solid #eaeaea\", width: \"100%\", boxShadow: \"-2px 1px 4px -1px white\" }}>\n        <Grid container item direction=\"column\" justifyContent=\"space-between\" style={{ paddingRight: 0, border: \"1px solid #a0a0a0\", height: \"100%\", width: \"49.4%\" }}>\n          <p style={{ margin: 0, paddingLeft: \"45%\", backgroundColor: \"rgb(232, 232, 232,0.4)\", fontWeight: \"bolder\", borderBottom: \"1px solid #cecece\" }}>{\"Year : \"+this.props.time_mode_year1}</p>\n          <Grid item style={{ backgroundColor: \"rgb(232, 232, 232,0.4)\", height: ($(\".slope_chart_exp\").height() * 0.69 - 25), overflow: \"scroll\" }}><svg id=\"y1d\" style={{ width: \"100%\", marginRight: \"3%\" }}></svg></Grid>\n          <Grid item style={{ backgroundColor: \"rgb(232, 232, 232,0.4)\", marginTop: 5, paddingTop: 5, paddingRight: 3, height: $(\".slope_chart_exp\").height() * 0.3 }}><svg id=\"y1e\" style={{ width: \"100%\", height: \"100%\" }}></svg></Grid>\n        </Grid>\n        <Grid container item direction=\"column\" justifyContent=\"space-between\" style={{ marginLeft: \"1%\", padding: 0, border: \"1px solid #a0a0a0\", height: \"100%\", width: \"49.4%\" }}>\n          <p style={{ margin: 0, paddingLeft: \"45%\", backgroundColor: \"rgb(232, 232, 232,0.4)\", fontWeight: \"bolder\", borderBottom: \"1px solid #cecece\" }}>{\"Year : \"+this.props.time_mode_year2}</p>\n          <Grid item style={{ backgroundColor: \"rgb(232, 232, 232,0.4)\", height: ($(\".slope_chart_exp\").height() * 0.69 - 25), overflow: \"scroll\" }}><svg id=\"y2d\" style={{ width: \"100%\", marginRight: \"3%\" }}></svg></Grid>\n          <Grid item style={{ backgroundColor: \"rgb(232, 232, 232,0.4)\", marginTop: 5, paddingTop: 5, paddingRight: 3, height: $(\".slope_chart_exp\").height() * 0.3 }}><svg id=\"y2e\" style={{ width: \"100%\", height: \"100%\" }}></svg></Grid>\n        </Grid>\n      </Grid>\n    )\n  }\n}\nconst maptstateToprop = (state) => {\n  return {\n    time_mode_model: state.time_mode_model,\n    time_mode_range: state.time_mode_range,\n    deviate_by: state.deviate_by,\n    time_mode_year1: state.time_mode_year1,\n    time_mode_year2: state.time_mode_year2,\n    deviate_by: state.deviate_by,\n    clicked_items_in_slopechart: state.clicked_items_in_slopechart,\n    tracking: state.tracking,\n    defualt_models: state.defualt_models,\n    original_data: state.original_data,\n    time_mode_model: state.time_mode_model,\n    chart_scale_type: state.chart_scale_type,\n    features_with_score: state.features_with_score,\n    dataset: state.dataset,\n    histogram_data: state.histogram_data,\n    sparkline_data: state.sparkline_data,\n    dataset: state.dataset,\n    anim_config: state.anim_config,\n    show: state.show,\n    default_model_scores: state.default_model_scores,\n    sort_by: state.sort_by,\n    average_m: state.average_m,\n    average_y: state.average_y,\n    lime_data: state.lime_data,\n    features_with_score: state.features_with_score,\n    rank_data: state.rank_data,\n    clicked_circles: state.clicked_circles,\n    clicked_features: state.clicked_features\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_clicked_circles: (val) => dispatch({ type: \"clicked_circles\", value: val }),\n    Set_prev_prop: (val) => dispatch({ type: \"prev_prop\", value: val }),\n    Set_sparkline_data: (val) => dispatch({ type: \"sparkline_data\", value: val }),\n    Set_clicked_items_in_slopechart: (val) => dispatch({ type: \"clicked_items_in_slopechart\", value: val }),\n    Set_replay: (val) => dispatch({ type: \"replay\", value: val }),\n    Set_clicked_features: (val) => dispatch({ type: \"clicked_features\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(SlopeChart);","import React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport { connect } from \"react-redux\";\n//import {get_feature_voting} from \"../Algorithms/exp_algo\";\n\nclass Chart extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { \"a\": 10 }\n  }\n  componentDidMount() {\n    this.setState({ a: 5 })\n  }\n  componentDidUpdate() {\n    var temp_dict = {}\n    this.props.defualt_models.filter(item => item != \"ListNet\").map(model => {\n      temp_dict[model] = this.props.popup_chart_data[0][model]\n    })\n    var merged_arr = [].concat.apply([], Object.values(temp_dict))\n    var scatterplot_data = Object.entries(this.props.popup_chart_data[0]).filter(item => this.props.pop_over_models.includes(item[0]))\n\n    //console.log(this.props.popup_chart_data[0],this.props.pop_over_models)\n    //----------------------------------------------------------------------------------------------------------Call createChart\n    if (merged_arr.length > 0) { // This is to avoid the error caused by the next line\n      if (isNaN(merged_arr[0][this.props.popup_chart_data[1]])) {\n        this.CreateChart_cat(merged_arr, this.props.popup_chart_data[1], scatterplot_data)\n      }\n      else {\n        //this.CreateChart_cat(merged_arr, this.props.popup_chart_data[1], scatterplot_data)\n        this.CreateChart(merged_arr, this.props.popup_chart_data[1], scatterplot_data)\n      }\n    }\n    else {\n      this.CreateChart(merged_arr, this.props.popup_chart_data[1], scatterplot_data) // calling the function to set the  graph empty when all models are unselected\n    }\n    //----------------------------------------------------------------------------------------------------------Set and unset Opacity\n    if (this.props.clicked_items_in_slopechart.length > 0) {\n      d3.selectAll('circle,.datapoint').attr('opacity', this.props.config.reduced_opacity)\n    }\n    this.props.clicked_items_in_slopechart.map(idName => d3.selectAll('#' + idName).attr('opacity', 1))\n    //----------------------------------------------------------------------------------------------------------\n  }\n  CreateChart = (data, feature, scatterplot_data) => {\n    console.log(scatterplot_data)\n    var self = this,\n      feature_contribute = feature + \"_contribution\"\n    // set the dimensions and margins of the graph\n    var margin = { top: 0, right: 30, bottom: 45, left: 50, space_for_hist: 50 },\n      width = 520 - margin.left - margin.right,\n      height = 250 - margin.top - margin.bottom;\n    var temp_x = data.map(item => parseFloat(item[feature])),\n      temp_y = data.map(item => parseFloat(item[feature_contribute]))\n    var x = d3.scaleLinear().domain([d3.min(temp_x), d3.max(temp_x)]).range([0, width]).nice(),\n      y = d3.scaleLinear().domain([d3.min(temp_y), d3.max(temp_y)]).range([height, 0]).nice(); // circles will start from y position 10 and go upto height-10\n\n    //-------------------------------------------------------------All svgs\n    var parent_svg = d3.select(\"#\" + self.props.myid).attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom + margin.space_for_hist),\n      svg1 = parent_svg.selectAll('.svg11').data([0]).join('svg').attr(\"y\", margin.space_for_hist).attr(\"class\", \"svg11\").selectAll(\".myg\").data([0]).join('g').attr(\"class\", \"myg\").attr(\"transform\",\n        \"translate(\" + margin.left + \",\" + margin.top + \")\")\n\n    //------------------------------------------------------------------------------------------------------ Create Histogram starts here\n    var hist_height = margin.space_for_hist,\n      histogram = d3.histogram()\n        .value(d => d)   // I need to give the vector of value\n        .domain(x.domain())  // then the domain of the graphic\n    //.thresholds(x.ticks(5)); // then the numbers of bins\n    var bins = histogram(temp_x),\n      y_hist = d3.scaleLinear()\n        .range([hist_height, 0]);\n\n    y_hist.domain([0, d3.max(bins, function (d) { return d.length; })]);   // d3.hist has to be called before the Y axis obviously\n    var svg0 = parent_svg.selectAll('.svg0').data([0]).join('svg').attr(\"class\", \"svg0\").selectAll(\".myg0\").data([0]).join('g').attr(\"class\", \"myg0\").attr(\"transform\",\n      \"translate(\" + margin.left + \",\" + margin.top + \")\")\n    // Add line on the bottom of the histogram\n    svg0.selectAll(\".myline\").data([0]).join('line').attr(\"class\", \"myline\").attr(\"x1\", 0).attr(\"y1\", margin.space_for_hist).attr(\"x2\", width).attr(\"y2\", margin.space_for_hist).attr(\"stroke\", \"#EBEBEB\");\n    svg0.selectAll(\"rect\").data(bins).join('rect')\n      .attr(\"x\", 1)\n      .attr(\"fill\", \"#b7b7b7\")\n      .attr(\"transform\", function (d) {\n        if (d.x0 == d.x1) { return \"translate(\" + 0 + \",\" + y_hist(d.length) + \")\" }\n        return \"translate(\" + x(d.x0) + \",\" + y_hist(d.length) + \")\";\n      })\n      .attr(\"width\", function (d) {\n        if (d.x0 == d.x1) { return width }\n        return x(d.x1) - x(d.x0) - 0.2;\n      })\n      .attr(\"height\", function (d) { return hist_height - y_hist(d.length); });\n    //------------------------------------------------------------------------------------------------------ Create Histogram ends here\n\n    var svg1 = parent_svg.selectAll('.svg11').data([0]).join('svg').attr(\"class\", \"svg11\").selectAll(\".myg\").data([0]).join('g').attr(\"class\", \"myg\").attr(\"transform\",\n      \"translate(\" + margin.left + \",\" + margin.top + \")\")\n    svg1.selectAll(\".myline2\").data([0]).join('line').attr(\"class\", \"myline2\").attr(\"x1\", 0).attr(\"y1\", 0).attr(\"x2\", 0).attr(\"y2\", height).attr(\"stroke\", \"#EBEBEB\");\n    //svg1.selectAll(\".myline3\").data([0]).join('line').attr(\"class\",\"myline3\").attr(\"x1\", 0).attr(\"y1\", height).attr(\"x2\", width).attr(\"y2\", height).attr(\"stroke\", \"#EBEBEB\");\n\n    //------------- Add Y axis\n    var y2 = d3.scaleOrdinal().domain([\".\", \"0\", \"..\"]).range([height / 4, height / 2, (3 * height) / 4]); // circles will start from y position 10 and go upto height-10\n    svg1.selectAll(\".myYaxis\").data([0]).join('g').attr(\"class\", \"myYaxis\")\n      .call(d3.axisLeft(y2).tickSize(-width * 1.0).ticks(3).tickValues([\",\", \"0\", \"..\"]).tickFormat(d => d))\n      .select(\".domain\").remove()\n    svg1.selectAll(\".myYaxis\").selectAll('text').remove()\n\n    d3.selectAll('.svg11').selectAll('.myYtext').data([[\"++ ve\", height / 8], [\"+ ve\", (3 * height) / 8], [\"0\", height / 2], [\"- ve\", (5 * height) / 8], [\"-- ve\", (7 * height) / 8]]).join(\"text\").attr(\"class\", \"myYtext\")\n      .attr(\"x\", 45).attr(\"y\", (d, i) => d[1] + 4).text(d => d[0]).attr('font-size', 14).attr(\"text-anchor\", \"end\")\n    d3.selectAll('.svg11').attr('add_horizontal_lines', function () { //horizontal lines starts here\n      d3.select(this).selectAll(\".horiz_line\").data([3.85, 1.31]).join('line').attr('class', \"horiz_line\")\n        .attr(\"x1\", 11)\n        .attr(\"x2\", 50)\n        .attr(\"y1\", d => (height / d) - 2)\n        .attr(\"y2\", d => (height / d) - 2)\n        .style(\"stroke\", \"#EBEBEB\")\n    })\n\n    d3.selectAll('.svg11').selectAll(\".line0\").data([0]).join('line').attr('class', \"line0\")\n      .attr(\"x1\", 11)\n      .attr(\"x2\", 35)\n      .attr(\"y1\", d => (height / 2))\n      .attr(\"y2\", d => (height / 2))\n      .style(\"stroke\", \"#EBEBEB\")\n\n\n    //------------- Add X axis\n    if (d3.max(d3.max(bins)) > 1000) {\n      svg1.selectAll(\".myXaxis\").data([0]).join('g').attr(\"class\", \"myXaxis\")\n        .attr(\"transform\", \"translate(0,\" + height + \")\")\n        .call(d3.axisBottom(x).tickSize(-height * 1.3).tickValues(bins.map(item => item['x1'])).tickFormat(d3.format(\".2s\")))\n        .select(\".domain\").remove()\n    }\n    else {\n      svg1.selectAll(\".myXaxis\").data([0]).join('g').attr(\"class\", \"myXaxis\")\n        .attr(\"transform\", \"translate(0,\" + height + \")\")\n        .call(d3.axisBottom(x).tickSize(-height * 1.3).tickValues(bins.map(item => item['x1'])))\n        .select(\".domain\").remove()\n    }\n    svg1.selectAll(\".tick line\").attr(\"stroke\", \"#EBEBEB\")\n\n    //------------------------------------------------------------------------------------------------------ Scatterplot starts here\n    svg1.selectAll(\".scatterplot_g\").data(scatterplot_data).join('g').attr(\"id\", d => d[0] + \"scatterplot_g_id\").attr(\"class\", \"scatterplot_g\").attr(\"ax\", function (d) {\n      temp_x = d[1].map(item => parseFloat(item[feature]))\n      temp_y = d[1].map(item => parseFloat(item[feature_contribute]))\n\n      x = d3.scaleLinear().domain([d3.min(temp_x), d3.max(temp_x)]).range([0, width]).nice()\n      y = d3.scaleLinear().domain([d3.min(temp_y), d3.max(temp_y)]).range([height, 0]).nice();\n\n      d3.select(this).selectAll('circle').data(d[1])\n        .join(\"circle\")\n        .attr(\"cx\", (d, i) => {\n          if (x(parseFloat(d[feature])) < 10) {\n            return 10;\n          }\n          else if (x(parseFloat(d[feature])) > width - 10) {\n            return width - 10;\n          }\n          return x(d[feature]) + 2\n        })\n        .attr(\"cy\", (d, i) => {\n          if (y(parseFloat(d[feature_contribute])) < 10) {\n            return 10;\n          }\n          else if (y(parseFloat(d[feature_contribute])) > (height - 10)) {\n            return height - 10;\n          }\n          return y(parseFloat(d[feature_contribute])) - 0\n\n        })\n        .attr(\"actual_Y_valu\", d => d[feature_contribute])\n        .attr(\"r\", 4)\n        .attr(\"class\", \"random\")\n        .attr(\"fill\", (d) => self.props.color_gen(d['State']))\n        .attr(\"id\", d => \"A\" + String(d['State']).replace(/ +/g, \"\"))\n        .attr(\"class\", function (d) {\n          return \"bar myid\" + String(d['two_realRank']) + \" exp_circles\"\n        })\n        .attr('dataset_name',d[0])\n        .on(\"click\", d => {\n          self.props.textClickHandler_original(\"A\" + d[\"State\"])\n        })\n    })\n\n// Define the div for the tooltip\n    var div = d3.select(\"body\").append(\"div\")\n      .attr(\"class\", \"tooltip2\")\n      .style(\"opacity\", 0);\n    d3.selectAll('.exp_circles')\n      .on(\"mouseover\", function (d) {\n        div.transition()\n          .duration(200)\n          .style(\"opacity\", .9);\n        div.html(\"<p>\" + d['State'] + \"</p>\" + \"<p>\" + \"Model: \" + d3.select(this).attr('dataset_name') + \"</p>\")\n        //div.html(d['State'])\n          .style(\"left\", (d3.event.pageX) + \"px\")\n          .style(\"top\", (d3.event.pageY - 28) + \"px\");\n      })\n      .on(\"mouseout\", function (d) {\n        d3.selectAll('.tooltip2').transition()\n          .duration(500)\n          .style(\"opacity\", 0);\n      })\n\n    //------------------------------------------------------------------------------------------------------ Scatterplot ends here\n\n  }\n  CreateChart_cat = (data, feature, scatterplot_data) => {\n    var self = this,\n      feature_contribute = feature + \"_contribution\"\n    var margin = { top: 0, right: 30, bottom: 75, left: 50, space_for_hist: 50 }, width = 520 - margin.left - margin.right, height = 270 - margin.top - margin.bottom;\n    var barplot_data = {}\n    data.map(item => { if (barplot_data[item[feature]] > 0) { barplot_data[item[feature]] += 1 } else { barplot_data[item[feature]] = 1 } })\n\n    var temp_x = Object.keys(barplot_data),\n      temp_y = Object.values(barplot_data),\n      y = d3.scaleLinear().domain([d3.min(temp_y), d3.max(temp_y)]).range([height, 0]).nice(); // circles will start from y position 10 and go upto height-10\n\n    var x = d3.scaleBand().domain(temp_x).range([0, width]).padding(0.1);\n\n    // add the x Axis\n    //svg.append(\"g\").attr(\"transform\", \"translate(0,\" + height + \")\").call(d3.axisBottom(x));\n\n\n    //-------------------------------------------------------------All svgs\n    var parent_svg = d3.select(\"#\" + self.props.myid).attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom + margin.space_for_hist),\n      svg1 = parent_svg.selectAll('.svg11').data([0]).join('svg').attr(\"y\", margin.space_for_hist).attr(\"class\", \"svg11\").selectAll(\".myg\").data([0]).join('g').attr(\"class\", \"myg\").attr(\"transform\",\n        \"translate(\" + margin.left + \",\" + margin.top + \")\")\n\n    //------------------------------------------------------------------------------------------------------ Create Histogram starts here\n    var hist_height = margin.space_for_hist\n    y = d3.scaleLinear().domain([0, d3.max(temp_y)]).range([hist_height, 0]).nice();\n    var svg0 = parent_svg.selectAll('.svg0').data([0]).join('svg').attr(\"class\", \"svg0\").selectAll(\".myg0\").data([0]).join('g').attr(\"class\", \"myg0\")\n      .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\")\n    // Add line on the bottom of the histogram\n    svg0.selectAll(\".myline\").data([0]).join('line').attr(\"class\", \"myline\").attr(\"x1\", 0).attr(\"y1\", margin.space_for_hist).attr(\"x2\", width).attr(\"y2\", margin.space_for_hist).attr(\"stroke\", \"#EBEBEB\");\n    svg0.selectAll(\"rect\").data(Object.entries(barplot_data)).join('rect')\n      .attr(\"x\", d => x(d[0]))\n      .attr(\"fill\", \"#b7b7b7\")\n      .attr(\"width\", x.bandwidth())\n      .attr(\"y\", d => y(d[1]))\n      .attr(\"height\", d => hist_height - y(d[1]));\n    //------------------------------------------------------------------------------------------------------ Create Histogram ends here\n\n    var svg1 = parent_svg.selectAll('.svg11').data([0]).join('svg').attr(\"class\", \"svg11\").selectAll(\".myg\").data([0]).join('g').attr(\"class\", \"myg\").attr(\"transform\",\n      \"translate(\" + margin.left + \",\" + margin.top + \")\")\n    svg1.selectAll(\".myline2\").data([0]).join('line').attr(\"class\", \"myline2\").attr(\"x1\", 0).attr(\"y1\", 0).attr(\"x2\", 0).attr(\"y2\", height).attr(\"stroke\", \"#EBEBEB\");\n    svg1.selectAll(\".myline3\").data([0]).join('line').attr(\"class\", \"myline3\").attr(\"x1\", 0).attr(\"y1\", height).attr(\"x2\", width).attr(\"y2\", height).attr(\"stroke\", \"#EBEBEB\");\n\n\n    //------------- Add Y axis\n    var y2 = d3.scaleOrdinal().domain([\".\", \"0\", \"..\"]).range([height / 4, height / 2, (3 * height) / 4]); // circles will start from y position 10 and go upto height-10\n    svg1.selectAll(\".myYaxis\").data([0]).join('g').attr(\"class\", \"myYaxis\")\n      .call(d3.axisLeft(y2).tickSize(-width * 1.0).ticks(3).tickValues([\",\", \"0\", \"..\"]).tickFormat(d => d))\n      .select(\".domain\").remove()\n    svg1.selectAll(\".myYaxis\").selectAll('text').remove()\n    d3.selectAll('.svg11').selectAll('.myYtext').data([[\"++ve\", height / 8], [\"+ve\", (3 * height) / 8], [\"0\", height / 2], [\"-ve\", (5 * height) / 8], [\"--ve\", (7 * height) / 8]]).join(\"text\").attr(\"class\", \"myYtext\")\n      .attr(\"x\", 45).attr(\"y\", (d, i) => d[1] + 4).text(d => d[0]).attr('font-size', 14).attr(\"text-anchor\", \"end\")\n    d3.selectAll('.svg11').attr('add_horizontal_lines', function () { //horizontal lines starts here\n      d3.select(this).selectAll(\".horiz_line\").data([3.85, 1.31]).join('line').attr('class', \"horiz_line\")\n        .attr(\"x1\", 11)\n        .attr(\"x2\", 50)\n        .attr(\"y1\", d => (height / d) - 2)\n        .attr(\"y2\", d => (height / d) - 2)\n        .style(\"stroke\", \"#EBEBEB\")\n    })\n\n    d3.selectAll('.svg11').selectAll(\".line0\").data([0]).join('line').attr('class', \"line0\")\n      .attr(\"x1\", 11)\n      .attr(\"x2\", 35)\n      .attr(\"y1\", d => (height / 2))\n      .attr(\"y2\", d => (height / 2))\n      .style(\"stroke\", \"#EBEBEB\")\n\n\n    //------------- Add X axis\n    svg1.selectAll(\".myXaxis\").data([0]).join('g').attr(\"class\", \"myXaxis\")\n      .attr(\"transform\", \"translate(0,\" + height + \")\")\n      .call(d3.axisBottom(x).tickSize(-height * 1.3)).selectAll(\"text\")\n      .style(\"text-anchor\", \"end\")\n      .attr(\"dx\", \"-.8em\")\n      .attr(\"dy\", \"0em\")\n      .attr(\"transform\", \"rotate(-90)\")\n      .selectAll(\".tick line\").remove()\n    svg1.selectAll(\".domain\").remove()\n    svg1.selectAll(\".tick line\").attr(\"stroke\", \"#EBEBEB\")\n    //------------------------------------------------------------------------------------------------------ Create Histogram ends here\n    //------------------------------------------------------------------------------------------------------ Scatterplot starts here\n    svg1.selectAll(\".scatterplot_g\").data(scatterplot_data).join('g').attr(\"id\", d => d[0] + \"scatterplot_g_id\").attr(\"class\", \"scatterplot_g\").attr(\"ax\", function (d) {\n      var temp_y = d[1].map(item => parseFloat(item[feature + \"_contribution\"])) // d[1] \n      y = d3.scaleLinear().domain([d3.min(temp_y), d3.max(temp_y)]).range([height, 0]).nice();\n\n      d3.select(this).selectAll('circle').data(d[1])\n        .join(\"circle\")\n        .attr(\"cx\", (d, i) => {\n          return x(d[feature]) + x.bandwidth() / 2\n        })\n        .attr(\"cy\", (d, i) => {\n          if (y(parseFloat(d[feature_contribute])) < 10) {\n            return 10;\n          }\n          else if (y(parseFloat(d[feature_contribute])) > (height - 10)) {\n            return height - 10;\n          }\n          return y(parseFloat(d[feature_contribute])) - 0\n\n        })\n        .attr(\"actual_Y_valu\", d => d[feature_contribute])\n        .attr(\"r\", 4)\n        .attr(\"class\", \"random\")\n        .attr(\"fill\", (d) => self.props.color_gen(d['State']))\n        .attr(\"id\", d => \"A\" + String(d['State']).replace(/ +/g, \"\"))\n        .attr(\"class\", function (d) {\n          return \"bar myid\" + String(d['two_realRank']) + \" exp_circles\"\n        })\n        .attr('dataset_name',d[0])\n        .on(\"click\", d => {\n          self.props.textClickHandler_original(\"A\" + d[\"State\"])\n        })\n    })\n\n// Define the div for the tooltip\nvar div = d3.select(\"body\").append(\"div\")\n.attr(\"class\", \"tooltip2\")\n.style(\"opacity\", 0);\nd3.selectAll('.exp_circles')\n.on(\"mouseover\", function (d) {\n  div.transition()\n    .duration(200)\n    .style(\"opacity\", .9);\n  div.html(\"<p>\" + d['State'] + \"</p>\" + \"<p>\" + \"Model: \" + d3.select(this).attr('dataset_name') + \"</p>\")\n  //div.html(d['State'])\n    .style(\"left\", (d3.event.pageX) + \"px\")\n    .style(\"top\", (d3.event.pageY - 28) + \"px\");\n})\n.on(\"mouseout\", function (d) {\n  d3.selectAll('.tooltip2').transition()\n    .duration(500)\n    .style(\"opacity\", 0);\n})\n\n    //------------------------------------------------------------------------------------------------------ Scatterplot ends here\n  }\n\n  render() {\n    return (\n      <div style={{ margin: 10, padding: 10, border: this.props.index == 0 ? \"3px solid #e5e5e5\" : \"white\" }}>\n        <svg id={this.props.myid}> </svg>\n        \n      </div>\n    );\n  }\n}\nconst maptstateToprop = (state) => {\n  return {\n    //popup_chart_data: state.popup_chart_data,\n    pop_over_models: state.pop_over_models,\n    clicked_items_in_slopechart: state.clicked_items_in_slopechart,\n    config: state.config,\n    mode: state.mode,\n    range_mode_model: state.range_mode_model,\n    time_mode_model: state.time_mode_model,\n    defualt_models:state.defualt_models\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_clicked_items_in_slopechart: (val) => dispatch({ type: \"clicked_items_in_slopechart\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Chart);","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Fade from '@material-ui/core/Fade';\nimport { connect } from \"react-redux\";\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nfunction FadeMenu(props) {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const open = Boolean(anchorEl);\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  //------------For list and chckbox\n  const [checked, setChecked] = React.useState([0]);\n  const handleToggle = (value) => () => {\n    const currentIndex = checked.indexOf(value);\n    const newChecked = [...checked];\n    if (currentIndex === -1) {\n      newChecked.push(value);\n    } else {\n      newChecked.splice(currentIndex, 1);\n    }\n    setChecked(newChecked);\n  };\n  //----------------\n  const checkboxChanged = (event) => {\n    let temp_Models=[...props.pop_over_models].filter(item=>item!=\"ListNet\")\n    if (temp_Models.includes(event.target.value)) {\n      temp_Models = props.pop_over_models.filter(item => item != event.target.value)\n      props.Set_pop_over_models(temp_Models)\n    }\n    else {\n      temp_Models.push(event.target.value)\n      props.Set_pop_over_models(temp_Models)\n    }\n  }\n  return (\n    <div>\n      <Button aria-controls=\"fade-menu\" aria-haspopup=\"true\" onClick={handleClick}>\n        Filter Models\n        <ArrowDropDownIcon></ArrowDropDownIcon>\n      </Button>\n      <Menu\n        id=\"fade-menu\"\n        anchorEl={anchorEl}\n        keepMounted\n        open={open}\n        onClose={handleClose}\n        TransitionComponent={Fade}\n      >\n        <div className=\"CheckboxContainer\">\n          <List>\n            {props.defualt_models.map((value) => {\n              const labelId = `checkbox-list-label-${value}`;\n              return (\n                <ListItem key={value} role={undefined} onClick={handleToggle(value)}>\n                  <Checkbox checked={props.pop_over_models.includes(value)} edge=\"start\" tabIndex={-1}\n                    value={value}\n                    onChange={(event, value) => {\n                      checkboxChanged(event, value)\n                    }\n                    }\n                  />\n                  <p className=\"list_item_label\" id={labelId}>{value}</p>\n                </ListItem>\n              );\n            })}\n          </List>\n        </div>\n      </Menu>\n    </div>\n  );\n}\nconst maptstateToprop = (state) => {\n  return {\n    pop_over_models:state.pop_over_models,\n    defualt_models:state.defualt_models\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_defualt_models: (val) => dispatch({ type: \"defualt_models\", value: val }),\n    Set_pop_over_models: (val) => dispatch({ type: \"pop_over_models\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(FadeMenu);\n//https://material-ui.com/components/menus/\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport { connect } from \"react-redux\";\nimport Chart_pop from './chart_pop'\nimport Draggable from 'react-draggable';\nimport * as d3 from 'd3';\nimport Grid from \"@material-ui/core/Grid\"\nimport FilterModel from \"./FilterModel\"\nimport * as $ from 'jquery';\nexport function SimplePopover(props) {\n    const handleClose = () =>{\n        props.set_pop_over(false)\n        props.set_dbclicked_features([])\n    };\n    return (\n        <div style={{ position: \"relative\" }}>\n            {props.pop_over == true ?\n                <div style={{ top: \"2%\", left: \"14%\", position: \"fixed\",pointerEvents:\"none\",backgroundColor:\"transparent\" }}>\n                    <Draggable>\n                        <Grid style={{ backgroundColor: \"#ffffff\", boxShadow: \"3px 2px 15px -7px #000000\",pointerEvents:\"auto\" }}>\n                            <Grid container style={{ borderBottom: \"1px solid #e2e2e2\", marginBottom: 20 }}\n                                direction=\"row\"\n                                justify=\"space-between\"\n                                alignItems=\"center\"\n                            >\n                                <FilterModel defualt_models={props.defualt_models}></FilterModel>\n                                <Button color=\"secondary\" id=\"draggable-dialog-title\" onClick={handleClose}>close</Button>\n                            </Grid>\n                            <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\" style={{maxHeight:700,overflow:\"scroll\",maxWidth:1600}}>\n                                {\n                                //props.dbclicked_features.length>0?props.dbclicked_features.map((item,index)=><Chart_pop index={index} popup_chart_data={[props.popup_chart_data[0],item]} defualt_models={props.defualt_models} myid={item.replace(/\\s/g, '').replace(/[`~!@#$%^&*()_|+\\-=?;:'\",.<>\\{\\}\\[\\]\\\\\\/]/gi, '')} color_gen={props.color_gen} textClickHandler_original={props.textClickHandler_original}></Chart_pop>):<Chart_pop popup_chart_data={props.popup_chart_data} defualt_models={props.defualt_models} myid=\"myid1\" color_gen={props.color_gen} textClickHandler_original={props.textClickHandler_original}></Chart_pop>\n                                }\n                            </Grid>\n                        </Grid>\n                    </Draggable>\n                </div> : null}\n        </div>\n    );\n}\nconst maptstateToprop = (state) => {\n    return {\n        popup_chart_data: state.popup_chart_data,\n        pop_over: state.pop_over,\n        dbclicked_features:state.dbclicked_features,\n    }\n}\nconst mapdispatchToprop = (dispatch) => {\n    return {\n        set_pop_over: (val) => dispatch({ type: \"pop_over\", value: val }),\n        set_dbclicked_features: (val) => dispatch({ type: \"dbclicked_features\", value: val }),\n        set_clicked_features: (val) => dispatch({ type: \"clicked_features\", value: val }),\n    }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(SimplePopover);\n","import React, { Component } from 'react';\nimport { connect } from \"react-redux\";\nimport * as $ from \"jquery\"\nimport * as d3 from 'd3';\nimport exp_fiscal_CordAscent from \"../../../Data/data/fiscal/lime/chart1_data.csv\";\nimport exp_school_CordAscent from \"../../../Data/data/school/lime/chart1_data.csv\";\nimport exp_house_CordAscent from \"../../../Data/data/house/lime/chart1_data.csv\";\nimport * as algo1 from \"../../../Algorithms/algo1\";\nimport CreateHistogram from './CreateHistogram'\nimport CreateBarChart from './CreateBarChart';\nimport Button from '@material-ui/core/Button';\nimport { delay } from 'lodash';\nclass FeatureHistograms extends Component {\n    constructor(props) {\n        super(props);\n        this.state = { feature_data: [] };\n    }\n    componentDidMount() {\n        var filename; if (this.props.dataset == \"fiscal\") { filename = exp_fiscal_CordAscent } else if (this.props.dataset == \"school\") { filename = exp_school_CordAscent } else if (this.props.dataset == \"house\") { filename = exp_house_CordAscent }\n        d3.csv(filename).then(feature_data => {\n            this.setState({ feature_data: feature_data,all_instances:{} })\n        })\n    }\n    store_instances=(feature_name,instances)=>{\n        var temp={...this.state.all_instances}\n        temp[feature_name]=instances\n        this.setState({all_instances:temp})\n    }\n    shouldComponentUpdate(nextProps, nextState) {\n        if(typeof(this.state.all_instances)!=\"undefined\" && JSON.stringify(nextState.all_instances)!==JSON.stringify(this.state.all_instances)){\n            return false\n        }\n        return true    \n    }\n    componentDidUpdate() {\n        var self = this\n        var filename;\n        var selected_instances = d3.range(this.props.state_range[0], this.props.state_range[1] + 1)\n        //--------------------\n        var number_of_charts = 9\n        var features_dict = algo1.features_with_score(this.props.dataset, this.props.defualt_models, selected_instances, this.props.selected_year, number_of_charts, this.props.rank_data)\n        var sorted_features = Object.entries(features_dict).sort((first, second) => second[1] - first[1]).map(element => element[0])\n        //--------------------\n        if (this.props.dataset == \"fiscal\") { filename = exp_fiscal_CordAscent } else if (this.props.dataset == \"school\") { filename = exp_school_CordAscent }\n        //--------------------------------Iterate through each features\n        const margin = { top: 10, right: 5, bottom: 50, left: 5 }; // Histogram\n        //const margin = { top: 10, right: 5, bottom: 40, left: 5 } // Barchart\n        d3.select(\".feature_histograms_container\").selectAll(\".feature\").data(sorted_features, d => d).join(\"svg\").attr(\"class\", 'feature')\n            //.attr(\"width\", feature_width)\n            //.attr(\"y\", (d, feature_index) => feature_height * feature_index)\n            .attr(\"add_histogram\", function (d, feature_index) {\n                var histogram_data = []\n                if (!isNaN(self.state.feature_data[0][d])) {\n                    self.state.feature_data.forEach(element => {\n                        if (element[\"1-qid\"] == self.props.selected_year) {\n                            var temp_dict = {}\n                            temp_dict[\"x\"] = parseInt(element['two_realRank'])\n                            temp_dict[\"y\"] = parseFloat(element[d])\n                            histogram_data.push(temp_dict)\n                        }\n                    });\n                    CreateHistogram(histogram_data, d3.select(this), d, feature_index, sorted_features.length,self.store_instances)\n                }\n                else {\n                    self.state.feature_data.forEach(element => {\n                        if (element[\"1-qid\"] == self.props.selected_year) {\n                            var temp_dict = {}\n                            temp_dict[\"x\"] = parseInt(element['two_realRank'])\n                            temp_dict[\"y\"] = element[d]\n                            histogram_data.push(temp_dict)\n                        }})\n                    CreateBarChart(histogram_data, d3.select(this), d, feature_index, sorted_features.length,self.store_instances,self.state.all_instances)\n                }\n            })\n            .attr('id',d=>d)\n            //.call(d3.brush().extent([[0, margin.top], [400, 65]]))\n        //--------------------------------Iterate through each features\n    }\n    render() {\n        return (\n            this.props.original_data != null ? <div style={{display:'relative', width: 400,marginTop:-8 }}>\n                <Button fullWidth style={{margin:0,position:'sticky',top:0,backgroundColor:\"gray\",borderRadius:0}} onClick={()=>{\n                    var selected_instances=[...new Set([].concat(...Object.values(this.state.all_instances)))]\n                    var filtered_instances=selected_instances.filter(item => item>=this.props.state_range[0] && item<=this.props.state_range[1])\n                    this.props.handleClose() // This will close the select menu\n                    if(filtered_instances.length==0){alert(\"No instance is available withing the selected range!\")}\n                    this.props.Set_histogram_data([...filtered_instances])\n                }}> Update </Button>\n                <div className=\"feature_histograms_container_div\" style={{display:'relative', width: 400, height: window.innerHeight, overflow: \"scroll\",marginTop:-8 }}>\n                <svg className=\"feature_histograms_container\" style={{ width: \"100%\", padding: 10 }}> </svg>\n                </div>\n            </div> : null\n        );\n    }\n}\nconst maptstateToprop = (state) => {\n    return {\n        dataset: state.dataset,\n        deviate_by: state.deviate_by,\n        state_range: state.state_range,\n        defualt_models: state.defualt_models,\n        selected_year: state.selected_year,\n        sparkline_data: state.sparkline_data,\n        show: state.show,\n        mode: state.mode,\n        original_data: state.original_data,\n        rank_data: state.rank_data,\n    }\n}\nconst mapdispatchToprop = (dispatch) => {\n    return {\n        Set_slider_max: (val) => dispatch({ type: \"slider_max\", value: val }),\n        Set_state_range: (val) => dispatch({ type: \"state_range\", value: val }),\n        Set_histogram_data: (val) => dispatch({ type: \"histogram_data\", value: val }),\n    }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(FeatureHistograms);\n\n//https://material-ui.com/api/slider/\n//https://material-ui.com/components/expansion-panels/\n//https://material-ui.com/api/checkbox/\n//https://material-ui.com/components/radio-buttons/","import * as d3 from 'd3';\nimport * as $ from \"jquery\"\nexport default function CreateChart(histogram_data, svg, feature_name, feature_index, number_of_features,store_instances,all_instances) {\n  //( feature_height, selected_year, handleHistogramselection, feature_data)\n  var parent_width = $(\".feature_histograms_container\").width()\n  var parent_height = $(\".feature_histograms_container\").height()\n  var feature_width = $(\".feature_histograms_container\").width()\n  var feature_height = 120\n  const margin = { top: 10, right: 5, bottom: 40, left: 5 }\n  d3.select(\".feature_histograms_container\").attr('height', feature_height * number_of_features + 20)\n  svg.attr('y', feature_height * feature_index).attr('width', parent_width).attr('height', feature_height)\n  //-----------------------------------------------------------\n  var occur = {}\n  histogram_data.map(item => {\n    if (item.y in occur) occur[item.y] = occur[item.y] + 1\n    else { occur[item.y] = 1 }\n  })\n  var items = Object.entries(occur).sort((first, second) => second[1] - first[1]);\n  var x = items.map(element => element[1]);\n  var sum_x = d3.sum(x)\n  svg.selectAll('.item_svg').data(items).join(\"svg\").attr(\"class\", 'item_svg').attr(\"x\", (d, i) => (d3.sum(x.slice(0, i)) / sum_x) * feature_width).attr('y',margin.top).attr('width', (d, i) => ((d[1] / sum_x) * feature_width) - .2).attr('height', feature_height - margin.bottom)\n    .attr('add_rectangle', function (d) {\n      d3.select(this).selectAll(\".my_rect\").data([0]).join('rect').attr(\"class\", \"my_rect\").attr(\"width\", \"100%\").attr(\"height\", feature_height - margin.bottom).style(\"fill\", \"gray\")\n      .attr(\"check\",function(){\n        if(feature_name+d[0] in all_instances){ if(all_instances[feature_name+d[0]].length>0){d3.select(this).classed('feature_clicked',true) }} // if the feature and the category exists we check the length and decide that it is clicked item. In categorical items if something is clicked it can not have empty instances\n      })\n      .on('click', function(){\n        if(!d3.select(this).classed('feature_clicked')){ // if not classed we add the class and the data\n          d3.select(this).classed('feature_clicked',true)\n          store_instances(feature_name+d[0],histogram_data.filter(item=>item['y']==d[0]).map(item=>item.x))\n        }\n        else{ // if claassed we already have it so we set it empty\n          d3.select(this).classed('feature_clicked',false)\n          store_instances(feature_name+d[0],[])\n        }\n      })\n      \n    \n    })\n    .attr('add_text', function (d) {\n      //if(d3.select(this).attr(\"width\")>9)\n      d3.select(this).selectAll(\"text\").data([0]).join(\"text\").text(d[0]).attr('x', \"50%\").attr(\"y\", '50%').attr('dominant-baseline', 'middle').style(\"font-size\", d3.select(this).attr(\"width\") > 11 ? 10 : d3.select(this).attr(\"width\") - 2).style(\"writing-mode\", \"tb\").style(\"text-anchor\", \"middle\").style('cursor', 'pointer')\n    })\n  //----------------------------------------------------------- Histogram creation ends here\n  svg.selectAll(\".hist_title\").data([0]).join(\"text\").attr(\"class\", \"hist_title\").attr(\"y\", feature_height-10).attr(\"x\", feature_width / 2).attr(\"text-anchor\", \"middle\").attr('font-size', 14).text(feature_name).style('text-transform','capitalize')\n}","import * as d3 from \"d3\"\nimport * as $ from \"jquery\"\nexport default function CreateHistogram(histogram_data, svg, feature_name, feature_index, number_of_features, store_instances) {\n  const margin = { top: 10, right: 5, bottom: 50, left: 5 };\n  var parent_width = $(\".feature_histograms_container\").width()\n  var feature_height = 120\n  var feature_width = parent_width\n  d3.select(\".feature_histograms_container\").attr('height', feature_height * number_of_features + 20)\n  svg.attr('y', feature_height * feature_index).attr('width', parent_width).attr('height', feature_height)\n  var item_data = histogram_data.map(item => item['y'])\n  var area_chart_height = feature_height - margin.top - margin.bottom;\n  var area_chart_width = feature_width - margin.left - margin.right\n  const y = d3.scaleLinear().domain(d3.extent(item_data)).range([margin.top, area_chart_height])\n\n  var myticks = y.ticks(25)\n  var binned_data = d3.histogram().value(d => d).domain(y.domain()).thresholds(myticks)(item_data)\n  //--------- Create the areaChart\n  var area_chart_data = []\n  binned_data.map((item, i) => area_chart_data.push([item.x1, item.length]))\n  var xScale = d3.scaleLinear().domain(d3.extent(area_chart_data.map(item => item[0]))).range([margin.left, feature_width - margin.right]) // 20 is the baseline\n  var yScale = d3.scaleLinear().domain([0, d3.max(area_chart_data.map(item => item[1]))]).range([area_chart_height, 0])\n  const areaGenerator = d3.area().curve(d3.curveMonotoneX).x(d => xScale(d[0])).y0(yScale(0)).y1(d => yScale(d[1]))\n\n  svg.append(\"path\").attr('transform', 'translate(0,' + margin.top + ')')\n    .attr(\"d\", areaGenerator(area_chart_data))\n    .style(\"fill\", \"gray\");\n  //svg.selectAll(\".graph_lines\").area_chart_data(ticks).join('line').attr(\"class\", \"graph_lines\").attr(\"x1\", 0).attr(\"x2\", baseline).attr(\"y1\",d=>y(d)).attr(\"y2\", d=>y(d)).attr(\"stroke-width\", 0.1).attr(\"stroke\", \"black\").raise()\n  svg.selectAll(\".xAxis_g\").data([0]).join('g').attr('class', 'xAxis_g').attr(\"transform\", \"translate(0,\" + (feature_height - margin.bottom) + \")\")\n    .call(d3.axisBottom(xScale).ticks(5).tickFormat(d3.format(\".2s\")));\n  //.call(d3.axisBottom(xScale).ticks(5));\n  svg.selectAll('.domain').attr('stroke', '#dddddd')\n  svg.selectAll(\".title\").data([0]).join('text').attr('x', feature_width / 2).attr('y', feature_height - 28).attr('dominant-baseline', 'hanging').attr('text-anchor', 'middle').text(feature_name).attr('font-size', 14).style('text-transform', 'capitalize')\n  svg.call(d3.brushX().extent([[0, margin.top], [400, area_chart_height + margin.top]]).on(\"end\", () => {\n    var extent = d3.event.selection\n    if (extent != null) {\n      var lower = xScale.invert(extent[0]), upper = xScale.invert(extent[1])\n      var instances = histogram_data.filter(item => item['y'] >= lower && item['y'] <= upper).map(item => item['x']) // x contains the ranking and y contains the value\n      store_instances(feature_name, instances)\n    }\n    else{store_instances(feature_name, [])}\n  }))\n}\n//https://stackoverflow.com/questions/54236051/how-to-draw-a-vertical-area-chart","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport FeatureHistograms from \"./FeatureHistograms/FeatureHistograms\"\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\n\nexport default function SimpleMenu() {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  return (\n    <div style={{marginLeft:50}}>\n      <Button aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleClick}>Select Features<ArrowDropDownIcon></ArrowDropDownIcon></Button>\n      <Menu id=\"simple-menu\" anchorEl={anchorEl} keepMounted open={Boolean(anchorEl)} onClose={handleClose} style={{marginTop:0}}>\n       {anchorEl?<FeatureHistograms handleClose={handleClose}></FeatureHistograms>:null}\n      </Menu>\n    </div>\n  );\n}\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport { connect } from 'react-redux';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormLabel from '@material-ui/core/FormLabel';\n\nexport function SimpleMenu(props) {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  return (\n    <div style={{marginLeft:0}}>\n      <Button aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleClick}>Select Mode<ArrowDropDownIcon></ArrowDropDownIcon></Button>\n      <Menu id=\"simple-menu\" anchorEl={anchorEl} keepMounted open={Boolean(anchorEl)} onClose={handleClose} style={{marginTop:0}}>\n       {anchorEl?<div style={{paddingLeft:10}}><form onSubmit={() => this.buttonclickHandler(1, \"form\")}>\n                <FormControl component=\"fieldset\">\n                  <FormLabel component=\"legend\"></FormLabel>\n                  <RadioGroup aria-label=\"gender\" name=\"gender1\" onChange={(event, val) => {handleClose();props.Set_mode(val)}}>\n                    {['Model', 'Ranges', 'Time'].map((value) => {\n                      return <FormControlLabel value={value} control={<Radio />} label={value} />\n                    })}\n                  </RadioGroup>\n                </FormControl>\n              </form></div>:null}\n      </Menu>\n    </div>\n  );\n}\nconst maptstateToprop = (state) => {\n  return {\n    state_range: state.state_range,\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_mode: (val) => dispatch({ type: \"mode\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(SimpleMenu);\n","import React, { Component } from 'react';\n//------------------------------------------------All datasets imports ends here\nimport { Row, Col } from 'reactstrap';\n\nimport Button from '@material-ui/core/Button';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport * as $ from 'jquery';\nimport { connect } from \"react-redux\";\nimport Grid from '@material-ui/core/Grid';\nimport FeaturesDropdown from \"./FeaturesDropdown\"\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport SelectMode from './SelectMode'\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    // mydata is original data\n    this.state = {\n      random: 10,\n      original_data: null, grouped_by_year_data: null, show: [\"Slope charts\", \"Rankings\", \"Explanation\"], view_data: 1,\n      histogram_data: [], ref_year: null, features_dict: {}, features_voted: null, Legend_ready_to_vis: null, legend_model: \"CordAscent\",\n    };\n  }\n  buttonclickHandler = (value, type) => {\n    setTimeout(() => { this.setState({ random: Math.random() }) }, 500);\n    type = \"button\" ? this.props.Set_view_data(value) : null\n    type = \"form\" ? this.setState({ view_data: value }) : null\n  }\n  shouldComponentUpdate() {\n    return true;\n  }\n  render() {\n    return (\n      <div className=\"uploader_topbar\">\n        <Grid container spacing={0} className=\"myheader\" style={{ left: $('.Sidebar').width() }}>\n          <ButtonGroup aria-label=\"outlined button group\">\n          <Button style={{borderRadius:0}} onClick={() => this.buttonclickHandler(1, \"button\")}>View Data</Button>\n          <Button style={{borderRadius:0}} onClick={() => this.buttonclickHandler(0, \"button\")}>Load Data</Button>\n          </ButtonGroup>\n          <FeaturesDropdown></FeaturesDropdown>\n          <SelectMode></SelectMode>\n        </Grid>\n        {this.props.view_data == false ?\n          <Row className=\"Topbar_container\">\n            <div className=\"load\">\n              <form onSubmit={() => this.buttonclickHandler(1, \"form\")}>\n                <FormControl component=\"fieldset\">\n                  <FormLabel component=\"legend\"></FormLabel>\n                  <RadioGroup aria-label=\"gender\" name=\"gender1\" onChange={(event, val) => this.props.handleradioChange(val)}>\n                    {['Fiscal Dataset', 'School Dataset', 'House Dataset'].map((value) => {\n                      return <FormControlLabel value={value} control={<Radio />} label={value} />\n                    })}\n                  </RadioGroup>\n                  <Button type=\"submit\" variant=\"outlined\" color=\"primary\">Load</Button>\n                </FormControl>\n              </form>\n            </div></Row>\n          : null}\n      </div>\n    );\n  }\n}\nconst maptstateToprop = (state) => {\n  return {\n    view_data: state.view_data,\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_view_data: (val) => dispatch({ type: \"view_data\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(App);","import React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport { connect } from \"react-redux\";\n\nclass SlopeChart extends Component {\n    constructor(props) {\n        super(props);\n        this.line_color = null;\n        this.state = { height_slope_exp_chart: 700, mouseX: 0, mouseY: 0 }\n    }\n    componentDidMount() { this.setState({ width: window.innerHeight }) }\n    componentDidUpdate(prevProps, prevState) {\n        // Draw a circle\n        var myCircle = d3.select(\"#dataviz_brushing\")\n            .append(\"svg\")\n            .append(\"circle\")\n            .attr(\"cx\", 200)\n            .attr(\"cy\", 200)\n            .attr(\"r\", 40)\n            .attr(\"fill\", \"#69a3b2\")\n\n        // Add brushing\n        d3.select(\"#dataviz_brushing\")\n            .call(d3.brush()                     // Add the brush feature using the d3.brush function\n                .extent([[0, 0], [400, 400]])       // initialise the brush area: start at 0,0 and finishes at width,height: it means I select the whole graph area\n            )\n\n    }\n    render() {\n        //console.log(parseInt($(\".uploader_topbar\").height()),parseInt($(\".years_model_container\").height()),parseInt($(\".Modelslider\").height()))\n        return (\n            <div style={{ width: window.innerWidth, height: window.innerHeight }}>\n                <svg style={{ width: 400, height: 400 }} id=\"dataviz_brushing\"></svg>\n            </div>\n        )\n    }\n}\nconst maptstateToprop = (state) => {\n    return {\n        state_range: state.state_range,\n        selected_year: state.selected_year\n    }\n}\nconst mapdispatchToprop = (dispatch) => {\n    return {\n        Set_clicked_features: (val) => dispatch({ type: \"clicked_features\", value: val }),\n        Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: val }),\n    }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(SlopeChart);","import React, { Component } from 'react';\n//------------------------------------------------All datasets imports\nimport fiscal from \"./Data/fiscal.csv\";\nimport school from \"./Data/school.csv\";\nimport house from \"./Data/house.csv\";\n\nimport fiscal_rank from \"./Data/data/fiscal/lime/fiscal_rank.csv\";\nimport fiscal_lime from \"./Data/data/fiscal/lime/fiscal_lime.csv\";\n\nimport school_rank from \"./Data/data/school/lime/school_rank.csv\";\nimport school_lime from \"./Data/data/school/lime/school_lime.csv\";\n\nimport house_rank from \"./Data/data/house/lime/house_rank.csv\";\nimport house_lime from \"./Data/data/house/lime/house_lime.csv\";\n\n//------------------------------------------------All datasets imports ends here\nimport \"./App.scss\";\nimport * as d3 from 'd3';\nimport * as algo1 from \"./Algorithms/algo1\";\nimport ModelChart from \"./components/Charts/Model/ModelChartComponent\"\nimport RangeChart from \"./components/Charts/Range/RangeChartComponent\"\nimport YearChart from \"./components/Charts/Time/YearChart\"\nimport { Row, Col } from 'reactstrap';\nimport * as $ from 'jquery';\nimport { connect } from \"react-redux\";\nimport Grid from '@material-ui/core/Grid';\nimport \"./components/Charts/Charts.css\"\nimport Popover from './components/Popover/Popover';\nimport Top from './components/Top/Top';\nimport BrushTest from './components/BrushTest/BrushTest';\nimport { Hidden } from '@material-ui/core';\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    // mydata is original data\n    this.state = {\n      random: 10,\n      original_data: null, grouped_by_year_data: null, show: [\"Slope charts\", \"Rankings\", \"Explanation\"], view_data: 1,\n      histogram_data: [], ref_year: null, features_dict: {}, features_voted: null, Legend_ready_to_vis: null, legend_model: \"CordAscent\",\n    };\n  }\n  componentDidMount() { this.dataprocessor(this.props.dataset) }\n  //-------------------------------------------------------------------------------------------------------------------- data processor processes data for initial render\n  dataprocessor = (dataset_name) => {\n    if (dataset_name == \"school\") { this.process_data(school, school_rank, school_lime, dataset_name) }\n    if (dataset_name == \"fiscal\") { this.process_data(fiscal, fiscal_rank, fiscal_lime, dataset_name) }\n    if (dataset_name == \"house\") { this.process_data(house, house_rank, house_lime, dataset_name) }\n  }\n  process_data = (slopechart_data_filename, rank_data_filename, lime_data_filename, dataset_name) => {\n    var self = this\n    //-------------\n    d3.csv(slopechart_data_filename).then(original_data => {\n      var grouped_by_year_data = algo1.groupby_year(original_data).years\n      var sparkline_data = algo1.groupby_year(original_data).sparkline_data\n      var years_for_dropdown = Object.keys(grouped_by_year_data)\n      //console.log(grouped_by_year_data,sparkline_data,years_for_dropdown,'selected_year')\n      self.props.Set_sparkline_data(sparkline_data)\n      self.props.Set_slider_max(grouped_by_year_data[years_for_dropdown[0]].length)\n      self.setState({ years_for_dropdown: years_for_dropdown })\n      self.props.Set_years_for_dropdown(years_for_dropdown)\n      self.props.Set_time_mode_year1(years_for_dropdown[0])\n      self.props.Set_time_mode_year2(years_for_dropdown[1])\n      self.props.Set_legend_year(years_for_dropdown[0])\n      self.setState({ ref_year: years_for_dropdown[0] })\n      self.props.Set_grouped_by_year_data(grouped_by_year_data)\n      self.setState({ grouped_by_year_data: grouped_by_year_data })\n      self.setState({ original_data: original_data })\n      self.props.Set_original_data(original_data)\n      self.props.Set_selected_year(years_for_dropdown[0])\n    })\n    //-------------\n    d3.csv(rank_data_filename).then(data => {\n      var nested_data = {}\n      d3.nest().key(function (d) { return d.model; }).entries(data).map(item => {\n        nested_data[item.key] = item.values\n      })\n      self.props.Set_rank_data(nested_data)\n    })\n    //-------------\n    d3.csv(lime_data_filename).then(data => {\n      var nested_data = {}\n      d3.nest().key(function (d) { return d.model; }).entries(data).map(item => {\n        nested_data[item.key] = item.values\n      })\n      self.props.Set_lime_data(nested_data)\n    })\n  }\n  //-------------------------------------------------------------------------------------------------------------------- data processor processes data for initial render\n\n  handleradioChange = (selected_dataset) => {\n    this.props.Set_rank_data(null)\n    this.props.Set_clicked_items_in_slopechart([])\n    this.props.Set_state_range([1, 25])\n    this.props.Set_histogram_data([])\n    this.props.Set_mode(\"Model\")\n    this.props.Set_range_mode_range1([1, 25])\n    this.props.Set_range_mode_range2([15, 40])\n    this.props.Set_time_mode_range([5, 35])\n    if (selected_dataset == 'Fiscal Dataset') {\n      this.setState({ dataset: 'fiscal' })\n      this.props.Set_dataset('fiscal')\n      this.dataprocessor(\"fiscal\")\n    }\n    else if (selected_dataset == 'House Dataset') {\n      this.setState({ dataset: 'house' })\n      this.props.Set_dataset('house')\n      this.dataprocessor(\"house\")\n    }\n    else {\n      this.setState({ dataset: 'school' })\n      this.props.Set_dataset('school')\n      this.dataprocessor(\"school\")\n    }\n  };\n  render() {\n    var legend_width = 0\n    return (\n      <div className=\"root_container\" style={{ height: window.innerHeight, width: window.innerWidth, overflow: \"hidden\" }}>\n        <div className=\"topBar_root\" style={{ height: 35, width: window.innerWidth}}>\n          <Top handleradioChange={this.handleradioChange}></Top>\n        </div>\n        {this.props.view_data ? <Row>\n          <div style={{ width: window.innerWidth, height: window.innerHeight - $('.topBar_root').height(), padding: \"2px 3px\" }} key={this.props.view_data}>\n            {this.state.view_data == true ?\n              <Grid className=\"charts_and_legend_container\" style={{ height: '100%', width: '100%', border: \"2px solid grey\", overflow: \"hidden\" }} container direction=\"row\" justify=\"flex-start\" alignItems=\"center\" >\n                <Grid className=\"charts_container\" style={{ height: '100%', width: $('.charts_and_legend_container').width() - legend_width }} container spacing={0} direction=\"row\" justify=\"space-evenly\" >\n                  {this.props.mode == \"Model\" && this.state.grouped_by_year_data != null && this.props.original_data != null && this.props.lime_data != null ? <ModelChart></ModelChart> : null}\n                  {this.props.mode == \"Ranges\" && this.state.grouped_by_year_data != null && this.props.original_data != null && this.props.lime_data != null ? <RangeChart></RangeChart> : null}\n                  {this.props.mode == \"Time\" && this.state.grouped_by_year_data != null && this.props.original_data != null && this.props.lime_data != null ? <YearChart></YearChart> : null}\n                </Grid>\n                <div className=\"legend_container\" style={{ padding: 5, height: '100%', width: legend_width, backgroundColor: \"grey\" }}></div>\n              </Grid> : null}\n          </div>\n        </Row> : null}\n        <Popover></Popover>\n      </div>\n    );\n  }\n}\nconst maptstateToprop = (state) => {\n  return {\n    tracking: state.tracking,\n    state_range: state.state_range,\n    deviate_by: state.deviate_by,\n    defualt_models: state.defualt_models,\n    sparkline_data: state.sparkline_data,\n    selected_year: state.selected_year,\n    mode: state.mode,\n    range_mode_model: state.range_mode_model,\n    original_data: state.original_data,\n    time_mode_model: state.time_mode_model,\n    chart_scale_type: state.chart_scale_type,\n    dataset: state.dataset,\n    histogram_data: state.histogram_data,\n    sort_by: state.sort_by,\n    time_mode_year1: state.time_mode_year1,\n    time_mode_year2: state.time_mode_year2,\n    popup_chart_data: state.popup_chart_data,\n    clicked_items_in_slopechart: state.clicked_items_in_slopechart,\n    config: state.config,\n    lime_data: state.lime_data,\n    view_data: state.view_data\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_dataset: (val) => dispatch({ type: \"dataset\", value: val }),\n    Set_defualt_models: (val) => dispatch({ type: \"defualt_models\", value: val }),\n    Set_sparkline_data: (val) => dispatch({ type: \"sparkline_data\", value: val }),\n    Set_slider_max: (val) => dispatch({ type: \"slider_max\", value: val }),\n    Set_years_for_dropdown: (val) => dispatch({ type: \"years_for_dropdown\", value: val }),\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: parseInt(val) }),\n    Set_ref_year: (val) => dispatch({ type: \"ref_year\", value: val }),\n    Set_original_data: (val) => dispatch({ type: \"original_data\", value: val }),\n    Set_grouped_by_year_data: (val) => dispatch({ type: \"grouped_by_year_data\", value: val }),\n    Set_slider_and_feature_value: (val) => dispatch({ type: \"slider_and_feature_value\", value: val }),\n    Set_clicked_items_in_slopechart: (val) => dispatch({ type: \"clicked_items_in_slopechart\", value: val }),\n    Set_histogram_data: (val) => dispatch({ type: \"histogram_data\", value: val }),\n    Set_state_range: (val) => dispatch({ type: \"state_range\", value: val }),\n    Set_legend_year: (val) => dispatch({ type: \"legend_year\", value: val }),\n\n    Set_mode: (val) => dispatch({ type: \"mode\", value: val }),\n    Set_range_mode_range1: (val) => dispatch({ type: \"range_mode_range1\", value: val }),\n    Set_range_mode_range2: (val) => dispatch({ type: \"range_mode_range2\", value: val }),\n    Set_time_mode_range: (val) => dispatch({ type: \"time_mode_range\", value: val }),\n    Set_time_mode_year1: (val) => dispatch({ type: \"time_mode_year1\", value: val }),\n    Set_time_mode_year2: (val) => dispatch({ type: \"time_mode_year2\", value: val }),\n\n    Set_rank_data: (val) => dispatch({ type: \"rank_data\", value: val }),\n    Set_lime_data: (val) => dispatch({ type: \"lime_data\", value: val }),\n    Set_pop_over_models: (val) => dispatch({ type: \"pop_over_models\", value: val }),\n    Set_default_model_scores: (val) => dispatch({ type: \"default_model_scores\", value: val }),\n\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(App);","let initialState = {\n   anim_config: {rank_animation:3000,deviation_animation:3000,feature_animation:3000,circle_animation:3000},\n   appHandleChange: null,\n   sparkline_data: null,\n   sort_by: \"Average Precision\",\n   original_data: null,\n   rank_data: null,\n   lime_data: null,\n   grouped_by_year_data: null,\n   slope_chart_ready_to_vis: null,\n   defualt_models: [\"LinearReg\",\"CordAscent\"], // Change the pop_over_models as well\n   state_range: [1, 30], // Change in handleradioChange\n   deviate_by: 0,\n   show: [\n      \"Slope charts\", \"Rankings\", \"Explanation\" // change in app.js\n   ],\n   years_for_dropdown: [\n      \"2006\"\n   ],\n   selected_year: 2006,\n   slider_min: 1,\n   slider_max: 50,\n   view_data: 1,\n   dataset: \"school\", // change in componentDidmount in app.js too\n   histogram_data: [],\n   chart_scale_type: \"true\",\n   features_with_score: null,\n   ref_year: null,\n   cmodel: \"CordAscent\",\n   clicked_items_in_slopechart: [],\n   tracking: false,\n   dummy: null,\n   features_dict: {},\n   features_voted: null,\n   Legend_ready_to_vis: null,\n   legend_model: \"CordAscent\",\n   legend_show_option: \"Rank\",\n   legend_year: 2012,\n   mode: \"Ranges\",\n   range_mode_model: \"CordAscent\",\n   range_mode_range1: [1, 25],\n   range_mode_range2: [15, 40],\n   time_mode_model: \"CordAscent\",\n   time_mode_year1: \"Null\",\n   time_mode_year2: \"Null\",\n   time_mode_range: [6, 32],\n   chart_scale_type: \"true\",\n   slider_and_feature_value: { 'Rank range': 1, 'Feature': 1 },\n   prev_prop: {},\n   replay: false,\n   changed: \"year\",\n   popup_chart_data: null,\n   pop_over: false,\n   pop_over_models: [\"MART\", \"LinearReg\"],\n   clicked_features: [],\n   drag_drop_feautre_data: {},\n   dbclicked_features: [],\n   default_model_scores: {},\n   all_models: [\"MART\", \"RandomFor\", \"LinearReg\", \"CordAscent\", \"LambdaMART\", \"LambdaRank\", \"RankBoost\", \"RankNet\"],\n   average_y: false,\n   average_m: false,\n   clicked_circles:[],\n   threshold:1000,\n}\n//---InitialState ends here\nconst reducer = (state = initialState, action) => {\n   if (action.type === \"view_data\") {\n      return { ...state, view_data: action.value }\n   }\n   if (action.type === \"threshold\") {\n      return { ...state, threshold: action.value }\n   }\n   if (action.type === \"clicked_circles\") {\n      return { ...state, clicked_circles: action.value }\n   }\n   if (action.type === \"average_y\") {\n      \n      return { ...state, average_y: action.value }\n   }\n   if (action.type === \"average_m\") {\n      \n      return { ...state, average_m: action.value }\n   }\n   if (action.type === \"default_model_scores\") {\n     \n      return { ...state, default_model_scores: action.value }\n   }\n   if (action.type === \"dbclicked_features\") {\n      return { ...state, dbclicked_features: action.value }\n   }\n   if (action.type === \"drag_drop_feautre_data\") {\n      return { ...state, drag_drop_feautre_data: action.value }\n   }\n   if (action.type === \"anim_config\") {\n      return { ...state, config: action.value }\n   }\n   if (action.type === \"show\") {\n      return { ...state, show: action.value }\n   }\n   if (action.type === \"lime_data\") {\n      return { ...state, lime_data: action.value }\n   }\n   if (action.type === \"defualt_models\") {\n      return { ...state, defualt_models: action.value }\n   }\n   if (action.type === \"rank_data\") {\n\n      return { ...state, rank_data: action.value }\n   }\n   if (action.type === \"original_data\") {\n      return { ...state, original_data: action.value }\n   }\n   if (action.type === \"years_for_dropdown\") {\n      return { ...state, years_for_dropdown: action.value }\n   }\n   if (action.type === \"appHandleChange\") {\n      return { ...state, appHandleChange: action.value }\n   }\n   if (action.type === \"state_range\") {\n      return { ...state, state_range: action.value }\n   }\n   if (action.type === \"selected_year\") {\n      return { ...state, selected_year: action.value}\n   }\n   if (action.type === \"tracking\") {\n      return { ...state, tracking: action.value }\n   }\n   if (action.type === \"grouped_by_year_data\") {\n     \n      return { ...state, grouped_by_year_data: action.value }\n   }\n   if (action.type === \"sort_by\") {\n      return { ...state, sort_by: action.value }\n   }\n   if (action.type === \"deviate_by\") {\n      return { ...state, deviate_by: action.value }\n   }\n   if (action.type === \"mode\") {\n      return { ...state, mode: action.value }\n   }\n   if (action.type === \"slider_max\") {\n      return { ...state, slider_max: action.value }\n   }\n   if (action.type === \"range_mode_model\") {\n      return { ...state, range_mode_model: action.value }\n   }\n   //----\n   if (action.type === \"range_mode_range1\") {\n      console.log(action.value)\n      return { ...state, range_mode_range1: action.value }\n   }\n   if (action.type === \"range_mode_range2\") {\n      console.log(action.value)\n      return { ...state, range_mode_range2: action.value }\n   }\n   if (action.type === \"time_mode_range\") {\n      return { ...state, time_mode_range: action.value }\n   }\n   if (action.type === \"time_mode_model\") {\n      return { ...state, time_mode_model: action.value }\n   }\n   if (action.type === \"time_mode_year1\") {\n      return { ...state, time_mode_year1: action.value }\n   }\n   if (action.type === \"time_mode_year2\") {\n      return { ...state, time_mode_year2: action.value }\n   }\n   if (action.type === \"clicked_items_in_slopechart\") {\n      return { ...state, clicked_items_in_slopechart: action.value }\n   }\n   if (action.type === \"features_with_score\") {\n      return { ...state, features_with_score: action.value }\n   }\n   if (action.type === \"sparkline_data\") {\n      return { ...state, sparkline_data: action.value }\n   }\n   if (action.type === \"legend_show_option\") {\n      return { ...state, legend_show_option: action.value }\n   }\n   if (action.type === \"legend_model\") {\n      return { ...state, legend_model: action.value }\n   }\n   if (action.type === \"histogram_data\") {\n      return { ...state, histogram_data: action.value }\n   }\n   if (action.type === \"dataset\") {\n      return { ...state, dataset: action.value }\n   }\n   if (action.type === \"slider_and_feature_value\") {\n      return { ...state, slider_and_feature_value: action.value }\n   }\n   if (action.type === \"legend_year\") {\n      return { ...state, legend_year: action.value }\n   }\n   if (action.type === \"prev_prop\") {\n      return { ...state, prev_prop: action.value }\n   }\n   if (action.type === \"replay\") {\n      return { ...state, replay: action.value }\n   }\n   if (action.type === \"changed\") {\n      return { ...state, changed: action.value }\n   }\n   if (action.type === \"popup_chart_data\") {\n      return { ...state, popup_chart_data: action.value }\n   }\n   if (action.type === \"pop_over\") {\n      return { ...state, pop_over: action.value }\n   }\n   if (action.type === \"pop_over_models\") {\n      var temp = action.value.filter(item => item != \"ListNet\")\n      return { ...state, pop_over_models: temp }\n   }\n   if (action.type === \"clicked_features\") {\n      //console.log(action.value)\n      return { ...state, clicked_features: action.value }\n   }\n   return state;\n}\nexport default reducer;","import { createMuiTheme } from '@material-ui/core/styles';\nconst theme = createMuiTheme({      \n  typography: {\n    button: {\n      textTransform: 'none'\n    }\n  }\n});\nexport default theme;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { createStore } from 'redux';\nimport {Provider} from 'react-redux';\nimport reducer from './store/reducer';\nimport theme from './Themes'; \nimport { ThemeProvider } from '@material-ui/styles';\nconst store=createStore(reducer);\nReactDOM.render( <ThemeProvider theme={theme}><Provider store={store}><App /></Provider></ThemeProvider>,document.getElementById('root'));\n\n\n"],"sourceRoot":""}