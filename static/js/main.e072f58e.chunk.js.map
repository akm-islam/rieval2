{"version":3,"sources":["Data/fiscal.csv","Data/school.csv","Data/house.csv","Data/data/fiscal/lime/fiscal_rank.csv","Data/data/fiscal/lime/fiscal_lime.csv","Data/data/school/lime/school_rank.csv","Data/data/school/lime/school_lime.csv","Data/data/house/lime/house_rank.csv","Data/data/house/lime/house_lime.csv","Data/data/house/lime/chart1_data.csv","Algorithms/algo1.js","components/Charts/Model/ModelChart.js","components/Charts/deviation_chart.js","components/Charts/misc_algo.js","components/Charts/explanation_chart.js","components/Charts/Range/sparkline1.js","components/Charts/Range/sparkline2.js","components/Charts/Range/RangeChart.js","components/Charts/Range/slopechart1.js","components/Charts/Time/sparkline1.js","components/Charts/Time/sparkline2.js","components/Charts/Time/YearChart.js","components/Charts/Time/slopechart1.js","components/TopBar/DefaultModels.js","components/TopBar/Sort.js","components/TopBar/TopBar.js","components/Sidebar/Histogram.js","components/Sidebar/Histograms.js","components/Sidebar/Tracking.js","components/Sidebar/Modes.js","components/Sidebar/Sidebar.js","App.js","store/reducer.js","Themes.js","index.js","Data/data/fiscal/lime/chart1_data.csv","Data/data/school/lime/chart1_data.csv"],"names":["module","exports","groupby_year","original_data","years","sparkline_data","forEach","element","replace","temp_dict","year","parseInt","rank","push","sort","type","state_range","default_models","selected_year","grouped_by_year_data","nDCG_dict","i","Object","keys","key","parseFloat","items","map","substring","first","second","temp_ndcg","length","includes","temp1","myitem","console","log","mydict","model","temp","Math","sqrt","temp_ap","features_with_score","dataset","models","number_of_charts","rank_data","temp_final","temp2","v","top_nine","data","feautures","tempvoted_data_with_score","data2","filter","index","item","feauture","items2","sorted_features","key2","SlopeChart","props","line_color","state","height_slope_exp_chart","mouseX","mouseY","this","setState","width","window","innerHeight","prevProps","prevState","min","d","diverginColor","d3","domain","interpolate","range","selected_instances","defualt_models","anim_config","selected_years","average","clicked_circles","Set_clicked_circles","div","selectAll","join","attr","style","parent_width","$","temp_scale_data","abs","config","y_distance","circle_radius","enter","append","update","transition","duration","rank_animation","exit","remove","text","data_for_all_years","line_data","model_name","a","temp_max","sclale1","d2","deviation_animation","delay","circ_data","avg","on","html","pageX","pageY","deviation_chart","average_m","class_name","algo1","lime_data","clicked_features","Set_clicked_features","margin","parent_height","height","item_width","item_height","parent_svg","svg_index","feature_animation","setTimeout","x_transformation","feature_name","feature_contrib_name","xScale","yScale","circle_animation","preventDefault","explanation_chart","entries","b","slice","lines","two_realRank","points","each","raise","misc_algo","id","Grid","container","className","backgroundColor","padding","border","boxShadow","marginBottom","Component","connect","deviate_by","clicked_items_in_slopechart","tracking","time_mode_model","chart_scale_type","histogram_data","show","default_model_scores","sort_by","average_y","dispatch","val","value","Set_prev_prop","Set_sparkline_data","Set_clicked_items_in_slopechart","Set_replay","sparklineGen","appHandleChange","className2","sparkline_color","path_id","s_margin","s_width","s_height","s_svg","x","select","datum","y0","y","y1","divid","temp_data","CreateCharts","animate","range_mode_range1","range_mode_range2","mydata3","selected_by_year_data","max_rank","range_mode_model","start_range","deviate_check_lower","end_range","deviate_check_upper","tempA","tempB","node","textClickHandler_original","actual_model_for_range_and_time_mode","slope_chart_anim1","slope_chart_anim2","number_of_elements","all_together","nestedByName","name","range_chart_col_range1_height","height_between","range_chart_col_range2_height","yOffset","labelGroupOffset","labelKeyOffset","radius","sparkline_height","var_to_lift_up","values","svg","borderLines","undefined","selection","call","g","sparkline1","split","sparkline2","slopechart1","color_gen","my_state_range","ref_year","track_states_ranged_dictionary","track_states_year_data","max","line_color2","Rgbdict","addEventListener","innerWidth","JSON","stringify","replay","task2","marginRight","marginTop","paddingRight","xs","ref","changed","popup_chart_data","Set_defualt_models","task1","time_mode_year1","time_mode_year2","time_mode_range","cmodel","slopechart_col_height","myRef","React","createRef","random","Set_pop_over_models","useState","anchorEl","setAnchorEl","open","Boolean","checked","setChecked","handleToggle","currentIndex","indexOf","newChecked","splice","borderRight","Button","aria-controls","aria-haspopup","onClick","event","currentTarget","Menu","keepMounted","onClose","TransitionComponent","Fade","List","labelId","ListItem","role","Checkbox","edge","tabIndex","onChange","temp_Models","target","myfunc","checkboxChanged","Set_sort_by","Set_default_model_scores","set_sort_by","FormControl","component","FormLabel","RadioGroup","aria-label","FormControlLabel","control","Radio","label","useStyles","makeStyles","theme","MuiAutocompleteroot","root","listroot","maxWidth","paper","heading","fontSize","typography","pxToRem","fontWeight","fontWeightRegular","all_models","years_for_dropdown","mode","prev_prop","add","Set_selected_years","Set_selected_year","set_tracking","Set_histogram_data","Set_changed","Set_state_range","Set_slider_max","Set_range_mode_range1","Set_range_mode_range2","Set_time_mode_range","Set_average_m","handle_year_click","handle_model_click","display","marginLeft","CreateChart","feature","feature_height","handleHistogramselection","feature_data","feature_width","isNaN","occur","sum_x","cScale","interpolator","svg1","classed","statelist","country","cat_states","temp_x","tick_values","nice","ticks","hist_height","bins","thresholds","histogram","y_hist","svg0","x0","x1","tickValues","tickFormat","selectionRect","previousElement","currentY","currentX","originX","originY","setElement","ele","getNewAttributes","getCurrentAttributes","x2","y2","getCurrentAttributesAsText","attrs","init","newX","newY","rectElement","NewAttr","focus","removePrevious","dragBehavior","p","finalAttributes","myx1","myx2","temp_range","invert","toFixed","states","sourceEvent","Chart","selected_states","update_histogram_data","alert","filtered_states","slider_and_feature_value","makeArr","startValue","stopValue","arr","feaures_dict","features_voted","filename","self","exp_fiscal_CordAscent","exp_school_CordAscent","exp_house_CordAscent","then","legend_data","exp_chart_height","floor","features_dict","feature_index","feature_id","direction","justify","alignItems","labelPlacement","color","flexBasis","flexShrink","secondaryHeading","palette","secondary","tRoot","rang_input","slider_max","Set_years_for_dropdown","Set_mode","Set_range_mode_model","Set_time_mode_model","Set_time_mode_year1","Set_time_mode_year2","Set_slider_and_feature_value","classes","sliderRange","set_sliderRange","range_mode_slider_value1","set_range_mode_slider_value1","range_mode_slider_value2","set_range_mode_slider_value2","time_mode_slider_value","set_time_mode_slider_value","set_dummy","temp_marks","step","marks","borderTop","Autocomplete","borderRadius","paddingTop","paddingBottom","defaultValue","debug","options","renderInput","params","TextField","fullWidth","InputProps","disableUnderline","paddingLeft","temp_val","Slider","newValue","onChangeCommitted","valueLabelDisplay","aria-labelledby","input","Histograms","toString","Sidebar_width","option","Typography","Set_ref_year","Set_original_data","Set_deviate_by","Set_show","view_data","variant","inputchanged","temp_show","App","handleradioChange","Set_dataset","dataprocessor","reduced_opacity","idName","state_name","dataset_name","process_data","school","school_rank","school_lime","fiscal","fiscal_rank","fiscal_lime","house","house_rank","house_lime","slopechart_data_filename","rank_data_filename","lime_data_filename","Set_legend_year","Set_grouped_by_year_data","nested_data","Set_rank_data","Set_lime_data","buttonclickHandler","Legend_ready_to_vis","legend_model","Row","Col","minHeight","spacing","left","onSubmit","ModelChart","initialState","slope_chart_ready_to_vis","slider_min","dummy","legend_show_option","legend_year","reducer","action","dbclicked_features","drag_drop_feautre_data","pop_over","pop_over_models","createMuiTheme","button","textTransform","store","createStore","ReactDOM","render","ThemeProvider","document","getElementById"],"mappings":"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","file":"static/js/main.e072f58e.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/fiscal.977bae2d.csv\";","module.exports = __webpack_public_path__ + \"static/media/school.2d2c77ef.csv\";","module.exports = __webpack_public_path__ + \"static/media/house.88979d03.csv\";","module.exports = __webpack_public_path__ + \"static/media/fiscal_rank.6e0a824e.csv\";","module.exports = __webpack_public_path__ + \"static/media/fiscal_lime.7992abf1.csv\";","module.exports = __webpack_public_path__ + \"static/media/school_rank.edf0b9e3.csv\";","module.exports = __webpack_public_path__ + \"static/media/school_lime.644683c6.csv\";","module.exports = __webpack_public_path__ + \"static/media/house_rank.f85c2352.csv\";","module.exports = __webpack_public_path__ + \"static/media/house_lime.b31dfb61.csv\";","module.exports = __webpack_public_path__ + \"static/media/chart1_data.45acbae8.csv\";","export function groupby_year(original_data) {\n  var years = {}\n  var sparkline_data = {}\n  original_data.forEach(element => {\n    years[element['1-qid']] = []\n    sparkline_data[element['State'].replace(/ /g, '').replace(/[^\\w\\s]/gi, '')] = []\n  });\n\n  original_data.forEach(element => {\n    var temp_dict = { year: parseInt(element['1-qid']), rank: parseInt(element['two_realRank']) }\n    sparkline_data[element['State'].replace(/ /g, '').replace(/[^\\w\\s]/gi, '')].push(temp_dict)\n    years[element['1-qid']].push(element)\n  });\n  return { years: years, sparkline_data: sparkline_data };\n}\n//------------------------------------------------------------------------------------------------- Sort Models\nexport function sort(type, state_range, default_models, selected_year, grouped_by_year_data) {\n  //------------Handle ndgc sorting\n  if (type == 'Discounted Cumulative Gain') {\n    var nDCG_dict = { \"ndcg_term_CordAscent\": 0, \"ndcg_term_LambdaMART\": 0, \"ndcg_term_LambdaRank\": 0, \"ndcg_term_LinearReg\": 0, \"ndcg_term_ListNet\": 0, \"ndcg_term_MART\": 0, \"ndcg_term_RandomFor\": 0, \"ndcg_term_RankBoost\": 0, \"ndcg_term_RankNet\": 0 }\n    for (var i = state_range[0]; i < state_range[1]; i++) {\n      Object.keys(nDCG_dict).forEach(key => {\n          nDCG_dict[key] = nDCG_dict[key] + parseFloat(grouped_by_year_data[selected_year][i][key])\n      })\n    }\n    //---- sort\n    var items = Object.keys(nDCG_dict).map(function (key) {\n      return [key.substring(10), nDCG_dict[key]];\n    });\n    items.sort(function (first, second) {\n      return second[1] - first[1];\n    });\n    var temp_ndcg = []\n    for (var i = 0; i < items.length; i++) {\n      if (default_models.includes(items[i][0])) {\n        temp_ndcg.push(items[i][0])\n      }\n    }\n    var temp1={}\n    items.map(myitem=>{temp1[myitem[0]]=myitem[1]})\n    console.log(items)\n    return [temp_ndcg,temp1]\n  }\n  //----\n\n  //------------Handle AP sorting\n  if (type == 'Average Precision') {\n    var mydict = {}\n    default_models.forEach((model) => {\n      var temp = 1\n      for (var i = state_range[0]; i < state_range[1]; i++) {\n        temp = temp + (grouped_by_year_data[selected_year][i][\"two_realRank\"] - grouped_by_year_data[selected_year][i][model]) ** 2\n      }\n      mydict[model] = ((state_range[1] - state_range[0]) + 1) / (Math.sqrt(temp))\n    })\n    //---- sort\n    var items = Object.keys(mydict).map(function (key) {\n      return [key, mydict[key]];\n    });\n    items.sort(function (first, second) {\n      return second[1] - first[1];\n    });\n    var temp_ap = []\n    for (var i = 0; i < items.length; i++) {\n      if (default_models.includes(items[i][0])) {\n        temp_ap.push(items[i][0])\n      }\n    }\n    return [temp_ap,mydict]\n  }\n  //------------Handle Alphabatic sorting\n  if (type == 'Alphabetically') {\n    var temp=default_models.sort()\n    return [temp,[0]]\n  }\n}\n\n\nexport function features_with_score(dataset, models, state_range, selected_year, number_of_charts, rank_data) {\n  var temp1 = {}\n  var temp_final = {}\n  models.map(model => {\n    var temp2 = {}\n    var v = number_of_charts;\n    var top_nine = sorted_features(dataset, model, state_range, selected_year,rank_data)\n    if (top_nine.length < number_of_charts) { v = top_nine.length;; number_of_charts = top_nine.length } // This is because number of charts is calculated based on space but there are cases when we don't have that many features\n    for (var i = 0; i < number_of_charts; i++) {\n      temp2[top_nine[i]] = v;\n      v = v - 1\n    }\n    temp1[model] = temp2\n  });\n\n  for (var key in temp1) {\n    for (var key2 in temp1[key]) {\n      if (temp_final[key2] > 0) {\n\n        temp_final[key2] = temp_final[key2] + temp1[key][key2]\n      }\n      else {\n        temp_final[key2] = temp1[key][key2]\n      }\n    }\n  }\n  return temp_final;\n}\n\n\nexport function sorted_features(dataset, model, state_range, selected_year,rank_data) { // Uses feature rank to rank and return features name by removing the feature_rank string\n  if (!state_range.length > 0) { return [] }\n  state_range = state_range.map(element => element - 1)\n  var tempvoted_data_with_score = {},items,data,feautures;\n\n  if (model == \"ListNet\") { return [] }\n  var data2 = rank_data[model].filter(element => { if (parseInt(element['1-qid']) == parseInt(selected_year)) { return element } })\n  data = state_range.map(index => data2[index])\n  feautures = Object.keys(data[0])\n\n  data.map(item => {\n    feautures.forEach(feauture => {\n      if (tempvoted_data_with_score[feauture] >= 0 || tempvoted_data_with_score[feauture] < 0) {\n        tempvoted_data_with_score[feauture] = tempvoted_data_with_score[feauture] + (parseFloat(item[feauture]))\n      }\n      else { tempvoted_data_with_score[feauture] = parseFloat(item[feauture]) }\n    })\n  })\n  //-----------------------------------------------------------------\n  // Create items array\n  items = Object.keys(tempvoted_data_with_score).map(function (key) {\n    return [key, tempvoted_data_with_score[key]];\n  });\n  // Sort the array based on the second element\n  items.sort(function (first, second) {\n    return first[1] - second[1];\n  });\n  var items2 = items.map((element) => element[0].replace(\"_feature_rank\", \"\"))\n  items2 = items2.filter(item => item != \"1-qid\" && item!=\"model\")\n  return items2;\n  //-----------------------------------------------------------------\n}\n","import React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport * as explanation_chart from \"../explanation_chart\";\nimport { connect } from \"react-redux\";\nimport Grid from '@material-ui/core/Grid';\nimport * as algo1 from \"../../../Algorithms/algo1\";\nimport * as deviation_chart from \"../deviation_chart\"\nimport * as misc_algo from '../misc_algo'\nclass SlopeChart extends Component {\n  constructor(props) {\n    super(props);\n    this.line_color = null;\n    this.state = { height_slope_exp_chart: 700, mouseX: 0, mouseY: 0 }\n  }\n  componentDidMount() {\n    this.setState({ width: window.innerHeight })\n  }\n  shouldComponentUpdate(prevProps, prevState) {\n    return true;\n  }\n  componentDidUpdate(prevProps, prevState) {\n   // var diverginColor = d3.scaleLinear().domain([this.props.state_range[0], this.props.state_range[1]]).range(['#93003a','#00429d'])\n      var min=this.props.state_range[0],max=this.props.state_range[1];\n      var d = (max - min) / 8;\n      var diverginColor = d3.scaleLinear().domain([min + d * 7, min + d * 6, min + d * 5, min + d * 4, min + d * 3, min + d * 2, min]).interpolate(d3.interpolateRgb).range(['#00429d', '#4771b2', '#73a2c6', '#a5d5d8', /*'#ffffe0',*/ '#ffbcaf', '#f4777f', '#cf3759', '#93003a']);\n    var selected_instances = d3.range(this.props.state_range[0], this.props.state_range[1] + 1)\n    deviation_chart.Create_deviation_chart(selected_instances, this.props.original_data, this.props.defualt_models, this.props.anim_config, this.props.selected_years, this.props.average_m, this.props.clicked_circles, this.props.Set_clicked_circles,diverginColor)\n    var number_of_charts = 9\n    var features_with_score = algo1.features_with_score(this.props.dataset, this.props.defualt_models, this.props.state_range, this.props.selected_year, number_of_charts, this.props.rank_data)\n    var sorted_features = Object.entries(features_with_score).sort((a, b) => a[1] - b[1]).slice(0, 18)\n    explanation_chart.CreatexpChart(selected_instances, sorted_features, this.props.lime_data, this.props.selected_year, this.props.defualt_models, this.props.clicked_circles, this.props.Set_clicked_circles,diverginColor,this.props.anim_config,this.props.clicked_features,this.props.Set_clicked_features)\n\n    misc_algo.draw_lines(this.props.clicked_circles,diverginColor,this.props.anim_config)\n    misc_algo.handle_transparency(\"circle2\", this.props.clicked_circles,this.props.anim_config)\n  }\n  render() {\n    return (\n      <Grid container className=\"slope_chart_exp\" style={{ backgroundColor:'white',padding: \"0px 0px\", border: \"1px solid #eaeaea\", width: \"99%\", boxShadow: \"-2px 1px 4px -1px white\" }}>\n        <svg id=\"dev_plot_container\" style={{ width: \"100%\", height: \"50%\", marginBottom: 10 }}></svg>\n        <svg id=\"exp_container\" style={{ width: \"100%\", height: \"50%\" }}></svg>\n      </Grid>\n    )\n  }\n}\nconst maptstateToprop = (state) => {\n  return {\n    state_range: state.state_range,\n    selected_year: state.selected_year,\n    selected_years: state.selected_years,\n    deviate_by: state.deviate_by,\n    clicked_items_in_slopechart: state.clicked_items_in_slopechart,\n    tracking: state.tracking,\n    defualt_models: state.defualt_models,\n    original_data: state.original_data,\n    time_mode_model: state.time_mode_model,\n    chart_scale_type: state.chart_scale_type,\n    features_with_score: state.features_with_score,\n    dataset: state.dataset,\n    histogram_data: state.histogram_data,\n    sparkline_data: state.sparkline_data,\n    dataset: state.dataset,\n    anim_config: state.anim_config,\n    show: state.show,\n    default_model_scores: state.default_model_scores,\n    sort_by: state.sort_by,\n    average_m: state.average_m,\n    average_y: state.average_y,\n    lime_data: state.lime_data,\n    features_with_score: state.features_with_score,\n    rank_data: state.rank_data,\n    clicked_circles: state.clicked_circles,\n    clicked_features:state.clicked_features\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_clicked_circles: (val) => dispatch({ type: \"clicked_circles\", value: val }),\n    Set_prev_prop: (val) => dispatch({ type: \"prev_prop\", value: val }),\n    Set_sparkline_data: (val) => dispatch({ type: \"sparkline_data\", value: val }),\n    Set_clicked_items_in_slopechart: (val) => dispatch({ type: \"clicked_items_in_slopechart\", value: val }),\n    Set_replay: (val) => dispatch({ type: \"replay\", value: val }),\n    Set_clicked_features: (val) => dispatch({ type: \"clicked_features\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(SlopeChart);","import * as d3 from 'd3';\nimport * as $ from 'jquery';\nimport { update } from 'lodash';\nimport * as misc_algo from './misc_algo'\nexport function Create_deviation_chart(selected_instances, original_data, defualt_models, anim_config, selected_years, average,clicked_circles,Set_clicked_circles,diverginColor) {\n  \n  var div = d3.select(\"body\").selectAll('.tooltip').data([0]).join(\"div\").attr(\"class\", \"tooltip\").style(\"opacity\", 0);\n  var parent_width = $(\"#dev_plot_container\").width()\n  var data = original_data.filter(item => selected_years.includes(item['1-qid']) && selected_instances.includes(parseInt(item['two_realRank'])))\n  var temp_scale_data = []\n  data.map(item => {defualt_models.map(model => temp_scale_data.push(Math.abs(parseInt(item[model]) - parseInt(item['two_realRank'])))) })\n  var config = { fontSize: 12, font_dy: -6, font_line_gap: 4, line_stroke_width: 10, animation_duration: 0, container_height: 100, my_svg_top_margin: 10, myg_top_margin: 10, left_margin: 100 }\n  var y_distance = config.line_stroke_width + 2\n  var circle_radius = config.line_stroke_width / 2\n  var parent_g = d3.select(\"#dev_plot_container\").attr('height', y_distance + data.length * y_distance)\n    .selectAll(\".parent_g\").data([0]).join('g').attr('class', 'parent_g').attr('transform', \"translate(\" + 0 + \",20)\")\n  var items_g=parent_g.selectAll(\".items\").data(data,d=>d['State']).join(enter=>enter.append(\"g\").attr(\"class\", \"items\")\n    .attr('transform', (d, i) => \"translate(\" + config.left_margin + \",\" + i * y_distance + \")\")\n    ,update=>update.transition().duration(anim_config.rank_animation).attr('transform', (d, i) => \"translate(\" + config.left_margin + \",\" + i * y_distance + \")\")\n    ,exit=>exit.remove()\n    )\n    items_g.attr(\"add_state\", function (d) {\n      d3.select(this).selectAll(\"text\").data([d]).join('text').text(d['State']+\" \"+d['two_realRank']).attr('fill', d=>diverginColor(d['two_realRank'])).attr(\"dominant-baseline\", \"hanging\").attr(\"font-size\", config.fontSize)\n        .attr(\"x\", 0).attr('text-anchor', 'end').attr(\"dy\", config.font_dy)\n    })\n    .attr(\"add_lines_and_circles\", function (d) {\n      var data_for_all_years = data.filter(item => d['two_realRank'] == parseInt(item['two_realRank']))\n      var line_data = []\n      defualt_models.map(model_name => {\n        data_for_all_years.map(item => {\n          var a = {}\n          a['two_realRank'] = parseInt(item['two_realRank'])\n          a['predicted_rank'] = parseInt(item[model_name])\n          a[\"model\"] = model_name\n          a['year'] = item['1-qid']\n          line_data.push(a)\n        })\n      })\n      // This is only for scaling starts here\n      var temp_scale_data = []\n      data.map(item => { defualt_models.map(model => temp_scale_data.push(Math.abs(parseInt(item[model]) - parseInt(item['two_realRank'])))) })\n      var temp_max=d3.max(temp_scale_data)\n      var sclale1 = d3.scaleLinear().domain([0, temp_max]).range([config.font_line_gap, parent_width - (config.left_margin + circle_radius)])\n      if(temp_max==0){var sclale1 = d3.scaleLinear().domain([0, temp_max]).range([config.font_line_gap, 0])}\n      // This is only for scaling ends here\n      var mylines=d3.select(this).selectAll(\"line\").data([d]).join(enter=>enter.append('line')\n        .attr(\"x1\", config.font_line_gap).attr(\"y1\", (d, i) => y_distance * i).attr(\"y2\", (d, i) => y_distance * i).attr(\"stroke-width\", config.line_stroke_width).attr(\"stroke\", \"#cecece\").attr(\"x2\", (d2) => {\n          var temp = []\n          line_data.map(item => temp.push(Math.abs(item[\"predicted_rank\"] - item[\"two_realRank\"])))\n          return sclale1(d3.max(temp))\n        })\n        // Update\n        ,update=>update.transition().duration(anim_config.deviation_animation).delay(anim_config.rank_animation).attr(\"x2\", (d2) => {\n          var temp = []\n          line_data.map(item => temp.push(Math.abs(item[\"predicted_rank\"] - item[\"two_realRank\"])))\n          return sclale1(d3.max(temp))\n        }))\n      // ------------ Circles start here\n      var data_for_all_years = data.filter(item => d['two_realRank'] == parseInt(item['two_realRank']))\n      var circ_data = []\n      defualt_models.map(model_name => {\n        data_for_all_years.map(item => {\n          var a = {}\n          a['two_realRank'] = parseInt(item['two_realRank'])\n          a['predicted_rank'] = parseInt(item[model_name])\n          a[\"model\"] = model_name\n          a['year'] = item['1-qid']\n          a['id'] = item['State'].replace(/\\s/g,'')+model_name.replace(/\\s/g,'')\n          circ_data.push(a)\n        })\n      })\n      if (average) {\n        var avg = d3.mean(circ_data.map(item => item['predicted_rank']))\n        circ_data = circ_data.map(item => {\n          item['predicted_rank'] = avg\n          item['model'] = \"Average\"\n          item['year'] = \"Average\"\n          return item;\n        })\n      }\n      var my_circs=d3.select(this).selectAll(\"circle\").data(circ_data,d=>d['id']).join(enter=>enter.append(\"circle\").attr('id',d=>d['id']).attr('class','circle2').attr(\"cx\", (d2, i) => {\n        if (d2[\"predicted_rank\"] - d2['two_realRank'] == 0) { return sclale1(Math.abs(d2[\"predicted_rank\"] - d2['two_realRank'])) + circle_radius }\n        return sclale1(Math.abs(d2[\"predicted_rank\"] - d2['two_realRank']))\n      })\n      // Update\n      ,update=>update.transition().duration(anim_config.deviation_animation).delay(anim_config.rank_animation).attr(\"cx\", (d2, i) => {\n        if (d2[\"predicted_rank\"] - d2['two_realRank'] == 0) { return sclale1(Math.abs(d2[\"predicted_rank\"] - d2['two_realRank'])) + circle_radius }\n        return sclale1(Math.abs(d2[\"predicted_rank\"] - d2['two_realRank']))\n      })\n)\n        my_circs.attr(\"r\", circle_radius).attr('fill', d=>diverginColor(d['two_realRank']))\n        .on('click',d=>Set_clicked_circles(clicked_circles.includes(d['id'])?clicked_circles.filter(item=>item!=d['id']):[...clicked_circles,d['id']]))\n        .on(\"mouseover\", function (d2) {\n          div.transition().duration(200).style(\"opacity\", .9);\n          div.html(\"Year : \" + d2[\"year\"] + \"<br></br>\" +\"Model: \"+ d2[\"model\"]+\"<br></br>\"+\"Deviation: \"+ Math.abs(d2[\"predicted_rank\"] - d2['two_realRank'])).style(\"left\", (d3.event.pageX - 140) + \"px\").style(\"top\", (d3.event.pageY - 98) + \"px\");\n        }).on(\"mouseout\", function (d2) {\n          div.transition()\n            .duration(500)\n            .style(\"opacity\", 0);\n        })\n  \n    })\n    \n}","import * as d3 from 'd3';\nimport { line } from 'd3';\nexport function handle_transparency(class_name, clicked_circles,anim_config) {\n    if (clicked_circles.length == 0) { d3.selectAll(\".\" + class_name).attr('opacity', 1) }\n    else {\n        d3.selectAll(\".\" + class_name).attr('opacity', 0.5)\n        clicked_circles.map(id => d3.selectAll(\"#\" + id).attr('opacity', 1))\n    }\n}\nexport function draw_lines(clicked_circles,diverginColor,anim_config) {\n    var lines=[]\n    var two_realRank=0\n    clicked_circles.map(d=>{\n    var points = []\n    d3.select(\"#exp_container\").selectAll(\"#\" + d).each(function (d) {\n        two_realRank=d3.select(this).attr('two_realRank')\n        points.push([d3.select(this).attr('cx2'), d3.select(this).attr('cy')])\n    })\n    lines.push([d,d3.line()(points),two_realRank])\n})\nd3.select(\"#exp_container\").selectAll('.mypath').raise().data(lines).join('path').attr(\"stroke\", d=>diverginColor(d[2])).attr(\"stroke-width\", 2)\n.attr('State',d=>d[2]).attr('class','mypath').transition().duration(5000).attr('d', d=>d[1]).attr(\"fill\", \"none\")\n\n}","\nimport * as d3 from 'd3';\nimport * as $ from 'jquery';\nexport function CreatexpChart(selected_instances, sorted_features, lime_data, selected_year, defualt_models, clicked_circles, Set_clicked_circles, diverginColor, anim_config,clicked_features,Set_clicked_features) {\n  //var lime_data=lime_data.filter(item=>parseInt(item['1-qid'])==selected_year)\n  var margin = { item_top_margin: 15, right: 14, bottom: 0, left: 20, circ_radius: 5, item_left_margin: 25, item_right_margin: 3 }\n  var parent_width = $(\"#exp_container\").width() - margin.item_left_margin\n  var parent_height = $(\"#exp_container\").height() - margin.item_top_margin * 2\n  var item_width = parent_width / sorted_features.length - margin.item_right_margin\n  var item_height = parent_height\n  var parent_svg = d3.select(\"#exp_container\")\n  // Draw ++ --\n  parent_svg.selectAll(\".ylabels\").data([[.125, \"++\"], [.375, \"+\"], [.5, \"0\"], [.625, \"-\"], [.875, \"--\"]]).join('text').attr('class', 'ylabels').attr(\"y\", d => d[0] * item_height).attr(\"x\", margin.item_left_margin - 5).attr('text-anchor', 'end').attr('dominant-baseline', 'hanging').text(d => d[1]).attr(\"font-size\", 14).attr('fill', \"#636363\")\n  // Add title rectangle, title text and rectangles around each feature\n  var feature_g=parent_svg.selectAll('.feature_g').data(sorted_features, d => d[0]).join(\n    enter => enter.append('g').attr('class', 'feature_g').attr('transform', (d, svg_index) => \"translate(\" + (margin.item_left_margin + item_width * svg_index + (margin.item_right_margin * svg_index)) + \",0)\").attr('x_transformation', (d, svg_index) => (margin.item_left_margin + item_width * svg_index + (margin.item_right_margin * svg_index)))\n    .attr('add_title_rect', function (d) { d3.select(this).selectAll('.title_rect').data([0]).join('rect').attr('class', 'title_rect').attr('width', item_width + 2).attr('x', -1).attr('height', margin.item_top_margin).attr('fill', '#d1d1d1') })\n    .attr('add_title_text', function (d, svg_index) { d3.select(this).selectAll(\".title_text\").data([0]).join('text').attr('class', 'title_text').text(d[0]).attr('y', 0).attr('dominant-baseline', 'hanging').attr(\"font-size\", 12).attr('x', 10).attr('text-anchor', 'start') })\n    .attr('add_item_rect', function (d, svg_index) { d3.select(this).selectAll('.item_rect').data([0]).join('rect').attr('class', 'item_rect').attr('width', item_width).attr('height', item_height).attr('y', margin.item_top_margin).attr('fill', clicked_features.includes(d[0])?\"#F8FDB8\":'#f2f2f2').attr('fill-opacity', 1).attr('stroke', '#b2b0b0') })\n    .attr('svg_index',(d, svg_index)=>svg_index)\n    .attr('add_contrib_lines', function (d, svg_index) {\n      d3.select(this).selectAll(\".mylines\").data([[.25], [.5], [.75]]).join('line').attr('class', 'mylines')\n        .attr('x1', 0).attr('x2', item_width)\n        .attr('y1', d => d * (item_height + margin.item_top_margin)).attr('y2', d => d * (item_height + margin.item_top_margin)).attr('stroke-width', 1).attr(\"stroke\", \"#bababa\")\n    })\n    , update => {\n    return update.transition().duration(anim_config.feature_animation).delay(anim_config.rank_animation+anim_config.deviation_animation).attr('transform', (d, svg_index)=>\"translate(\" + (margin.item_left_margin + item_width * svg_index + (margin.item_right_margin * svg_index)) + \",0)\").attr('x_transformation', (d, svg_index) => (margin.item_left_margin + item_width * svg_index + (margin.item_right_margin * svg_index)))\n    .on('end',()=>d3.selectAll(\".feature_g\").attr('opacity',1))\n    .attr('add_title_rect', function (d) { d3.select(this).selectAll('.title_rect').data([0]).join('rect').attr('class', 'title_rect').attr('width', item_width + 2).attr('x', -1).attr('height', margin.item_top_margin).attr('fill', '#d1d1d1') })\n    .attr('add_title_text', function (d, svg_index) { d3.select(this).selectAll(\".title_text\").data([0]).join('text').attr('class', 'title_text').text(d[0]).attr('y', 0).attr('dominant-baseline', 'hanging').attr(\"font-size\", 12).attr('x', 10).attr('text-anchor', 'start') })\n    .attr('add_item_rect', function (d, svg_index) { d3.select(this).selectAll('.item_rect').data([0]).join('rect').attr('class', 'item_rect').attr('width', item_width).attr('height', item_height).attr('y', margin.item_top_margin).attr('fill', clicked_features.includes(d[0])?\"#F8FDB8\":'#f2f2f2').attr('fill-opacity', 1).attr('stroke', '#b2b0b0') })\n    //Add circles and lines to divide the rectangle\n    .attr('add_contrib_lines', function (d, svg_index) {\n      d3.select(this).selectAll(\".mylines\").data([[.25], [.5], [.75]]).join('line').attr('class', 'mylines')\n        .attr('x1', 0).attr('x2', item_width)\n        .attr('y1', d => d * (item_height + margin.item_top_margin)).attr('y2', d => d * (item_height + margin.item_top_margin)).attr('stroke-width', 1).attr(\"stroke\", \"#bababa\")\n    })}\n    , exit =>setTimeout(()=>exit.remove(),0))\n//---------------------------------------------------------------------------------------------------------------------------------------------------\nd3.selectAll(\".feature_g\").attr('add_circle', function (d, svg_index) {\n      //d3.select(this).selectAll(\"circle\").remove()\n      var x_transformation = margin.item_left_margin + item_width * svg_index + (margin.item_right_margin * svg_index)\n      var feature_name = d[0]\n      var feature_contrib_name = d[0] + \"_contribution\"\n      defualt_models.map(model=>{\n        var circ_data = []\n        lime_data[model].map(item => {\n          if (item['1-qid'] == selected_year && selected_instances.includes(parseInt(item['two_realRank']))) {\n            item['id'] = item['State'].replace(/\\s/g, '') + model.replace(/\\s/g, '')\n            item[\"x_transformation\"]=x_transformation\n            circ_data.push(item)\n          }\n        })\n        // Draw circle starts here\n        var xScale = d3.scaleLinear().domain([d3.min(circ_data.map(item => parseFloat(item[d[0]]))), d3.max(circ_data.map(item => parseFloat(item[d[0]])))])\n          .range([2 * margin.circ_radius, item_width - 2 * margin.circ_radius])\n        var yScale = d3.scaleLinear().domain([d3.min(circ_data.map(item => parseFloat(item[feature_contrib_name]))), d3.max(circ_data.map(item => parseFloat(item[feature_contrib_name])))]).range([margin.item_top_margin + margin.circ_radius, item_height - margin.circ_radius])\n        var mycircles = d3.select(this).selectAll(\".my_circles\"+ model).data(circ_data, d => d['id']).join(\n          enter => enter.append('circle')\n          .attr('id', d => d['id'])\n          .attr('class', 'circle2 my_circles' + model)\n          .attr('r', margin.circ_radius)\n          .attr('cy', d => margin.circ_radius / 2 + yScale(parseFloat(d[feature_contrib_name])))\n          .attr('cx', (d, i) => xScale(parseFloat(d[feature_name])))\n          .attr('fill', d => diverginColor(d['two_realRank']))\n          .attr('cx2',(d, i) => d['x_transformation'] + xScale(parseFloat(d[feature_name])))\n          .attr('two_realRank',d=>d['two_realRank'])\n          // Update\n          , update => update.attr('class', 'circle2 my_circles' + model)\n          .transition().duration(anim_config.circle_animation).delay(anim_config.rank_animation+anim_config.deviation_animation+anim_config.feature_animation)\n          .attr('id', d => d['id'])\n          .attr('class', 'circle2 my_circles' + model)\n          .attr('r', margin.circ_radius)\n          .attr('cy', d => margin.circ_radius / 2 + yScale(parseFloat(d[feature_contrib_name])))\n          .attr('cx', (d, i) => xScale(parseFloat(d[feature_name])))\n          .attr('fill', d => diverginColor(d['two_realRank']))\n          .attr('cx2',(d, i) => d['x_transformation'] + xScale(parseFloat(d[feature_name])))\n          .attr('two_realRank',d=>d['two_realRank'])\n          , exit => exit.remove())\n          mycircles.on('click', d => Set_clicked_circles(clicked_circles.includes(d['id']) ? clicked_circles.filter(item => item != d['id']) : [...clicked_circles, d['id']]))\n        // Draw circle ends here\n      })\n    }).on('dblclick',function(d){\n      d3.event.preventDefault()\n      //d3.select(this).select('.item_rect').attr('fill','#F8FDB8')\n      var temp=[]\n      if(clicked_features.includes(d[0])){\n        temp=clicked_features.filter(item=>item!=d[0])\n      }\n      else{\n        temp=[...clicked_features,d[0]]\n      }\n      Set_clicked_features(temp)\n    })\n}\n","import * as d3 from 'd3';\nimport * as $ from 'jquery';\n//--------\nexport function sparklineGen(className, sparkline_data, key, state, year, appHandleChange, className2, sparkline_color, path_id) {\n  var config = { labelKeyOffset: 55, radius: 3, sparkline_height: 20 }\n  var s_margin = { top: 0, right: 0, bottom: 0, left: 4 },\n    s_width = config.labelKeyOffset / 2 - 5,\n    s_height = config.sparkline_height - 2;\n  var s_svg = d3.select(\".\"+className)\n    .attr(\"width\", s_width + s_margin.left + s_margin.right)\n    .attr(\"height\", s_height + s_margin.top + s_margin.bottom)\n  var data = sparkline_data[key]\n  // Add X axis  \n  var x = d3.scaleLinear()\n    .domain(d3.extent(data, function (d) { return d.year; }))\n    .range([0, s_width]);\n  //-----------------------------------------------------------------------------------------------------------------------------------------Add the area\n  s_svg.select(\"path\")\n    .datum(data, d => d)\n    .attr(\"id\", \"A\"+path_id)\n    .attr(\"opacity\",1)\n    .attr(\"fill\", sparkline_color) //#969696\n    .attr(\"stroke\", sparkline_color)\n    .attr(\"stroke-width\", (d) => {\n      return 1.5\n    })\n    .attr(\"d\", d3.area()\n      .x(function (d) { return x(d.year) })\n      .y0(function () {\n        var y = d3.scaleLinear().domain([0, d3.max(data, function (d) { return +d.rank; })]).range([s_height, 0]);\n        return y(0)\n      })\n      .y1(function (d) {\n        var y = d3.scaleLinear().domain([0, d3.max(data, function (d) { return +d.rank; })]).range([0, s_height]);\n        return y(d.rank)\n      })\n    )\n  //------------Circles\n  s_svg.selectAll('circle').data(data).join('circle')\n    .attr('cx', function (d, i) { return x(d.year) })\n    .attr('cy', s_height - 2)\n    .attr(\"class\", \"myid\" + className2)\n    .on(\"mouseover\", function (d) {\n      d3.select(this).style('fill', 'black')\n      d3.select(this).attr('r', 3)\n    })\n    .style('fill', (d) => d.year != year ? 'transparent' : 'black')\n    .attr('class', (d) => d.year != year ? 'transparent_class' : 'red_class')\n    .attr('r', 2)\n    .on('dblclick', (d, i) => {\n      d3.event.preventDefault();\n      appHandleChange(d.year, \"year_changed\")\n    })\n    .on(\"mouseout\", function (d) {\n      d3.select(this).style('fill', 'transparent')\n      var divid=\"#div\"+className\n      d3.selectAll(divid).remove()\n    })\n    .on('click', (d) => {\n      d3.select(\"body\").append(\"div\")\n        .attr(\"id\", \"div\"+className)\n        .attr(\"class\", \"tooltip\")\n        .style(\"opacity\", 0)\n        .html(\"<p>\" + \"Year: \" + d.year + \"</p>\" + \"<p>\" + \"Rank: \" + d.rank + \"</p>\")\n        .style(\"left\", ((d) => {\n          var left_div_width = $('.Sidebar_parent').width()\n          return left_div_width - 125 + \"px\"\n        }))\n        .style(\"top\", (d3.event.pageY - 40) + \"px\")\n        .transition()\n        .duration(200)\n        .style(\"opacity\", .97);\n    })\n\n}","import * as d3 from 'd3';\nimport * as $ from 'jquery';\n//--------\nexport function sparklineGen(className, sparkline_data, key, model_name, original_data, state, year, appHandleChange, className2, sparkline_color, path_id) {\n  var temp_data = []\n  original_data.forEach(element => {\n    if (element['State'] == state && element[model_name]) {\n      temp_data.push({ year: parseInt(element['1-qid']), rank: parseInt(element[model_name]) })\n    }\n  });\n  var config = { labelKeyOffset: 55, radius: 3, sparkline_height: 20 }\n  var s_margin = { top: 0, right: 0, bottom: 0, left: 5 },\n    s_width = config.labelKeyOffset / 2,\n    s_height = config.sparkline_height - 2;\n  var s_svg = d3.selectAll(\".\"+className)\n  //var s_svg = d3.selectAll(\".\"+className).data([className],d=>d).join(\"svg\").attr(\"class\",className)\n    .attr(\"width\", s_width + s_margin.left + s_margin.right)\n    .attr(\"height\", s_height + s_margin.top + s_margin.bottom)\n  var data = temp_data\n  // Add X axis  \n  var x = d3.scaleLinear()\n    .domain(d3.extent(data, function (d) { return d.year; }))\n    .range([0, s_width]);\n  //---Add the area\n  s_svg.select(\"path\")\n    .datum(data, d => d)\n    .attr(\"id\", \"A\"+path_id)\n    .attr(\"fill\", sparkline_color) //#969696\n    .attr(\"stroke\", sparkline_color)\n    .attr(\"stroke-width\", (d) => {\n      return 1.5\n    })\n    .attr(\"d\", d3.area()\n      .x(function (d) { return x(d.year) })\n      .y0(function () {\n        var y = d3.scaleLinear().domain([0, d3.max(data, function (d) { return +d.rank; })]).range([s_height, 0]);\n        return y(0)\n      })\n      .y1(function (d) {\n        var y = d3.scaleLinear().domain([0, d3.max(data, function (d) { return +d.rank; })]).range([0, s_height]);\n        return y(d.rank)\n      })\n    )\n\n  var div = d3.select(\"body\").append(\"div\")\n    .attr(\"class\", \"tooltip\")\n    .style(\"opacity\", 0);\n  //------------Circles\n  s_svg.selectAll('circle').data(data).enter().append('circle')\n    .attr('cx', function (d, i) { return x(d.year) })\n    .attr('cy', s_height - 2)\n    .attr(\"class\", \"myid\" + className2)\n    .on(\"mouseover\", function (d) {\n      d3.select(this).style('fill', 'black')\n      d3.select(this).attr('r', 2)\n    })\n    .on(\"mouseout\", function (d) {\n      d3.select(this).style('fill', 'transparent')\n      var divid=\"#div\"+className\n      d3.selectAll(divid).remove()\n    })\n    .style('fill', (d) => d.year != year ? 'transparent' : 'black')\n    .attr('class', (d) => d.year != year ? 'transparent_class' : 'red_class')\n    .attr('r', 2)\n    .on('dblclick', (d, i) => {\n      d3.event.preventDefault();\n      appHandleChange(d.year, \"year_changed\")\n    })\n    .on('click', (d) => {\n      d3.select(\"body\").append(\"div\")\n        .attr(\"id\", \"div\"+className)\n        .attr(\"class\", \"tooltip\")\n        .style(\"opacity\", 0)\n        .html(\"<p>\" + \"Year: \" + d.year + \"</p>\" + \"<p>\" + \"Rank: \" + d.rank + \"</p>\")\n        .style(\"left\", ((d) => {\n          var left_div_width = $('.Sidebar_parent').width()\n          return left_div_width - 125 + \"px\"\n        }))\n        .style(\"top\", (d3.event.pageY - 40) + \"px\")\n        .transition()\n        .duration(200)\n        .style(\"opacity\", .97);\n    })\n}","import React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport * as $ from 'jquery';\nimport * as slopechart1 from \"./slopechart1\";\nimport { connect } from \"react-redux\";\nimport Grid from '@material-ui/core/Grid';\n\n\nclass SlopeChart extends Component {\n  constructor(props) {\n    super(props);\n    this.line_color = null;\n    this.state = { height_slope_exp_chart: 700 }\n\n  }\n  componentDidMount() {\n    window.addEventListener('resize', () => {\n      this.setState({ width: window.innerWidth })\n      this.setState({ width: window.innerHeight })\n    });\n    this.CreateCharts()\n    this.setState({ width: window.innerHeight })\n  }\n  shouldComponentUpdate() {\n    return true;\n  }\n  componentDidUpdate(prevProps, prevState) {\n    //---- Animation replay starts\n    if (JSON.stringify(this.props.range_mode_range1) != JSON.stringify(prevProps.range_mode_range1)) {\n      //console.log(\"prev\",prevProps.range_mode_range1)\n      this.props.Set_prev_prop(prevProps)\n    }\n    if (this.props.selected_year !== prevProps.selected_year) {\n      this.props.Set_prev_prop(prevProps)\n    }//---- Animation replay ends\n\n    if (!this.props.replay) { // if replay is false\n      this.props.selected_year != prevProps.selected_year ? this.CreateCharts(\"animate\") : this.CreateCharts(\"dont_animate\")\n    }\n    else {\n      this.CreateCharts(\"dont_animate\")\n    }\n\n    //----------------------------------------------------------------------------------------------------------Set and unset Opacity\n    this.props.task2()\n  }\n  CreateCharts = (animate) => {\n    var state_range;\n    if (this.props.model_name == \"Range1\") { state_range = this.props.range_mode_range1 }\n    else {\n      state_range = this.props.range_mode_range2\n    }\n    //------------------------------------------------------\n    var mydata3 = { \"A\": [], \"B\": [] }\n    var deviate_by = this.props.deviate_by\n    var selected_by_year_data = this.props.grouped_by_year_data[this.props.selected_year] // This is the data passed a dictionay where year is the key\n    var max_rank = selected_by_year_data.length\n    var model_name = this.props.range_mode_model // This is the model name on the right side\n    //--------\n    var start_range = state_range != null ? state_range[0] : 10; // range to start\n    if (start_range > 0) { start_range -= 1 } // This is to start from index 0\n    if (start_range < 0) { start_range = 0 } // check if the deviation make the starting range less than the available rank\n    if (start_range < deviate_by) { deviate_by = start_range } // check if the deviation make the starting range less than the available rank\n    start_range = start_range - deviate_by\n    if (start_range < 0) { start_range = 0; deviate_by = 0 }\n    var deviate_check_lower = start_range + deviate_by + 1\n    //-----\n    deviate_by = this.props.deviate_by\n    var end_range = state_range != null ? state_range[1] : 25\n    var deviate_check_upper = end_range // Upper deviation check is this\n    end_range = end_range + deviate_by // changes the end range to include the deviation; next if checks when it goes beyond range\n    if (end_range > max_rank) {\n      deviate_check_upper = end_range - deviate_by; // set the upper range by subtracting the deviation\n      end_range = max_rank\n    }\n\n    for (var i = start_range; i < end_range; i++) {\n      var tempA = {}\n      var tempB = {}\n      tempA[\"Model\"] = model_name\n      tempA[\"name\"] = selected_by_year_data[i][\"State\"]\n      tempA[\"rank\"] = selected_by_year_data[i][\"two_realRank\"]\n      tempB[\"name\"] = selected_by_year_data[i][\"State\"]\n      tempB[\"rank\"] = selected_by_year_data[i][model_name]\n      mydata3[\"A\"].push(tempA)\n      mydata3[\"B\"].push(tempB)\n    }\n    //------------ Slopechart 1\n    slopechart1.CreateSlopeChart1(this.node, mydata3, start_range + 1, end_range, deviate_check_lower,\n      deviate_check_upper, this.props.model_name, this.props.selected_year, this.props.appHandleChange,\n      this.props.sparkline_data, this.props.original_data, this.props.histogram_data, this.props.textClickHandler_original,\n      this.color_gen(), animate, this.props.range_mode_model, this.props.config)\n    //------------        \n  }\n  color_gen = () => {\n    var my_state_range = [d3.min([this.props.range_mode_range1[0], this.props.range_mode_range2[0]]), d3.max([this.props.range_mode_range1[1], this.props.range_mode_range2[1]])] // Get the minimum and maximum from both\n    //------------------------------------------------------\n    var deviate_by = this.props.deviate_by\n    var selected_by_year_data = this.props.grouped_by_year_data[this.props.selected_year] // This is the data passed a dictionay where year is the key\n    var max_rank = selected_by_year_data.length\n    //--------\n    var start_range = my_state_range != null ? my_state_range[0] : 10; // range to start\n    if (start_range > 0) { start_range -= 1 } // This is to start from index 0\n    if (start_range < 0) { start_range = 0 } // check if the deviation make the starting range less than the available rank\n    if (start_range < deviate_by) { deviate_by = start_range } // check if the deviation make the starting range less than the available rank\n    start_range = start_range - deviate_by\n    if (start_range < 0) { start_range = 0; deviate_by = 0 }\n    var deviate_check_lower = start_range + deviate_by + 1\n    //-----\n    deviate_by = this.props.deviate_by\n    var end_range = my_state_range != null ? my_state_range[1] : 25\n    var deviate_check_upper = end_range // Upper deviation check is this\n    end_range = end_range + deviate_by // changes the end range to include the deviation; next if checks when it goes beyond range\n    if (end_range > max_rank) {\n      deviate_check_upper = end_range - deviate_by; // set the upper range by subtracting the deviation\n      end_range = max_rank\n    }\n    //---------------------------------------------------------------------------- Tracking starts here\n    var ref_year = this.props.ref_year\n    var track_states;\n    var track_states_ranged_dictionary = {}\n    if (this.props.tracking) {\n      var track_states_year_data = this.props.grouped_by_year_data[ref_year] // when tracking is activated we use reference year for color\n      var min = deviate_check_lower;\n      var max = deviate_check_upper;\n      for (var i = deviate_check_lower - 1; i < deviate_check_upper; i++) {\n        track_states_ranged_dictionary[track_states_year_data[i][\"State\"]] = track_states_year_data[i][\"two_realRank\"]\n      }\n      var d = (max - min) / 8;\n      var line_color2 = d3.scaleLinear().domain([min + d * 7, min + d * 6, min + d * 5, min + d * 4, min + d * 3, min + d * 2, min]).interpolate(d3.interpolateRgb).range(['#00429d', '#4771b2', '#73a2c6', '#a5d5d8', /*'#ffffe0',*/ '#ffbcaf', '#f4777f', '#cf3759', '#93003a']);\n      var Rgbdict = {}\n      for (var key in track_states_ranged_dictionary) {\n        Rgbdict[key] = line_color2(track_states_ranged_dictionary[key])\n      }\n      this.line_color = d3.scaleOrdinal().domain(Object.keys(Rgbdict)).range(Object.values(Rgbdict))\n      console.log(track_states_ranged_dictionary, min, max, Rgbdict, this.line_color.range())\n    }\n    //------------------------------If tracking is not activated\n    else {\n      var track_states_year_data = this.props.grouped_by_year_data[this.props.selected_year] // when tracking is not activated we use selected year for color\n      var track_states_ranged_dictionary = {}\n      for (var i = deviate_check_lower - 1; i < deviate_check_upper; i++) {\n        track_states_ranged_dictionary[track_states_year_data[i][\"State\"]] = track_states_year_data[i][\"two_realRank\"]\n      }\n      var min = deviate_check_lower;\n      var max = deviate_check_upper;\n      var d = (max - min) / 8;\n      var line_color2 = d3.scaleLinear().domain([min + d * 7, min + d * 6, min + d * 5, min + d * 4, min + d * 3, min + d * 2, min]).interpolate(d3.interpolateRgb).range(['#00429d', '#4771b2', '#73a2c6', '#a5d5d8', /*'#ffffe0',*/ '#ffbcaf', '#f4777f', '#cf3759', '#93003a']);\n      var Rgbdict = {}\n      for (var key in track_states_ranged_dictionary) {\n        Rgbdict[key] = line_color2(track_states_ranged_dictionary[key])\n      }\n      this.line_color = d3.scaleOrdinal().domain(Object.keys(Rgbdict)).range(Object.values(Rgbdict))\n      //console.log(Rgbdict,this.line_color.range())  \n    }\n    \n    //---------------------------------------------------------------------------- Tracking ends here \n    return this.line_color\n  }\n  render() {\n    return (\n      this.props.show.includes(\"Explanation\") ? <Grid container style={{ width: \"49.5%\", marginRight: \"0.5%\", marginTop: \"0.5%\", paddingRight: 0, border: \"1px solid #eaeaea\" }} key={JSON.stringify(this.props.range_mode_range1) + JSON.stringify(this.props.range_mode_range2)} className=\"Grid_container\">\n        <Grid item xs=\"6\" className={this.props.model_name == \"Range1\" ? \"slopechart range_chart_col range_chart_col_range1\" : \"slopechart range_chart_col range_chart_col_range2\"} style={{ width: '100%' }} >\n          <div className=\"slope_chart_title\">\n            <p>True Rank</p>\n            <p className=\"model_title\">{this.props.model_name == \"Range1\" ? \"Group 1\" : \"Group 2\"}</p>\n            <p>Predicted Rank</p>\n          </div>\n          <div className=\"mysvg\" ref={node => this.node = node}><svg id={this.props.model_name}><g id=\"myg\"></g></svg></div>\n        </Grid>\n        <Grid item xs=\"6\" className={this.props.model_name == \"Range1\" ? \"exp_chart exp_chart_range1\" : \"exp_chart exp_chart_range2\"}>\n          \n         \n        </Grid>\n\n      </Grid > :\n        <Grid item className={this.props.model_name == \"Range1\" ? \"range_chart_col range_chart_col_range1\" : \"range_chart_col range_chart_col_range2\"} style={{ marginTop: 5, border: \"1px solid #eaeaea\", width: \"48%\", marginRight: \"1%\", height: window.innerHeight - $('.uploader_topbar').height() }}>\n          <div className=\"slope_chart_title\">\n            <p>True Rank</p>\n            <p className=\"model_title\">{this.props.range_mode_model}</p>\n            <p>Predicted Rank</p>\n          </div>\n          <div className=\"mysvg\" ref={node => this.node = node}><svg id={this.props.model_name}><g id=\"myg\"></g></svg></div>\n        </Grid>\n    );\n  }\n\n}\nconst maptstateToprop = (state) => {\n  return {\n    deviate_by: state.deviate_by,\n    selected_year: state.selected_year,\n    range_mode_model: state.range_mode_model,\n    range_mode_range1: state.range_mode_range1,\n    range_mode_range2: state.range_mode_range2,\n    clicked_items_in_slopechart: state.clicked_items_in_slopechart,\n    replay: state.replay,\n    changed: state.changed,\n    popup_chart_data: state.popup_chart_data,\n    config: state.config,\n    show: state.show,\n\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_defualt_models: (val) => dispatch({ type: \"defualt_models\", value: val }),\n    Set_sparkline_data: (val) => dispatch({ type: \"sparkline_data\", value: val }),\n    Set_clicked_items_in_slopechart: (val) => dispatch({ type: \"clicked_items_in_slopechart\", value: val }),\n    Set_replay: (val) => dispatch({ type: \"replay\", value: val }),\n    Set_prev_prop: (val) => dispatch({ type: \"prev_prop\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(SlopeChart);","\nimport * as d3 from 'd3';\nimport * as $ from 'jquery';\nimport * as sparkline1 from \"./sparkline1\";\nimport * as sparkline2 from \"./sparkline2\";\nexport function CreateSlopeChart1(node, grouped_by_year_data, start_range, end_range, deviate_check_lower, deviate_check_upper, model_name, \n  year, appHandleChange, sparkline_data, original_data, histogram_data, textClickHandler_original, \n  line_color, animate, actual_model_for_range_and_time_mode,config) {\n  var base_height_between=18\n  // we don't need the delay here because the animations are happening one after the another\n  var slope_chart_anim1 = config.rank_animation\n  var slope_chart_anim2 = config.deviation_animation\n  var number_of_elements = (end_range - start_range); // \n  var all_together = [];\n  grouped_by_year_data[\"A\"].forEach(function (d) { all_together.push(d); });\n  grouped_by_year_data[\"B\"].forEach(function (d) { all_together.push(d); });\n  var nestedByName = d3.nest().key(function (d) { return d.name }).entries(all_together);\n\n  //--------------------------------------------------------------------------------------------------------------------------------------------------------------Height management\n  var margin = { top: 10, right: 70, bottom: 10, left: 160 };\n  if (model_name == \"Range1\") {\n    var range_chart_col_range1_height = $('.slopechart_container').height(), \n    range_chart_col_range1_width = $('.range_chart_col_range1').width(),\n    width = range_chart_col_range1_width - margin.left - margin.right;\n  var height_between = range_chart_col_range1_height / number_of_elements\n  if(height_between<base_height_between){height_between=base_height_between}\n  var height = (number_of_elements * height_between)-10; // -10 is the bottom margin\n    d3.selectAll(\".range_chart_col_range1\").style(\"height\", height + \"px\");\n    d3.selectAll(\".exp_chart_range1\").style(\"height\", height + \"px!important\");\n  }\n  else {\n    var range_chart_col_range2_height = $('.slopechart_container').height(),\n    range_chart_col_range2_width = $('.range_chart_col_range2').width(),\n    width = range_chart_col_range2_width - margin.left - margin.right;\n  var height_between = range_chart_col_range2_height / number_of_elements\n  if(height_between<base_height_between){height_between=base_height_between}\n  var height = (number_of_elements * height_between)-10; // -10 is the bottom margin\n  d3.selectAll(\".range_chart_col_range2\").style(\"height\", height + \"px\");\n    d3.selectAll(\".slopechart_col\").style(\"height\", height + \"px\");\n    d3.selectAll(\".exp_chart\").style(\"height\", height + \"px\");\n    d3.selectAll(\".exp_chart_range2\").style(\"height\", height + \"px!important\");\n  }\n  height = height - 45 // This height is going to be used for slopechart\n  var config = { yOffset: 0, width: width, height: height, labelGroupOffset: 1, labelKeyOffset: 55, radius: 3, sparkline_height: height_between }\n  //--------------------------------------------------------------------------------------------------------------------------------------------------------------Height management\n  var yScale = d3.scaleLinear().range([0, height]).domain([start_range, end_range]);\n  var var_to_lift_up = yScale(nestedByName[0].values[0].rank); // nestedByName[5] places the 5th element at the beginning\n  var svg = d3.select(\"#\" + model_name).attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom)\n    .select(\"#myg\").attr('transform', `translate(150,10)`)\n\n  var borderLines = svg.selectAll(\".border-lines\").data([0]).join(\"g\").attr(\"class\", \"border-lines\") //--Ractangle that sets the boundary of lines  \n  borderLines.selectAll(\".line1\").data([0]).join(\"line\").attr(\"class\", \"line1\").attr(\"fill\", \"black\").attr(\"x1\", 0).attr(\"y1\", 0).attr(\"x2\", 0).attr(\"y2\", config.height); // left line x1,x2,y1 0 and y2 is the height\n  borderLines.selectAll(\".line2\").data([0]).join(\"line\").attr(\"class\", \"line2\").attr(\"fill\", \"black\").attr(\"x1\", width).attr(\"y1\", 0).attr(\"x2\", width).attr(\"y2\", config.height); // right line starts at x1,x2 at width and goes until height\n  //---------\n  var slopeGroups_upd = svg.selectAll(\".datapoint\").data(nestedByName, d => {\n    if (d !== undefined) {\n      return d.key;\n    }\n  }).join(onEnter, onUpdate, onExit)\n  //-----------------------------------------------------------------------------------------------------------------------------------------Enter function starts here\n  function onEnter(selection) {\n\n    const makeDatapoint = g => {\n      //-----------------------------------------------------------------------------------------------------------------------------------------state name text starts here\n      g.append(\"text\")\n        .attr(\"x\", d => -config.labelGroupOffset)\n        .attr(\"y\", d => yScale(d.values[0].rank) - var_to_lift_up)\n        .attr(\"dx\", -config.labelKeyOffset)\n        .attr(\"dy\", 3)\n        .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n        .attr(\"class\", (d) => {\n          return \"myid\" + d.values[0].rank + \" state_name\" + \" slopechart_text\"\n        })\n        .attr(\"text-anchor\", \"end\")\n        .on(\"mouseover\", function (d) { //-------Tooltip starts\t\t\n          var div = d3.select(\"body\").append(\"div\")\n            .attr(\"id\", \"div\" + d.key.replace(/ +/g, \"\"))\n            .attr(\"class\", \"tooltip\")\n            .style(\"opacity\", 0)\n          div.transition()\n            .duration(200)\n            .style(\"opacity\", .97)\n          div.html(\"<p>\" + d.key + \"</p>\" + \"<p>\" + \"Predicted rank: \" + d.values[1].rank + \"</p>\")\n            .style(\"left\", ((d) => {\n              var left_div_width = $('.Sidebar_parent').width()\n              return left_div_width - 125 + \"px\"\n            }))\n            .style(\"top\", (d3.event.pageY - 40) + \"px\");\n        })\n        .on(\"mouseout\", function (d) {\n          var myid = \"#div\" + d.key.replace(/ +/g, \"\")\n          d3.select(\"body\").selectAll(\".tooltip\").transition()\n            .duration(500)\n            .style(\"opacity\", 0).remove();\n        }) // Tooltip ends\n        .on(\"click\", function (d) {\n          return textClickHandler_original(\"A\" + d.key)\n          /*\n          if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) {\n            if (clicked_items_in_slopechart.includes(d.key.replace(/ +/g, \"\"))) { return textClickHandler_original(\"A\"+d.key) }\n          }\n          else { return textClickHandler_original(\"A\"+d.key) }\n          */\n        })\n        .text(d => {\n          var val = d.key\n          if (val.length > 15) { val = val.replace(\"University\", \"U\") }\n          return val.length > 15 ? val.substring(0, 15) : val\n        })\n        .attr(\"fill\", function (d) {\n          if (d.values[0].rank < deviate_check_lower) {\n            return \"rgb(110, 112, 112,.5)\";\n          }\n          else if (d.values[0].rank > deviate_check_upper) {\n            return \"rgb(110, 112, 112,.5)\";\n          }\n          else {\n            return line_color(d.key);\n          }\n        }) //state name text ends here\n      //-----------------------------------------------------------------------------------------------------------------------------------------Left sparkline starts here\n      g.append(\"svg\")\n        .attr('class', d => \"svg1 \" + model_name + d.values[1].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '') + 'original')\n        .attr(\"x\", d => {\n          return -config.labelGroupOffset - config.labelKeyOffset + 3;\n        })\n        .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n        .attr(\"y\", d => yScale(d.values[0].rank) - var_to_lift_up - 14)\n        .append(\"path\")\n        .attr(\"class\", \"mypath\")\n        .attr(\"opacity\", d => {\n          var className = model_name + d.values[1].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '') + 'original'\n          if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) { var sparkline_color = \"grey\" } else { var sparkline_color = line_color(d.key) }\n          sparkline1.sparklineGen(className, sparkline_data, d.key.replace(/ /g, '').replace(/[^\\w\\s]/gi, ''), d.key, year, appHandleChange, d.values[0].rank, sparkline_color, d.key.replace(/ +/g, \"\"))\n          return 1;\n        }\n        )\n      //-----------------------------------------------------------------------------------------------------------------------------------------Left rank text starts here\n      g.append(\"text\")\n        .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n        .attr(\"class\", (d) => \"myid\" + d.values[0].rank + \" left_rank_text\" + \" slopechart_text\")\n        .attr(\"x\", d => -config.labelGroupOffset)\n        .attr(\"y\", d => yScale(d.values[0].rank) - var_to_lift_up)\n        .attr(\"dx\", -10)\n        .attr(\"dy\", 3)\n        .attr(\"text-anchor\", \"end\")\n        .text(d => (d.values[0].rank))\n        .attr(\"fill\", function (d) {\n          if (d.values[0].rank < deviate_check_lower) {\n            return \"rgb(110, 112, 112,.5)\";\n          }\n          else if (d.values[0].rank > deviate_check_upper) {\n            return \"rgb(110, 112, 112,.5)\";\n          }\n          else {\n            return line_color(d.key);\n          }\n        }); //rank text ends here\n      //-----------------------------------------------------------------------------------------------------------------------------------------circle starts\n      g.append(\"circle\")\n        .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n        .attr(\"r\", d => {\n          if (d.values[0].rank < deviate_check_lower) {\n            return 0\n          }\n          else if (d.values[0].rank > deviate_check_upper) {\n            return 0\n          }\n          else { return config.radius }\n        })\n        .attr(\"cy\", d => yScale(d.values[0].rank) - var_to_lift_up)\n        .attr(\"class\", (d) => {\n          return d.values[0].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '') + \" myid\" + d.values[0].rank + \" left_circle\"\n        })\n        .attr(\"fill\", function (d) {\n          if (d.values[0].rank < deviate_check_lower) {\n            //return line_color(d);\n            return \"rgb(110, 112, 112,.5)\";\n          }\n          else if (d.values[0].rank > deviate_check_upper) {\n            //return line_color(d);\n            return \"rgb(110, 112, 112,.5)\";\n          }\n          else {\n            return line_color(d.key);\n          }\n        }); //circle ends\n      //-----------------------------------------------------------------------------------------------------------------------------------------Slope lines starts here\n      g.append(\"line\")\n        .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n        .attr(\"class\", (d) => \"slope-line myid\" + d.values[0].rank)\n        .attr(\"x1\", 0)\n        .attr(\"x2\", config.width)\n        .on(\"click\", function (d) {\n          return textClickHandler_original(\"A\" + d.key)\n          // if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) { } else { return textClickHandler_original(\"A\"+d.key) }\n        })\n        .attr(\"y1\", function (d) {\n          return yScale(d.values[0].rank) - var_to_lift_up;\n        })\n        .attr(\"y2\", function (d) {\n          return yScale(d.values[1].rank) - var_to_lift_up;\n        })\n        .attr(\"stroke\", (d) => {\n          if (d.values[0].rank < deviate_check_lower) {\n            return \"transparent\";\n          }\n          else if (d.values[0].rank > deviate_check_upper) {\n            return \"transparent\";\n          }\n          else {\n            return line_color(d.key)\n          }\n        })\n\n\n\n      //-----------------------------------------------------------------------------------------------------------------------------------------Right side   \n      //-----------------------------------------------------------------------------------------------------------------------------------------Right circle starts here      \n      g.append(\"circle\")\n        .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n        .attr(\"cy\", d => yScale(d.values[1].rank) - var_to_lift_up).attr(\"class\", (d) => {\n          return d.values[0].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '') + \" right_circle myid\" + d.values[0].rank\n        })\n        .attr(\"r\", d => {\n          if (d.values[0].rank < deviate_check_lower) {\n            return 0\n          }\n          else if (d.values[0].rank > deviate_check_upper) {\n            return 0\n          }\n          else { return config.radius }\n        })\n        .attr(\"cx\", config.width)\n        .attr(\"fill\", (d) => {\n          if (!(d.values[0].rank < deviate_check_lower | d.values[0].rank > deviate_check_upper)) {\n            return line_color(d.key);\n          }\n        });\n      //-----------------------------------------------------------------------------------------------------------------------------------------Right text - Ranks starts here\n      g.append(\"text\")\n        .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n        .attr(\"class\", (d) => \"slopechart_text right_rank_text myid\" + d.values[0].rank)\n        .attr(\"x\", d => width + config.labelGroupOffset)\n        .attr(\"y\", d => yScale(d.values[1].rank) - var_to_lift_up)\n        .attr(\"dx\", 10)\n        .attr(\"dy\", 3)\n        .attr(\"text-anchor\", \"start\")\n        .text(d => {\n          if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) {\n            return \"\";\n          }\n          else {\n            return d.values[1].rank\n          }\n        })\n        .attr(\"fill\", function (d) {\n          if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) {\n            return \"\";\n          }\n          else {\n            return line_color(d.key)\n          }\n        })\n        .on(\"click\", function (d) {\n          return textClickHandler_original(\"A\" + d.key)\n          // if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) { } else { return textClickHandler_original(\"A\"+d.key) }\n        }); //Text - Ranks ends here\n      //-----------------------------------------------------------------------------------------------------------------------------------------Right sparkline starts here\n      g.append(\"svg\")\n        .attr('class', d => \"svg2 \" + model_name.replace(\".\", \"stupid\") + d.values[1].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '').split('.').join(' '))\n        .attr(\"x\", d => {\n          return width + config.labelGroupOffset + 25\n        })\n        .attr(\"y\", d => yScale(d.values[1].rank) - var_to_lift_up - 14)\n        .attr(\"width\", d => {\n          if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) {\n            return 0;\n          }\n        })\n        .append(\"path\")\n        .attr(\"class\", \"mypath2\")\n        .attr(\"opacity\", d => {\n          if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) { } else {\n            var className = model_name.replace(\".\", \"stupid\") + d.values[1].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '').split('.').join(' ')\n            sparkline2.sparklineGen(className, sparkline_data, d.key.replace(/ /g, '').replace(/[^\\w\\s]/gi, ''), actual_model_for_range_and_time_mode, original_data, d.key, year, appHandleChange, d.values[0].rank, line_color(d.key), d.key.replace(/ +/g, \"\"))\n            return 1;\n          }\n        })\n    }\n    return selection\n      .append(\"g\")\n      .attr(\"class\", \"datapoint\")\n      .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n      .call(makeDatapoint);\n  }\n  //-----------------------------------------------------------------------------------------------------------------------------------------Onupdate starts here\n  function onUpdate(selection) {\n\n    //-----------------------------------------------------------------------------------------------------------------------------------------state name text ends here\n    selection.select(\".state_name\")\n      .attr(\"x\", -config.labelGroupOffset)\n      .attr(\"dx\", -config.labelKeyOffset)\n      .attr(\"dy\", 3)\n      .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n      .attr(\"class\", (d) => {\n        return \"slopechart_text myid\" + d.values[0].rank + \" state_name\"\n      })\n      .attr(\"text-anchor\", \"end\")\n      .on(\"mouseover\", function (d) { //-------Tooltip starts\t\t\n        var div = d3.select(\"body\").append(\"div\")\n          .attr(\"id\", \"div\" + d.key.replace(/ +/g, \"\"))\n          .attr(\"class\", \"tooltip\")\n          .style(\"opacity\", 0)\n        div.transition()\n          .duration(100)\n          .style(\"opacity\", .97)\n        div.html(\"<p>\" + d.key + \"</p>\" + \"<p>\" + \"Predicted rank: \" + d.values[1].rank + \"</p>\")\n          .style(\"left\", ((d) => {\n            var left_div_width = $('.Sidebar_parent').width()\n            return left_div_width - 125 + \"px\"\n          }))\n          .style(\"top\", (d3.event.pageY - 40) + \"px\");\n      })\n      .on(\"mouseout\", function (d) {\n        var myid = \"#div\" + d.key.replace(/ +/g, \"\")\n        d3.select(\"body\").selectAll(\".tooltip\").transition()\n          .duration(500)\n          .style(\"opacity\", 0).remove();\n      }) // Tooltip ends\n      .on(\"click\", function (d) {\n        return textClickHandler_original(\"A\" + d.key)\n        /*\n        if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) {\n          if (clicked_items_in_slopechart.includes(d.key.replace(/ +/g, \"\"))) { return textClickHandler_original(\"A\"+d.key) }\n        }\n        else { return textClickHandler_original(\"A\"+d.key) }\n        */\n      })\n      .text(d => {\n        var val = d.key\n        if (val.length > 15) { val = val.replace(\"University\", \"U\") }\n        return val.length > 15 ? val.substring(0, 15) : val\n      })\n      .attr(\"fill\", function (d) {\n        if (d.values[0].rank == 23) {\n\n        }\n        if ((d.values[0].rank < deviate_check_lower) || (d.values[0].rank > deviate_check_upper)) {\n          return \"rgb(110, 112, 112,.5)\";\n        }\n        else {\n          return line_color(d.key);\n        }\n      }).transition().duration(d => {\n        if (animate == \"animate\") {\n          return slope_chart_anim1\n        }\n        else {\n          return 0\n        }\n      })\n      .attr(\"y\", d => yScale(d.values[0].rank) - var_to_lift_up)\n    //state name text ends here\n    //-----------------------------------------------------------------------------------------------------------------------------------------Left sparkline starts here\n    selection.select(\".svg1\")\n      .attr('class', d => \"svg1 \" + model_name + d.values[1].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '') + 'original')\n      .attr(\"x\", d => {\n        var className = model_name + d.values[1].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '') + 'original'\n        if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) { var sparkline_color = \"grey\" } else { var sparkline_color = line_color(d.key) }\n        sparkline1.sparklineGen(className, sparkline_data, d.key.replace(/ /g, '').replace(/[^\\w\\s]/gi, ''), d.key, year, appHandleChange, d.values[0].rank, sparkline_color, d.key.replace(/ +/g, \"\"))\n        return -config.labelGroupOffset - config.labelKeyOffset + 3;\n      })\n      .transition().duration(d => {\n        if (animate == \"animate\") {\n          return slope_chart_anim1\n        }\n        else {\n          return 0\n        }\n      })\n      .attr(\"y\", d => yScale(d.values[0].rank) - var_to_lift_up - 14)\n      .attr(\"opacity\", 1)\n    //-----------------------------------------------------------------------------------------------------------------------------------------Left rank text starts here\n    selection.select(\".left_rank_text\")\n      .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n      .attr(\"class\", (d) => \"slopechart_text myid\" + d.values[0].rank + \" left_rank_text\")\n      .attr(\"x\", d => -config.labelGroupOffset)\n      .attr(\"dx\", -10)\n      .attr(\"dy\", 3)\n      .attr(\"text-anchor\", \"end\")\n      .text(d => (d.values[0].rank))\n      .attr(\"fill\", function (d) {\n        if (d.values[0].rank < deviate_check_lower) {\n          return \"rgb(110, 112, 112,.5)\";\n        }\n        else if (d.values[0].rank > deviate_check_upper) {\n          return \"rgb(110, 112, 112,.5)\";\n        }\n        else {\n          return line_color(d.key);\n        }\n      })\n      .transition().duration(d => {\n        if (animate == \"animate\") {\n          return slope_chart_anim1\n        }\n        else {\n          return 0\n        }\n      })\n      .attr(\"y\", d => yScale(d.values[0].rank) - var_to_lift_up); //rank text ends here\n\n    //-----------------------------------------------------------------------------------------------------------------------------------------Left circle starts here\n    selection.select(\".left_circle\")\n      .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n      .attr(\"r\", d => {\n        if (d.values[0].rank < deviate_check_lower) {\n          return 0\n        }\n        else if (d.values[0].rank > deviate_check_upper) {\n          return 0\n        }\n        else { return config.radius }\n      })\n      .attr(\"class\", (d) => {\n        return d.values[0].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '') + \" myid\" + d.values[0].rank + \" left_circle\"\n      })\n      .attr(\"fill\", function (d) {\n        if (d.values[0].rank < deviate_check_lower) {\n          //return line_color(d);\n          return \"rgb(110, 112, 112,.5)\";\n        }\n        else if (d.values[0].rank > deviate_check_upper) {\n          //return line_color(d);\n          return \"rgb(110, 112, 112,.5)\";\n        }\n        else {\n          return line_color(d.key);\n        }\n      })\n      .transition().duration(d => {\n        if (animate == \"animate\") {\n          return slope_chart_anim1\n        }\n        else {\n          return 0\n        }\n      })\n      .attr(\"cy\", d => yScale(d.values[0].rank) - var_to_lift_up); //left circle ends\n    //----------------------------------------------------------------------------------------------------------------------------------------- Slope lines starts here\n\n    selection.select(\".slope-line\")\n      .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n      .attr(\"class\", (d) => \"slope-line myid\" + d.values[0].rank)\n      .attr(\"x1\", 0)\n      .attr(\"x2\", config.width)\n      .on(\"click\", function (d) {\n        return textClickHandler_original(\"A\" + d.key)\n        // if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) { } else { return textClickHandler_original(\"A\"+d.key) }\n      })\n      .attr(\"stroke\", (d) => {\n        if (d.values[0].rank < deviate_check_lower) {\n          return \"transparent\";\n        }\n        else if (d.values[0].rank > deviate_check_upper) {\n          return \"transparent\";\n        }\n        else {\n          return line_color(d.key)\n        }\n      })\n      .transition().duration(d => {\n        if (animate == \"animate\") {\n          return slope_chart_anim1\n        }\n        else {\n          return 0\n        }\n      })\n      .attr(\"y1\", function (d) {\n        return yScale(d.values[0].rank) - var_to_lift_up;\n      })\n      .transition().duration(d => { // we don't need to set delay here because this is happening one after another\n        if (animate == \"animate\") {\n          return slope_chart_anim2\n        }\n        else {\n          return 0\n        }\n      })\n      .attr(\"y2\", function (d) {\n        return yScale(d.values[1].rank);\n      }) // Right slope lines ends here\n    //-----------------------------------------------------------------------------------------------------------------------------------------Right side  \n    //-----------------------------------------------------------------------------------------------------------------------------------------Right circle starts here      \n    selection.select(\".right_circle\")\n      .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n      .attr(\"class\", (d) => {\n        return d.values[0].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '') + \" right_circle myid\" + d.values[0].rank\n      })\n      .attr(\"r\", d => {\n        if (d.values[0].rank < deviate_check_lower) {\n          return 0\n        }\n        else if (d.values[0].rank > deviate_check_upper) {\n          return 0\n        }\n        else { return config.radius }\n      })\n      .attr(\"cx\", config.width)\n      .attr(\"cy\", d => {\n        return yScale(d.values[1].rank) - var_to_lift_up\n      })\n      .attr(\"fill\", (d) => {\n        if (!(d.values[0].rank < deviate_check_lower | d.values[0].rank > deviate_check_upper)) {\n          return line_color(d.key);\n        }\n      });\n    //-----------------------------------------------------------------------------------------------------------------------------------------Right text rank starts here\n    selection.select(\".right_rank_text\")\n      .attr(\"class\", (d) => \"slopechart_text right_rank_text myid\" + d.values[0].rank)\n      .attr(\"x\", d => width + config.labelGroupOffset)\n      .attr(\"y\", d => yScale(d.values[1].rank) - var_to_lift_up)\n      .attr(\"dx\", 10)\n      .attr(\"dy\", 3)\n      .attr(\"text-anchor\", \"start\")\n      .text(d => {\n        if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) {\n          return \"\";\n        }\n        else {\n          return d.values[1].rank\n        }\n      })\n      .attr(\"fill\", function (d) {\n        if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) {\n          return \"\";\n        }\n        else {\n          return line_color(d.key)\n        }\n      })\n      .on(\"click\", function (d) {\n        return textClickHandler_original(\"A\" + d.key)\n        // if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) { } else { return textClickHandler_original(\"A\"+d.key) }\n      }); //Text - Ranks ends here\n    //-----------------------------------------------------------------------------------------------------------------------------------------Right sparkline starts here\n    selection.select(\".svg2\")\n      .attr('class', d => \"svg2 \" + model_name.replace(\".\", \"stupid\") + d.values[1].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '').split('.').join(' '))\n      .attr(\"x\", d => {\n        var className = model_name.replace(\".\", \"stupid\") + d.values[1].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '').split('.').join(' ')\n        sparkline2.sparklineGen(className, sparkline_data, d.key.replace(/ /g, '').replace(/[^\\w\\s]/gi, ''), actual_model_for_range_and_time_mode, original_data, d.key, year, appHandleChange, d.values[0].rank, line_color(d.key), d.key.replace(/ +/g, \"\"))\n        return width + config.labelGroupOffset + 27\n      })\n      .attr(\"y\", d => yScale(d.values[1].rank) - var_to_lift_up - 14)\n      .attr(\"width\", d => {\n        if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) {\n          return 0;\n        }\n      })\n\n  }\n\n  function onExit(selection) {\n    selection.remove();\n  }\n}\n","import * as d3 from 'd3';\nimport * as $ from 'jquery';\n//--------\nexport function sparklineGen(className, sparkline_data, key, state, year, appHandleChange, className2, sparkline_color, path_id) {\n  var config = { labelKeyOffset: 55, radius: 3, sparkline_height: 20 }\n  var s_margin = { top: 0, right: 0, bottom: 0, left: 4 },\n    s_width = config.labelKeyOffset / 2 - 5,\n    s_height = config.sparkline_height - 2;\n  var s_svg = d3.select(\".\"+className)\n    .attr(\"width\", s_width + s_margin.left + s_margin.right)\n    .attr(\"height\", s_height + s_margin.top + s_margin.bottom)\n  var data = sparkline_data[key]\n  // Add X axis  \n  var x = d3.scaleLinear()\n    .domain(d3.extent(data, function (d) { return d.year; }))\n    .range([0, s_width]);\n  //-----------------------------------------------------------------------------------------------------------------------------------------Add the area\n  s_svg.select(\"path\")\n    .datum(data, d => d)\n    .attr(\"id\", \"A\"+path_id)\n    .attr(\"opacity\",1)\n    .attr(\"fill\", sparkline_color) //#969696\n    .attr(\"stroke\", sparkline_color)\n    .attr(\"stroke-width\", (d) => {\n      return 1.5\n    })\n    .attr(\"d\", d3.area()\n      .x(function (d) { return x(d.year) })\n      .y0(function () {\n        var y = d3.scaleLinear().domain([0, d3.max(data, function (d) { return +d.rank; })]).range([s_height, 0]);\n        return y(0)\n      })\n      .y1(function (d) {\n        var y = d3.scaleLinear().domain([0, d3.max(data, function (d) { return +d.rank; })]).range([0, s_height]);\n        return y(d.rank)\n      })\n    )\n  //------------Circles\n  s_svg.selectAll('circle').data(data).join('circle')\n    .attr('cx', function (d, i) { return x(d.year) })\n    .attr('cy', s_height - 2)\n    .attr(\"class\", \"myid\" + className2)\n    .on(\"mouseover\", function (d) {\n      d3.select(this).style('fill', 'black')\n      d3.select(this).attr('r', 3)\n    })\n    .style('fill', (d) => d.year != year ? 'transparent' : 'black')\n    .attr('class', (d) => d.year != year ? 'transparent_class' : 'red_class')\n    .attr('r', 2)\n    .on('dblclick', (d, i) => {\n      d3.event.preventDefault();\n      appHandleChange(d.year, \"year_changed\")\n    })\n    .on(\"mouseout\", function (d) {\n      d3.select(this).style('fill', 'transparent')\n      var divid=\"#div\"+className\n      d3.selectAll(divid).remove()\n    })\n    .on('click', (d) => {\n      d3.select(\"body\").append(\"div\")\n        .attr(\"id\", \"div\"+className)\n        .attr(\"class\", \"tooltip\")\n        .style(\"opacity\", 0)\n        .html(\"<p>\" + \"Year: \" + d.year + \"</p>\" + \"<p>\" + \"Rank: \" + d.rank + \"</p>\")\n        .style(\"left\", ((d) => {\n          var left_div_width = $('.Sidebar_parent').width()\n          return left_div_width - 125 + \"px\"\n        }))\n        .style(\"top\", (d3.event.pageY - 40) + \"px\")\n        .transition()\n        .duration(200)\n        .style(\"opacity\", .97);\n    })\n\n}","import * as d3 from 'd3';\nimport * as $ from 'jquery';\n//--------\nexport function sparklineGen(className, sparkline_data, key, model_name, original_data, state, year, appHandleChange, className2, sparkline_color, path_id) {\n  var temp_data = []\n  original_data.forEach(element => {\n    if (element['State'] == state && element[model_name]) {\n      temp_data.push({ year: parseInt(element['1-qid']), rank: parseInt(element[model_name]) })\n    }\n  });\n  var config = { labelKeyOffset: 55, radius: 3, sparkline_height: 20 }\n  var s_margin = { top: 0, right: 0, bottom: 0, left: 5 },\n    s_width = config.labelKeyOffset / 2,\n    s_height = config.sparkline_height - 2;\n  var s_svg = d3.selectAll(\".\"+className)\n  //var s_svg = d3.selectAll(\".\"+className).data([className],d=>d).join(\"svg\").attr(\"class\",className)\n    .attr(\"width\", s_width + s_margin.left + s_margin.right)\n    .attr(\"height\", s_height + s_margin.top + s_margin.bottom)\n  var data = temp_data\n  // Add X axis  \n  var x = d3.scaleLinear()\n    .domain(d3.extent(data, function (d) { return d.year; }))\n    .range([0, s_width]);\n  //---Add the area\n  s_svg.select(\"path\")\n    .datum(data, d => d)\n    .attr(\"id\", \"A\"+path_id)\n    .attr(\"fill\", sparkline_color) //#969696\n    .attr(\"stroke\", sparkline_color)\n    .attr(\"stroke-width\", (d) => {\n      return 1.5\n    })\n    .attr(\"d\", d3.area()\n      .x(function (d) { return x(d.year) })\n      .y0(function () {\n        var y = d3.scaleLinear().domain([0, d3.max(data, function (d) { return +d.rank; })]).range([s_height, 0]);\n        return y(0)\n      })\n      .y1(function (d) {\n        var y = d3.scaleLinear().domain([0, d3.max(data, function (d) { return +d.rank; })]).range([0, s_height]);\n        return y(d.rank)\n      })\n    )\n\n  var div = d3.select(\"body\").append(\"div\")\n    .attr(\"class\", \"tooltip\")\n    .style(\"opacity\", 0);\n  //------------Circles\n  s_svg.selectAll('circle').data(data).enter().append('circle')\n    .attr('cx', function (d, i) { return x(d.year) })\n    .attr('cy', s_height - 2)\n    .attr(\"class\", \"myid\" + className2)\n    .on(\"mouseover\", function (d) {\n      d3.select(this).style('fill', 'black')\n      d3.select(this).attr('r', 2)\n    })\n    .on(\"mouseout\", function (d) {\n      d3.select(this).style('fill', 'transparent')\n      var divid=\"#div\"+className\n      d3.selectAll(divid).remove()\n    })\n    .style('fill', (d) => d.year != year ? 'transparent' : 'black')\n    .attr('class', (d) => d.year != year ? 'transparent_class' : 'red_class')\n    .attr('r', 2)\n    .on('dblclick', (d, i) => {\n      d3.event.preventDefault();\n      appHandleChange(d.year, \"year_changed\")\n    })\n    .on('click', (d) => {\n      d3.select(\"body\").append(\"div\")\n        .attr(\"id\", \"div\"+className)\n        .attr(\"class\", \"tooltip\")\n        .style(\"opacity\", 0)\n        .html(\"<p>\" + \"Year: \" + d.year + \"</p>\" + \"<p>\" + \"Rank: \" + d.rank + \"</p>\")\n        .style(\"left\", ((d) => {\n          var left_div_width = $('.Sidebar_parent').width()\n          return left_div_width - 125 + \"px\"\n        }))\n        .style(\"top\", (d3.event.pageY - 40) + \"px\")\n        .transition()\n        .duration(200)\n        .style(\"opacity\", .97);\n    })\n}","import React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport * as $ from 'jquery';\nimport * as slopechart1 from \"./slopechart1\";\nimport { connect } from \"react-redux\";\nimport Grid from '@material-ui/core/Grid';\nclass SlopeChart extends Component {\n  constructor(props) {\n    super(props);\n    this.myRef = React.createRef();\n  }\n  componentDidMount() {\n    this.setState({ random: 0 })\n  }\n  componentDidUpdate(prevProps, prevState) {\n    //---- Animation replay starts\n    if (JSON.stringify(this.props.time_mode_range) != JSON.stringify(prevProps.time_mode_range)) {\n      this.props.Set_prev_prop(prevProps)\n    }\n    if (this.props.time_mode_year1 !== prevProps.time_mode_year1) {\n      this.props.Set_prev_prop(prevProps)\n    }\n    if (this.props.time_mode_year2 !== prevProps.time_mode_year2) {\n      this.props.Set_prev_prop(prevProps)\n    }\n    //---- Animation replay ends\n\n    if (!this.props.replay) { // if replay is false\n      this.props.time_mode_range[0] != prevProps.time_mode_range[0] ? this.task1(\"dont_animate\") : this.task1(\"animate\")\n    }\n    else {\n      this.task1(\"dont_animate\")\n    }\n    this.props.task2()\n  }\n  task1 = (animate) => {\n    var selected_year;\n    if (this.props.model_name == \"Year1\") { selected_year = this.props.time_mode_year1 } else { selected_year = this.props.time_mode_year2 }\n    var state_range = this.props.time_mode_range\n    var mydata3 = { \"A\": [], \"B\": [] }\n    var deviate_by = this.props.deviate_by\n    var selected_by_year_data = this.props.grouped_by_year_data[selected_year] // This is the data passed a dictionay where year is the key\n    var max_rank = selected_by_year_data.length\n    var model_name = this.props.time_mode_model // This is the model name on the right side\n    var cmodel = this.props.cmodel // This is the selected model for color in case of sorting by predicted rank\n    //--------\n    var start_range = state_range != null ? state_range[0] : 10; // range to start\n    if (start_range > 0) { start_range -= 1 } // This is to start from index 0\n    if (start_range < 0) { start_range = 0 } // check if the deviation make the starting range less than the available rank\n    if (start_range < deviate_by) { deviate_by = start_range } // check if the deviation make the starting range less than the available rank\n    start_range = start_range - deviate_by\n    if (start_range < 0) { start_range = 0; deviate_by = 0 }\n    var deviate_check_lower = start_range + deviate_by + 1\n    //-----\n    deviate_by = this.props.deviate_by\n    var end_range = state_range != null ? state_range[1] : 25\n    var deviate_check_upper = end_range // Upper deviation check is this\n    end_range = end_range + deviate_by // changes the end range to include the deviation; next if checks when it goes beyond range\n    if (end_range > max_rank) {\n      deviate_check_upper = end_range - deviate_by; // set the upper range by subtracting the deviation\n      end_range = max_rank\n    }\n\n    for (var i = start_range; i < end_range; i++) {\n      var tempA = {}\n      var tempB = {}\n      tempA[\"Model\"] = model_name\n      tempA[\"name\"] = selected_by_year_data[i][\"State\"]\n      tempA[\"rank\"] = selected_by_year_data[i][\"two_realRank\"]\n      tempB[\"name\"] = selected_by_year_data[i][\"State\"]\n      tempB[\"rank\"] = selected_by_year_data[i][model_name]\n      mydata3[\"A\"].push(tempA)\n      mydata3[\"B\"].push(tempB)\n    }\n    //------------ Slopechart 1\n    slopechart1.CreateSlopeChart1(this.node, mydata3, start_range + 1, end_range, deviate_check_lower,\n      deviate_check_upper, this.props.model_name, selected_year, this.props.appHandleChange,\n      this.props.sparkline_data, this.props.original_data, this.props.histogram_data, this.props.textClickHandler_original,\n      this.color_gen(), animate, this.props.time_mode_model, this.props.config)\n    //------------        \n\n  }\n  color_gen = () => {\n    var selected_year;\n    if (this.props.model_name == \"Year1\") { selected_year = this.props.time_mode_year1 } else { selected_year = this.props.time_mode_year2 }\n    //------------------------------------------------------\n    var deviate_by = this.props.deviate_by\n    var selected_by_year_data = this.props.grouped_by_year_data[selected_year] // This is the data passed a dictionay where year is the key\n    var max_rank = selected_by_year_data.length\n    //--------\n    var start_range = this.props.time_mode_range != null ? this.props.time_mode_range[0] : 10; // range to start\n    if (start_range > 0) { start_range -= 1 } // This is to start from index 0\n    if (start_range < 0) { start_range = 0 } // check if the deviation make the starting range less than the available rank\n    if (start_range < deviate_by) { deviate_by = start_range } // check if the deviation make the starting range less than the available rank\n    start_range = start_range - deviate_by\n    if (start_range < 0) { start_range = 0; deviate_by = 0 }\n    var deviate_check_lower = start_range + deviate_by + 1\n    //-----\n    deviate_by = this.props.deviate_by\n    var end_range = this.props.time_mode_range != null ? this.props.time_mode_range[1] : 25\n    var deviate_check_upper = end_range // Upper deviation check is this\n    end_range = end_range + deviate_by // changes the end range to include the deviation; next if checks when it goes beyond range\n    if (end_range > max_rank) {\n      deviate_check_upper = end_range - deviate_by; // set the upper range by subtracting the deviation\n      end_range = max_rank\n    }\n    //---------------------------------------------------------------------------- Tracking starts here\n    var track_states_ranged_dictionary = {}\n    var track_states_year_data = this.props.grouped_by_year_data[selected_year] // when tracking is not activated we use selected year for color\n    var track_states_ranged_dictionary = {}\n    for (var i = deviate_check_lower - 1; i < deviate_check_upper; i++) {\n      track_states_ranged_dictionary[track_states_year_data[i][\"State\"]] = track_states_year_data[i][\"two_realRank\"]\n    }\n    var min = deviate_check_lower;\n    var max = deviate_check_upper;\n    var d = (max - min) / 8;\n    var line_color2 = d3.scaleLinear().domain([min + d * 7, min + d * 6, min + d * 5, min + d * 4, min + d * 3, min + d * 2, min]).interpolate(d3.interpolateRgb).range(['#00429d', '#4771b2', '#73a2c6', '#a5d5d8', /*'#ffffe0',*/ '#ffbcaf', '#f4777f', '#cf3759', '#93003a']);\n    var Rgbdict = {}\n    for (var key in track_states_ranged_dictionary) {\n      Rgbdict[key] = line_color2(track_states_ranged_dictionary[key])\n    }\n    this.line_color = d3.scaleOrdinal().domain(Object.keys(Rgbdict)).range(Object.values(Rgbdict))\n    \n    //---------------------------------------------------------------------------- Tracking ends here \n    return this.line_color\n  }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  render() {\n    return (\n      this.props.show.includes(\"Explanation\") ? <Grid container style={{ width: \"49.5%\", marginRight: \"0.5%\", marginTop: \"0.5%\", paddingRight: 0, border: \"1px solid #eaeaea\"}} className=\"slopechart\">\n        <Grid item xs=\"6\" className=\"slopechart_col\">\n          <div className=\"slope_chart_title\">\n            <p>True Rank</p>\n            <p className=\"model_title\">{this.props.model_name == \"Year1\" ? \"Year 1\" : \"Year 2\"}</p>\n            <p>Predicted Rank</p>\n          </div>\n          <div className=\"mysvg\" ref={node => this.node = node}><svg id={this.props.model_name}><g id=\"myg\"></g></svg></div>\n        </Grid>\n        <Grid item xs=\"6\" className=\"exp_chart\" >\n         \n        </Grid>\n      </Grid > :\n        <Grid item className=\"slopechart_col\" style={{ marginTop: 5, border: \"1px solid #eaeaea\", width: \"48%\", marginRight: \"1%\" }}>\n          <div className=\"slope_chart_title\">\n            <p>True Rank</p>\n            <p className=\"model_title\">{this.props.time_mode_model} ({this.props.model_name == \"Year1\" ? this.props.time_mode_year1 : this.props.time_mode_year2})</p>\n            <p>Predicted Rank</p>\n          </div>\n          <div className=\"mysvg\" ref={node => this.node = node}><svg id={this.props.model_name}><g id=\"myg\"></g></svg></div>\n        </Grid>\n    );\n  }\n\n}\n\n\nconst maptstateToprop = (state) => {\n  return {\n    selected_year: state.selected_year,\n    time_mode_model: state.time_mode_model,\n    time_mode_range: state.time_mode_range,\n    deviate_by: state.deviate_by,\n    time_mode_year1: state.time_mode_year1,\n    time_mode_year2: state.time_mode_year2,\n    clicked_items_in_slopechart: state.clicked_items_in_slopechart,\n    replay: state.replay,\n    popup_chart_data: state.popup_chart_data,\n    config: state.config,\n    show: state.show,\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_prev_prop: (val) => dispatch({ type: \"prev_prop\", value: val }),\n    Set_defualt_models: (val) => dispatch({ type: \"defualt_models\", value: val }),\n    Set_sparkline_data: (val) => dispatch({ type: \"sparkline_data\", value: val }),\n    Set_clicked_items_in_slopechart: (val) => dispatch({ type: \"clicked_items_in_slopechart\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(SlopeChart);","\nimport * as d3 from 'd3';\nimport * as $ from 'jquery';\nimport * as sparkline1 from \"./sparkline1\";\nimport * as sparkline2 from \"./sparkline2\";\nexport function CreateSlopeChart1(node, grouped_by_year_data, start_range, end_range, deviate_check_lower, deviate_check_upper, \n  model_name, year, appHandleChange, sparkline_data, original_data, histogram_data, textClickHandler_original, line_color, \n  animate, actual_model_for_range_and_time_mode,config) {\n  var base_height_between=18\n  // we don't need the delay here because the animations are happening one after the another\n  var slope_chart_anim1 = config.rank_animation\n  var slope_chart_anim2 = config.deviation_animation\n  var number_of_elements = (end_range - start_range); // \n  var all_together = [];\n  grouped_by_year_data[\"A\"].forEach(function (d) { all_together.push(d); });\n  grouped_by_year_data[\"B\"].forEach(function (d) { all_together.push(d); });\n  var nestedByName = d3.nest().key(function (d) { return d.name }).entries(all_together);\n  //----------------------------------------------------------------------------------------------Height management\n  var margin = { top: 10, right: 70, bottom: 10, left: 160 };\n  var slopechart_col_height = $('.slopechart_container').height(),\n    slopechart_col_width = $('.slopechart_col').width(),\n    width = slopechart_col_width - margin.left - margin.right;\n  var height_between = slopechart_col_height / number_of_elements\n  if(height_between<base_height_between){height_between=base_height_between}\n  var height = (number_of_elements * height_between)-10 // -10 is the bottom margin\n  \n  d3.selectAll(\".slopechart_col\").style(\"height\",height+\"px\");\n  d3.selectAll(\".exp_chart\").style(\"height\", height + \"px\");\n\n  height = height - 45 // This height is going to be used for slopechart\n  var config = { yOffset: 0, width: width, height: height, labelGroupOffset: 1, labelKeyOffset: 55, radius: 3, sparkline_height: height_between }\n  //----------------------------------------------------------------------------------------------Height management\n  var yScale = d3.scaleLinear().range([0, height]).domain([start_range, end_range]);\n  var var_to_lift_up = yScale(nestedByName[0].values[0].rank); // nestedByName[5] places the 5th element at the beginning\n  var svg = d3.select(\"#\" + model_name).attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom)\n    .select(\"#myg\").attr('transform', `translate(150,10)`)\n\n  var borderLines = svg.selectAll(\".border-lines\").data([0]).join(\"g\").attr(\"class\", \"border-lines\") //--Ractangle that sets the boundary of lines  \n  borderLines.selectAll(\".line1\").data([0]).join(\"line\").attr(\"class\", \"line1\").attr(\"fill\", \"black\").attr(\"x1\", 0).attr(\"y1\", 0).attr(\"x2\", 0).attr(\"y2\", config.height); // left line x1,x2,y1 0 and y2 is the height\n  borderLines.selectAll(\".line2\").data([0]).join(\"line\").attr(\"class\", \"line2\").attr(\"fill\", \"black\").attr(\"x1\", width).attr(\"y1\", 0).attr(\"x2\", width).attr(\"y2\", config.height); // right line starts at x1,x2 at width and goes until height\n  //---------\n  var slopeGroups_upd = svg.selectAll(\".datapoint\").data(nestedByName, d => {\n    if (d !== undefined) {\n      return d.key;\n    }\n  }).join(onEnter, onUpdate, onExit)\n  //-----------------------------------------------------------------------------------------------------------------------------------------Enter function starts here\n  function onEnter(selection) {\n\n    const makeDatapoint = g => {\n      //-----------------------------------------------------------------------------------------------------------------------------------------state name text starts here\n      g.append(\"text\")\n        .attr(\"x\", d => -config.labelGroupOffset)\n        .attr(\"y\", d => yScale(d.values[0].rank) - var_to_lift_up)\n        .attr(\"dx\", -config.labelKeyOffset)\n        .attr(\"dy\", 3)\n        .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n        .attr(\"class\", (d) => {\n          return \"myid\" + d.values[0].rank + \" state_name\" + \" slopechart_text\"\n        })\n        .attr(\"text-anchor\", \"end\")\n        .on(\"mouseover\", function (d) { //-------Tooltip starts\t\t\n          var div = d3.select(\"body\").append(\"div\")\n            .attr(\"id\", \"div\" + d.key.replace(/ +/g, \"\"))\n            .attr(\"class\", \"tooltip\")\n            .style(\"opacity\", 0)\n          div.transition()\n            .duration(200)\n            .style(\"opacity\", .97)\n          div.html(\"<p>\" + d.key + \"</p>\" + \"<p>\" + \"Predicted rank: \" + d.values[1].rank + \"</p>\")\n            .style(\"left\", ((d) => {\n              var left_div_width = $('.Sidebar_parent').width()\n              return left_div_width - 125 + \"px\"\n            }))\n            .style(\"top\", (d3.event.pageY - 40) + \"px\");\n        })\n        .on(\"mouseout\", function (d) {\n          var myid = \"#div\" + d.key.replace(/ +/g, \"\")\n          d3.select(\"body\").selectAll(\".tooltip\").transition()\n            .duration(500)\n            .style(\"opacity\", 0).remove();\n        }) // Tooltip ends\n        .on(\"click\", function (d) {\n          return textClickHandler_original(\"A\" + d.key)\n          /*\n          if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) {\n            if (clicked_items_in_slopechart.includes(d.key.replace(/ +/g, \"\"))) { return textClickHandler_original(\"A\"+d.key) }\n          }\n          else { return textClickHandler_original(\"A\"+d.key) }\n          */\n        })\n        .text(d => {\n          var val = d.key\n          if (val.length > 15) { val = val.replace(\"University\", \"U\") }\n          return val.length > 15 ? val.substring(0, 15) : val\n        })\n        .attr(\"fill\", function (d) {\n          if (d.values[0].rank < deviate_check_lower) {\n            return \"rgb(110, 112, 112,.5)\";\n          }\n          else if (d.values[0].rank > deviate_check_upper) {\n            return \"rgb(110, 112, 112,.5)\";\n          }\n          else {\n            return line_color(d.key);\n          }\n        }) //state name text ends here\n      //-----------------------------------------------------------------------------------------------------------------------------------------Left sparkline starts here\n      g.append(\"svg\")\n        .attr('class', d => \"svg1 \" + model_name + d.values[1].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '') + 'original')\n        .attr(\"x\", d => {\n          return -config.labelGroupOffset - config.labelKeyOffset + 3;\n        })\n        .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n        .attr(\"y\", d => yScale(d.values[0].rank) - var_to_lift_up - 14)\n        .append(\"path\")\n        .attr(\"class\", \"mypath\")\n        .attr(\"opacity\", d => {\n          var className = model_name + d.values[1].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '') + 'original'\n          if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) { var sparkline_color = \"grey\" } else { var sparkline_color = line_color(d.key) }\n          sparkline1.sparklineGen(className, sparkline_data, d.key.replace(/ /g, '').replace(/[^\\w\\s]/gi, ''), d.key, year, appHandleChange, d.values[0].rank, sparkline_color, d.key.replace(/ +/g, \"\"))\n          return 1;\n        }\n        )\n      //-----------------------------------------------------------------------------------------------------------------------------------------Left rank text starts here\n      g.append(\"text\")\n        .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n        .attr(\"class\", (d) => \"myid\" + d.values[0].rank + \" left_rank_text\" + \" slopechart_text\")\n        .attr(\"x\", d => -config.labelGroupOffset)\n        .attr(\"y\", d => yScale(d.values[0].rank) - var_to_lift_up)\n        .attr(\"dx\", -10)\n        .attr(\"dy\", 3)\n        .attr(\"text-anchor\", \"end\")\n        .text(d => (d.values[0].rank))\n        .attr(\"fill\", function (d) {\n          if (d.values[0].rank < deviate_check_lower) {\n            return \"rgb(110, 112, 112,.5)\";\n          }\n          else if (d.values[0].rank > deviate_check_upper) {\n            return \"rgb(110, 112, 112,.5)\";\n          }\n          else {\n            return line_color(d.key);\n          }\n        }); //rank text ends here\n      //-----------------------------------------------------------------------------------------------------------------------------------------circle starts\n      g.append(\"circle\")\n        .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n        .attr(\"r\", d => {\n          if (d.values[0].rank < deviate_check_lower) {\n            return 0\n          }\n          else if (d.values[0].rank > deviate_check_upper) {\n            return 0\n          }\n          else { return config.radius }\n        })\n        .attr(\"cy\", d => yScale(d.values[0].rank) - var_to_lift_up)\n        .attr(\"class\", (d) => {\n          return d.values[0].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '') + \" myid\" + d.values[0].rank + \" left_circle\"\n        })\n        .attr(\"fill\", function (d) {\n          if (d.values[0].rank < deviate_check_lower) {\n            //return line_color(d);\n            return \"rgb(110, 112, 112,.5)\";\n          }\n          else if (d.values[0].rank > deviate_check_upper) {\n            //return line_color(d);\n            return \"rgb(110, 112, 112,.5)\";\n          }\n          else {\n            return line_color(d.key);\n          }\n        }); //circle ends\n      //-----------------------------------------------------------------------------------------------------------------------------------------Slope lines starts here\n      g.append(\"line\")\n        .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n        .attr(\"class\", (d) => \"slope-line myid\" + d.values[0].rank)\n        .attr(\"x1\", 0)\n        .attr(\"x2\", config.width)\n        .on(\"click\", function (d) {\n          return textClickHandler_original(\"A\" + d.key)\n          // if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) { } else { return textClickHandler_original(\"A\"+d.key) }\n        })\n        .attr(\"y1\", function (d) {\n          return yScale(d.values[0].rank) - var_to_lift_up;\n        })\n        .attr(\"y2\", function (d) {\n          return yScale(d.values[1].rank) - var_to_lift_up;\n        })\n        .attr(\"stroke\", (d) => {\n          if (d.values[0].rank < deviate_check_lower) {\n            return \"transparent\";\n          }\n          else if (d.values[0].rank > deviate_check_upper) {\n            return \"transparent\";\n          }\n          else {\n            return line_color(d.key)\n          }\n        })\n\n\n\n      //-----------------------------------------------------------------------------------------------------------------------------------------Right side   \n      //-----------------------------------------------------------------------------------------------------------------------------------------Right circle starts here      \n      g.append(\"circle\")\n        .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n        .attr(\"cy\", d => yScale(d.values[1].rank) - var_to_lift_up).attr(\"class\", (d) => {\n          return d.values[0].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '') + \" right_circle myid\" + d.values[0].rank\n        })\n        .attr(\"r\", d => {\n          if (d.values[0].rank < deviate_check_lower) {\n            return 0\n          }\n          else if (d.values[0].rank > deviate_check_upper) {\n            return 0\n          }\n          else { return config.radius }\n        })\n        .attr(\"cx\", config.width)\n        .attr(\"fill\", (d) => {\n          if (!(d.values[0].rank < deviate_check_lower | d.values[0].rank > deviate_check_upper)) {\n            return line_color(d.key);\n          }\n        });\n      //-----------------------------------------------------------------------------------------------------------------------------------------Right text - Ranks starts here\n      g.append(\"text\")\n        .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n        .attr(\"class\", (d) => \"slopechart_text right_rank_text myid\" + d.values[0].rank)\n        .attr(\"x\", d => width + config.labelGroupOffset)\n        .attr(\"y\", d => yScale(d.values[1].rank) - var_to_lift_up)\n        .attr(\"dx\", 10)\n        .attr(\"dy\", 3)\n        .attr(\"text-anchor\", \"start\")\n        .text(d => {\n          if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) {\n            return \"\";\n          }\n          else {\n            return d.values[1].rank\n          }\n        })\n        .attr(\"fill\", function (d) {\n          if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) {\n            return \"\";\n          }\n          else {\n            return line_color(d.key)\n          }\n        })\n        .on(\"click\", function (d) {\n          return textClickHandler_original(\"A\" + d.key)\n          // if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) { } else { return textClickHandler_original(\"A\"+d.key) }\n        }); //Text - Ranks ends here\n      //-----------------------------------------------------------------------------------------------------------------------------------------Right sparkline starts here\n      g.append(\"svg\")\n        .attr('class', d => \"svg2 \" + model_name.replace(\".\", \"stupid\") + d.values[1].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '').split('.').join(' '))\n        .attr(\"x\", d => {\n          return width + config.labelGroupOffset + 25\n        })\n        .attr(\"y\", d => yScale(d.values[1].rank) - var_to_lift_up - 14)\n        .attr(\"width\", d => {\n          if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) {\n            return 0;\n          }\n        })\n        .append(\"path\")\n        .attr(\"class\", \"mypath2\")\n        .attr(\"opacity\", d => {\n          if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) { } else {\n            var className = model_name.replace(\".\", \"stupid\") + d.values[1].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '').split('.').join(' ')\n            sparkline2.sparklineGen(className, sparkline_data, d.key.replace(/ /g, '').replace(/[^\\w\\s]/gi, ''), actual_model_for_range_and_time_mode, original_data, d.key, year, appHandleChange, d.values[0].rank, line_color(d.key), d.key.replace(/ +/g, \"\"))\n            return 1;\n          }\n        })\n    }\n    return selection\n      .append(\"g\")\n      .attr(\"class\", \"datapoint\")\n      .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n      .call(makeDatapoint);\n  }\n  //-----------------------------------------------------------------------------------------------------------------------------------------Onupdate starts here\n  function onUpdate(selection) {\n\n    //-----------------------------------------------------------------------------------------------------------------------------------------state name text ends here\n    selection.select(\".state_name\")\n      .attr(\"x\", -config.labelGroupOffset)\n      .attr(\"dx\", -config.labelKeyOffset)\n      .attr(\"dy\", 3)\n      .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n      .attr(\"class\", (d) => {\n        return \"slopechart_text myid\" + d.values[0].rank + \" state_name\"\n      })\n      .attr(\"text-anchor\", \"end\")\n      .on(\"mouseover\", function (d) { //-------Tooltip starts\t\t\n        var div = d3.select(\"body\").append(\"div\")\n          .attr(\"id\", \"div\" + d.key.replace(/ +/g, \"\"))\n          .attr(\"class\", \"tooltip\")\n          .style(\"opacity\", 0)\n        div.transition()\n          .duration(100)\n          .style(\"opacity\", .97)\n        div.html(\"<p>\" + d.key + \"</p>\" + \"<p>\" + \"Predicted rank: \" + d.values[1].rank + \"</p>\")\n          .style(\"left\", ((d) => {\n            var left_div_width = $('.Sidebar_parent').width()\n            return left_div_width - 125 + \"px\"\n          }))\n          .style(\"top\", (d3.event.pageY - 40) + \"px\");\n      })\n      .on(\"mouseout\", function (d) {\n        var myid = \"#div\" + d.key.replace(/ +/g, \"\")\n        d3.select(\"body\").selectAll(\".tooltip\").transition()\n          .duration(500)\n          .style(\"opacity\", 0).remove();\n      }) // Tooltip ends\n      .on(\"click\", function (d) {\n        return textClickHandler_original(\"A\" + d.key)\n        /*\n        if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) {\n          if (clicked_items_in_slopechart.includes(d.key.replace(/ +/g, \"\"))) { return textClickHandler_original(\"A\"+d.key) }\n        }\n        else { return textClickHandler_original(\"A\"+d.key) }\n        */\n      })\n      .text(d => {\n        var val = d.key\n        if (val.length > 15) { val = val.replace(\"University\", \"U\") }\n        return val.length > 15 ? val.substring(0, 15) : val\n      })\n      .attr(\"fill\", function (d) {\n        if (d.values[0].rank == 23) {\n\n        }\n        if ((d.values[0].rank < deviate_check_lower) || (d.values[0].rank > deviate_check_upper)) {\n          return \"rgb(110, 112, 112,.5)\";\n        }\n        else {\n          return line_color(d.key);\n        }\n      }).transition().duration(d => {\n        if (animate == \"animate\") {\n          return slope_chart_anim1\n        }\n        else {\n          return 0\n        }\n      })\n      .attr(\"y\", d => yScale(d.values[0].rank) - var_to_lift_up)\n    //state name text ends here\n    //-----------------------------------------------------------------------------------------------------------------------------------------Left sparkline starts here\n    selection.select(\".svg1\")\n      .attr('class', d => \"svg1 \" + model_name + d.values[1].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '') + 'original')\n      .attr(\"x\", d => {\n        var className = model_name + d.values[1].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '') + 'original'\n        if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) { var sparkline_color = \"grey\" } else { var sparkline_color = line_color(d.key) }\n        sparkline1.sparklineGen(className, sparkline_data, d.key.replace(/ /g, '').replace(/[^\\w\\s]/gi, ''), d.key, year, appHandleChange, d.values[0].rank, sparkline_color, d.key.replace(/ +/g, \"\"))\n        return -config.labelGroupOffset - config.labelKeyOffset + 3;\n      })\n      .transition().duration(d => {\n        if (animate == \"animate\") {\n          return slope_chart_anim1\n        }\n        else {\n          return 0\n        }\n      })\n      .attr(\"y\", d => yScale(d.values[0].rank) - var_to_lift_up - 14)\n      .attr(\"opacity\", 1)\n    //-----------------------------------------------------------------------------------------------------------------------------------------Left rank text starts here\n    selection.select(\".left_rank_text\")\n      .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n      .attr(\"class\", (d) => \"slopechart_text myid\" + d.values[0].rank + \" left_rank_text\")\n      .attr(\"x\", d => -config.labelGroupOffset)\n      .attr(\"dx\", -10)\n      .attr(\"dy\", 3)\n      .attr(\"text-anchor\", \"end\")\n      .text(d => (d.values[0].rank))\n      .attr(\"fill\", function (d) {\n        if (d.values[0].rank < deviate_check_lower) {\n          return \"rgb(110, 112, 112,.5)\";\n        }\n        else if (d.values[0].rank > deviate_check_upper) {\n          return \"rgb(110, 112, 112,.5)\";\n        }\n        else {\n          return line_color(d.key);\n        }\n      })\n      .transition().duration(d => {\n        if (animate == \"animate\") {\n          return slope_chart_anim1\n        }\n        else {\n          return 0\n        }\n      })\n      .attr(\"y\", d => yScale(d.values[0].rank) - var_to_lift_up); //rank text ends here\n\n    //-----------------------------------------------------------------------------------------------------------------------------------------Left circle starts here\n    selection.select(\".left_circle\")\n      .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n      .attr(\"r\", d => {\n        if (d.values[0].rank < deviate_check_lower) {\n          return 0\n        }\n        else if (d.values[0].rank > deviate_check_upper) {\n          return 0\n        }\n        else { return config.radius }\n      })\n      .attr(\"class\", (d) => {\n        return d.values[0].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '') + \" myid\" + d.values[0].rank + \" left_circle\"\n      })\n      .attr(\"fill\", function (d) {\n        if (d.values[0].rank < deviate_check_lower) {\n          //return line_color(d);\n          return \"rgb(110, 112, 112,.5)\";\n        }\n        else if (d.values[0].rank > deviate_check_upper) {\n          //return line_color(d);\n          return \"rgb(110, 112, 112,.5)\";\n        }\n        else {\n          return line_color(d.key);\n        }\n      })\n      .transition().duration(d => {\n        if (animate == \"animate\") {\n          return slope_chart_anim1\n        }\n        else {\n          return 0\n        }\n      })\n      .attr(\"cy\", d => yScale(d.values[0].rank) - var_to_lift_up); //left circle ends\n    //----------------------------------------------------------------------------------------------------------------------------------------- Slope lines starts here\n\n    selection.select(\".slope-line\")\n      .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n      .attr(\"class\", (d) => \"slope-line myid\" + d.values[0].rank)\n      .attr(\"x1\", 0)\n      .attr(\"x2\", config.width)\n      .on(\"click\", function (d) {\n        return textClickHandler_original(\"A\" + d.key)\n        // if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) { } else { return textClickHandler_original(\"A\"+d.key) }\n      })\n      .attr(\"stroke\", (d) => {\n        if (d.values[0].rank < deviate_check_lower) {\n          return \"transparent\";\n        }\n        else if (d.values[0].rank > deviate_check_upper) {\n          return \"transparent\";\n        }\n        else {\n          return line_color(d.key)\n        }\n      })\n      .transition().duration(d => {\n        if (animate == \"animate\") {\n          return slope_chart_anim1\n        }\n        else {\n          return 0\n        }\n      })\n      .attr(\"y1\", function (d) {\n        return yScale(d.values[0].rank) - var_to_lift_up;\n      })\n      .transition().duration(d => { // we don't need to set delay here because this is happening one after another\n        if (animate == \"animate\") {\n          return slope_chart_anim2\n        }\n        else {\n          return 0\n        }\n      })\n      .attr(\"y2\", function (d) {\n        return yScale(d.values[1].rank);\n      }) // Right slope lines ends here\n    //-----------------------------------------------------------------------------------------------------------------------------------------Right side  \n    //-----------------------------------------------------------------------------------------------------------------------------------------Right circle starts here      \n    selection.select(\".right_circle\")\n      .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n      .attr(\"class\", (d) => {\n        return d.values[0].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '') + \" right_circle myid\" + d.values[0].rank\n      })\n      .attr(\"r\", d => {\n        if (d.values[0].rank < deviate_check_lower) {\n          return 0\n        }\n        else if (d.values[0].rank > deviate_check_upper) {\n          return 0\n        }\n        else { return config.radius }\n      })\n      .attr(\"cx\", config.width)\n      .attr(\"cy\", d => {\n        return yScale(d.values[1].rank) - var_to_lift_up\n      })\n      .attr(\"fill\", (d) => {\n        if (!(d.values[0].rank < deviate_check_lower | d.values[0].rank > deviate_check_upper)) {\n          return line_color(d.key);\n        }\n      });\n    //-----------------------------------------------------------------------------------------------------------------------------------------Right text rank starts here\n    selection.select(\".right_rank_text\")\n      .attr(\"class\", (d) => \"slopechart_text right_rank_text myid\" + d.values[0].rank)\n      .attr(\"x\", d => width + config.labelGroupOffset)\n      .attr(\"y\", d => yScale(d.values[1].rank) - var_to_lift_up)\n      .attr(\"dx\", 10)\n      .attr(\"dy\", 3)\n      .attr(\"text-anchor\", \"start\")\n      .text(d => {\n        if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) {\n          return \"\";\n        }\n        else {\n          return d.values[1].rank\n        }\n      })\n      .attr(\"fill\", function (d) {\n        if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) {\n          return \"\";\n        }\n        else {\n          return line_color(d.key)\n        }\n      })\n      .on(\"click\", function (d) {\n        return textClickHandler_original(\"A\" + d.key)\n        // if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) { } else { return textClickHandler_original(\"A\"+d.key) }\n      }); //Text - Ranks ends here\n    //-----------------------------------------------------------------------------------------------------------------------------------------Right sparkline starts here\n    selection.select(\".svg2\")\n      .attr('class', d => \"svg2 \" + model_name.replace(\".\", \"stupid\") + d.values[1].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '').split('.').join(' '))\n      .attr(\"x\", d => {\n        var className = model_name.replace(\".\", \"stupid\") + d.values[1].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '').split('.').join(' ')\n        sparkline2.sparklineGen(className, sparkline_data, d.key.replace(/ /g, '').replace(/[^\\w\\s]/gi, ''), actual_model_for_range_and_time_mode, original_data, d.key, year, appHandleChange, d.values[0].rank, line_color(d.key), d.key.replace(/ +/g, \"\"))\n        return width + config.labelGroupOffset + 27\n      })\n      .attr(\"y\", d => yScale(d.values[1].rank) - var_to_lift_up - 14)\n      .attr(\"width\", d => {\n        if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) {\n          return 0;\n        }\n      })\n\n  }\n\n  function onExit(selection) {\n    selection.remove();\n  }\n}\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Fade from '@material-ui/core/Fade';\nimport { connect } from \"react-redux\";\nimport * as algo1 from \"../../Algorithms/algo1\";\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nfunction FadeMenu(props) {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const open = Boolean(anchorEl);\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  //------------For list and chckbox\n  const [checked, setChecked] = React.useState([0]);\n  const [selected_states, setSelected_states] = React.useState([]);\n  const handleToggle = (value) => () => {\n    const currentIndex = checked.indexOf(value);\n    const newChecked = [...checked];\n\n    if (currentIndex === -1) {\n      newChecked.push(value);\n    } else {\n      newChecked.splice(currentIndex, 1);\n    }\n    setChecked(newChecked);\n  };\n  //----------------\n  const show_checkboxChanged = (event) => {\n    var myfunc = props.appHandleChange\n    myfunc(event.target.value, \"show_checkboxChanged\")\n  }\n  const checkboxChanged = (event) => {\n    var temp_Models;\n    if (props.defualt_models.includes(event.target.value)) {\n      temp_Models = props.defualt_models.filter(item => {\n        if (item != event.target.value)\n          return item\n      })\n      temp_Models = algo1.sort(props.sort_by, props.state_range, temp_Models, props.selected_year, props.grouped_by_year_data)[0];\n      props.Set_defualt_models(temp_Models)\n      props.Set_pop_over_models(temp_Models)\n    }\n    else {\n      temp_Models = props.defualt_models\n      temp_Models.push(event.target.value)\n      temp_Models = algo1.sort(props.sort_by, props.state_range, temp_Models, props.selected_year, props.grouped_by_year_data)[0];\n      props.Set_defualt_models(temp_Models)\n      props.Set_pop_over_models(temp_Models)\n    }\n    var myfunc = props.appHandleChange\n    myfunc(event.target.value, \"clicked_model\")\n  }\n  return (\n    <div style={{ borderRight: \"1px dashed #eaeaea\" }}>\n      <Button aria-controls=\"fade-menu\" aria-haspopup=\"true\" onClick={handleClick}>\n        Select Model\n        <ArrowDropDownIcon></ArrowDropDownIcon>\n      </Button>\n      <Menu\n        id=\"fade-menu\"\n        anchorEl={anchorEl}\n        keepMounted\n        open={open}\n        onClose={handleClose}\n        TransitionComponent={Fade}\n      >\n        <div className=\"CheckboxContainer\">\n          <List>\n            {[ \"MART\",\"RandomFor\",\"LinearReg\",\"CordAscent\", \"LambdaMART\", \"LambdaRank\",\"RankBoost\", \"RankNet\"].map((value) => {\n              const labelId = `checkbox-list-label-${value}`;\n              return (\n                <ListItem key={value} role={undefined} onClick={handleToggle(value)}>\n                  <Checkbox\n                    checked={props.defualt_models.includes(value)}\n                    edge=\"start\"\n                    tabIndex={-1}\n                    value={value}\n                    onChange={(event, value) => {\n                      checkboxChanged(event, value)\n                    }\n                    }\n                  />\n                  <p className=\"list_item_label\" id={labelId}>{value}</p>\n                </ListItem>\n              );\n            })}\n          </List>\n        </div>\n      </Menu>\n    </div>\n  );\n}\nconst maptstateToprop = (state) => {\n  return {\n    defualt_models: state.defualt_models,\n    sort_by: state.sort_by,\n    state_range: state.state_range,\n    selected_year: state.selected_year,\n    grouped_by_year_data: state.grouped_by_year_data,\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_defualt_models: (val) => dispatch({ type: \"defualt_models\", value: val }),\n    Set_pop_over_models: (val) => dispatch({ type: \"pop_over_models\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(FadeMenu);\n//https://material-ui.com/components/menus/\n","import React from 'react';\nimport { connect } from \"react-redux\";\nimport Button from '@material-ui/core/Button';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport Radio from '@material-ui/core/Radio';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport Menu from '@material-ui/core/Menu';\nimport Fade from '@material-ui/core/Fade';\nimport * as algo1 from \"../../Algorithms/algo1\";\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nfunction Sort(props) {\n    const [anchorEl, setAnchorEl] = React.useState(null);\n    const [sort_by, set_sort_by] = React.useState(props.sort_by);\n    const open = Boolean(anchorEl);\n    const handleClick = (event) => {\n        setAnchorEl(event.currentTarget);\n    };\n    const handleClose = () => {\n        setAnchorEl(null);\n    };\n    const handleradioChange = (event) => {\n        set_sort_by(event.target.value)\n        if(event.target.value==\"None\"){var val=\"Alphabetically\"}\n        else{var val=event.target.value}\n        props.Set_sort_by(val)\n        var temp_Models = algo1.sort(val, props.state_range, props.defualt_models, props.selected_year,props.grouped_by_year_data)[0];\n        var default_model_scores = algo1.sort(val, props.state_range, props.defualt_models, props.selected_year,props.grouped_by_year_data)[1];\n        props.Set_default_model_scores(default_model_scores)\n        props.Set_defualt_models(temp_Models)\n      };\n    return (\n        <div className=\"sort\" style={{borderRight:\"1px dashed #eaeaea\"}}>\n            <Button aria-controls=\"fade-menu\" aria-haspopup=\"true\" onClick={handleClick}>Select Metrics <ArrowDropDownIcon></ArrowDropDownIcon></Button>\n            <Menu\n                id=\"fade-menu\"\n                anchorEl={anchorEl}\n                keepMounted\n                open={open}\n                onClose={handleClose}\n                TransitionComponent={Fade}\n            >\n            <FormControl component=\"fieldset\">\n                <FormLabel component=\"legend\"></FormLabel>\n                <RadioGroup aria-label=\"gender\" name=\"gender1\" value={sort_by} onChange={handleradioChange}>\n                    {['Discounted Cumulative Gain', 'Average Precision', 'None'].map((value) => {\n                        return <FormControlLabel value={value} control={<Radio />} label={value} />\n                    })}\n                </RadioGroup>\n            </FormControl>\n            </Menu>\n        </div>\n    );\n}\nconst maptstateToprop = (state) => {\n    return {\n        defualt_models: state.defualt_models,\n        sort_by:state.sort_by,\n        state_range: state.state_range,\n        selected_year: state.selected_year,\n        grouped_by_year_data:state.grouped_by_year_data,\n    }\n}\nconst mapdispatchToprop = (dispatch) => {\n    return {\n        Set_sort_by: (val) => dispatch({ type: \"sort_by\", value: val }),\n        Set_defualt_models: (val) => dispatch({ type: \"defualt_models\", value: val }),\n        Set_default_model_scores: (val) => dispatch({ type: \"default_model_scores\", value: val }),\n    }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Sort);\n//https://material-ui.com/components/menus/\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport \"./TopBar.scss\";\nimport TextField from '@material-ui/core/TextField';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport * as d3 from 'd3';\nimport DefaultModels from './DefaultModels'\nimport Sort from './Sort'\nimport { connect } from \"react-redux\";\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\nimport * as algo1 from \"../../Algorithms/algo1\"\nconst useStyles = makeStyles((theme) => ({\n  MuiAutocompleteroot: {\n    marginTop: 0,\n  },\n  root: {\n    width: '100%',\n  },\n  listroot: {\n    width: '100%',\n    maxWidth: 360,\n  },\n  paper: {\n  },\n  heading: {\n    fontSize: theme.typography.pxToRem(15),\n    fontWeight: theme.typography.fontWeightRegular,\n  },\n}));\nfunction TopBar(props) {\n  const classes = useStyles();\n  const handleyearChange = (event, value, reason) => {\n    if (reason == 'select-option') {\n      props.Set_selected_year(value)\n      var myfunc = props.appHandleChange\n      myfunc(value, \"year_changed\")\n    }\n  };\n  var handle_year_click = (year) => {\n    if(year==\"All\"){props.Set_selected_years([...props.years_for_dropdown])}\n    else{\n      if (props.selected_years.includes(year)) {\n        props.Set_selected_years(props.selected_years.filter(item=>item!=year))\n      }\n      else {\n        props.Set_selected_years([...props.selected_years,year])\n      }  \n    }\n  }\n  var handle_model_click=(model)=>{\n    if(model==\"All\"){props.Set_defualt_models([...props.all_models])}\n    else if(model==\"Average\"){props.Set_average_m(!props.average_m)}\n    else{\n      if (props.defualt_models.includes(model)) {\n        props.Set_defualt_models(props.defualt_models.filter(item=>item!=model))\n      }\n      else {\n        props.Set_defualt_models([...props.defualt_models,model])\n      }  \n    }\n  }\n  return (\n    <div>\n    <div><h5 style={{ display: \"inline-block\", marginLeft: 30 }}>Years:</h5>{props.years_for_dropdown.map(item => <p className={props.selected_years.includes(item) ? \"years_p_selected years_p\" : \"years_p\"} onClick={() => handle_year_click(item)}>{item}</p>)}<p className=\"years_p\" style={{ display: \"inline-block\"}} onClick={() => handle_year_click(\"All\")}>All</p> <p className=\"years_p\" style={{ display: \"inline-block\"}}>Average</p></div>\n    <div><h5 style={{ display: \"inline-block\", marginLeft: 30 }}>Models:</h5>{props.all_models.map(item => <p className={props.defualt_models.includes(item) ? \"years_p_selected years_p\" : \"years_p\"} onClick={() => handle_model_click(item)}>{item}</p>)}<p className=\"years_p\" style={{ display: \"inline-block\"}} onClick={() => handle_model_click(\"All\")}>All</p> <p className={props.average_m ? \"years_p_selected years_p\" : \"years_p\"} style={{ display: \"inline-block\"}} onClick={() => handle_model_click(\"Average\")}>Average</p></div>\n    </div>\n  );\n}\nconst maptstateToprop = (state) => {\n  return {\n    all_models:state.all_models,\n    selected_years: state.selected_years,\n    tracking: state.tracking,\n    selected_year: state.selected_year,\n    years_for_dropdown: state.years_for_dropdown,\n    defualt_models: state.defualt_models,\n    mode: state.mode,\n    prev_prop: state.prev_prop,\n    state_range: state.state_range,\n    replay: state.replay,\n    grouped_by_year_data: state.grouped_by_year_data,\n    clicked_items_in_slopechart: state.clicked_items_in_slopechart,\n    range_mode_range1: state.range_mode_range1,\n    range_mode_range2: state.range_mode_range2,\n    time_mode_range: state.time_mode_range,\n    mode: state.mode, // Model mode model\n    sort_by: state.sort_by,\n    average_m:state.average_m\n\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    add: (val) => dispatch({ type: \"add\", value: val }),\n    Set_selected_years: (val) => dispatch({ type: \"selected_years\", value: val }),\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: val }),\n    set_tracking: (val) => dispatch({ type: \"tracking\", value: val }),\n    Set_histogram_data: (val) => dispatch({ type: \"histogram_data\", value: val }),\n    Set_changed: (val) => dispatch({ type: \"changed\", value: val }),\n    Set_state_range: (val) => dispatch({ type: \"state_range\", value: val }),\n    Set_slider_max: (val) => dispatch({ type: \"slider_max\", value: val }),\n    Set_range_mode_range1: (val) => dispatch({ type: \"range_mode_range1\", value: val }),\n    Set_range_mode_range2: (val) => dispatch({ type: \"range_mode_range2\", value: val }),\n    Set_time_mode_range: (val) => dispatch({ type: \"time_mode_range\", value: val }),\n    Set_pop_over_models: (val) => dispatch({ type: \"pop_over_models\", value: val }),\n    Set_defualt_models: (val) => dispatch({ type: \"defualt_models\", value: val }),\n    Set_default_model_scores: (val) => dispatch({ type: \"default_model_scores\", value: val }),\n    Set_average_m: (val) => dispatch({ type: \"average_m\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(TopBar);\n\n//https://material-ui.com/api/slider/\n//https://material-ui.com/components/expansion-panels/\n//https://material-ui.com/api/checkbox/\n//https://material-ui.com/components/radio-buttons/","import * as d3 from 'd3';\nimport * as $ from \"jquery\"\nexport default function CreateChart(feature, data, node, feature_height, selected_year, handleHistogramselection, feature_data) {\n  var feature_width = $(\".Sidebar_parent\").width()\n  var svg = d3.select(node),\n    margin = { top: 30, right: 15, bottom: 20, left: 7 },\n    width = feature_width - margin.left - margin.right,\n    height = feature_height - margin.top - margin.bottom;\n  if (isNaN(data[0].y)) {\n    //-----------------------------------------------------------(handle the categorical features here)\n    var occur = {}\n    data.map(item => {\n      if (item.y in occur) {\n        occur[item.y] = occur[item.y] + 1\n      }\n      else {\n        occur[item.y] = 1\n      }\n    })\n    // Create items array\n    var items = Object.keys(occur).map(function (key) {\n      return [key, occur[key]];\n    });\n\n    // Sort the array based on the second element\n    items.sort(function (first, second) {\n      return second[1] - first[1];\n    });\n    //-----\n    var y = items.map(element => element[0]);\n    var x = items.map(element => element[1]);\n    var sum_x = d3.sum(x)\n    var cScale = d3.scaleSequential()\n      .interpolator(d3.interpolate(\"#999999b3\", \"#999999b3\"))\n      .domain([0, x.length]);\n    svg.selectAll(\".hist_title\").data([0]).join(\"text\").attr(\"class\", \"hist_title\").attr(\"y\", 15).attr(\"x\", width / 2).attr(\"text-anchor\", \"middle\").text(feature);\n    var g = svg.selectAll(\".g1\").data([0]).join(\"g\").attr(\"class\", \"g1\").attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n    var svg1 = g.selectAll(\".svg1\").data([0]).join('svg').attr(\"class\", \"svg1\").attr('width', width).attr('height', height)\n    svg1.selectAll('rect').data(x).join(\"rect\")\n      .style('fill', (d, i) => cScale(i)).attr(\"height\", height)\n      .attr('width', (d, i) => {\n        return (((d / sum_x) * width) - .2)\n      })\n      .attr(\"x\", (d, i) => {\n        var temp_sum = d3.sum(x.slice(0, i))\n        return ((temp_sum / sum_x) * width)\n      })\n      .attr(\"id\", (d, i) => y[i])\n      .on(\"click\", (d, i) => {\n        d3.select(\"#\" + y[i]).classed(\"cat_item_clicked\", () => {\n          if (d3.select(\"#\" + y[i]).classed(\"cat_item_clicked\")) {\n\n            return false\n          }\n          else {\n            var statelist = cat_states(feature_data, selected_year, y[i])\n            handleHistogramselection(statelist, \"histogram_data\")\n            return true\n          }\n        })\n\n      }\n      )\n    //---\n    svg1.selectAll(\"text\").data(y, d => d).join(\"text\")\n      .text((d, i) => {\n        if (((x[i] / sum_x) * width) > 12) { return d }\n        else { return \"\" }\n      })\n      .attr(\"x\", (d, i) => {\n        var temp_sum = d3.sum(x.slice(0, i))\n        return ((temp_sum / sum_x) * width) + 8\n      })\n      .attr(\"y\", height / 2)\n      .style(\"font-size\", 9)\n      .style(\"writing-mode\", \"tb\")\n      .style(\"text-anchor\", \"middle\")\n    //-----------------------------------------------------------Barchart ends here\n  }\n  else {\n    //----------------------------------------------------------- Handle the Numeric features here)\n    svg.selectAll(\".hist_title\").data([feature], d => d).join(\"text\").attr(\"class\", \"hist_title\").attr(\"y\", 15).attr(\"x\", width / 2).attr(\"text-anchor\", \"middle\").text(feature.replace(/_/g, ' '));\n\n    var temp_x = data.map(item => parseFloat(item['y'])),\n      x = d3.scaleLinear().domain([d3.min(temp_x), d3.max(temp_x)]).range([0, width]).nice(),\n      tick_values = x.ticks(4),\n      hist_height = height,\n      histogram = d3.histogram()\n        .value(d => d)   // I need to give the vector of value\n        .domain(x.domain())  // then the domain of the graphic\n        .thresholds(4); // then the numbers of bins\n    var bins = histogram(temp_x),\n      y_hist = d3.scaleLinear()\n        .range([hist_height, 0]);\n    y_hist.domain([0, d3.max(bins, function (d) { return d.length; })]);   // d3.hist has to be called before the Y axis obviously\n    var svg0 = svg.selectAll('.svg0').data([0]).join('svg').attr(\"class\", \"svg0\").selectAll(\".myg0\").data([0]).join('g').attr(\"class\", \"myg0\").attr(\"transform\",\n      \"translate(\" + margin.left + \",\" + margin.top + \")\")\n\n    svg0.selectAll(\"rect\").data(bins).join('rect')\n      .attr(\"x\", 1)\n      .attr(\"fill\", \"#999999b3\")\n      .attr(\"transform\", function (d) {\n        if(d.x0==d.x1){return \"translate(\" + 0 + \",\" + y_hist(d.length) + \")\"}\n        return \"translate(\" + x(d.x0) + \",\" + y_hist(d.length) + \")\";\n      })\n      .attr(\"width\", function (d) { \n        if(d.x0==d.x1){return width}\n        return x(d.x1) - x(d.x0) - 0.2; })\n      .attr(\"height\", function (d) { return hist_height - y_hist(d.length); });\n    //-------Add text of bars\n    \n    svg0.selectAll(\".mylabel\").data(bins).join('text').attr(\"class\",\"mylabel\")\n      .attr(\"x\", d=>x(d.x0)+((x(d.x1)-x(d.x0))/3))\n      .text(d=>d.length)\n      .attr('y',d=> y_hist(d.length)-2)\n      .attr('font-size',10)\n  \n    //------------- Add X axis\n    if(d3.max(tick_values)>1000){\n      svg0.selectAll(\".myXaxis\").data([0]).join('g').attr(\"class\", \"myXaxis\")\n      .attr(\"transform\", \"translate(0,\" + hist_height + \")\")\n      .call(d3.axisBottom(x).tickValues(tick_values).tickFormat(d3.format(\".2s\")))\n    }\n    else{\n      svg0.selectAll(\".myXaxis\").data([0]).join('g').attr(\"class\", \"myXaxis\")\n      .attr(\"transform\", \"translate(0,\" + hist_height + \")\")\n      .call(d3.axisBottom(x).tickValues(tick_values))\n    }\n\n    svg0.selectAll(\".tick line,.domain\").attr(\"stroke\", \"#adadad\")\n\n    //------------------------------------------------------------------------------------------------------ Create Histogram ends here    \n    //---drag starts here\n    var selectionRect = {\n      element: null,\n      previousElement: null,\n      currentY: 0,\n      currentX: 0,\n      originX: 0,\n      originY: 0,\n      setElement: function (ele) {\n        this.previousElement = this.element;\n        this.element = ele;\n      },\n      getNewAttributes: function () {\n        var x = this.currentX < this.originX ? this.currentX : this.originX;\n        var y = this.currentY < this.originY ? this.currentY : this.originY;\n        var width = Math.abs(this.currentX - this.originX);\n        var height = Math.abs(this.currentY - this.originY);\n        return { x: x, y: y, width: width, height: height }; // returning the javascript object\n      },\n      getCurrentAttributes: function () {\n        // use plus sign to convert string into number\n        var x = +this.element.attr(\"x\");\n        var y = +this.element.attr(\"y\");\n        var width = +this.element.attr(\"width\");\n        var height = +this.element.attr(\"height\");\n        return { x1: x, y1: y, x2: x + width, y2: y + height }; // returning the javascript object\n      },\n      getCurrentAttributesAsText: function () {\n        var attrs = this.getCurrentAttributes();\n        return \"x1: \" + attrs.x1 + \" x2: \" + attrs.x2 + \" y1: \" + attrs.y1 + \" y2: \" + attrs.y2;\n      },\n      init: function (newX, newY) {\n        var rectElement = svg.append(\"rect\")\n          .attr('rx', 1).attr('ry', 1).attr(\"x\", 0).attr(\"y\", 0)\n          .attr('width', 0).attr('height', 0).classed(\"selection\", true);\n        this.setElement(rectElement);\n        this.originX = newX;\n        this.originY = newY;\n        this.update(newX, newY);\n      },\n      update: function (newX, newY) {\n        this.currentX = newX;\n        this.currentY = newY;\n        var NewAttr = this.getNewAttributes()\n        this.element.attr(\"x\", NewAttr.x).attr(\"y\", NewAttr.y)\n          .attr('width', NewAttr.width).attr('height', NewAttr.height)\n      },\n      focus: function () {\n        this.element\n          .style(\"stroke\", \"\")\n          .style(\"stroke-width\", \"1\");\n      },\n      remove: function () {\n        this.element.remove();\n        this.element = null;\n      },\n      removePrevious: function () {\n        if (this.previousElement) {\n          this.previousElement.remove();\n        }\n      }\n    };\n\n    //-----------------\n    function dragStart() {\n      var p = d3.mouse(this);\n      selectionRect.init(p[0], p[1]);\n      selectionRect.removePrevious();\n    }\n    function dragMove() {\n      var p = d3.mouse(this);\n      selectionRect.update(p[0], p[1]);\n    }\n    function dragEnd() {\n      var finalAttributes = selectionRect.getCurrentAttributes();\n      if (finalAttributes.x1 != finalAttributes.x2) {\n        var myx1 = finalAttributes.x1 - margin.left\n        var myx2 = finalAttributes.x2 - margin.left\n        var temp_range = [x.invert(myx1).toFixed(4), x.invert(myx2).toFixed(4)]\n        var statelist = states(feature_data, temp_range, selected_year, feature)\n        handleHistogramselection(statelist, \"histogram_data\")\n      }\n      if (finalAttributes.x2 - finalAttributes.x1 > 1 && finalAttributes.y2 - finalAttributes.y1 > 1) {\n        // range selected\n        d3.event.sourceEvent.preventDefault();\n        selectionRect.focus();\n      } else {\n        selectionRect.remove();\n      }\n    }\n    var dragBehavior = d3.drag()\n      .on(\"start\", dragStart)\n      .on(\"drag\", dragMove)\n      .on(\"end\", dragEnd);\n    svg.call(dragBehavior);\n    //---drag ends here\n  }\n  function states(original_data,range,year,feature){\n    var temp=[]\n    original_data.forEach(element => {\n      if(element[\"1-qid\"]==year && parseFloat(element[feature])>=range[0] && parseFloat(element[feature])<=range[1]){\n       temp.push(parseInt(element['two_realRank']))\n      }\n    });\n    return temp;\n  }\n  function cat_states(original_data,year,country){\n    var temp=[]\n    original_data.forEach(element => {\n      if(element[\"1-qid\"]==year && element[\"country\"]==country){\n       temp.push(parseInt(element['two_realRank']))\n      }\n    });\n    return temp;\n  }\n  //----------------------------------------------------------- Histogram creation ends here\n}\n\n//https://www.youtube.com/watch?v=N9nHQzboCUI","import React, { Component, PureComponent } from 'react';\nimport * as d3 from 'd3';\nimport './Histogram.css';\nimport * as algo1 from \"../../Algorithms/algo1\";\nimport CreateChart from \"./Histogram\"\nimport exp_fiscal_CordAscent from \"../../Data/data/fiscal/lime/chart1_data.csv\";\nimport exp_school_CordAscent from \"../../Data/data/school/lime/chart1_data.csv\";\nimport exp_house_CordAscent from \"../../Data/data/house/lime/chart1_data.csv\";\nimport { connect } from 'react-redux'\nimport { Button } from '@material-ui/core';\nimport * as $ from \"jquery\"\nclass Chart extends Component {\n  constructor(props) {\n    super(props);\n    this.myRef = React.createRef();\n    this.state = { feaures_dict: {}, features_voted: null, feature_data: null, selected_states: [] } // This is the default height\n  }\n  componentDidMount() {\n    var self = this\n    var filename; if (this.props.dataset == \"fiscal\") { filename = exp_fiscal_CordAscent } else if (this.props.dataset == \"school\") { filename = exp_school_CordAscent } else if (this.props.dataset == \"house\") { filename = exp_house_CordAscent }\n    d3.csv(filename).then(function (feature_data) {\n      self.setState({ feature_data: feature_data })\n    })\n  }\n  shouldComponentUpdate() {\n    return true;\n  }\n  componentDidUpdate() {\n    var self = this\n    var legend_data = this.makeArr(this.props.state_range);\n    //------\n    var height_between = 20\n    var feature_height = 260\n    var number_of_elements = (this.props.state_range[1] - this.props.state_range[0]) + (2 * this.props.deviate_by);\n    if (number_of_elements * height_between < 700) { height_between = 700 / number_of_elements }\n    var exp_chart_height = (number_of_elements * height_between);\n    var number_of_charts = Math.floor(exp_chart_height / feature_height) * 3\n    if(number_of_charts<9){number_of_charts=9}\n    //------\n    var features_dict = algo1.features_with_score(this.props.dataset, this.props.defualt_models, legend_data, this.props.selected_year,number_of_charts,this.props.rank_data)\n    var items = Object.keys(features_dict).map(function (key) {\n      return [key, features_dict[key]];\n    });\n    items.sort(function (first, second) { // Sort the array based on the second element\n      return second[1] - first[1];\n    });\n    items = items.map((element) => element[0])\n    //--------\n    var filename; if (this.props.dataset == \"fiscal\") { filename = exp_fiscal_CordAscent } else if (this.props.dataset == \"school\") { filename = exp_school_CordAscent }\n    //--------------------------------Iterate through each features\n    if (this.state.feature_data != null) {\n      var feature_width=$(\".Sidebar_parent\").width()\n      var feature_height = 150; // Feature height for individual feature\n //--------------------------------------------- Iterate trough eact item and create histograms\n    items.forEach((feature, feature_index) => {\n        var feature_id = \"feature\"+feature.replace(/[^\\w\\s]/gi, '')\n        var temp = []\n        this.state.feature_data.forEach(element => {\n          if (element[\"1-qid\"] == self.props.selected_year) {\n            var temp_dict = {}\n            temp_dict[\"x\"] = parseInt(element['two_realRank'])\n            temp_dict[\"y\"] = element[feature]\n            temp.push(temp_dict)\n          }\n        });\n        d3.select(\"#histogram_container\").attr(\"height\", items.length * feature_height).selectAll(\"#\" + feature_id).data([feature_id], d => d).join(\"svg\").attr(\"id\", feature_id).attr(\"width\", feature_width)\n          .attr(\"x\", d => {\n            //--------------------------------------------- Create chart is imported from the Histogram.js and this is the function that creates all the histograms\n            CreateChart(feature, temp, \"#\" + feature_id, feature_height, self.props.selected_year, self.handleHistogramselection, self.state.feature_data)\n            return 0;\n          })\n          .attr(\"y\", (d, i) => feature_height * feature_index)\n      })\n    }\n  }\n  handleHistogramselection = (data, type) => {\n    \n    var temp = this.state.selected_states\n    data.forEach(element => {\n      if (!temp.includes(element)) { temp.push(element) }\n    });\n    this.setState({ selected_states: temp })\n  }\n  update_histogram_data = () => {\n    d3.selectAll(\".cat_item_clicked\").classed(\"cat_item_clicked\",false)\n    d3.selectAll(\".selection\").remove()\n    if(this.state.selected_states.length<1){alert(\"Empty selection!\");return}\n    var myfunc = this.props.appHandleChange\n    var filtered_states = this.state.selected_states.filter((item) => {\n      if (item >= this.props.state_range[0] && item <= this.props.state_range[1]) {\n        return item\n      }\n    })\n    if(filtered_states.length<1){alert(\"Empty Selection\")}\n    if (this.props.slider_and_feature_value[\"Feature\"] == 1 && this.props.slider_and_feature_value[\"Rank range\"] == 1) { // If rank range is selected then filter states within the range\n      this.props.Set_histogram_data(filtered_states)\n      myfunc(filtered_states, \"histogram_data\")\n    }\n    else {\n      this.props.Set_histogram_data(this.state.selected_states) // else set states as selected\n      myfunc(this.state.selected_states, \"histogram_data\")\n    }\n    this.setState({ selected_states: [] })\n  }\n  //-----------------------------------------------------------------\n  render() {\n    return (\n      <div>\n        <Button className=\"update\" style={{marginLeft:0,padding:0,width:197}} onClick={() => {\n          var self=this\n              if(!this.props.slider_and_feature_value[\"Rank range\"]){\n                if(d3.min(this.state.selected_states)<this.props.state_range[0]){\n                  this.props.Set_state_range([d3.min(this.state.selected_states),this.props.state_range[1]])\n                }\n                if(d3.max(this.state.selected_states)>this.props.state_range[1]){\n                  this.props.Set_state_range([this.props.state_range[0],d3.max(this.state.selected_states)])\n                }\n              }\n              setTimeout(function(){ self.update_histogram_data(); }, 500);\n          }}\n          >Update</Button>\n        <div className=\"hitograms_container\">\n        <svg id=\"histogram_container\" style={{ width: this.props.width }}></svg>\n        </div>\n      </div>\n    );\n  }\n  makeArr = (state_range) => {\n    var startValue = state_range[0];\n    var stopValue = state_range[1];\n    var arr = [];\n    for (var i = startValue; i <= stopValue; i++) {\n      arr.push(i);\n    }\n    return arr;\n  }\n}\nconst maptstateToprop = (state) => {\n  return {\n    state_range: state.state_range,\n    defualt_models: state.defualt_models,\n    dataset: state.dataset,\n    selected_year: state.selected_year,\n    slider_and_feature_value: state.slider_and_feature_value,\n    deviate_by:state.deviate_by,\n    rank_data:state.rank_data\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_defualt_models: (val) => dispatch({ type: \"defualt_models\", value: val }),\n    Set_sparkline_data: (val) => dispatch({ type: \"sparkline_data\", value: val }),\n    Set_histogram_data: (val) => dispatch({ type: \"histogram_data\", value: val }),\n    Set_state_range: (val) => dispatch({ type: \"state_range\", value: val }),\n    Set_clicked_items_in_slopechart: (val) => dispatch({ type: \"clicked_items_in_slopechart\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Chart);","import React from 'react';\nimport { connect } from 'react-redux'\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Grid from '@material-ui/core/Grid';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nfunction Tracking(props) {\n  return (\n    <Grid\n      container\n      direction=\"row\"\n      justify=\"flex-start\"\n      alignItems=\"baseline\"\n    >\n      <FormControlLabel\n        labelPlacement=\"start\"\n        control={\n          <Checkbox\n            checked={props.tracking}\n            onChange={(event) => props.set_tracking(event.target.checked)}\n            name=\"checkedB\"\n            color=\"primary\"\n          />\n        }\n        label=\"Tracking\"\n      />\n    </Grid>\n  );\n}\n\nconst maptstateToprop = (state) => {\n  return {\n    tracking: state.tracking,\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    set_tracking: (val) => dispatch({ type: \"tracking\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Tracking);\n//https://material-ui.com/components/menus/\n","import React from 'react';\nimport \"./Sidebar.scss\";\nimport * as $ from 'jquery';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Slider from '@material-ui/core/Slider';\nimport Histograms from \"./Histograms\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport { connect } from \"react-redux\";\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport Button from \"@material-ui/core/Button\";\nimport Grid from '@material-ui/core/Grid';\nimport Tracking from \"./Tracking\"\nimport * as algo1 from \"../../Algorithms/algo1\"\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: '100%',\n    },\n    heading: {\n        fontSize: theme.typography.pxToRem(15),\n        flexBasis: '33.33%',\n        flexShrink: 0,\n    },\n    secondaryHeading: {\n        fontSize: theme.typography.pxToRem(15),\n        color: theme.palette.text.secondary,\n    },\n    tRoot: {\n        marginBottom: 35,\n    },\n    rang_input: {\n        marginLeft: 10,\n    },\n}));\nfunction Modes(props) {\n    const classes = useStyles();\n    // states \n    const [sliderRange, set_sliderRange] = React.useState(props.state_range);\n    const [range_mode_slider_value1, set_range_mode_slider_value1] = React.useState(props.range_mode_range1);\n    const [range_mode_slider_value2, set_range_mode_slider_value2] = React.useState(props.range_mode_range2);\n    const [time_mode_slider_value, set_time_mode_slider_value] = React.useState(props.time_mode_range);\n    const [dummy, set_dummy] = React.useState(0);\n\n    //-----------------------------------------------------------------\n    var temp_marks = [];\n    var step = (props.slider_max - 1) / (6 - 1);\n    for (var i = 0; i < 6; i++) {\n        temp_marks.push(1 + (step * i));\n    }\n    var marks = temp_marks.map(item => {\n        var myitem = parseInt(item)\n        return { value: myitem, label: myitem }\n    })\n    //console.log(props.marks)\n    //-----------------------------------------------------------------\n    return (\n        <div style={{ borderTop: \"1px solid #eaeaea\" }}>\n            <p className=\"title_show\" style={{ marginBottom: 8 }}>Compare:</p>\n            <Autocomplete className=\"autocomplete_mode\" style={{ border: \"1px solid grey\", borderRadius: 0, paddingTop: 0, paddingBottom: 0, marginLeft: 5, marginRight: 30, width: $('.Sidebar').width() - 10 }}\n                defaultValue={\"Models\"}\n                id=\"debug\"\n                debug\n                options={[\"Models\", \"Ranges\", \"Time\"]}\n                renderInput={(params) => (\n                    <TextField {...params} label=\"\" margin=\"normal\" fullWidth={true} InputProps={{ ...params.InputProps, disableUnderline: true }} />\n                )}\n                onChange={(event, val) => {\n                    var value = val.replace('s', \"\")\n                    props.Set_mode(value)\n                    props.Set_clicked_items_in_slopechart([])\n                }\n                }\n            />\n            {props.mode == \"Model\" ? <div style={{ marginTop: 10, paddingLeft: 5, width: $('.Sidebar').width() }}>\n                <p style={{ marginLeft: 0, marginBottom: -5, marginTop: 15, marginRight: 12, paddingLeft: 5, backgroundColor: \"#f7f7f7\", fontSize: 16 }}>{props.dataset == \"fiscal\" ? \"Select states\" : \"Select \" + props.dataset + \"s\"}</p>\n                <div key={props.slider_and_feature_value} className=\"slider_feature_container\">\n                    <List className={classes.listroot}>\n                        {['Rank range', 'Feature'].map((value) => {\n                            const labelId = `checkbox-list-label-${value}`;\n                            return (\n                                <div className=\"listItem\"><ListItem key={value} role={undefined} >\n                                    <Checkbox\n                                        checked={props.slider_and_feature_value[value]}\n                                        edge=\"start\"\n                                        tabIndex={-1}\n                                        value={value}\n                                        onChange={(event) => {\n                                            var temp_val = props.slider_and_feature_value\n                                            if (props.slider_and_feature_value[event.target.value]) { temp_val[event.target.value] = 0 }\n                                            else { temp_val[event.target.value] = 1 }\n                                            set_dummy(JSON.stringify(temp_val)) // This is to change the state so that the component is updated\n                                            //console.log(\"dummy\",dummy)\n                                            props.Set_slider_and_feature_value(temp_val)\n                                        }}\n                                    />\n                                    <p className=\"list_item_label\" id={labelId}>{value}</p>\n                                </ListItem>\n                                </div>\n                            );\n                        })}\n                    </List>\n                </div>\n                {props.slider_and_feature_value[\"Rank range\"] == 1 ?\n                    <div className=\"rangeslider\" style={{ width: $('.Sidebar').width() - 12 }} >\n                        <Slider\n                            value={sliderRange}\n                            onChange={(event, newValue) => set_sliderRange(newValue)}\n                            onChangeCommitted={(event, newValue) => props.Set_changed(\"range\")}\n                            valueLabelDisplay=\"auto\"\n                            aria-labelledby=\"range-slider\"\n                            valueLabelDisplay=\"on\"\n                            min={1}\n                            max={props.slider_max}\n                            marks={marks}\n                        />\n                        <Grid style={{ marginBottom: 15 }} container\n                            direction=\"row\"\n                            justify=\"space-around\"\n                            alignItems=\"center\">\n                            <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Lower\" value={sliderRange[0]} style={{ width: 40 }}\n                                onChange={event => {\n                                    if (isNaN(parseInt(event.target.value))) {\n                                        set_sliderRange([\"\", sliderRange[1]])\n                                    } else {\n                                        if (event.target.value > sliderRange[1]) {\n                                            alert(\"Lower range can not be larger than the upper range\")\n                                        }\n                                        else {\n                                            set_sliderRange([event.target.value, sliderRange[1]])\n                                        }\n                                    }\n                                }\n                                }\n                            />\n                            <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Upper\" value={sliderRange[1]} style={{ width: 40 }}\n                                onChange={event => {\n                                    if (isNaN(parseInt(event.target.value))) {\n                                        set_sliderRange([sliderRange[0], \"\"])\n                                    } else {\n                                        if (parseInt(event.target.value) > props.slider_max) {\n                                            alert(\"Upper range can not exceed maximum\")\n                                            set_sliderRange([sliderRange[0], props.slider_max])\n                                        }\n                                        else {\n                                            set_sliderRange([sliderRange[0], parseInt(event.target.value)])\n                                        }\n                                    }\n                                }\n                                }\n                            />\n                        </Grid>\n                        <Tracking></Tracking>\n                        <Button className=\"range_button\" style={{ width: $('.Sidebar').width() - 11, backgroundColor: \"#ededed\", height: 30, marginBottom: 5, marginLeft: -3 }}\n                            onClick={() =>{\n                                props.Set_state_range(sliderRange)\n                                var temp_Models = algo1.sort(props.sort_by, sliderRange, props.defualt_models,props.selected_year, props.grouped_by_year_data)[0];\n                                var default_model_scores = algo1.sort(props.sort_by, sliderRange, props.defualt_models,props.selected_year, props.grouped_by_year_data)[1];\n                                props.Set_default_model_scores(default_model_scores)\n                                props.Set_defualt_models([...temp_Models])\n                                \n                            }}\n                        >Update range</Button>\n                    </div> : null}\n                {props.slider_and_feature_value[\"Feature\"] == 1 ?\n                    <div>\n                        <div>\n                            <Histograms\n                                year={props.selected_year.toString()} state_range={props.state_range}\n                                Sidebar_width={$('.Sidebar').width()} appHandleChange={props.appHandleChange}>\n                            </Histograms>\n                        </div>\n                    </div> : null\n                }\n            </div> : null}\n            {props.mode == \"Range\" ? <div style={{ marginTop: 10, paddingLeft: 5, width: $('.Sidebar').width() }}>\n                <div className=\"range_model\">\n                    <Autocomplete\n                        defaultValue={props.range_mode_model}\n                        id=\"debug\"\n                        debug\n                        options={[\"CordAscent\", \"LambdaMART\", \"LambdaRank\", \"LinearReg\", \"ListNet\", \"MART\", \"RandomFor\", \"RankBoost\", \"RankNet\"].map((option) => option)}\n                        renderInput={(params) => (\n                            <TextField {...params} label=\"Model\" margin=\"normal\" InputProps={{ ...params.InputProps, disableUnderline: true }} />\n                        )}\n                        onChange={(event, value) => props.Set_range_mode_model(value)}\n                    />\n                    <p style={{ marginLeft: 0, marginBottom: -5, marginTop: 15, marginRight: 12, paddingLeft: 5, backgroundColor: \"#f7f7f7\", fontSize: 16 }}>{props.dataset == \"fiscal\" ? \"Select states\" : \"Select \" + props.dataset + \"s\"}</p>\n                </div>\n                <div className=\"rangeslider\" style={{ width: $('.Sidebar').width() - 12 }} >\n                    <Typography classes={{ root: classes.tRoot }}>\n                        Group 1\n                        </Typography>\n                    <Slider\n                        value={range_mode_slider_value1}\n                        onChange={(event, newValue) => set_range_mode_slider_value1(newValue)}\n                        onChangeCommitted={(event, newValue) => props.Set_changed(\"range\")}\n                        valueLabelDisplay=\"auto\"\n                        aria-labelledby=\"range-slider\"\n                        valueLabelDisplay=\"on\"\n                        min={1}\n                        max={props.slider_max}\n                        marks={marks}\n                    />\n                    <Grid style={{ marginBottom: 15 }} container\n                        direction=\"row\"\n                        justify=\"space-around\"\n                        alignItems=\"center\">\n                        <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Lower\" value={range_mode_slider_value1[0]} style={{ width: 40 }}\n                            onChange={event => {\n                                if (isNaN(parseInt(event.target.value))) {\n                                    set_range_mode_slider_value1([\"\", range_mode_slider_value1[1]])\n                                } else {\n                                    if (event.target.value > range_mode_slider_value1[1]) {\n                                        alert(\"Lower range can not be larger than the upper range\")\n                                    }\n                                    else {\n                                        set_range_mode_slider_value1([event.target.value, range_mode_slider_value1[1]])\n                                    }\n                                }\n                            }\n                            }\n                        />\n                        <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Upper\" value={range_mode_slider_value1[1]} style={{ width: 40 }}\n                            onChange={event => {\n                                if (isNaN(parseInt(event.target.value))) {\n                                    set_range_mode_slider_value1([range_mode_slider_value1[0], \"\"])\n                                } else {\n                                    if (parseInt(event.target.value) > props.slider_max) {\n                                        alert(\"Upper range can not exceed maximum\")\n                                        set_range_mode_slider_value1([range_mode_slider_value1[0], props.slider_max])\n                                    }\n                                    else {\n                                        set_range_mode_slider_value1([range_mode_slider_value1[0], parseInt(event.target.value)])\n                                    }\n                                }\n                            }\n                            }\n                        />\n                    </Grid>\n                    <Button className=\"range_button\" style={{ width: $('.Sidebar').width() - 11, backgroundColor: \"#ededed\", height: 30, marginBottom: 5, marginLeft: -3 }}\n                        onClick={() => props.Set_range_mode_range1(range_mode_slider_value1)}\n                    >Update range</Button>\n                </div>\n                <div className=\"rangeslider\" style={{ width: $('.Sidebar').width() - 12 }} >\n                    <Typography classes={{ root: classes.tRoot }}>\n                        Group 2\n                        </Typography>\n                    <Slider\n                        value={range_mode_slider_value2}\n                        onChange={(event, newValue) => set_range_mode_slider_value2(newValue)}\n                        onChangeCommitted={(event, newValue) => { props.Set_changed(\"range\") }}\n                        valueLabelDisplay=\"auto\"\n                        aria-labelledby=\"range-slider\"\n                        valueLabelDisplay=\"on\"\n                        min={1}\n                        max={props.slider_max}\n                        marks={marks}\n                    />\n                </div>\n                <Grid style={{ marginBottom: 15 }} container\n                    direction=\"row\"\n                    justify=\"space-around\"\n                    alignItems=\"center\">\n                    <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Lower\" value={range_mode_slider_value2[0]} style={{ width: 40 }}\n                        onChange={event => {\n                            if (isNaN(parseInt(event.target.value))) {\n                                set_range_mode_slider_value2([\"\", range_mode_slider_value2[1]])\n                            } else {\n                                if (event.target.value > range_mode_slider_value2[1]) {\n                                    alert(\"Lower range can not be larger than the upper range\")\n                                }\n                                else {\n                                    set_range_mode_slider_value2([event.target.value, range_mode_slider_value2[1]])\n                                }\n                            }\n                        }\n                        }\n                    />\n                    <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Upper\" value={range_mode_slider_value2[1]} style={{ width: 40 }}\n                        onChange={event => {\n                            if (isNaN(parseInt(event.target.value))) {\n                                set_range_mode_slider_value2([range_mode_slider_value2[0], \"\"])\n                            } else {\n                                if (parseInt(event.target.value) > props.slider_max) {\n                                    alert(\"Upper range can not exceed maximum\")\n                                    set_range_mode_slider_value2([range_mode_slider_value2[0], props.slider_max])\n                                }\n                                else {\n                                    set_range_mode_slider_value2([range_mode_slider_value2[0], parseInt(event.target.value)])\n                                }\n                            }\n                        }\n                        }\n                    />\n                </Grid>\n                <Button className=\"range_button\" style={{ width: $('.Sidebar').width() - 11, backgroundColor: \"#ededed\", height: 30, marginBottom: 5, marginLeft: 0 }}\n                    onClick={() => props.Set_range_mode_range2(range_mode_slider_value2)}\n                >Update range</Button>\n\n            </div> : null}\n            {props.mode == \"Time\" ?\n                <div style={{ marginTop: 10, paddingLeft: 5, marginBottom: 10, width: $('.Sidebar').width() }}>\n                    <div className=\"model\">\n                        <Autocomplete\n                            defaultValue={props.time_mode_model}\n                            id=\"debug\"\n                            debug\n                            options={[\"CordAscent\", \"LambdaMART\", \"LambdaRank\", \"LinearReg\", \"ListNet\", \"MART\", \"RandomFor\", \"RankBoost\", \"RankNet\"].map((option) => option)}\n                            renderInput={(params) => (\n                                <TextField {...params} label=\"Model\" margin=\"normal\" InputProps={{ ...params.InputProps, disableUnderline: true }} />\n                            )}\n                            onChange={(event, value) => props.Set_time_mode_model(value)}\n                        />\n                        <p style={{ marginLeft: 0, marginBottom: -5, marginTop: 15, marginRight: 12, paddingLeft: 5, backgroundColor: \"#f7f7f7\", fontSize: 16 }}>{props.dataset == \"fiscal\" ? \"Select states\" : \"Select \" + props.dataset + \"s\"}</p>\n                        <div className=\"rangeslider\" style={{ width: $('.Sidebar').width() - 12 }} >\n                            <Slider\n                                value={time_mode_slider_value}\n                                onChange={(event, newValue) => set_time_mode_slider_value(newValue)}\n                                onChangeCommitted={(event, newValue) => props.Set_changed(\"range\")}\n                                valueLabelDisplay=\"auto\"\n                                aria-labelledby=\"range-slider\"\n                                valueLabelDisplay=\"on\"\n                                min={1}\n                                max={props.slider_max}\n                                marks={marks}\n                            />\n                            <Grid style={{ marginBottom: 15 }} container\n                                direction=\"row\"\n                                justify=\"space-around\"\n                                alignItems=\"center\">\n                                <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Lower\" value={time_mode_slider_value[0]} style={{ width: 40 }}\n                                    onChange={event => {\n                                        if (isNaN(parseInt(event.target.value))) {\n                                            set_time_mode_slider_value([\"\", time_mode_slider_value[1]])\n                                        } else {\n                                            if (event.target.value > time_mode_slider_value[1]) {\n                                                alert(\"Lower range can not be larger than the upper range\")\n                                            }\n                                            else {\n                                                set_time_mode_slider_value([event.target.value, time_mode_slider_value[1]])\n                                            }\n                                        }\n                                    }\n                                    }\n                                />\n                                <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Upper\" value={time_mode_slider_value[1]} style={{ width: 40 }}\n                                    onChange={event => {\n                                        if (isNaN(parseInt(event.target.value))) {\n                                            set_time_mode_slider_value([time_mode_slider_value[0], \"\"])\n                                        } else {\n                                            if (parseInt(event.target.value) > props.slider_max) {\n                                                alert(\"Upper range can not exceed maximum\")\n                                                set_time_mode_slider_value([time_mode_slider_value[0], props.slider_max])\n                                            }\n                                            else {\n                                                set_time_mode_slider_value([time_mode_slider_value[0], parseInt(event.target.value)])\n                                            }\n                                        }\n                                    }\n                                    }\n                                />\n                            </Grid>\n                            <Button className=\"range_button\" style={{ width: $('.Sidebar').width() - 11, backgroundColor: \"#ededed\", height: 30, marginBottom: 5, marginLeft: -3 }}\n                                onClick={() => props.Set_time_mode_range(time_mode_slider_value)}\n                            >Update range</Button>\n                        </div>\n                        <div className=\"year\">\n                            <Autocomplete className={{ root: classes.MuiAutocompleteroot }}\n                                defaultValue={props.time_mode_year1.toString()}\n                                id=\"debug\"\n                                debug\n                                options={props.years_for_dropdown.map((option) => option)}\n                                renderInput={(params) => (\n                                    <TextField {...params} label=\"Year 1\" margin=\"normal\" fullWidth={true} InputProps={{ ...params.InputProps, disableUnderline: true }} />\n                                )}\n                                onChange={(event, value) => {\n                                    props.Set_time_mode_year1(value)\n                                    props.Set_changed(\"year\")\n                                }}\n                            />\n                        </div>\n                        <div className=\"year\">\n                            <Autocomplete className={{ root: classes.MuiAutocompleteroot }}\n                                defaultValue={props.time_mode_year2.toString()}\n                                id=\"debug\"\n                                debug\n                                options={props.years_for_dropdown.map((option) => option)}\n                                renderInput={(params) => (\n                                    <TextField {...params} label=\"Year 2\" margin=\"normal\" fullWidth={true} InputProps={{ ...params.InputProps, disableUnderline: true }} />\n                                )}\n                                onChange={(event, value) => {\n                                    props.Set_time_mode_year2(value)\n                                    props.Set_changed(\"year\")\n                                }}\n                            />\n                        </div>\n                    </div></div> : null}\n        </div>\n    );\n}\nconst maptstateToprop = (state) => {\n    return {\n        selected_year: state.selected_year,\n        state_range: state.state_range,\n        mode: state.mode, // Model mode model\n        slider_max: state.slider_max,\n        range_mode_model: state.range_mode_model, // Range mode model\n        range_mode_range1: state.range_mode_range1,\n        range_mode_range2: state.range_mode_range2,\n        time_mode_model: state.time_mode_model, // Time mode model\n        time_mode_range: state.time_mode_range,\n        time_mode_year1: state.time_mode_year1,\n        time_mode_year2: state.time_mode_year2,\n        years_for_dropdown: state.years_for_dropdown,\n        dataset: state.dataset,\n        defualt_models: state.defualt_models,\n        slider_and_feature_value: state.slider_and_feature_value,\n        sort_by: state.sort_by,\n        grouped_by_year_data: state.grouped_by_year_data,\n    }\n}\nconst mapdispatchToprop = (dispatch) => {\n    return {\n        Set_slider_max: (val) => dispatch({ type: \"slider_max\", value: val }),\n        Set_years_for_dropdown: (val) => dispatch({ type: \"years_for_dropdown\", value: val }),\n        Set_state_range: (val) => dispatch({ type: \"state_range\", value: val }),\n        Set_mode: (val) => dispatch({ type: \"mode\", value: val }),\n        Set_range_mode_model: (val) => dispatch({ type: \"range_mode_model\", value: val }),\n        Set_time_mode_model: (val) => dispatch({ type: \"time_mode_model\", value: val }),\n        Set_range_mode_range1: (val) => dispatch({ type: \"range_mode_range1\", value: val }),\n        Set_range_mode_range2: (val) => dispatch({ type: \"range_mode_range2\", value: val }),\n        Set_time_mode_range: (val) => dispatch({ type: \"time_mode_range\", value: val }),\n        Set_time_mode_year1: (val) => dispatch({ type: \"time_mode_year1\", value: val }),\n        Set_time_mode_year2: (val) => dispatch({ type: \"time_mode_year2\", value: val }),\n        Set_histogram_data: (val) => dispatch({ type: \"histogram_data\", value: val }),\n        Set_slider_and_feature_value: (val) => dispatch({ type: \"slider_and_feature_value\", value: val }),\n        Set_clicked_items_in_slopechart: (val) => dispatch({ type: \"clicked_items_in_slopechart\", value: val }),\n        Set_changed: (val) => dispatch({ type: \"changed\", value: val }),\n        Set_pop_over_models: (val) => dispatch({ type: \"pop_over_models\", value: val }),\n        Set_defualt_models: (val) => dispatch({ type: \"defualt_models\", value: val }),\n        Set_default_model_scores: (val) => dispatch({ type: \"default_model_scores\", value: val }),\n\n    }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Modes);","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport \"./Sidebar.scss\";\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport TextField from '@material-ui/core/TextField';\nimport { connect } from \"react-redux\";\nimport Modes from \"./Modes\"\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n  },\n  listroot: {\n    width: '100%',\n    maxWidth: 360,\n  },\n  paper: {\n\n  },\n  heading: {\n    fontSize: theme.typography.pxToRem(15),\n    fontWeight: theme.typography.fontWeightRegular,\n  },\n}));\n\nfunction Sidebar(props) {\n  const classes = useStyles();\n  //------------For list and chckbox\n  const [checked, setChecked] = React.useState([0]);\n  const handleToggle = (value) => () => {\n    const currentIndex = checked.indexOf(value);\n    const newChecked = [...checked];\n\n    if (currentIndex === -1) {\n      newChecked.push(value);\n    } else {\n      newChecked.splice(currentIndex, 1);\n    }\n    setChecked(newChecked);\n  };\n  const inputchanged = (event) => {\n    var val = parseInt(event.target.value)\n    if (val > -1) {\n      setTimeout(function () {\n        props.Set_deviate_by(val)\n      }, 100);\n\n    }\n  }\n  const show_checkboxChanged = (event,val) => {\n    var myfunc = props.appHandleChange\n    myfunc(val, \"show_checkboxChanged\")\n  }\n  return (\n    <div className=\"Sidebar_parent\" style={{height:window.innerHeight}}>\n      <h4 className=\"app_title\">RIEVAL </h4>\n      {props.view_data==1?\n      <div className=\"rangeSlidercontainer\">\n        <Modes appHandleChange={props.appHandleChange} ></Modes>\n        <div className=\"deviation\" style={{marginLeft:5, borderTop:\"0px solid #eaeaea\"}}>\n          <p className=\"title_show\">Margin:</p>\n          <TextField\n            id=\"outlined-size-normal\"\n            defaultValue={props.deviate_by}\n            variant=\"filled\"\n            color=\"primary\"\n            onChange={(event) => inputchanged(event)}\n            fullWidth={false}\n            style={{height:24}}\n          />\n        </div>\n        <div className=\"show\">\n          <p className=\"title_show\">Show:</p>\n          <List className={classes.listroot}>\n            {['Rankings', 'Explanation'].map((value) => {\n              const labelId = `checkbox-list-label-${value}`;\n              return (\n                <ListItem key={value} role={undefined} onClick={handleToggle(value)}>\n                  <Checkbox\n                    checked={props.show.includes(value)}\n                    edge=\"start\"\n                    tabIndex={-1}\n                    value={value}\n                    onChange={(event, value) => {\n                      var temp_show=[...props.show]\n                      if(temp_show.includes(event.target.value) && event.target.value!=\"Rankings\"){\n                        temp_show=temp_show.filter(item=>item!=event.target.value)\n                      }\n                      else{\n                        temp_show.push(event.target.value)\n                      }\n                      props.Set_show(temp_show)\n                    }\n                  }\n                  />\n                  <p className=\"list_item_label\" id={labelId}>{value}</p>\n                </ListItem>\n              );\n            })}\n          </List>\n        </div>\n      </div>:null}\n    </div>\n  );\n}\nconst maptstateToprop = (state) => {\n  return {\n    deviate_by:state.deviate_by,\n    state_range:state.state_range,\n    defualt_models:state.defualt_models,\n    selected_year:state.selected_year,\n    sparkline_data:state.sparkline_data,\n    show:state.show,\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_defualt_models: (val) => dispatch({ type: \"defualt_models\", value: val }),\n    Set_sparkline_data: (val) => dispatch({ type: \"sparkline_data\", value: val }),\n    Set_slider_max: (val) => dispatch({ type: \"slider_max\", value: val }),\n    Set_years_for_dropdown: (val) => dispatch({ type: \"years_for_dropdown\", value: val }),\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: val }),\n    Set_ref_year: (val) => dispatch({ type: \"ref_year\", value: val }),\n    Set_original_data: (val) => dispatch({ type: \"original_data\", value: val }),\n    Set_state_range: (val) => dispatch({ type: \"state_range\", value: val }),\n    Set_deviate_by:(val) => dispatch({ type: \"deviate_by\", value: val }),\n    Set_show:(val)=>dispatch({type:\"show\",value:val}),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Sidebar);\n\n//https://material-ui.com/api/slider/\n//https://material-ui.com/components/expansion-panels/\n//https://material-ui.com/api/checkbox/\n//https://material-ui.com/components/radio-buttons/","import React, { Component } from 'react';\n//------------------------------------------------All datasets imports\nimport fiscal from \"./Data/fiscal.csv\";\nimport school from \"./Data/school.csv\";\nimport house from \"./Data/house.csv\";\n\nimport fiscal_rank from \"./Data/data/fiscal/lime/fiscal_rank.csv\";\nimport fiscal_lime from \"./Data/data/fiscal/lime/fiscal_lime.csv\";\n\nimport school_rank from \"./Data/data/school/lime/school_rank.csv\";\nimport school_lime from \"./Data/data/school/lime/school_lime.csv\";\n\nimport house_rank from \"./Data/data/house/lime/house_rank.csv\";\nimport house_lime from \"./Data/data/house/lime/house_lime.csv\";\n//import fiscal from \"./Data/data/fiscal/lime/fiscal.json\";\n//import house from \"../Data/data/house/lime/house.json\";\n//------------------------------------------------All datasets imports ends here\nimport \"./App.scss\";\nimport * as d3 from 'd3';\nimport * as algo1 from \"./Algorithms/algo1\";\nimport ModelChart from \"./components/Charts/Model/ModelChart\"\nimport RangeChart from \"./components/Charts/Range/RangeChart\"\nimport YearChart from \"./components/Charts/Time/YearChart\"\nimport TopBar from \"./components/TopBar/TopBar\"\nimport { Row, Col } from 'reactstrap';\nimport Sidebar from \"./components/Sidebar/Sidebar\";\nimport Button from '@material-ui/core/Button';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport * as $ from 'jquery';\nimport { connect } from \"react-redux\";\nimport Grid from '@material-ui/core/Grid';\nimport \"./components/Charts/Charts.css\"\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    // mydata is original data\n    this.state = {\n      random: 10,\n      original_data: null, grouped_by_year_data: null, show: [\"Slope charts\", \"Rankings\", \"Explanation\"], view_data: 1,\n      histogram_data: [], ref_year: null, features_dict: {}, features_voted: null, Legend_ready_to_vis: null, legend_model: \"CordAscent\",\n    };\n  }\n  handleradioChange = (event) => {\n    this.setState({ show: [\"Slope charts\", \"Rankings\", \"Explanation\"] })\n    this.props.Set_slider_and_feature_value({ 'Rank range': 1, 'Feature': 0 })\n    this.props.Set_clicked_items_in_slopechart([])\n    this.props.Set_state_range([1, 15])\n    this.props.Set_histogram_data([])\n    this.props.Set_mode(\"Model\")\n    this.props.Set_range_mode_range1([5, 35])\n    this.props.Set_range_mode_range2([15, 35])\n    this.props.Set_time_mode_range([5, 35])\n    if (event.target.value == 'Fiscal Dataset') {\n      this.setState({ dataset: 'fiscal' })\n      this.props.Set_dataset('fiscal')\n      this.dataprocessor(\"fiscal\")\n    }\n    else if (event.target.value == 'House Dataset') {\n      this.setState({ dataset: 'house' })\n      this.props.Set_dataset('house')\n      this.dataprocessor(\"house\")\n    }\n    else {\n      this.setState({ dataset: 'school' })\n      this.props.Set_dataset('school')\n      this.dataprocessor(\"school\")\n    }\n  };\n\n  task2 = () => {\n    if (this.props.clicked_items_in_slopechart.length > 0) {\n      d3.selectAll('circle,.datapoint').attr('opacity', this.props.config.reduced_opacity)\n    }\n    this.props.clicked_items_in_slopechart.map(idName => d3.selectAll('#' + idName).attr('opacity', 1))\n  }\n\n  textClickHandler_original = (state_name) => { // state_name is set as the id of each element\n    var idName = state_name.replace(/ +/g, \"\")\n\n    //----Whatever properties are changed due to click change back here for the original \n    d3.selectAll('#' + idName).filter(d3.matcher('line')).style('stroke-width', 1)\n    //----Whatever properties are changed due to click change back here for the original\n\n    //-----Store the clicked items\n    var clicked_items_in_slopechart = [...this.props.clicked_items_in_slopechart]\n    if (clicked_items_in_slopechart.includes(idName)) {\n      clicked_items_in_slopechart = clicked_items_in_slopechart.filter(element => element != idName)\n    }\n    else { clicked_items_in_slopechart.push(idName) }\n    this.props.Set_clicked_items_in_slopechart(clicked_items_in_slopechart)\n    //-----Store the clicked items ends here\n\n    if (clicked_items_in_slopechart.length > 0) {\n      d3.selectAll('circle,.datapoint').attr('opacity', this.props.config.reduced_opacity)\n      this.props.clicked_items_in_slopechart.map(idName => {\n        d3.selectAll('#' + idName).attr('opacity', 1)\n        d3.selectAll('#' + idName).filter(d3.matcher('line')).style('stroke-width', 3)\n      })\n    }\n    else {\n      d3.selectAll('circle,.datapoint').attr('opacity', 1)\n    }\n\n    //d3.selectAll('.line1,.line2').attr('opacity',1)\n  }\n\n  //--------- data processor processes data for initial render\n  dataprocessor = (dataset_name) => {\n    if (dataset_name == \"school\") { this.process_data(school, school_rank, school_lime, dataset_name) }\n    if (dataset_name == \"fiscal\") { this.process_data(fiscal, fiscal_rank, fiscal_lime, dataset_name) }\n    if (dataset_name == \"house\") { this.process_data(house, house_rank, house_lime, dataset_name) }\n  }\n  process_data = (slopechart_data_filename, rank_data_filename, lime_data_filename, dataset_name) => {\n    var self = this\n    //-------------\n    d3.csv(slopechart_data_filename).then(original_data => {\n\n      var grouped_by_year_data = algo1.groupby_year(original_data).years\n      var sparkline_data = algo1.groupby_year(original_data).sparkline_data\n      var years_for_dropdown = Object.keys(grouped_by_year_data)\n      self.props.Set_sparkline_data(sparkline_data)\n      self.props.Set_slider_max(grouped_by_year_data[years_for_dropdown[0]].length)\n      self.setState({ years_for_dropdown: years_for_dropdown })\n      self.props.Set_years_for_dropdown(years_for_dropdown)\n      self.props.Set_time_mode_year1(years_for_dropdown[0])\n      self.props.Set_time_mode_year2(years_for_dropdown[1])\n      self.props.Set_legend_year(years_for_dropdown[0])\n      self.setState({ ref_year: years_for_dropdown[0] })\n      self.props.Set_grouped_by_year_data(grouped_by_year_data)\n      self.setState({ grouped_by_year_data: grouped_by_year_data }, () => {\n        self.appHandleChange(original_data, \"original\");\n      })\n      self.setState({ original_data: original_data })\n      self.props.Set_original_data(original_data)\n      if (dataset_name == 'fiscal') {\n        self.props.Set_selected_year(\"2011\")\n        var all_models = [\"MART\", \"RandomFor\", \"LinearReg\", \"CordAscent\", \"LambdaMART\", \"LambdaRank\", \"ListNet\", \"RankBoost\", \"RankNet\"]\n        var temp_Models = algo1.sort(this.props.sort_by, this.props.state_range, all_models, \"2011\", grouped_by_year_data)[0];\n        var default_model_scores = algo1.sort(this.props.sort_by, this.props.state_range, all_models, \"2011\", grouped_by_year_data)[1];\n      }\n      else {\n        self.props.Set_selected_year(\"2016\")\n        var all_models = [\"MART\", \"RandomFor\", \"LinearReg\", \"CordAscent\", \"LambdaMART\", \"LambdaRank\", \"ListNet\", \"RankBoost\", \"RankNet\"]\n        var temp_Models = algo1.sort(this.props.sort_by, this.props.state_range, all_models, \"2016\", grouped_by_year_data)[0];\n        var default_model_scores = algo1.sort(this.props.sort_by, this.props.state_range, all_models, \"2016\", grouped_by_year_data)[1];\n      }\n      this.props.Set_default_model_scores(default_model_scores)\n      this.props.Set_defualt_models(temp_Models.slice(1, 3))\n      this.props.Set_pop_over_models(temp_Models.slice(1, 3))\n\n    })\n    //-------------\n    d3.csv(rank_data_filename).then(data => {\n      var nested_data = {}\n      d3.nest().key(function (d) { return d.model; }).entries(data).map(item => {\n        nested_data[item.key] = item.values\n      })\n      self.props.Set_rank_data(nested_data)\n    })\n    //-------------\n    d3.csv(lime_data_filename).then(data => {\n      var nested_data = {}\n      d3.nest().key(function (d) { return d.model; }).entries(data).map(item => {\n        nested_data[item.key] = item.values\n      })\n      self.props.Set_lime_data(nested_data)\n    })\n\n  }\n  //---------\n  appHandleChange = (data, type) => { // get the resopnses from Sidebar\n    this.setState({ features_dict: {} })\n    var temp_Models = this.props.defualt_models\n    var temp_show = this.state.show\n    var year = this.props.selected_year\n    if (type == 'year_changed') { this.props.Set_selected_year(data) } // This is called when circles on the sparklines are clicked\n    if (type == 'original') { var original_data = data } else { original_data = this.props.original_data }\n    //-----------------Handle show changes here\n    if (type == \"show_checkboxChanged\") {\n      if (temp_show.includes(data)) { temp_show = temp_show.filter(element => element != data) }\n      else { temp_show.push(data) }\n      this.setState({ show: temp_show })\n    }\n    temp_Models = algo1.sort(this.props.sort_by, this.props.state_range, temp_Models, this.props.selected_year, this.state.grouped_by_year_data)[0];\n    this.setState({ defualt_models: temp_Models })\n    //--------------------------------------------------------------------------------------------------------------All types are handled here end\n    var prev_year;\n    if (parseInt(year) == this.state.years_for_dropdown[0]) { prev_year = parseInt(year) } else { prev_year = parseInt(year) - 1 }\n\n  }\n\n  buttonclickHandler = (value, type) => {\n    setTimeout(() => { this.setState({ random: Math.random() }) }, 500);\n    type = \"button\" ? this.setState({ view_data: value }) : null\n    type = \"form\" ? this.setState({ view_data: value }) : null\n  }\n  //-----------------Models are generated ends here\n  componentDidMount() {\n    this.dataprocessor(\"fiscal\")\n  }\n  shouldComponentUpdate() {\n    return true;\n  }\n  render() {\n    return (\n      <div key={this.state.random}>\n\n        <Row>\n          <div style={{ width: 207 }} className=\"Sidebar\">\n            {this.props.selected_year != null ?\n              <Sidebar view_data={this.state.view_data} appHandleChange={this.appHandleChange}\n                dataset={this.props.dataset} sort_by={this.props.sort_by} chart_scale_type={this.props.chart_scale_type}>\n              </Sidebar> : null}\n          </div>\n          <Col style={{ width: window.innerWidth - 200, minHeight: window.innerHeight }} className=\"container_header_and_components\">\n            <div className=\"uploader_topbar\">\n              <Grid container spacing={0} className=\"myheader\" style={{ left: $('.Sidebar').width() }}>\n                <Grid item style={{ borderRight: \"1px dashed #eaeaea\", width: 100 }}><Button onClick={() => this.buttonclickHandler(1, \"button\")}>View Data</Button></Grid>\n                <Grid item style={{ borderRight: \"1px dashed #eaeaea\", width: 120 }}><Button onClick={() => this.buttonclickHandler(0, \"button\")}>Load Data</Button></Grid>\n              </Grid>\n              {this.state.view_data == false ?\n                <Row className=\"Topbar_container\">\n                  <div className=\"load\">\n                    <form onSubmit={() => this.buttonclickHandler(1, \"form\")}>\n                      <FormControl component=\"fieldset\">\n                        <FormLabel component=\"legend\"></FormLabel>\n                        <RadioGroup aria-label=\"gender\" name=\"gender1\" onChange={this.handleradioChange}>\n                          {['Fiscal Dataset', 'School Dataset'].map((value) => {\n                            return <FormControlLabel value={value} control={<Radio />} label={value} />\n                          })}\n                        </RadioGroup>\n                        <Button type=\"submit\" variant=\"outlined\" color=\"primary\">Load</Button>\n                      </FormControl>\n                    </form>\n                  </div></Row>\n                : null}\n              {this.state.view_data == true ? <Row className=\"Topbar_container\"><TopBar key={this.props.selected_year} appHandleChange={this.appHandleChange} tracking={this.props.tracking}></TopBar></Row> : null}\n            </div>\n            {this.state.view_data == true ?\n              <Grid container direction=\"row\" justify=\"flex-start\" alignItems=\"center\" >\n                <Grid container spacing={0} direction=\"row\" justify=\"space-evenly\" className=\"slopechart_container\" style={{ height: this.props.mode == \"Time\" ? window.innerHeight - $('.myheader').height() - 5 : window.innerHeight - $('.uploader_topbar').height() - 5, marginLeft: 5, width: window.innerWidth - ($('.Sidebar_parent').width() + $('.legend').width() + 15) }}>\n                  {this.props.mode == \"Model\" && this.state.grouped_by_year_data != null && this.props.original_data != null && this.props.lime_data != null ? <ModelChart></ModelChart> : null}\n                </Grid>\n              </Grid> : null}\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n  makeArr = () => {\n    var startValue = this.props.state_range[0];\n    var stopValue = this.props.state_range[1];\n    var arr = [];\n    for (var i = startValue; i <= stopValue; i++) {\n      arr.push(i);\n    }\n    //hi\n    return arr;\n  }\n}\nconst maptstateToprop = (state) => {\n  return {\n    tracking: state.tracking,\n    state_range: state.state_range,\n    deviate_by: state.deviate_by,\n    defualt_models: state.defualt_models,\n    sparkline_data: state.sparkline_data,\n    selected_year: state.selected_year,\n    mode: state.mode,\n    range_mode_model: state.range_mode_model,\n    original_data: state.original_data,\n    time_mode_model: state.time_mode_model,\n    chart_scale_type: state.chart_scale_type,\n    dataset: state.dataset,\n    histogram_data: state.histogram_data,\n    sort_by: state.sort_by,\n    time_mode_year1: state.time_mode_year1,\n    time_mode_year2: state.time_mode_year2,\n    popup_chart_data: state.popup_chart_data,\n    clicked_items_in_slopechart: state.clicked_items_in_slopechart,\n    config: state.config,\n    lime_data: state.lime_data,\n    rank_data: state.rank_data,\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_dataset: (val) => dispatch({ type: \"dataset\", value: val }),\n    Set_defualt_models: (val) => dispatch({ type: \"defualt_models\", value: val }),\n    Set_sparkline_data: (val) => dispatch({ type: \"sparkline_data\", value: val }),\n    Set_slider_max: (val) => dispatch({ type: \"slider_max\", value: val }),\n    Set_years_for_dropdown: (val) => dispatch({ type: \"years_for_dropdown\", value: val }),\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: parseInt(val) }),\n    Set_ref_year: (val) => dispatch({ type: \"ref_year\", value: val }),\n    Set_original_data: (val) => dispatch({ type: \"original_data\", value: val }),\n    Set_grouped_by_year_data: (val) => dispatch({ type: \"grouped_by_year_data\", value: val }),\n    Set_slider_and_feature_value: (val) => dispatch({ type: \"slider_and_feature_value\", value: val }),\n    Set_clicked_items_in_slopechart: (val) => dispatch({ type: \"clicked_items_in_slopechart\", value: val }),\n    Set_histogram_data: (val) => dispatch({ type: \"histogram_data\", value: val }),\n    Set_state_range: (val) => dispatch({ type: \"state_range\", value: val }),\n    Set_legend_year: (val) => dispatch({ type: \"legend_year\", value: val }),\n\n    Set_mode: (val) => dispatch({ type: \"mode\", value: val }),\n    Set_range_mode_range1: (val) => dispatch({ type: \"range_mode_range1\", value: val }),\n    Set_range_mode_range2: (val) => dispatch({ type: \"range_mode_range2\", value: val }),\n    Set_time_mode_range: (val) => dispatch({ type: \"time_mode_range\", value: val }),\n    Set_time_mode_year1: (val) => dispatch({ type: \"time_mode_year1\", value: val }),\n    Set_time_mode_year2: (val) => dispatch({ type: \"time_mode_year2\", value: val }),\n\n    Set_rank_data: (val) => dispatch({ type: \"rank_data\", value: val }),\n    Set_lime_data: (val) => dispatch({ type: \"lime_data\", value: val }),\n    Set_pop_over_models: (val) => dispatch({ type: \"pop_over_models\", value: val }),\n    Set_default_model_scores: (val) => dispatch({ type: \"default_model_scores\", value: val }),\n\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(App);","let initialState = {\n   anim_config: {rank_animation:3000,deviation_animation:3000,feature_animation:3000,circle_animation:3000},\n   appHandleChange: null,\n   sparkline_data: null,\n   sort_by: \"Average Precision\",\n   original_data: null,\n   rank_data: null,\n   lime_data: null,\n   grouped_by_year_data: null,\n   slope_chart_ready_to_vis: null,\n   defualt_models: [\"MART\", \"LinearReg\"], // Change the pop_over_models as well\n   state_range: [1, 25], // Change in handleradioChange\n   deviate_by: 0,\n   show: [\n      \"Slope charts\", \"Rankings\", \"Explanation\" // change in app.js\n   ],\n   years_for_dropdown: [\n      \"2006\"\n   ],\n   selected_year: 2006,\n   selected_years: [\"2006\"],\n   slider_min: 1,\n   slider_max: 50,\n   view_data: 1,\n   dataset: \"fiscal\", // change in componentDidmount in app.js too\n   histogram_data: [],\n   chart_scale_type: \"true\",\n   features_with_score: null,\n   ref_year: null,\n   cmodel: \"CordAscent\",\n   clicked_items_in_slopechart: [],\n   tracking: false,\n   dummy: null,\n   features_dict: {},\n   features_voted: null,\n   Legend_ready_to_vis: null,\n   legend_model: \"CordAscent\",\n   legend_show_option: \"Rank\",\n   legend_year: 2012,\n   mode: \"Model\",\n   range_mode_model: \"CordAscent\",\n   range_mode_range1: [1, 10],\n   range_mode_range2: [20, 30],\n   time_mode_model: \"CordAscent\",\n   time_mode_year1: \"Null\",\n   time_mode_year2: \"Null\",\n   time_mode_range: [6, 32],\n   chart_scale_type: \"true\",\n   slider_and_feature_value: { 'Rank range': 1, 'Feature': 0 },\n   prev_prop: {},\n   replay: false,\n   changed: \"year\",\n   popup_chart_data: null,\n   pop_over: true,\n   pop_over_models: [\"MART\", \"LinearReg\"],\n   clicked_features: [],\n   drag_drop_feautre_data: {},\n   dbclicked_features: [],\n   default_model_scores: {},\n   all_models: [\"MART\", \"RandomFor\", \"LinearReg\", \"CordAscent\", \"LambdaMART\", \"LambdaRank\", \"RankBoost\", \"RankNet\"],\n   average_y: false,\n   average_m: false,\n   clicked_circles:[]\n}\n//---InitialState ends here\nconst reducer = (state = initialState, action) => {\n   if (action.type === \"clicked_circles\") {\n      //console.log(action.value)\n      return { ...state, clicked_circles: action.value }\n   }\n   if (action.type === \"average_y\") {\n      console.log(action.value)\n      return { ...state, average_y: action.value }\n   }\n   if (action.type === \"average_m\") {\n      console.log(action.value)\n      return { ...state, average_m: action.value }\n   } \n   if (action.type === \"selected_years\") {\n      console.log(action.value)\n      return { ...state, selected_years: action.value[action.value.length-1],selected_year:action.value[action.value.length-1] }\n   }\n   if (action.type === \"default_model_scores\") {\n      //console.log(action.value)\n      return { ...state, default_model_scores: action.value }\n   }\n   if (action.type === \"dbclicked_features\") {\n      return { ...state, dbclicked_features: action.value }\n   }\n   if (action.type === \"drag_drop_feautre_data\") {\n      return { ...state, drag_drop_feautre_data: action.value }\n   }\n   if (action.type === \"anim_config\") {\n      return { ...state, config: action.value }\n   }\n   if (action.type === \"show\") {\n      return { ...state, show: action.value }\n   }\n   if (action.type === \"lime_data\") {\n      return { ...state, lime_data: action.value }\n   }\n   if (action.type === \"defualt_models\") {\n      return { ...state, defualt_models: action.value }\n   }\n   if (action.type === \"rank_data\") {\n      return { ...state, rank_data: action.value }\n   }\n   if (action.type === \"original_data\") {\n      return { ...state, original_data: action.value }\n   }\n   if (action.type === \"years_for_dropdown\") {\n      return { ...state, years_for_dropdown: action.value }\n   }\n   if (action.type === \"appHandleChange\") {\n      return { ...state, appHandleChange: action.value }\n   }\n   if (action.type === \"state_range\") {\n      return { ...state, state_range: action.value }\n   }\n   if (action.type === \"selected_year\") {\n      return { ...state, selected_year: action.value,selected_years: [action.value.toString()] }\n   }\n   if (action.type === \"tracking\") {\n      return { ...state, tracking: action.value }\n   }\n   if (action.type === \"grouped_by_year_data\") {\n      return { ...state, grouped_by_year_data: action.value }\n   }\n   if (action.type === \"sort_by\") {\n      return { ...state, sort_by: action.value }\n   }\n   if (action.type === \"deviate_by\") {\n      return { ...state, deviate_by: action.value }\n   }\n   if (action.type === \"mode\") {\n      return { ...state, mode: action.value }\n   }\n   if (action.type === \"slider_max\") {\n      return { ...state, slider_max: action.value }\n   }\n   if (action.type === \"range_mode_model\") {\n      return { ...state, range_mode_model: action.value }\n   }\n   //----\n   if (action.type === \"range_mode_range1\") {\n      return { ...state, range_mode_range1: action.value }\n   }\n   if (action.type === \"range_mode_range2\") {\n      return { ...state, range_mode_range2: action.value }\n   }\n   if (action.type === \"time_mode_range\") {\n      return { ...state, time_mode_range: action.value }\n   }\n   if (action.type === \"time_mode_model\") {\n      return { ...state, time_mode_model: action.value }\n   }\n   if (action.type === \"time_mode_year1\") {\n      return { ...state, time_mode_year1: action.value }\n   }\n   if (action.type === \"time_mode_year2\") {\n      return { ...state, time_mode_year2: action.value }\n   }\n   if (action.type === \"clicked_items_in_slopechart\") {\n      return { ...state, clicked_items_in_slopechart: action.value }\n   }\n   if (action.type === \"features_with_score\") {\n      return { ...state, features_with_score: action.value }\n   }\n   if (action.type === \"sparkline_data\") {\n      return { ...state, sparkline_data: action.value }\n   }\n   if (action.type === \"legend_show_option\") {\n      return { ...state, legend_show_option: action.value }\n   }\n   if (action.type === \"legend_model\") {\n      return { ...state, legend_model: action.value }\n   }\n   if (action.type === \"histogram_data\") {\n      return { ...state, histogram_data: action.value }\n   }\n   if (action.type === \"dataset\") {\n      return { ...state, dataset: action.value }\n   }\n   if (action.type === \"slider_and_feature_value\") {\n      return { ...state, slider_and_feature_value: action.value }\n   }\n   if (action.type === \"legend_year\") {\n      return { ...state, legend_year: action.value }\n   }\n   if (action.type === \"prev_prop\") {\n      return { ...state, prev_prop: action.value }\n   }\n   if (action.type === \"replay\") {\n      return { ...state, replay: action.value }\n   }\n   if (action.type === \"changed\") {\n      return { ...state, changed: action.value }\n   }\n   if (action.type === \"popup_chart_data\") {\n      return { ...state, popup_chart_data: action.value }\n   }\n   if (action.type === \"pop_over\") {\n      return { ...state, pop_over: action.value }\n   }\n   if (action.type === \"pop_over_models\") {\n      var temp = action.value.filter(item => item != \"ListNet\")\n      return { ...state, pop_over_models: temp }\n   }\n   if (action.type === \"clicked_features\") {\n      //console.log(action.value)\n      return { ...state, clicked_features: action.value }\n   }\n   return state;\n}\nexport default reducer;","import { createMuiTheme } from '@material-ui/core/styles';\nconst theme = createMuiTheme({      \n  typography: {\n    button: {\n      textTransform: 'none'\n    }\n  }\n});\nexport default theme;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { createStore } from 'redux';\nimport {Provider} from 'react-redux';\nimport reducer from './store/reducer';\nimport theme from './Themes'; \nimport { ThemeProvider } from '@material-ui/styles';\nconst store=createStore(reducer);\nReactDOM.render( <ThemeProvider theme={theme}><Provider store={store}><App /></Provider></ThemeProvider>,document.getElementById('root'));\n\n\n","module.exports = __webpack_public_path__ + \"static/media/chart1_data.d3b20544.csv\";","module.exports = __webpack_public_path__ + \"static/media/chart1_data.cca71c9e.csv\";"],"sourceRoot":""}