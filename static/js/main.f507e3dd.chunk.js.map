{"version":3,"sources":["Data/data/fiscal/lime/chart1_data.csv","Data/data/school/lime/chart1_data.csv","Data/RUR/RUR_histogram_data.csv","Data/fiscal.csv","Data/school.csv","Data/house.csv","Data/RUR/RUR.csv","Data/data/fiscal/lime/fiscal_rank.csv","Data/data/fiscal/lime/fiscal_lime.csv","Data/data/school/lime/school_rank.csv","Data/data/school/lime/school_lime.csv","Data/RUR/RUR_rank.csv","Data/RUR/RUR_lime.csv","Data/data/house/lime/house_rank.csv","Data/data/house/lime/house_lime.csv","Data/data/house/lime/chart1_data.csv","Algorithms/algo1.js","components/Charts/DevPlot/deviation_chart.js","components/Charts/misc_algo.js","components/Charts/Model/ModelSlider.js","store/reducer.js","components/Charts/ExpChart/Create_exp_circles.js","components/Charts/ExpChart/MDS.js","components/Charts/Model/ExpChartComponent.js","components/Charts/Model/YearAndModelSelection/YearModelSelection.js","components/Charts/Popover/CreateCatChart.js","components/Charts/Popover/CreateNumChart.js","components/Charts/Popover/02Charts.js","components/Charts/Popover/FilterModel.js","components/Charts/Popover/01Popover.js","components/Charts/Model/ModelChartComponent.js","components/Charts/Range/SliderGroup1.js","components/Charts/Range/SliderGroup2.js","components/Charts/Range/YearAndModelSelection/YearModelSelection.js","components/Charts/Range/02RangeExpChart.js","components/Charts/Range/04PopoverCharts.js","components/Charts/Range/03RangePopover.js","components/Charts/Range/01RangeChartComponent.js","components/themes.js","components/Charts/Time/Year1DropDown.js","components/Charts/Time/Year2DropDown.js","components/Charts/Time/YearAndModelSelection/Slider.js","components/Charts/Time/YearAndModelSelection/YearModelSelection.js","components/Charts/Time/02ExpChartComponent.js","components/Charts/Time/04PopoverCharts.js","components/Charts/Time/03TimePopover.js","components/Charts/Time/01YearChartComponent.js","components/Top/FeatureHistograms/FeatureHistograms.js","components/Top/FeatureHistograms/CreateBarChart.js","components/Top/FeatureHistograms/CreateHistogram.js","components/Top/FeaturesDropdown.js","components/Top/SelectMode.js","components/Top/theme.js","components/Top/Threshold.js","components/Top/SortModels.js","components/Top/Top.js","components/Legend/Legend.js","App.js","Themes.js","index.js"],"names":["module","exports","sort","type","state_range","default_models","selected_year","grouped_by_year_data","console","log","nDCG_dict","i","Object","keys","forEach","key","parseFloat","items","map","substring","first","second","temp_ndcg","length","includes","push","temp1","myitem","mydict","model","temp","Math","sqrt","temp_ap","groupby_year","original_data","years","sparkline_data","element","replace","temp_dict","year","parseInt","rank","features_with_score","dataset","models","selected_instances","number_of_charts","rank_data","temp_final","temp2","v","top_nine","data","features","tempvoted_data_with_score","filtered_rank_data","filter","index","item","my_features_rank_col","feauture","items2","sorted_features","key2","Create_deviation_chart","parent_id","parent_exp_id","anim_config","average","clicked_circles","Set_clicked_circles","diverginColor","Set_selected_year","threshold","div","d3","selectAll","join","attr","style","parent_width","$","width","parent_height","height","temp_scale_data","abs","config","y_distance","circle_radius","t","textures","lines","size","strokeWidth","stroke","background","call","d","enter","append","update","transition","duration","rank_animation","exit","remove","this","text","dd","val","data_for_all_years","line_data","model_name","a","two_realRank","predicted_rank","temp_max","sclale1","domain","range","url","d2","deviation_animation","delay","circ_data","classed","on","html","pageX","pageY","handle_transparency","class_name","circle_id","useStyles","makeStyles","theme","root","heading","fontSize","typography","pxToRem","flexBasis","flexShrink","secondaryHeading","color","palette","secondary","tRoot","marginBottom","rang_input","marginLeft","connect","state","mode","slider_max","range_mode_model","range_mode_range1","range_mode_range2","time_mode_model","time_mode_range","time_mode_year1","time_mode_year2","years_for_dropdown","slider_and_feature_value","sort_by","dispatch","Set_state_range","value","Set_changed","Set_default_models","Set_default_model_scores","props","classes","React","useState","sliderRange","set_sliderRange","temp_marks","step","marks","label","className","paddingTop","border","padding","marginTop","TextField","input","id","onChange","event","isNaN","target","margin","Slider","newValue","onChangeCommitted","aria-labelledby","valueLabelDisplay","min","max","xs","Button","backgroundColor","onClick","alert","temp_Models","algo1","default_model_scores","initialState","global_config","max_circle_r","feature_animation","circle_animation","appHandleChange","lime_data","slope_chart_ready_to_vis","deviate_by","show","slider_min","view_data","histogram_data","chart_scale_type","ref_year","cmodel","clicked_items_in_slopechart","tracking","dummy","features_dict","features_voted","Legend_ready_to_vis","legend_model","legend_show_option","legend_year","reducer","action","dragged_features","deviation_array","average_y","average_m","dbclicked_features","drag_drop_feautre_data","pop_over_models","prev_prop","replay","changed","popup_chart_data","pop_over","clicked_features","createStore","getState","CreatexpCircle","selection","item_width","item_height","feature_name","feature_contrib_name","sum_data","xScale","my_mean","rScale","exponent","mycircles","getRandomArbitrary","seed","rand","rnd","disp","sin","floor","random","getMdsData","myurl","fetch","method","body","JSON","stringify","headers","then","res","json","response","catch","error","Create_MDS","mds_ref","circle_data","mds_id","b","w","h","r","yScale","svg","current","circles","lasso","d3lasso","closePathSelect","closePathDistance","targetArea","possibleItems","notPossibleItems","selected_ids","selectedItems","each","notSelectedItems","SlopeChart","Createsvg","indexed_features","self","under_threshold_instances","year_data","excluded_features","entries","slice","mds_height","feature_containers","raise","preventDefault","setState","feature","unshift","set_dbclicked_features","Set_popup_chart_data","set_pop_over","Set_clicked_features","deltaY","parentNode","y","origin_index","lower","difference","document","elementFromPoint","sourceEvent","clientX","clientY","origin_feature","dest_index","indexOf","dest_feature","Set_dragged_features","container","feature_contrib_data_for_mds","MDS_response","parse","mds","misc_algo","line_color","exp","createRef","mouseX","mouseY","window","innerHeight","prevProps","prevState","ref","Component","Set_prev_prop","Set_sparkline_data","Set_replay","all_models","sortModels","display","justifyContent","marginRight","fontWeight","modelName","handle_model_click","CreateCatChart","scatterplot_data","feature_contribute","barplot_data","temp_x","temp_y","values","nice","x","parent_svg","myid","svg1","hist_height","svg0","bandwidth","y2","tickSize","ticks","tickValues","tickFormat","select","CreateNumChart","data_arr","feature_width","data_for_x_axis","data_for_y_axis","bins","histogram","binned_data","area_chart_data","x0","areaGenerator","curve","y0","y1","regression_data","data_by_model","xValue","yValue","regrLine","area","regressionLineBehavior","regr","n","sum_x","sum_y","sum_xy","sum_xx","pair","slope","intercept","points","calculateLinearRegression","errorPoints","RegressionService","getErrorLines","lowerConfidencePoints","prepareConfidencePoints","lowerErrorPoints","upperConfidencePoints","upperErrorPoints","confidencePoints","_","datum","xDomain","uniqueErrorPoints","pointsCount","startLine","calculateLineFromPoints","endLine","p1","p2","inputPoints","outputPoints","stdErr","pow","meanX","stdX","errorMargin","xValueValue","yValueValue","xScaleValue","yScaleValue","regressionLine","minX","maxX","minY","diffX","diffY","data_for_x_axis2","data_for_y_axis2","xScale2","yScale2","Chart","merged_arr","concat","apply","Set_pop_over_models","anchorEl","setAnchorEl","open","Boolean","checked","setChecked","handleToggle","currentIndex","newChecked","splice","aria-controls","aria-haspopup","currentTarget","Menu","keepMounted","onClose","TransitionComponent","Fade","List","labelId","ListItem","role","undefined","Checkbox","edge","tabIndex","checkboxChanged","set_clicked_features","position","top","left","pointerEvents","boxShadow","borderBottom","direction","justify","alignItems","FilterModel","maxHeight","overflow","maxWidth","textClickHandler_original","height_slope_exp_chart","interpolate","deviation_chart","selectedModel","Set_selected_instances","Set_deviation_array","Grid","class","columnSpacing","exp_id","Set_range_mode_range1","Set_range_mode_range2","paddingLeft","Set_range_mode_model","exp_data","selected_instances1","data1","selected_instances2","data2","zIndex","paddingRight","SliderGroup1","borderRight","SliderGroup2","createMuiTheme","primary","main","overrides","MuiAutocomplete","MuiFilledInput","MuiInputLabel","MuiTextField","MuiButton","textTransform","fullWidth","Root","disableRipple","variant","MuiCheckbox","InputLabelProps","shrink","MuiPaper","elevation","MuiCard","Set_time_mode_year1","Autocomplete","disableClearable","defaultValue","toString","debug","options","option","renderInput","params","InputProps","disableUnderline","Set_time_mode_year2","Set_time_mode_range","Set_time_mode_model","verticalAlign","Box","sx","borderTop","borderLeft","Year1DropDown","Year2DropDown","FeatureHistograms","store_instances","instances","all_instances","feature_data","filename","exp_fiscal_CordAscent","exp_school_CordAscent","exp_house_CordAscent","rur_histogram_data","nextProps","nextState","feature_index","number_of_features","occur","feature_height","CreateBarChart","item_data","area_chart_height","myticks","thresholds","x1","extent","invert","upper","CreateHistogram","borderRadius","filtered_instances","Set","handleClose","Set_histogram_data","Set_slider_max","SimpleMenu","Set_mode","onSubmit","buttonclickHandler","FormControl","component","FormLabel","RadioGroup","aria-label","name","FormControlLabel","control","Radio","outerTheme","spacing","Set_threshold","set_threshold","ThemeProvider","noValidate","autoComplete","Input","inputProps","Set_sort_by","set_sort_by","App","setTimeout","Set_view_data","ButtonGroup","SelectMode","SortModels","Threshold","Row","handleradioChange","Legend","legend_container_width","legend_container_height","legend1_rScale","legend1_yScale","legend1_height","legend1_ticks","legend1_svg","legend2_svg_height","legend2_yScale","legend2_ticks","rect_height","legend2_svg","legend_width","Set_legend_year","dataprocessor","dataset_name","process_data","school","school_rank","school_lime","fiscal","fiscal_rank","fiscal_lime","house","house_rank","house_lime","rur","rur_rank","rur_lime","slopechart_data_filename","rank_data_filename","lime_data_filename","Set_years_for_dropdown","Set_grouped_by_year_data","Set_original_data","nested_data","Set_rank_data","temp_data","Set_lime_data","selected_dataset","Set_clicked_items_in_slopechart","Set_dataset","innerWidth","keyup","e","Top","Set_ref_year","Set_slider_and_feature_value","button","MuiGrid","store","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.f507e3dd.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/chart1_data.d3b20544.csv\";","module.exports = __webpack_public_path__ + \"static/media/chart1_data.cca71c9e.csv\";","module.exports = __webpack_public_path__ + \"static/media/RUR_histogram_data.ab6fad30.csv\";","module.exports = __webpack_public_path__ + \"static/media/fiscal.977bae2d.csv\";","module.exports = __webpack_public_path__ + \"static/media/school.2d2c77ef.csv\";","module.exports = __webpack_public_path__ + \"static/media/house.88979d03.csv\";","module.exports = __webpack_public_path__ + \"static/media/RUR.e8eaae8e.csv\";","module.exports = __webpack_public_path__ + \"static/media/fiscal_rank.6e0a824e.csv\";","module.exports = __webpack_public_path__ + \"static/media/fiscal_lime.312a4eb2.csv\";","module.exports = __webpack_public_path__ + \"static/media/school_rank.edf0b9e3.csv\";","module.exports = __webpack_public_path__ + \"static/media/school_lime.2c25b5ee.csv\";","module.exports = __webpack_public_path__ + \"static/media/RUR_rank.1805a0d5.csv\";","module.exports = __webpack_public_path__ + \"static/media/RUR_lime.ab094de9.csv\";","module.exports = __webpack_public_path__ + \"static/media/house_rank.f85c2352.csv\";","module.exports = __webpack_public_path__ + \"static/media/house_lime.b31dfb61.csv\";","module.exports = __webpack_public_path__ + \"static/media/chart1_data.45acbae8.csv\";","//------------------------------------------------------------------------------------------------- Sort Models\nexport function sort(type, state_range, default_models, selected_year, grouped_by_year_data) {\n  console.log(type, state_range, default_models, selected_year, grouped_by_year_data,'sort')\n  //------------Handle ndgc sorting\n  if (type == 'Discounted Cumulative Gain') {\n    var nDCG_dict = { \"ndcg_term_CordAscent\": 0, \"ndcg_term_LambdaMART\": 0, \"ndcg_term_LambdaRank\": 0, \"ndcg_term_LinearReg\": 0, \"ndcg_term_ListNet\": 0, \"ndcg_term_MART\": 0, \"ndcg_term_RandomFor\": 0, \"ndcg_term_RankBoost\": 0, \"ndcg_term_RankNet\": 0 }\n    for (var i = state_range[0]; i < state_range[1]; i++) {\n      Object.keys(nDCG_dict).forEach(key => {\n          nDCG_dict[key] = nDCG_dict[key] + parseFloat(grouped_by_year_data[selected_year][i][key])\n      })\n    }\n    //---- sort\n    var items = Object.keys(nDCG_dict).map(function (key) {\n      return [key.substring(10), nDCG_dict[key]];\n    });\n    items.sort(function (first, second) {\n      return second[1] - first[1];\n    });\n    var temp_ndcg = []\n    for (var i = 0; i < items.length; i++) {\n      if (default_models.includes(items[i][0])) {\n        temp_ndcg.push(items[i][0])\n      }\n    }\n    var temp1={}\n    items.map(myitem=>{temp1[myitem[0]]=myitem[1]})\n    console.log(items)\n    return [temp_ndcg,temp1]\n  }\n  //----\n\n  //------------ Handle AP sorting\n  if (type == 'Average Precision') {\n    var mydict = {}\n    default_models.forEach((model) => {\n      var temp = 1\n      for (var i = state_range[0]; i < state_range[1]; i++) {\n        temp = temp + (grouped_by_year_data[selected_year][i][\"two_realRank\"] - grouped_by_year_data[selected_year][i][model]) ** 2\n      }\n      mydict[model] = ((state_range[1] - state_range[0]) + 1) / (Math.sqrt(temp))\n    })\n    //---- sort\n    var items = Object.keys(mydict).map(function (key) {\n      return [key, mydict[key]];\n    });\n    items.sort(function (first, second) {\n      return second[1] - first[1];\n    });\n    var temp_ap = []\n    for (var i = 0; i < items.length; i++) {\n      if (default_models.includes(items[i][0])) {\n        temp_ap.push(items[i][0])\n      }\n    }\n    return [temp_ap,mydict]\n  }\n  //------------Handle Alphabatic sorting\n  if (type == 'Alphabetically') {\n    var temp=default_models.sort()\n    return [temp,[0]]\n  }\n}\nexport function groupby_year(original_data) {\n  var years = {}\n  var sparkline_data = {}\n  original_data.forEach(element => {\n    years[element['1-qid']] = []\n    sparkline_data[element['State'].replace(/ /g, '').replace(/[^\\w\\s]/gi, '')] = []\n  });\n\n  original_data.forEach(element => {\n    var temp_dict = { year: parseInt(element['1-qid']), rank: parseInt(element['two_realRank']) }\n    sparkline_data[element['State'].replace(/ /g, '').replace(/[^\\w\\s]/gi, '')].push(temp_dict)\n    years[element['1-qid']].push(element)\n  });\n  return { years: years, sparkline_data: sparkline_data };\n}\nexport function features_with_score(dataset, models, selected_instances, selected_year, number_of_charts, rank_data) {\n  //console.log(dataset, models, selected_instances, selected_year, number_of_charts, rank_data,\"abc\")\n  var temp1 = {}\n  var temp_final = {}\n  models.map(model => {\n    var temp2 = {}\n    var v = number_of_charts;\n    var top_nine = sorted_features(dataset, model, selected_instances, selected_year,rank_data)\n    if (top_nine.length < number_of_charts) { v = top_nine.length;; number_of_charts = top_nine.length } // This is because number of charts is calculated based on space but there are cases when we don't have that many features\n    for (var i = 0; i < number_of_charts; i++) {\n      temp2[top_nine[i]] = v;\n      v = v - 1\n    }\n    temp1[model] = temp2\n  });\n\n  for (var key in temp1) {\n    for (var key2 in temp1[key]) {\n      if (temp_final[key2] > 0) {\n\n        temp_final[key2] = temp_final[key2] + temp1[key][key2]\n      }\n      else {\n        temp_final[key2] = temp1[key][key2]\n      }\n    }\n  }\n  console.log(temp_final,\"temp_final\")\n  return temp_final;\n}\nexport function sorted_features(dataset, model, selected_instances, selected_year,rank_data) { // Uses feature rank to rank and return features name by removing the feature_rank string\n  //return Object.keys(rank_data[model][0]).filter(item=>!['1-qid','model'].includes(item)).map(item=>item.replace(\"_feature_rank\", \"\"))\n  if (!selected_instances.length > 0) { return [] }\n  selected_instances = selected_instances.map(element => element -1)\n  var tempvoted_data_with_score = {},items,data,features;\n  if (model == \"ListNet\") { return [] }\n\n  var filtered_rank_data = rank_data[model].filter(element => { if (parseInt(element['1-qid']) == parseInt(selected_year)) { return element } })\n  data = selected_instances.map(index => filtered_rank_data[index])\n  if(dataset==\"rur\"){\n    selected_instances = selected_instances.map(element => element)\n    data=filtered_rank_data.filter(item=>selected_instances.includes(parseInt(item['two_realRank'])))\n  }\n  features = Object.keys(data[0])\n  \n  var my_features_rank_col=features.filter(item=>item.includes(\"_feature_rank\"))\n  features=my_features_rank_col\n  data.map(item => {\n    features.forEach(feauture => {\n      if (tempvoted_data_with_score[feauture] >= 0 || tempvoted_data_with_score[feauture] < 0) {\n        tempvoted_data_with_score[feauture] = tempvoted_data_with_score[feauture] + (parseFloat(item[feauture]))\n      }\n      else { tempvoted_data_with_score[feauture] = parseFloat(item[feauture]) }\n    })\n  })\n  //-----------------------------------------------------------------\n  // Create items array\n  items = Object.keys(tempvoted_data_with_score).map(function (key) {\n    return [key, tempvoted_data_with_score[key]];\n  });\n  // Sort the array based on the second element\n  items.sort(function (first, second) {\n    return first[1] - second[1];\n  });\n  var items2 = items.map((element) => element[0].replace(\"_feature_rank\", \"\"))\n  items2 = items2.filter(item => item != \"1-qid\" && item!=\"model\")\n  //console.log(data,selected_instances,filtered_rank_data,\"items2\")\n  return items2;\n  //-----------------------------------------------------------------\n}\n","import * as d3 from 'd3';\nimport * as $ from 'jquery';\nimport textures from 'textures';\n\n\nexport function Create_deviation_chart(parent_id,parent_exp_id, selected_instances, original_data, default_models, anim_config, selected_year, average, clicked_circles, Set_clicked_circles, diverginColor,sparkline_data,Set_selected_year,dataset,threshold) {\n  var div = d3.select(\"body\").selectAll('.tooltip').data([0]).join(\"div\").attr(\"class\", \"tooltip\").style(\"opacity\", 0);\n  var parent_width = $(\"#\" + parent_id).width() - 5\n  var parent_height = $(\".\" + 'deviation_plot_container_div').height() // deviation_plot_container_div is the div that contains the deviation plot for all modes\n  var data = original_data.filter(item => selected_year==item['1-qid'] && selected_instances.includes(parseInt(item['two_realRank'])))\n  var temp_scale_data = []\n  data.map(item => { default_models.map(model => temp_scale_data.push(Math.abs(parseInt(item[model]) - parseInt(item['two_realRank'])))) })\n  \n  // font_line_gap=sparkline_width+4\n  var config = { space_for_state_name: 120,fontSize: 12, font_dy: -6, sparkline_width:0,font_line_gap: 5, line_stroke_width: 10, animation_duration: 0, container_height: 100, my_svg_top_margin: 10, myg_top_margin: 10 }\n  var y_distance = parent_height/selected_instances.length\n  if(y_distance<15){var y_distance=15}\n  d3.select(\"#\" + parent_id).attr(\"height\",y_distance*selected_instances)\n\n  var circle_radius = config.line_stroke_width / 2\n  var t = textures.lines().size(5).strokeWidth(2).stroke(\"#cccccc\").background(\"gray\");\n  var svg=d3.select(\"#\" + parent_id).attr('height', y_distance + data.length * y_distance).call(t)\n  var parent_g = svg.selectAll(\".parent_g\").data([0]).join('g').attr('class', 'parent_g').attr('transform', \"translate(\" + 0 + \",13)\")\n  var items_g = parent_g.selectAll(\".items\").data(data, d => d['State']).join(enter => enter.append(\"g\").attr(\"class\", \"items\")\n    .attr('transform', (d, i) => \"translate(\" + config.space_for_state_name + \",\" + i * y_distance + \")\")\n    , update => update.transition().duration(anim_config.rank_animation).attr('transform', (d, i) => \"translate(\" + config.space_for_state_name + \",\" + i * y_distance + \")\")\n    , exit => exit.remove()\n  )\n  items_g.attr(\"add_state\", function (d) {\n    d3.select(this).selectAll(\"text\").data([d]).join('text')\n    .text(dd=>{\n      var max_textsize=15\n      var val = d['State']\n          if (val.length > max_textsize) { val = val.replace(\"University\", \"U\") }\n          if(val.length > max_textsize){val = val.substring(0, max_textsize)+\"..\"}\n          return val + \" \" + d['two_realRank'] \n    })\n    .attr('fill', d => diverginColor(d['two_realRank'])).attr(\"dominant-baseline\", \"hanging\").attr(\"font-size\", config.fontSize)\n      .attr(\"x\", 0).attr('text-anchor', 'end').attr(\"dy\", config.font_dy)\n  })\n    .attr(\"add_lines_and_circles\", function (d) {\n      var data_for_all_years = data.filter(item => d['two_realRank'] == parseInt(item['two_realRank']))\n      var line_data = []\n      default_models.map(model_name => {\n        data_for_all_years.map(item => {\n          var a = {}\n          var two_realRank = parseInt(item['two_realRank'])\n          var predicted_rank = parseInt(item[model_name])\n          a['two_realRank'] = two_realRank\n          a['predicted_rank'] = predicted_rank\n          a[\"model\"] = model_name\n          a['year'] = item['1-qid']\n          if (Math.abs(predicted_rank - two_realRank) < threshold) {\n            line_data.push(a)\n          }\n        })\n      })\n      // This is only for scaling starts here\n      var temp_scale_data = []\n      data.map(item => { default_models.map(model => temp_scale_data.push(Math.abs(parseInt(item[model]) - parseInt(item['two_realRank'])))) })\n      var temp_max = d3.max(temp_scale_data)\n      var sclale1 = d3.scaleLinear().domain([0, temp_max]).range([config.font_line_gap, parent_width - (config.space_for_state_name + circle_radius)])\n      if (temp_max == 0) { var sclale1 = d3.scaleLinear().domain([0, temp_max]).range([config.font_line_gap, 0]) }\n      // This is only for scaling ends here\n      d3.select(this).selectAll(\"line\").data([d]).join(enter => enter.append('line')\n        .attr(\"x1\", config.font_line_gap).attr(\"y1\", (d, i) => y_distance * i).attr(\"y2\", (d, i) => y_distance * i).attr(\"stroke-width\", config.line_stroke_width).attr(\"stroke\", t.url()).attr(\"x2\", (d2) => {\n          var temp = []\n          line_data.map(item => temp.push(Math.abs(item[\"predicted_rank\"] - item[\"two_realRank\"])))\n          return sclale1(d3.max(temp))\n        })\n        // Update\n        , update => update.transition().duration(anim_config.deviation_animation).delay(anim_config.rank_animation).attr(\"x2\", (d2) => {\n          var temp = []\n          line_data.map(item => temp.push(Math.abs(item[\"predicted_rank\"] - item[\"two_realRank\"])))\n          return sclale1(d3.max(temp))\n        }))\n      // ------------ Circles start here\n      var data_for_all_years = data.filter(item => d['two_realRank'] == parseInt(item['two_realRank']))\n      var circ_data = []\n      default_models.map(model_name => {\n        data_for_all_years.map(item => {\n          var a = {}\n          var two_realRank = parseInt(item['two_realRank'])\n          var predicted_rank = parseInt(item[model_name])\n          a['two_realRank'] = two_realRank\n          a['predicted_rank'] = predicted_rank\n          a[\"model\"] = model_name\n          a['year'] = item['1-qid']\n          a['id'] =item['State'].replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\") + model_name.replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\")\n          a['className']=\"deviation_circles \"+model_name.replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\")\n          if (Math.abs(predicted_rank - two_realRank) < threshold) {\n            circ_data.push(a)            \n          }\n        })\n      })\n      var my_circs = d3.select(this).selectAll(\".my_circles\").data(circ_data, d => d['id']).join(\n        enter => enter.append(\"circle\").attr('id', d => d['id']).attr(\"cx\", (d2, i) => {\n          d3.select(this).classed(d2['id'], true)\n          if (d2[\"predicted_rank\"] - d2['two_realRank'] == 0) { return sclale1(Math.abs(d2[\"predicted_rank\"] - d2['two_realRank'])) + circle_radius }\n          return sclale1(Math.abs(d2[\"predicted_rank\"] - d2['two_realRank']))\n        })\n        // Update\n        , update => update.transition().duration(anim_config.deviation_animation).delay(anim_config.rank_animation).attr(\"cx\", (d2, i) => {\n          d3.select(this).classed(d2['id'], true)\n          if (d2[\"predicted_rank\"] - d2['two_realRank'] == 0) { return sclale1(Math.abs(d2[\"predicted_rank\"] - d2['two_realRank'])) + circle_radius }\n          return sclale1(Math.abs(d2[\"predicted_rank\"] - d2['two_realRank']))\n        })\n      )\n      my_circs.attr(\"r\",circle_radius).attr('class', d=>'my_circles '+d['className'])\n      .attr('fill', d => diverginColor(d['two_realRank'])).attr(\"parent_id\", parent_exp_id)\n        .on('click', d => Set_clicked_circles(clicked_circles.includes(d['id']) ? clicked_circles.filter(item => item != d['id']) : [...clicked_circles, d['id']]))\n        .on(\"mouseover\", function (d2) {\n          div.transition().duration(200).style(\"opacity\", .9);\n          div.html(\"Year : \" + d2[\"year\"] + \"<br></br>\" + \"Model: \" + d2[\"model\"] + \"<br></br>\" + \"Deviation: \" + Math.abs(d2[\"predicted_rank\"] - d2['two_realRank']))\n          .style(\"left\", (d3.event.pageX - 140) + \"px\").style(\"top\", (d3.event.pageY - 98) + \"px\");\n        }).on(\"mouseout\", function (d2) {\n          //d3.select(this).classed(d2['id'],true)\n          div.transition()\n            .duration(500)\n            .style(\"opacity\", 0);\n        })\n\n    })\n\n}","import * as d3 from 'd3';\nexport function handle_transparency(class_name, clicked_circles, anim_config) {\n    if (clicked_circles.length != 0) { // If there are no clicked circles make all opacity 1\n        //d3.selectAll(\".items\").attr('opacity', 0.6) // Groups\n        //d3.selectAll(\".\" + \"my_circles\").attr('opacity', 0.3) // Circles\n        clicked_circles.map(circle_id => {\n            d3.selectAll(\".\" + circle_id).attr('opacity', 1) // Groups\n            d3.selectAll(\"#\" + circle_id).attr('fill', \"#e31a1c\") // Circles\n        })\n    }\n    else {\n        d3.selectAll(\".items\").attr('opacity', 1); // Groups\n        d3.selectAll(\".\" + \"my_circles\").attr('opacity', 1) // Circles \n    }\n}","import React from 'react';\nimport * as $ from 'jquery';\nimport Slider from '@material-ui/core/Slider';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { connect } from \"react-redux\";\nimport TextField from '@material-ui/core/TextField';\nimport Button from \"@material-ui/core/Button\";\nimport './ModelSlider.scss';\nimport * as algo1 from \"../../../Algorithms/algo1\";\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: '100%',\n    },\n    heading: {\n        fontSize: theme.typography.pxToRem(15),\n        flexBasis: '33.33%',\n        flexShrink: 0,\n    },\n    secondaryHeading: {\n        fontSize: theme.typography.pxToRem(15),\n        color: theme.palette.text.secondary,\n    },\n    tRoot: {\n        marginBottom: 35,\n    },\n    rang_input: {\n        marginLeft: 10,\n    },\n}));\nfunction Modes(props) {\n    const classes = useStyles();\n    // states \n    const [sliderRange, set_sliderRange] = React.useState(props.state_range);\n    //-----------------------------------------------------------------\n    var temp_marks = [];\n    var step = (props.slider_max - 1) / (6 - 1);\n    for (var i = 0; i < 6; i++) {\n        temp_marks.push(1 + (step * i));\n    }\n    var marks = temp_marks.map(item => {\n        var myitem = parseInt(item)\n        return { value: myitem, label: myitem }\n    })\n    //console.log(props.marks)\n    //-----------------------------------------------------------------\n    return (\n        <div className=\"Modelslider\" style={{\n            height: 70, width: \"99%\",\n            paddingTop: 30, border: \"2px solid rgb(178, 178, 178,0.5)\"\n        }} >\n            <div className=\"lower\" style={{ padding: \"0px 0px\", marginTop: -20 }}>\n                <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Lower\" value={sliderRange[0]} style={{ width: \"100%\" }}\n                    onChange={event => {\n                        if (isNaN(parseInt(event.target.value))) {\n                            set_sliderRange([\"\", sliderRange[1]])\n                        } set_sliderRange([event.target.value, sliderRange[1]])\n                    }\n                    }\n                />\n            </div>\n            <div className=\"slider\" style={{ width: \"100%\", margin: \"0px 0px\" }}>\n                <Slider value={sliderRange} onChange={(event, newValue) => set_sliderRange(newValue)} onChangeCommitted={(event, newValue) => props.Set_changed(\"range\")}\n                     aria-labelledby=\"range-slider\" valueLabelDisplay=\"on\" min={1} max={props.slider_max} marks={marks}\n                />\n            </div>\n            <div className=\"upper\" style={{ padding: \"0px 0px\", marginTop: -20 }}>\n                <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Upper\" value={sliderRange[1]} style={{ width: \"100%\" }}\n                    onChange={event => {\n                        if (isNaN(parseInt(event.target.value))) {\n                            set_sliderRange([sliderRange[0], \"\"])\n                        } else {\n                            if (parseInt(event.target.value) > props.slider_max) {\n                                //alert(\"Upper range can not exceed maximum\")\n                                set_sliderRange([sliderRange[0], props.slider_max])\n                            }\n                            else {\n                                set_sliderRange([sliderRange[0], parseInt(event.target.value)])\n                            }\n                        }\n                    }\n                    }\n                />\n            </div>\n            <div className=\"button\" item xs=\"2\" style={{ marginTop: -10 }}>\n                <Button className=\"range_button\" style={{ backgroundColor: \"#ededed\", height: 30 }}\n                    onClick={() => {\n                        if (sliderRange[0] > sliderRange[1]) {\n                            alert(\"Lower range can not be larger than the upper range\")\n                        }\n                        else if (sliderRange[1] < sliderRange[0]) {\n                            alert(\"Upper range can not be smaller than the lower range\")\n                        }\n                        else{\n                            var temp_Models = algo1.sort(props.sort_by, sliderRange, props.default_models, props.selected_year, props.grouped_by_year_data)[0];\n                            var default_model_scores = algo1.sort(props.sort_by, sliderRange, props.default_models, props.selected_year, props.grouped_by_year_data)[1];\n                            props.Set_default_model_scores(default_model_scores)\n                            props.Set_default_models([...temp_Models])\n                            props.Set_state_range(sliderRange)    \n                        }\n                    }}\n                >Update range</Button>\n            </div>\n        </div>\n    );\n}\nconst maptstateToprop = (state) => {\n    return {\n        selected_year: state.selected_year,\n        state_range: state.state_range,\n        mode: state.mode, // Model mode model\n        slider_max: state.slider_max,\n        range_mode_model: state.range_mode_model, // Range mode model\n        range_mode_range1: state.range_mode_range1,\n        range_mode_range2: state.range_mode_range2,\n        time_mode_model: state.time_mode_model, // Time mode model\n        time_mode_range: state.time_mode_range,\n        time_mode_year1: state.time_mode_year1,\n        time_mode_year2: state.time_mode_year2,\n        years_for_dropdown: state.years_for_dropdown,\n        dataset: state.dataset,\n        default_models: state.default_models,\n        slider_and_feature_value: state.slider_and_feature_value,\n        sort_by: state.sort_by,\n        grouped_by_year_data: state.grouped_by_year_data\n    }\n}\nconst mapdispatchToprop = (dispatch) => {\n    return {\n        Set_state_range: (val) => dispatch({ type: \"state_range\", value: val }),\n        Set_changed: (val) => dispatch({ type: \"changed\", value: val }),\n        Set_default_models: (val) => dispatch({ type: \"default_models\", value: val }),\n        Set_default_model_scores: (val) => dispatch({ type: \"default_model_scores\", value: val }),\n    }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Modes);","import * as d3 from 'd3';\nlet initialState = {\n   global_config:{max_circle_r:8},\n   anim_config: {rank_animation:3000,deviation_animation:3000,feature_animation:3000,circle_animation:3000},\n   appHandleChange: null,\n   sparkline_data: null,\n   sort_by: \"Average Precision\",\n   original_data: null,\n   rank_data: null,\n   lime_data: null,\n   grouped_by_year_data: null,\n   slope_chart_ready_to_vis: null,\n   default_models: [\"MART\",\"RandomFor\"], // Change the pop_over_models as well\n   state_range: [1, 30], // Change in handleradioChange\n   deviate_by: 0,\n   show: [\n      \"Slope charts\", \"Rankings\", \"Explanation\" // change in app.js\n   ],\n   years_for_dropdown: [\n      \"2006\"\n   ],\n   selected_year: 2011,\n   slider_min: 1,\n   slider_max: 50,\n   view_data: 1,\n   dataset: \"fiscal\", // change in componentDidmount in app.js too\n   histogram_data: [],\n   chart_scale_type: \"true\",\n   features_with_score: null,\n   ref_year: null,\n   cmodel: \"RandomFor\",\n   clicked_items_in_slopechart: [],\n   tracking: false,\n   dummy: null,\n   features_dict: {},\n   features_voted: null,\n   Legend_ready_to_vis: null,\n   legend_model: \"RandomFor\",\n   legend_show_option: \"Rank\",\n   legend_year: 2012,\n   mode: \"Model\",\n   range_mode_model: \"RandomFor\",\n   range_mode_range1: [1, 25],\n   range_mode_range2: [15, 40],\n   time_mode_model: \"RandomFor\",\n   time_mode_year1: \"Null\",\n   time_mode_year2: \"Null\",\n   time_mode_range: [6, 32],\n   chart_scale_type: \"true\",\n   slider_and_feature_value: { 'Rank range': 1, 'Feature': 1 },\n   prev_prop: {},\n   replay: false,\n   changed: \"year\",\n   popup_chart_data: null,\n   pop_over: false,\n   pop_over_models: [\"MART\",\"RandomFor\"],\n   clicked_features: [],\n   drag_drop_feautre_data: {},\n   dbclicked_features: [],\n   default_model_scores: {},\n   all_models: [\"MART\", \"RandomFor\", \"LinearReg\", \"CordAscent\", \"LambdaMART\", \"LambdaRank\", \"RankBoost\", \"RankNet\"],\n   average_y: false,\n   average_m: false,\n   clicked_circles:[],\n   threshold:10000,\n   deviation_array:[], // This is for legend\n   selected_instances:[], // This is for legend\n   dragged_features:{},\n   //url:\"http://0.0.0.0:5000/test\",\n   url:\"http://privacyprofiling.njitvis.com:5000/api/v2/rieval_mds\",\n}\n//---InitialState ends here\nconst reducer = (state = initialState, action) => {\n   if (action.type === \"dragged_features\") {\n      //console.log('dragged_features',action.value)\n      return { ...state, dragged_features: action.value }\n   }\n   if (action.type === \"selected_instances\") {\n      return { ...state, selected_instances: action.value }\n   }\n   if (action.type === \"deviation_array\") {\n      return { ...state, deviation_array: action.value }\n   }\n   if (action.type === \"view_data\") {\n      return { ...state, view_data: action.value }\n   }\n   if (action.type === \"threshold\") {\n      return { ...state, threshold: action.value }\n   }\n   if (action.type === \"clicked_circles\") {\n      console.log(action.value)\n      return { ...state, clicked_circles: action.value }\n   }\n   if (action.type === \"average_y\") {\n      \n      return { ...state, average_y: action.value }\n   }\n   if (action.type === \"average_m\") {\n      \n      return { ...state, average_m: action.value }\n   }\n   if (action.type === \"default_model_scores\") {\n     \n      return { ...state, default_model_scores: action.value }\n   }\n   if (action.type === \"dbclicked_features\") {\n      return { ...state, dbclicked_features: action.value }\n   }\n   if (action.type === \"drag_drop_feautre_data\") {\n      return { ...state, drag_drop_feautre_data: action.value }\n   }\n   if (action.type === \"anim_config\") {\n      return { ...state, config: action.value }\n   }\n   if (action.type === \"show\") {\n      return { ...state, show: action.value }\n   }\n   if (action.type === \"lime_data\") {\n      return { ...state, lime_data: action.value }\n   }\n   if (action.type === \"default_models\") {\n      return { ...state,pop_over_models:action.value, default_models: action.value }\n   }\n   if (action.type === \"rank_data\") {\n\n      return { ...state, rank_data: action.value }\n   }\n   if (action.type === \"original_data\") {\n      return { ...state, original_data: action.value }\n   }\n   if (action.type === \"years_for_dropdown\") {\n      return { ...state, years_for_dropdown: action.value }\n   }\n   if (action.type === \"appHandleChange\") {\n      return { ...state, appHandleChange: action.value }\n   }\n   if (action.type === \"state_range\") {\n      return { ...state, dragged_features:{},state_range: action.value }\n   }\n   if (action.type === \"selected_year\") {\n      return { ...state,dragged_features:{}, selected_year: action.value}\n   }\n   if (action.type === \"tracking\") {\n      return { ...state, tracking: action.value }\n   }\n   if (action.type === \"grouped_by_year_data\") {\n     \n      return { ...state, grouped_by_year_data: action.value }\n   }\n   if (action.type === \"sort_by\") {\n      return { ...state, sort_by: action.value }\n   }\n   if (action.type === \"deviate_by\") {\n      return { ...state, deviate_by: action.value }\n   }\n   if (action.type === \"mode\") {\n      if(action.value=='Model'){\n         return { ...state,pop_over_models:state.default_models, mode: action.value }\n      }\n      if(action.value=='Ranges'){\n         return { ...state,pop_over_models:[state.range_mode_model], mode: action.value }\n      }\n      else{\n         return { ...state,pop_over_models:[state.time_mode_model], mode: action.value }\n      }\n   }\n   if (action.type === \"slider_max\") {\n      return { ...state, slider_max: action.value }\n   }\n   if (action.type === \"range_mode_model\") {\n      return { ...state,pop_over_models:[action.value],range_mode_model: action.value }\n   }\n   //----\n   if (action.type === \"range_mode_range1\") {\n      console.log(action.value)\n      return { ...state, range_mode_range1: action.value }\n   }\n   if (action.type === \"range_mode_range2\") {\n      console.log(action.value)\n      return { ...state, range_mode_range2: action.value }\n   }\n   if (action.type === \"time_mode_range\") {\n      return { ...state, time_mode_range: action.value }\n   }\n   if (action.type === \"time_mode_model\") {\n      return { ...state, pop_over_models:[action.value],time_mode_model: action.value }\n   }\n   if (action.type === \"time_mode_year1\") {\n      return { ...state, time_mode_year1: action.value }\n   }\n   if (action.type === \"time_mode_year2\") {\n      return { ...state, time_mode_year2: action.value }\n   }\n   if (action.type === \"clicked_items_in_slopechart\") {\n      return { ...state, clicked_items_in_slopechart: action.value }\n   }\n   if (action.type === \"features_with_score\") {\n      return { ...state, features_with_score: action.value }\n   }\n   if (action.type === \"sparkline_data\") {\n      return { ...state, sparkline_data: action.value }\n   }\n   if (action.type === \"legend_show_option\") {\n      return { ...state, legend_show_option: action.value }\n   }\n   if (action.type === \"legend_model\") {\n      return { ...state, legend_model: action.value }\n   }\n   if (action.type === \"histogram_data\") {\n      return { ...state,dragged_features:{}, histogram_data: action.value }\n   }\n   if (action.type === \"dataset\") {\n      return { ...state, dataset: action.value }\n   }\n   if (action.type === \"slider_and_feature_value\") {\n      return { ...state, slider_and_feature_value: action.value }\n   }\n   if (action.type === \"legend_year\") {\n      return { ...state, legend_year: action.value }\n   }\n   if (action.type === \"prev_prop\") {\n      return { ...state, prev_prop: action.value }\n   }\n   if (action.type === \"replay\") {\n      return { ...state, replay: action.value }\n   }\n   if (action.type === \"changed\") {\n      return { ...state, changed: action.value }\n   }\n   if (action.type === \"popup_chart_data\") {\n      return { ...state, popup_chart_data: action.value }\n   }\n   if (action.type === \"pop_over\") {\n      return { ...state, pop_over: action.value }\n   }\n   if (action.type === \"pop_over_models\") {\n      var temp = action.value.filter(item => item != \"ListNet\")\n      return { ...state, pop_over_models: temp }\n   }\n   if (action.type === \"clicked_features\") {\n      return { ...state, clicked_features: action.value }\n   }\n   return state;\n}\nexport default reducer;","import * as d3 from \"d3\";\nimport { createStore } from 'redux';\nimport reducer from \"../../../store/reducer\";\nconst store = createStore(reducer);\nconst state = store.getState();\nexport default function CreatexpCircle(d, selection, selected_instances,\n    lime_data, selected_year, default_models, clicked_circles, Set_clicked_circles, diverginColor, anim_config, item_width, item_height, deviation_array, index, threshold,dataset) {\n    var margin = { item_top_margin: 25, item_bottom_margin: 9, circ_radius: 5, item_left_margin: 9, item_right_margin: 9 }\n\n    var div = d3.select(\"body\").selectAll(\".tooltip\").data([0]).join('div').attr(\"class\", \"tooltip\").style(\"opacity\", 0);\n    var feature_name = d[0]\n    var feature_contrib_name = d[0] + \"_contribution\"\n    var circ_data = []\n    var sum_data = []\n    default_models.map(model => {\n        lime_data[model].map(item => {\n            if (parseFloat(item[feature_contrib_name]) > 0 && item['1-qid'] == selected_year && selected_instances.includes(parseInt(item['two_realRank']))) {\n                if (item['deviation'] < threshold) { sum_data.push(parseFloat(item[feature_contrib_name])) }\n                item['id'] = item['State'].replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\") + model.replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\")\n                circ_data.push(item)\n            }\n        })\n    })\n    // Draw circle starts here\n    if (isNaN(lime_data[default_models[0]][0][feature_name])) {\n        var yScale = d3.scaleBand().domain(lime_data[default_models[0]].map(item => item[feature_name])).range([margin.item_top_margin, item_height - margin.item_bottom_margin])\n    }\n    else {\n        var yScale = d3.scaleLinear().domain([d3.min(circ_data.map(item => parseFloat(item[d[0]]))), d3.max(circ_data.map(item => parseFloat(item[d[0]])))]).range([margin.item_top_margin, item_height - margin.item_bottom_margin])\n    }\n    var xScale = d3.scaleLinear().domain([d3.min(circ_data.map(item => parseFloat(item[feature_contrib_name]))), d3.max(circ_data.map(item => parseFloat(item[feature_contrib_name])))]).range([margin.item_left_margin, item_width - margin.item_right_margin])\n    //----------\n    var my_mean = d3.mean(sum_data)\n    //----------\n    selection.selectAll(\".my_mean_line\").data([0]).join(\"line\").attr(\"class\", \"my_mean_line\").attr(\"x1\", xScale(my_mean)).attr(\"x2\", xScale(my_mean)).attr(\"y1\", 18).attr(\"y2\", item_height).attr('stroke', \"rgb(96, 96, 96,0.5)\").attr('stroke-width', 1)\n    var rScale = d3.scalePow().exponent(0.2).domain(d3.extent(deviation_array)).range([state.global_config.max_circle_r, 1])\n    var mycircles = selection.selectAll(\".my_circles\").data(circ_data, d => d['id']).join(\n        enter => enter.append('circle')\n            .attr('id', d => d['id'])\n            .attr('class', d => 'my_circles')\n            .attr(\"transform\", function (d, i) {\n                var x_transform = xScale(parseFloat(d[feature_contrib_name]))\n                var y_transform = getRandomArbitrary(margin.item_top_margin, item_height - margin.item_bottom_margin, i)\n                return \"translate(\" + x_transform + \",\" + y_transform + \")\";\n            })\n            .attr(\"r\", d => d['deviation'] > threshold ? 0 : rScale(d['deviation']))\n        //.attr('test',(d)=>console.log(rScale(50),'rScale',d['deviation']))\n        // Update\n        , update => update.attr('class', d => d['id'] + ' items circle2 my_circles')\n            .transition().duration(anim_config.circle_animation).delay(anim_config.rank_animation + anim_config.deviation_animation + anim_config.feature_animation)\n            .attr(\"transform\", function (d, i) {\n                var x_transform = xScale(parseFloat(d[feature_contrib_name]))\n                var y_transform = getRandomArbitrary(margin.item_top_margin, item_height - margin.item_bottom_margin, i)\n                return \"translate(\" + x_transform + \",\" + y_transform + \")\";\n            })\n            .attr('id', d => d['id'])\n            .attr(\"r\", d => d['deviation'] > threshold ? 0 : rScale(d['deviation']))\n        , exit => exit.remove())\n    mycircles.attr(\"myindex\", index).attr('feature_name', d[0]).on('click', d => {\n        Set_clicked_circles(clicked_circles.includes(d['id']) ? clicked_circles.filter(item => item != d['id']) : [...clicked_circles, d['id']])\n    })\n        .attr(\"fill\", (d) => {\n            if(clicked_circles.includes(d['id'])){\n                return \"#e31a1c\"\n            }\n            return diverginColor(d['two_realRank']).replace(\")\", \",.7)\")\n        })\n\n    if (index == 0) {\n        selection.selectAll(\".avg_text\").data(['avg']).join(\"text\").attr(\"x\", xScale(my_mean) + 5).attr(\"class\", \"avg_text\").attr(\"myindex\", index).attr(\"y\", (item_height - margin.item_top_margin - margin.item_bottom_margin) / 2 + margin.item_top_margin).text('avg').attr('font-size', 12)\n        .attr('dominant-baseline', \"middle\").attr('text-anchor', 'middle').attr('transform', d => \"rotate(-90,\" + (xScale(my_mean) + 5) + \",\" + ((item_height - margin.item_top_margin - margin.item_bottom_margin) / 2 + margin.item_top_margin) + \")\")\n    }\n    else { selection.selectAll('.avg_text').remove() }\n    \n    mycircles.on(\"mouseover\", d => {\n        div.transition().duration(200).style(\"opacity\", .9);\n        div.html(\"<p>Name: \"+d['State']+\"</p>\"+\"<p>Ground Truth: \"+d['two_realRank']+\"</p>Model Outcome: \"+d['predicted']+\"</p>\").style(\"left\", (d3.event.pageX) + \"px\").style(\"top\", (d3.event.pageY + 12) + \"px\")\n    }).on(\"mouseout\", d => div.transition().duration(200).style(\"opacity\", 0))\n\n    // Draw circle ends here\n    function getRandomArbitrary(min, max, seed) {\n        min = min || 0;\n        max = max || 1;\n        var rand;\n        if (typeof seed === \"number\") {\n            seed = (seed * 9301 + 49297) % 233280;\n            var rnd = seed / 233280;\n            var disp = Math.abs(Math.sin(seed));\n            rnd = (rnd + disp) - Math.floor((rnd + disp));\n            rand = Math.floor(min + rnd * (max - min + 1));\n        } else {\n            rand = Math.floor(Math.random() * (max - min + 1)) + min;\n        }\n        return rand;\n    }\n}","import * as d3 from 'd3';\nimport * as $ from 'jquery';\nimport * as d3lasso from 'd3-lasso';\nimport { createStore } from 'redux';\nimport reducer from \"../../../store/reducer\";\nconst store = createStore(reducer);\nconst state = store.getState();\nexport default function getMdsData(myurl, data) {\n  return fetch(myurl, {\n    method: 'POST',\n    body: JSON.stringify(data),\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }).then(res => res.json())\n    .then(response => {\n      console.log(response)\n      return response;\n    }).catch(error => console.error('Error: from Json Handler', error));\n}\nexport function Create_MDS(mds_ref,circle_data,mds_id,diverginColor, Set_clicked_circles,deviation_array) {\n  console.log(circle_data,\"MDS_data\")\n  var circle_data=circle_data.sort((a,b)=>b['deviation']-a['deviation'])\n  var rScale = d3.scalePow().exponent(0.2).domain(d3.extent(deviation_array)).range([state.global_config.max_circle_r, 1])\n   \n  //---------------------------------------------------------------------------\n  // Create mds ends here\n  var margin = { item_top_margin: 15, right: 14, bottom: 0, left: 20, circ_radius: 5, item_left_margin: 25, item_right_margin: 3 }\n  var w = $(mds_id).width() - margin.item_left_margin\n  var h = $(mds_id).height() - margin.item_top_margin * 2\n  var r = 5;\n  var xScale = d3.scaleLinear().domain(d3.extent(circle_data.map(item => item['x']))).range([r * 2, w - r * 2])\n  var yScale = d3.scaleLinear().domain(d3.extent(circle_data.map(item => item['y']))).range([r * 2, h - r * 2])\n\n  var svg = d3.select(mds_ref.current).style(\"border\", \"1px solid #eaeaea\")\n  var circles = svg.selectAll(\"circle\")\n    .data(circle_data)\n    .join(\"circle\")\n    .attr(\"cx\", d => xScale(d['x']))\n    .attr(\"cy\", d => yScale(d['y']))\n    .attr(\"r\", d=>rScale(d['deviation']))\n    .attr(\"fill\", (d) => {\n      return diverginColor(d['two_realRank']).replace(\")\",\",.7)\")\n  })\n    .attr('id', d => d['id'])\n    .attr('class', 'my_circles')\n  // Lasso functions\n  var lasso_start = function () {\n    lasso.items()\n      .classed(\"not_possible\", true)\n      .classed(\"selected\", false);\n  };\n\n  var lasso_draw = function () {\n    // Style the possible dots\n    lasso.possibleItems()\n      .classed(\"not_possible\", false)\n      .classed(\"possible\", true);\n\n    // Style the not possible dot\n    lasso.notPossibleItems()\n      .classed(\"not_possible\", true)\n      .classed(\"possible\", false);\n  };\n\n  var lasso_end = function () {\n    var selected_ids = []\n    lasso.selectedItems().each(function () {\n      selected_ids.push(d3.select(this).attr(\"id\"))\n    })\n    Set_clicked_circles(selected_ids)\n    // Reset the color of all dots\n    lasso.items()\n      .classed(\"not_possible\", false)\n      .classed(\"possible\", false);\n\n    // Style the selected dots\n    lasso.selectedItems()\n      .classed(\"selected\", true)\n\n    // Reset the style of the not selected dots\n    lasso.notSelectedItems()\n\n  };\n  var lasso = d3lasso.lasso()\n    .closePathSelect(true)\n    .closePathDistance(100)\n    .items(circles)\n    .targetArea(svg)\n    .on(\"start\", lasso_start)\n    .on(\"draw\", lasso_draw)\n    .on(\"end\", lasso_end);\n  svg.call(lasso);\n}\n\n\n","import React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport { connect } from \"react-redux\";\nimport * as algo1 from \"../../../Algorithms/algo1\";\nimport * as $ from 'jquery';\nimport CreatexpCircle from \"../ExpChart/Create_exp_circles\"\nimport getMdsData from \"../ExpChart/MDS\"\nimport { Create_MDS } from \"../ExpChart/MDS\"\nimport \"../ExpChart/MDS.css\"\nimport * as misc_algo from '../misc_algo'\nclass SlopeChart extends Component {\n  constructor(props) {\n    super(props);\n    this.line_color = null;\n    this.exp = React.createRef()\n    this.mds = React.createRef()\n    this.state = { mds_height: 110, mouseX: 0, mouseY: 0, excluded_features: [], sorted_features: null, circle_data: null, indexed_features: null, random: true }\n  }\n  componentDidMount() {\n    this.setState({ width: window.innerHeight })\n  }\n  componentDidUpdate(prevProps, prevState) {\n    this.Createsvg(this.props.model_name, this.props.dragged_features, null)\n    /*\n    setTimeout(()=>{\n      misc_algo.handle_transparency(\"circle2\", this.props.clicked_circles, this.props.anim_config)\n    },3000)\n    */\n  }\n  Createsvg = (model_name, dragged_features, indexed_features) => {\n    var self = this\n    var selected_instances = d3.range(this.props.state_range[0], this.props.state_range[1] + 1)\n    console.log(selected_instances, \"selected_instances\")\n    if (this.props.histogram_data.length > 0) { selected_instances = this.props.histogram_data }\n    //-------------------- Threshold filter\n    var under_threshold_instances = []\n    var year_data = this.props.original_data.filter(item => this.props.selected_year == item['1-qid'])\n    this.props.default_models.map(model_name => {\n      year_data.map(item => {\n        var two_realRank = parseInt(item['two_realRank'])\n        var predicted_rank = parseInt(item[model_name])\n        if (Math.abs(predicted_rank - two_realRank) < this.props.threshold) {\n          under_threshold_instances.push(two_realRank)\n        }\n      })\n    })\n    selected_instances = selected_instances.filter(item => under_threshold_instances.includes(item))\n    //console.log(selected_instances,\"selected_instances2\")\n    //--------------------\n\n    //------------------------------\n    var number_of_charts = 8 + self.state.excluded_features.length\n    var features_with_score = algo1.features_with_score(this.props.dataset, [model_name], selected_instances, this.props.selected_year, number_of_charts, this.props.rank_data)\n    if (model_name in self.props.dragged_features) { features_with_score = self.props.dragged_features[model_name] }\n    var indexed_features = Object.entries(features_with_score).sort((a, b) => b[1] - a[1]).map((item, i) => item[0])\n    var temp_sorted_features = indexed_features.filter(item => !this.state.excluded_features.includes(item))// Exclude crossed features \n    var sorted_features = temp_sorted_features.slice(0, number_of_charts).map((item, index) => [item, index])\n    var marginTop = 5;\n    var marginBottom = 20;\n    var parent_height = parseInt($('.explanation_chart_parent').height()) - this.state.mds_height - parseInt($('.title_p').height())\n    var item_width = parseInt($(\"#\" + model_name).width())\n    var item_height = (parent_height - 10) / sorted_features.length - (marginTop+marginBottom) // 10 is the top margin\n    \n    var feature_containers = d3.select('#' + model_name).attr('height', parent_height)\n      .selectAll(\".feature_items\").data(sorted_features, d => d[0])\n      .join(enter => enter.append(\"svg\").attr(\"y\", (d, i) => marginTop + i * (item_height + marginTop+marginBottom))\n        , update => update.transition().duration(2000).attr(\"y\", (d, i) => marginTop + i * (item_height + marginTop+marginBottom))\n        , exit => exit.remove()\n      )\n    feature_containers.attr(\"class\", d => \"feature_items \" + d[0]).attr(\"myindex\", (d, i) => i).attr('feature_name', d => d[0]).attr(\"height\", item_height+marginBottom+marginTop).attr('width', item_width)\n\n    feature_containers.attr(\"add_title_text_and_rect_for_title_text\", function (d, index) {\n      d3.select(this).selectAll(\".title_rect\").data([0]).join('rect').attr(\"class\", \"title_rect\").attr(\"myindex\", index).attr('feature_name', d[0]).attr(\"width\", \"100%\").attr(\"height\", 18).attr(\"fill\", \"#e2e2e2\").attr(\"y\", 0).attr(\"x\", 0)\n      d3.select(this).selectAll(\".title_text\").data([0]).join('text').attr(\"class\", \"title_text\").attr(\"myindex\", index).attr('feature_name', d[0]).attr('x', item_width / 2).text(d[0]).attr(\"dominant-baseline\", \"hanging\")\n        .attr(\"y\", 2).attr('text-anchor', 'middle').attr('font-size', 12)\n    })\n    feature_containers.attr(\"add_cross_button\", function (d, index) {\n      d3.select(this).selectAll(\".cross_button\").data([0]).join(\"text\").attr('y', 7.3)\n        .attr('dominant-baseline', 'middle').attr(\"myindex\", index).attr('feature_name', d[0]).raise()\n        .attr('x', item_width - 15).style('cursor', 'pointer').attr('font-size', 12).attr('fill', 'black')\n        .text(\"\\uf410\").attr('class', \"cross_button fa make_cursor\").on('click', () => {\n          d3.event.preventDefault()\n          self.setState({ excluded_features: [...self.state.excluded_features, d[0]] })\n        })\n      //---\n      d3.select(this).selectAll(\".expand_button\").data([0]).join(\"text\").attr('y', 7.3)\n        .attr('dominant-baseline', 'middle').attr(\"myindex\", index).attr('feature_name', d[0]).raise()\n        .attr('x', item_width - 30).style('cursor', 'pointer').attr('font-size', 12).attr('fill', 'black')\n        .text(\"\\uf31e\").attr('class', \"expand_button fa make_cursor\").on('click', () => {\n          d3.event.preventDefault()\n            var feature = d[0]\n            var year = self.props.selected_year\n            d3.event.preventDefault()\n            var temp = [...self.props.dbclicked_features]\n            if (!temp.includes(feature)) {\n              temp.unshift(feature)\n              d3.selectAll(\".rect\").classed(\"exp_chart_clicked\", true)\n            }\n            self.props.set_dbclicked_features(temp)\n            //self.props.set_dbclicked_features([feature])\n            //----------------------------Data for popup chart\n            var popup_chart_data = {}\n            self.props.default_models.filter(item => item != \"ListNet\").map(model_name => {\n              var data = []\n              if (self.props.histogram_data.length > 0) {\n                data = self.props.lime_data[model_name].filter(element => { if ((parseInt(element['1-qid']) == parseInt(year)) && (self.props.histogram_data.includes(parseInt(element['two_realRank'])))) { return element } });\n              }\n              else {\n                data = self.props.lime_data[model_name].filter(element => parseInt(element['1-qid']) == parseInt(year) && selected_instances.includes(parseInt(element['two_realRank'])))\n              }\n              popup_chart_data[model_name] = data\n            })\n            self.props.Set_popup_chart_data([popup_chart_data, feature]) // This is to update the pop when the year or anything changes during the pop up is open\n            //self.props.Set_popup_chart_data([popup_chart_data, feature])\n            self.props.set_pop_over(true)\n        })\n      //---\n    })\n    feature_containers.attr(\"add_rect_for_circle_background_and_handle_clicks\", function (d, index) {\n      d3.select(this).selectAll(\".circ_rect\").data([0]).join('rect').attr(\"class\", \"circ_rect\").attr(\"myindex\", index).attr('feature_name', d[0]).attr(\"width\", \"100%\").attr(\"height\", item_height - 18).attr(\"fill\", \"#f2f2f2\").attr(\"y\", 18).attr(\"x\", 0)\n        .on('click', () => {\n          if (self.props.clicked_features.includes(d[0])) {\n            self.props.Set_clicked_features(self.props.clicked_features.filter(item => item != d[0]))\n            d3.selectAll(\".\" + d[0]).selectAll(\".border_rect\").remove()\n          }\n          else {\n            self.props.Set_clicked_features([...self.props.clicked_features, d[0]])\n            d3.selectAll(\".\" + d[0]).selectAll(\".border_rect\").data([0]).join('rect').attr(\"class\", \"border_rect\").attr(\"width\", \"100%\").attr(\"height\", \"100%\").style(\"stroke\", \"black\").style(\"fill\", \"none\").style(\"stroke-width\", 5)\n          }\n        })\n    })\n    feature_containers.attr(\"CreatexpCircle\", function (d, index) {\n      CreatexpCircle(d, d3.select(this), selected_instances, self.props.lime_data, self.props.selected_year, [model_name], self.props.clicked_circles,\n        self.props.Set_clicked_circles, self.props.diverginColor, self.props.anim_config, item_width, item_height, self.props.deviation_array, index, self.props.threshold, self.props.dataset)\n    })\n    \n    feature_containers.attr('check_clicked_features', d => {\n      if (self.props.clicked_features.includes(d[0])) {\n        d3.selectAll(\".\" + d[0]).selectAll(\".border_rect\").data([0]).join('rect').attr(\"class\", \"border_rect\").attr(\"width\", \"100%\").attr(\"height\", \"100%\").style(\"stroke\", \"black\").style(\"fill\", \"none\").style(\"stroke-width\", 5)\n      }\n    })\n    feature_containers.attr(\"add_x_label\", function (d, index) {\n      d3.select(this).selectAll(\".x_label\").data([0]).join('text').attr(\"x\", item_width/2).attr(\"class\", \"x_label\")\n      .attr('dominant-baseline',\"middle\").attr('text-anchor','middle').attr(\"y\",item_height+marginTop+7).text('feature importance').attr(\"fill\",\"black\").attr(\"font-size\",14)\n    })\n\n    feature_containers.attr('add_drag_drop', function (d, index) {\n      d3.select(this).selectAll(\".my_rect\").data([0]).join('rect').attr(\"class\", \"my_rect\").attr(\"myindex\", index).attr('feature_name', d[0]).attr(\"width\", item_width - 33).attr(\"height\", 18).style(\"fill\", \"transparent\").style('cursor', 'move')\n        .call(d3.drag().on(\"start\", dragstarted).on(\"drag\", dragged).on(\"end\", dragended).container(this.parentNode.parentNode)) // Set the parent node based on which the distance will be calculated\n      var deltaY, is_dragging;\n      function dragstarted(event, d) {\n        //d3.select(this).attr(\"width\", '100%').attr(\"height\", '100%').style('fill','rgb(249, 195, 87,0.3)')\n        d3.select(this.parentNode).raise()\n        deltaY = d3.select(this.parentNode).attr(\"y\") - d3.event.y;\n      }\n      function dragged(event, d) {\n        is_dragging = true\n        d3.select(this.parentNode).raise()\n        d3.select(this.parentNode).attr(\"y\", d3.event.y + deltaY);\n      }\n      function dragended(event, d) {\n        var origin_index = parseInt(d3.select(this).attr(\"myindex\")); d3.select(this.parentNode).lower();\n        d3.select(this.parentNode).attr(\"y\", d3.event.y + deltaY);\n        var difference = parseInt(d3.select(document.elementFromPoint(d3.event.sourceEvent.clientX, d3.event.sourceEvent.clientY)).attr(\"myindex\")) - origin_index\n        //if (isNaN(dest_index)) { alert(\"Please drop properly!\"); dest_index = origin_index }\n        var origin_feature = d3.select(this).attr(\"feature_name\")\n\n        var temp1 = {}\n        var number_of_charts = 15 // change this number to have features when cross button clicked\n        self.props.default_models.map(model_name => {\n          var features_with_score = algo1.features_with_score(self.props.dataset, [model_name], selected_instances, self.props.selected_year, number_of_charts, self.props.rank_data)\n          if (model_name in self.props.dragged_features) {\n            features_with_score = self.props.dragged_features[model_name]\n          }\n          var indexed_features = Object.entries(features_with_score).sort((a, b) => b[1] - a[1]).map((item, i) => item[0])\n          var origin_index = indexed_features.indexOf(origin_feature)\n          var dest_index = origin_index + difference\n          if (dest_index < 0) { var dest_feature = indexed_features[0] }\n          else if (dest_index > number_of_charts - 1) { var dest_feature = indexed_features[number_of_charts - 1] }\n          else { var dest_feature = indexed_features[dest_index] }\n\n          features_with_score[origin_feature] = features_with_score[origin_feature] - difference\n          features_with_score[dest_feature] = features_with_score[dest_feature] + difference\n          temp1[model_name] = features_with_score\n        })\n        self.props.Set_dragged_features(temp1)\n        //-------------------------------------\n        d3.select(this).raise()\n      }\n    })\n    //--------------------------------------MDS Plot\n    var feature_contrib_data_for_mds = this.props.lime_data[model_name].filter(item => item['1-qid'] == this.props.selected_year && selected_instances.includes(item['two_realRank']))\n    getMdsData(this.props.url, { \"data\": feature_contrib_data_for_mds, \"weight\": features_with_score }).then(data => {\n      if (typeof data != 'undefined') {\n        var MDS_response = JSON.parse(data.response)\n        var circle_data = feature_contrib_data_for_mds.map((item, index) => {\n          item['x'] = MDS_response[index][0]\n          item['y'] = MDS_response[index][1]\n          item['id'] = item['State'].replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\") + item[\"model\"].replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\")\n          return item\n        })\n        Create_MDS(this.mds, circle_data, \"#mds\" + model_name, self.props.diverginColor, this.props.Set_clicked_circles, this.props.deviation_array)\n        misc_algo.handle_transparency(\"circle2\", self.props.clicked_circles, self.props.anim_config)\n      }\n    })\n  }\n  //------------------------------\n  render() {\n    return (\n      <div key={this.props.model_name} className={\"explanation_chart_parent exp\" + this.props.model_name} style={{ width: '100%', height: '100%', \"border\": this.props.mode == 'Model' ? \"2px solid #e2e2e2\" : 'none', padding: \"2px 5px\" }}>\n        <p className=\"title_p\" style={{ padding: 0, margin: 0 }}>{this.props.model_name}</p>\n        <svg ref={this.mds} id={\"mds\" + this.props.model_name} style={{ margin: 0, width: \"100%\", height: this.state.mds_height }}></svg>\n        <svg ref={this.exp} id={this.props.model_name} style={{ marginTop: 0, width: \"100%\" }}></svg>\n      </div>\n    )\n  }\n}\nconst maptstateToprop = (state) => {\n  return {\n    deviation_array: state.deviation_array,\n    original_data: state.original_data,\n    time_mode_model: state.time_mode_model,\n    chart_scale_type: state.chart_scale_type,\n    dataset: state.dataset,\n    histogram_data: state.histogram_data,\n    sparkline_data: state.sparkline_data,\n    anim_config: state.anim_config,\n    show: state.show,\n    average_m: state.average_m,\n    average_y: state.average_y,\n    lime_data: state.lime_data,\n    rank_data: state.rank_data,\n    clicked_circles: state.clicked_circles,\n    clicked_features: state.clicked_features,\n    threshold: state.threshold,\n    mode: state.mode,\n    dbclicked_features: state.dbclicked_features,\n    dragged_features: state.dragged_features,\n    url: state.url,\n    default_models: state.default_models,\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_dragged_features: (val) => dispatch({ type: \"dragged_features\", value: val }),\n    Set_clicked_circles: (val) => dispatch({ type: \"clicked_circles\", value: val }),\n    Set_prev_prop: (val) => dispatch({ type: \"prev_prop\", value: val }),\n    Set_sparkline_data: (val) => dispatch({ type: \"sparkline_data\", value: val }),\n    Set_replay: (val) => dispatch({ type: \"replay\", value: val }),\n    Set_clicked_features: (val) => dispatch({ type: \"clicked_features\", value: val }),\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: val }),\n    set_dbclicked_features: (val) => dispatch({ type: \"dbclicked_features\", value: val }),\n    Set_popup_chart_data: (val) => dispatch({ type: \"popup_chart_data\", value: val }),\n    set_pop_over: (val) => dispatch({ type: \"pop_over\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(SlopeChart);","import React from 'react';\nimport \"./YearModelSelection.scss\";\nimport { connect } from \"react-redux\";\nimport * as d3 from 'd3';\nimport * as algo1 from \"../../../../Algorithms/algo1\";\nfunction YearModelSelection(props) {\n  var handle_year_click = (year) => {\n    props.Set_selected_year(year)\n    sortModels(year)\n  }\n  var handle_model_click = (model) => {\n    if (props.default_models.includes(model)) {\n      props.Set_default_models(props.default_models.filter(item => item != model))\n    }\n    else {\n      var temp_Models = algo1.sort(props.sort_by, props.state_range, [...props.default_models, model], props.selected_year, props.grouped_by_year_data)[0];\n      var default_model_scores = algo1.sort(props.sort_by, props.state_range, [...props.default_models, model], props.selected_year, props.grouped_by_year_data)[1];\n      props.Set_default_model_scores(default_model_scores)\n      props.Set_default_models([...temp_Models])\n    }\n  }\n  const sortModels = (selected_year) => {\n    var temp_Models = algo1.sort(props.sort_by, props.state_range, props.default_models, selected_year, props.grouped_by_year_data)[0];\n    var default_model_scores = algo1.sort(props.sort_by, props.state_range, props.default_models, selected_year, props.grouped_by_year_data)[1];\n    props.Set_default_model_scores(default_model_scores)\n    props.Set_default_models([...temp_Models])\n    console.log(temp_Models, default_model_scores, 'temp_model')\n  };\n  console.log(props.dataset,\"dataset\")\n  if(props.dataset==\"rur\"){var all_models=[\"MART\",\"RandomFor\"]}else{var all_models=props.all_models}\n  return (\n    <div className=\"model_topbar\" style={{ width: \"100%\", marginBottom: 2, display: 'flex', justifyContent: \"center\", margin: 0 }}>\n      <div ><h5 style={{ display: \"inline-block\", marginLeft: 0, marginRight: 3, fontSize: 16, fontWeight: 600 }}>Years: </h5>{props.years_for_dropdown.map(item => <p className={props.selected_year == item ? \"years_p_selected years_p\" : \"years_p\"} onClick={() => handle_year_click(item)}>{item}</p>)}</div>\n      <div style={{ marginLeft: 20 }}><h5 style={{ display: \"inline-block\", marginLeft: 0, marginRight: 3, fontSize: 16, fontWeight: 600 }}>Models:</h5>{all_models.map(item => <p modelName={item} className={props.default_models.includes(item) ? \"years_p_selected years_p model_p\" : \"years_p model_p\"} onClick={() => handle_model_click(item)}>{item}</p>)}</div>\n    </div>\n  );\n}\nconst maptstateToprop = (state) => {\n  return {\n    state_range: state.state_range,\n    all_models: state.all_models,\n    selected_year: state.selected_year,\n    years_for_dropdown: state.years_for_dropdown,\n    default_models: state.default_models,\n    sort_by: state.sort_by,\n    grouped_by_year_data: state.grouped_by_year_data,\n    dataset:state.dataset\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: val }),\n    Set_default_models: (val) => dispatch({ type: \"default_models\", value: val }),\n    Set_default_model_scores: (val) => dispatch({ type: \"default_model_scores\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(YearModelSelection);\n\n//https://material-ui.com/api/slider/\n//https://material-ui.com/components/expansion-panels/\n//https://material-ui.com/api/checkbox/\n//https://material-ui.com/components/radio-buttons/","import * as d3 from 'd3';\nvar CreateCatChart = (data, feature, scatterplot_data,props) => {\n    var rScale = d3.scalePow().exponent(0.2).domain(d3.extent(props.deviation_array)).range([8, 1])\n    var feature_contribute = feature + \"_contribution\"\n    var margin = { top: 0, right: 30, bottom: 85, left: 50, space_for_hist: 50 }, width = 520 - margin.left - margin.right, height = 270 - margin.top - margin.bottom;\n    var barplot_data = {}\n    data = data.filter(d => parseFloat(d[feature_contribute]) > 0)\n    data.map(item => { if (barplot_data[item[feature]] > 0) { barplot_data[item[feature]] += 1 } else { barplot_data[item[feature]] = 1 } })\n\n    var temp_x = Object.keys(barplot_data),\n        temp_y = Object.values(barplot_data),\n        y = d3.scaleLinear().domain([d3.min(temp_y), d3.max(temp_y)]).range([height, 0]).nice(); // circles will start from y position 10 and go upto height-10\n\n    var x = d3.scaleBand().domain(temp_x).range([0, width]).padding(0.1);\n    // add the x Axis\n    //------------------------------------------------------------- All svgs\n    var parent_svg = d3.select(\"#\" + props.myid).attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom + margin.space_for_hist),\n        svg1 = parent_svg.selectAll('.svg11').data([0]).join('svg').attr(\"y\", margin.space_for_hist).attr(\"class\", \"svg11\").selectAll(\".myg\").data([0]).join('g').attr(\"class\", \"myg\").attr(\"transform\",\n            \"translate(\" + margin.left + \",\" + margin.top + \")\")\n\n    //------------------------------------------------------------------------------------------------------ Create Histogram starts here\n    var hist_height = margin.space_for_hist\n    y = d3.scaleLinear().domain([0, d3.max(temp_y)]).range([hist_height, 0]).nice();\n    var svg0 = parent_svg.selectAll('.svg0').data([0]).join('svg').attr(\"class\", \"svg0\").selectAll(\".myg0\").data([0]).join('g').attr(\"class\", \"myg0\").attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\")\n    // Add line on the bottom of the histogram\n    svg0.selectAll(\".myline\").data([0]).join('line').attr(\"class\", \"myline\").attr(\"x1\", 0).attr(\"y1\", margin.space_for_hist).attr(\"x2\", width).attr(\"y2\", margin.space_for_hist).attr(\"stroke\", \"#EBEBEB\");\n    svg0.selectAll(\"rect\").data(Object.entries(barplot_data)).join('rect')\n        .attr(\"x\", d => x(d[0]))\n        .attr(\"fill\", \"#b7b7b7\")\n        .attr(\"width\", x.bandwidth())\n        .attr(\"y\", d => y(d[1]))\n        .attr(\"height\", d => hist_height - y(d[1]));\n    //------------------------------------------------------------------------------------------------------ Create Histogram ends here\n\n    var svg1 = parent_svg.selectAll('.svg11').data([0]).join('svg').attr(\"class\", \"svg11\").selectAll(\".myg\").data([0]).join('g').attr(\"class\", \"myg\").attr(\"transform\",\n        \"translate(\" + margin.left + \",\" + margin.top + \")\")\n    svg1.selectAll(\".myline2\").data([0]).join('line').attr(\"class\", \"myline2\").attr(\"x1\", 0).attr(\"y1\", 0).attr(\"x2\", 0).attr(\"y2\", height).attr(\"stroke\", \"#EBEBEB\");\n    svg1.selectAll(\".myline3\").data([0]).join('line').attr(\"class\", \"myline3\").attr(\"x1\", 0).attr(\"y1\", height).attr(\"x2\", width).attr(\"y2\", height).attr(\"stroke\", \"#EBEBEB\");\n\n\n    //------------- Add Y axis\n    var y2 = d3.scaleOrdinal().domain([\".\", \"0\", \"..\"]).range([height / 4, height / 2, (3 * height) / 4]); // circles will start from y position 10 and go upto height-10\n    svg1.selectAll(\".myYaxis\").data([0]).join('g').attr(\"class\", \"myYaxis\").call(d3.axisLeft(y2).tickSize(-width * 1.0).ticks(1).tickValues([\"0\"]).tickFormat(d => d))\n        .select(\".domain\").remove()\n    svg1.selectAll(\".myYaxis\").selectAll('text').remove()\n    d3.selectAll('.svg11').selectAll('.myYtext').data([[\"++ ve\", height * .25], [\"+ ve\", height * .75]]).join(\"text\").attr(\"class\", \"myYtext\")\n        .attr(\"x\", 45).attr(\"y\", (d, i) => d[1] + 4).text(d => d[0]).attr('font-size', 14).attr(\"text-anchor\", \"end\")\n\n    //------------- Add X axis\n    svg1.selectAll(\".myXaxis\").data([0]).join('g').attr(\"class\", \"myXaxis\")\n        .attr(\"transform\", \"translate(0,\" + height + \")\")\n        .call(d3.axisBottom(x).tickSize(-height * 1.3)).selectAll(\"text\")\n        .style(\"text-anchor\", \"end\")\n        .attr(\"dx\", \"-.8em\")\n        .attr(\"dy\", \"0em\")\n        .attr(\"transform\", \"rotate(-90)\")\n        .selectAll(\".tick line\").remove()\n    svg1.selectAll(\".domain\").remove()\n    svg1.selectAll(\".tick line\").attr(\"stroke\", \"#EBEBEB\")\n    //------------------------------------------------------------------------------------------------------ Create Histogram ends here\n    //------------------------------------------------------------------------------------------------------ Scatterplot starts here\n    svg1.selectAll(\".scatterplot_g\").data(scatterplot_data).join('g').attr(\"id\", d => d[0] + \"scatterplot_g_id\").attr(\"class\", \"scatterplot_g\").attr(\"ax\", function (d) {\n        var temp_y = d[1].map(item => parseFloat(item[feature + \"_contribution\"])) // d[1] \n        y = d3.scaleLinear().domain([d3.min(temp_y), d3.max(temp_y)]).range([height, 0]).nice();\n        var circle_data=d[1].sort((a,b)=>a['deviation']-b['deviation'])\n        d3.select(this).selectAll('circle').data(circle_data)\n            .join(\"circle\")\n            .attr(\"cx\", (d, i) => {\n                return x(d[feature]) + x.bandwidth() / 2\n            })\n            .attr(\"cy\", (d, i) => {\n                if (y(parseFloat(d[feature_contribute])) < 10) {\n                    return 10;\n                }\n                else if (y(parseFloat(d[feature_contribute])) > (height - 10)) {\n                    return height - 10;\n                }\n                return y(parseFloat(d[feature_contribute])) - 0\n\n            })\n            .attr(\"actual_Y_value\", d => d[feature_contribute])\n            .attr(\"r\", d => parseFloat(d[feature_contribute]) <= 0 ? 0 : rScale(d['deviation']))\n            .attr(\"fill\", (d) => {\n                return props.diverginColor(d['two_realRank']).replace(\")\",\",.7)\")\n            })\n            .style('stroke',(d) => {\n                return props.diverginColor(d['two_realRank'])\n            })\n            .attr('class', d => 'my_circles')\n            .attr(\"id\", d => d['id'])\n            .on('click', d => {\n                props.Set_clicked_circles(props.clicked_circles.includes(d['id']) ? props.clicked_circles.filter(item => item != d['id']) : [...props.clicked_circles, d['id']])\n            })\n    })\n\n    // Define the div for the tooltip\n    var div = d3.select(\"body\").append(\"div\")\n        .attr(\"class\", \"tooltip2\")\n        .style(\"opacity\", 0);\n    d3.selectAll('.exp_circles')\n        .on(\"mouseover\", function (d) {\n            div.transition()\n                .duration(200)\n                .style(\"opacity\", .9);\n            div.html(\"<p>\" + d['State'] + \"</p>\" + \"<p>\" + \"Model: \" + d3.select(this).attr('dataset_name') + \"</p>\")\n                //div.html(d['State'])\n                .style(\"left\", (d3.event.pageX) + \"px\")\n                .style(\"top\", (d3.event.pageY - 28) + \"px\");\n        })\n        .on(\"mouseout\", function (d) {\n            d3.selectAll('.tooltip2').transition()\n                .duration(500)\n                .style(\"opacity\", 0);\n        })\n\n    //------------------------------------------------------------------------------------------------------ Scatterplot ends here\n}\nexport default CreateCatChart","import * as d3 from 'd3';\nimport * as _ from \"lodash\";\nimport \"./CreateNumChart.css\"\nvar CreateNumChart = (data, feature, scatterplot_data, props) => {\n  var rScale = d3.scalePow().exponent(0.2).domain(d3.extent(props.deviation_array)).range([8, 1])\n  var feature_contribute = feature + \"_contribution\"\n  var scatterplot_data = scatterplot_data.map(data_arr => {\n    var temp = data_arr[1].filter(item => item['deviation'] < props.threshold && parseFloat(item[feature_contribute]) > 0)\n    return [data_arr[0], temp]\n  })\n  // set the dimensions and margins of the graph\n  var margin = { top: 0, right: 30, bottom: 70, left: 50, space_for_hist: 50 },\n    feature_width = 520 - margin.left - margin.right,\n    height = 250 - margin.top - margin.bottom;\n\n  data = data.filter(d => parseFloat(d[feature_contribute]) > 0)\n\n  var data_for_x_axis = data.map(item => parseFloat(item[feature])),\n    data_for_y_axis = data.map(item => parseFloat(item[feature_contribute]))\n\n  var xScale = d3.scaleLinear().domain([d3.min(data_for_x_axis), d3.max(data_for_x_axis)]).range([0, feature_width]).nice(),\n    yScale = d3.scaleLinear().domain([d3.min(data_for_y_axis), d3.max(data_for_y_axis)]).range([height, 0]).nice(); // circles will start from y position 10 and go upto height-10\n  //-------------------------------------------------------------All svgs\n  var parent_svg = d3.select(\"#\" + props.myid).attr(\"width\", feature_width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom + margin.space_for_hist),\n    svg1 = parent_svg.selectAll('.svg11').data([0]).join('svg').attr(\"y\", margin.space_for_hist).attr(\"class\", \"svg11\").selectAll(\".myg\").data([0]).join('g').attr(\"class\", \"myg\").attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\")\n\n  //------------------------------------------------------------------------------------------------------Create the areaChart starts here\n  var histogram = d3.histogram().value(d => d).domain(xScale.domain())\n  //.thresholds(xScale.ticks(5))\n  var bins = histogram(data_for_x_axis)\n  var svg0 = parent_svg.selectAll('.svg0').data([0]).join('svg').attr(\"class\", \"svg0\").selectAll(\".myg0\").data([0]).join('g').attr(\"class\", \"myg0\").attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\")\n  svg0.selectAll(\".myline\").data([0]).join('line').attr(\"class\", \"myline\").attr(\"x1\", 0).attr(\"y1\", margin.space_for_hist).attr(\"x2\", feature_width).attr(\"y2\", margin.space_for_hist).attr(\"stroke\", \"#EBEBEB\") // // Add line on the bottom of the histogram\n\n  var histogram = d3.histogram().value(d => d).domain(xScale.domain())\n  //.thresholds(xScale.ticks(25))\n  var binned_data = histogram(data_for_x_axis)\n\n  var area_chart_data = []\n  binned_data.map((item, i) => area_chart_data.push([item.x0, item.length]))\n  var xScale = d3.scaleLinear().domain(d3.extent(area_chart_data.map(item => item[0]))).range([0, feature_width + 1])\n  var yScale = d3.scaleLinear().domain([0, d3.max(area_chart_data.map(item => item[1]))]).range([margin.space_for_hist, 0])\n  const areaGenerator = d3.area().curve(d3.curveMonotoneX).x(d => xScale(d[0])).y0(yScale(0)).y1(d => yScale(d[1]))\n\n  svg0.selectAll(\".hist_path\").data([0]).join('path').attr('class', 'hist_path').attr('transform', 'translate(0,' + margin.top + ')')\n    .attr(\"d\", areaGenerator(area_chart_data))\n    .style(\"fill\", \"gray\");\n  //------------------------------------------------------------------------------------------------------ Create the areaChart ends here\n\n  var svg1 = parent_svg.selectAll('.svg11').data([0]).join('svg').attr(\"class\", \"svg11\").selectAll(\".myg\").data([0]).join('g').attr(\"class\", \"myg\").attr(\"transform\",\n    \"translate(\" + margin.left + \",\" + margin.top + \")\")\n  svg1.selectAll(\".myline2\").data([0]).join('line').attr(\"class\", \"myline2\").attr(\"x1\", 0).attr(\"y1\", 0).attr(\"x2\", 0).attr(\"y2\", height).attr(\"stroke\", \"#EBEBEB\");\n  svg1.selectAll(\".myline3\").data([0]).join('line').attr(\"class\", \"myline3\").attr(\"x1\", 0).attr(\"y1\", height).attr(\"x2\", feature_width).attr(\"y2\", height).attr(\"stroke\", \"#EBEBEB\");\n\n\n\n\n  //------------------------------------------------------------------ Regression starts here\n  var regression_data = []\n  scatterplot_data.map(data_by_model => { data_by_model[1].map(item => { regression_data.push([parseFloat(item[feature]), parseFloat(item[feature_contribute])]) }) })\n  var data = regression_data\n  var width = feature_width,\n    height = height;\n  // setup x\n  var xValue = function (d) { return d[0]; }, // data -> value\n    xScale = d3.scaleLinear().range([0, width]), // value -> display\n    xMap = function (d) { return xScale(xValue(d)); }; // data -> display\n  // setup y\n  var yValue = function (d) { return d[1]; }, // data -> value\n    yScale = d3.scaleLinear().range([height - margin.bottom, 0]), // value -> display\n    yMap = function (d) { return yScale(yValue(d)); }; // data -> display\n  // add the graph canvas to the body of the webpage\n  var svg = svg1.attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom)\n  var regrLine = regressionLine().xScale(xScale).yScale(yScale).xValue(xValue).yValue(yValue);\n  var minX = d3.min(data, xValue), maxX = d3.max(data, xValue);\n  var minY = d3.min(data, yValue), maxY = d3.max(data, yValue);\n  var diffX = (maxX - minX) * 0.05, diffY = (maxY - minY) * 0.05;\n  xScale.domain([d3.min(data, xValue) - diffX, d3.max(data, xValue) + diffX]);\n  yScale.domain([d3.min(data, yValue) - diffY, d3.max(data, yValue) + diffY]);\n  svg.selectAll(\".regr\").data([data]).join(\"g\").attr(\"class\", \"regr\").call(regrLine);\n  //------------------------------------------------------------------------------------------------------ Draw Circles\n  //------------- Add X axis\n  if (d3.max(d3.max(bins)) > 1000) {\n    svg1.selectAll(\".myXaxis\").data([0]).join('g').attr(\"class\", \"myXaxis\")\n      .attr(\"transform\", \"translate(0,\" + height + \")\")\n      .call(d3.axisBottom(xScale).tickSize(-height * 1.3).tickValues(bins.map(item => item['x1'])).tickFormat(d3.format(\".2s\")))\n      .select(\".domain\").remove()\n  }\n  else {\n    svg1.selectAll(\".myXaxis\").data([0]).join('g').attr(\"class\", \"myXaxis\")\n      .attr(\"transform\", \"translate(0,\" + height + \")\")\n      .call(d3.axisBottom(xScale).tickSize(-height * 1.3).tickValues(bins.map(item => item['x1'])))\n      .select(\".domain\").remove()\n  }\n  svg1.selectAll(\".tick line\").attr(\"stroke\", \"#EBEBEB\")\n  svg1.selectAll(\".scatterplot_g\").data(scatterplot_data).join('g').attr(\"id\", d => d[0] + \"scatterplot_g_id\").attr(\"class\", \"scatterplot_g\").attr(\"ax\", function (d) {\n    var data_for_x_axis2 = d[1].map(item => parseFloat(item[feature]))\n    var data_for_y_axis2 = d[1].map(item => parseFloat(item[feature_contribute]))\n\n    var xScale2 = d3.scaleLinear().domain([d3.min(data_for_x_axis2), d3.max(data_for_x_axis2)]).range([8, feature_width-8]).nice() // This scaling is for individual model\n    var yScale2 = d3.scaleLinear().domain([d3.min(data_for_y_axis2), d3.max(data_for_y_axis2)]).range([height, 0]).nice(); // This scaling is for individual model\n    d3.select(this).selectAll('circle').data(d[1])\n      .join(\"circle\")\n      .attr(\"cx\", (d, i) => xScale2(d[feature]))\n      .attr(\"cy\", (d, i) => {\n        if (yScale2(parseFloat(d[feature_contribute])) < 10) {\n          return 10;\n        }\n        else if (yScale2(parseFloat(d[feature_contribute])) > (height - 10)) {\n          return height - 10;\n        }\n        return yScale2(parseFloat(d[feature_contribute])) - 0\n\n      })\n      .attr(\"actual_Y_value\", d => d[feature_contribute] + \" : x value : \" + d[feature])\n      //.attr(\"r\", 4)\n      .attr(\"r\", d => parseFloat(d[feature_contribute]) <= 0 ? 0 : rScale(d['deviation']))\n      .attr(\"fill\", (d) => {\n        return props.diverginColor(d['two_realRank']).replace(\")\", \",.6)\")\n      })\n      .style('stroke', (d) => {\n        return props.diverginColor(d['two_realRank'])\n      })\n      .attr('class', d => 'my_circles')\n      .attr(\"id\", d => d['id'])\n      .on('click', d => {\n        props.Set_clicked_circles(props.clicked_circles.includes(d['id']) ? props.clicked_circles.filter(item => item != d['id']) : [...props.clicked_circles, d['id']])\n      })\n  })\n  //--------------------------------------------------------------------------------------------------\n  svg1.selectAll(\".my_temp_rect\").data([0]).join('rect').attr(\"class\", \"my_temp_rect\").attr(\"width\", \"100%\").attr(\"height\", 100).style(\"fill\", \"white\").attr(\"y\", height)\n  svg1.selectAll(\".myXaxis\").raise()\n  svg1.select(\".regr-line\").attr(\"fix\",function(){\n    svg1.selectAll(\".my_line\").data([0]).join(\"line\").attr(\"class\", \"my_line\").attr(\"x1\", d3.select(this).attr('x1')).attr(\"x2\", d3.select(this).attr('x2')).attr(\"y1\",d3.select(this).attr('y1')).attr(\"y2\", d3.select(this).attr('y2')).attr(\"stroke-width\", 2).attr(\"stroke\", \"#5c7eb7\")\n    d3.select(this).attr(\"opacity\",0)\n  })\n  svg1.selectAll(\".my_line\").raise()\n  svg1.selectAll(\".scatterplot_g\").raise()\n  svg1.selectAll(\".myText\").data([0]).join(\"text\").attr(\"x\", feature_width/2).attr(\"class\", \"myText\").attr('dominant-baseline',\"middle\").attr('text-anchor',\"middle\").attr(\"y\",height+30).text('feature value').attr(\"fill\",\"#5b5959\").attr(\"font-size\",14)\n  svg1.selectAll(\".myText2\").data([0]).join(\"text\").attr(\"class\", \"myText2\").attr('dominant-baseline',\"middle\").attr('text-anchor',\"middle\").text('feature importance').attr(\"fill\",\"#5b5959\").attr(\"font-size\",14)\n  .attr('transform',d=>\"rotate(-90,\"+0+\",\"+height/2+\")\").attr(\"x\", 0).attr(\"y\", margin.left+20)\n  //---------------------------\n  function regressionLine() {\n    var xScale, yScale, xValue, yValue;\n    var area = d3.area()\n      .x(function (d) { return xScale(xValue(d[0])); })\n      .y0(function (d) { return yScale(yValue(d[0])); })\n      .y1(function (d) { return yScale(yValue(d[1])); });\n    function regressionLineBehavior(selection) {\n      selection.each(function (data) {\n        // var regr = regression('linear', data, 3);\n        var regr = calculateLinearRegression(data);\n        var regressionService = new RegressionService();\n\n        var errorPoints = regressionService.getErrorLines(data, regr.points);\n        var lowerConfidencePoints = prepareConfidencePoints(errorPoints.lowerErrorPoints);\n        var upperConfidencePoints = prepareConfidencePoints(errorPoints.upperErrorPoints);\n\n        var confidencePoints = _.zip(lowerConfidencePoints, upperConfidencePoints);\n        d3.select(this).selectAll(\".regr-confidence\").data([0]).join('path')\n          .datum(confidencePoints)\n          .attr(\"class\", \"regr-confidence\")\n          .attr(\"d\", area);\n\n        var xDomain = xScale.domain();\n        d3.select(this).selectAll(\".regr-line\").data([0]).join('line')\n          .attr(\"class\", \"regr-line\")\n          .attr(\"x1\", xScale(xDomain[0]))\n          .attr(\"y1\", yScale((xDomain[0] * regr.slope) + regr.intercept))\n          .attr(\"x2\", xScale(xDomain[1]))\n          .attr(\"y2\", yScale((xDomain[1] * regr.slope) + regr.intercept));\n      });\n    }\n\n    regressionLineBehavior.xValue = function (xValueValue) {\n      xValue = xValueValue;\n      return regressionLineBehavior;\n    };\n\n    regressionLineBehavior.yValue = function (yValueValue) {\n      yValue = yValueValue;\n      return regressionLineBehavior;\n    };\n\n    regressionLineBehavior.xScale = function (xScaleValue) {\n      xScale = xScaleValue;\n      return regressionLineBehavior;\n    };\n\n    regressionLineBehavior.yScale = function (yScaleValue) {\n      yScale = yScaleValue;\n      return regressionLineBehavior;\n    };\n\n    function calculateLinearRegression(data) {\n      // Formula is taken from http://stackoverflow.com/questions/6195335/linear-regression-in-javascript\n      var n = data.length;\n      var sum_x = 0;\n      var sum_y = 0;\n      var sum_xy = 0;\n      var sum_xx = 0;\n      var sum_yy = 0;\n\n      data.forEach(function (pair) {\n        sum_x += xValue(pair);\n        sum_y += yValue(pair);\n        sum_xy += xValue(pair) * yValue(pair);\n        sum_xx += xValue(pair) * xValue(pair);\n        sum_yy += yValue(pair) * yValue(pair);\n      });\n\n      var slope = (n * sum_xy - sum_x * sum_y) / (n * sum_xx - sum_x * sum_x);\n      var intercept = (sum_y - slope * sum_x) / n;\n      var points = data.map(function (pair) {\n        return [xValue(pair), slope * xValue(pair) + intercept];\n      });\n\n      return {\n        slope: slope,\n        intercept: intercept,\n        points: points\n      };\n    };\n\n    function prepareConfidencePoints(errorPoints) {\n      var xDomain = xScale.domain();\n\n      var uniqueErrorPoints = _.sortBy(_.uniqBy(errorPoints, xValue), xValue);\n      var pointsCount = uniqueErrorPoints.length;\n      var startLine = calculateLineFromPoints(uniqueErrorPoints[0], uniqueErrorPoints[1]);\n      var endLine = calculateLineFromPoints(uniqueErrorPoints[pointsCount - 1], uniqueErrorPoints[pointsCount - 2]);\n\n      uniqueErrorPoints.unshift([xDomain[0], xDomain[0] * startLine.a + startLine.b]);\n      uniqueErrorPoints.push([xDomain[1], xDomain[1] * endLine.a + endLine.b]);\n\n      return uniqueErrorPoints;\n    }\n\n    function calculateLineFromPoints(p1, p2) {\n      var a = (yValue(p1) - yValue(p2)) / (xValue(p1) - xValue(p2));\n      return {\n        a: a,\n        b: yValue(p1) - a * xValue(p1)\n      };\n    }\n\n    function RegressionService() {\n      function getErrorLines(inputPoints, outputPoints) {\n        // Formula is take from https://www2.stat.duke.edu/courses/Spring13/sta101.001/slides/unit6lec3H.pdf\n        var stdErr = Math.sqrt(_.sum(\n          _.zip(inputPoints.map(yValue), outputPoints.map(yValue))\n            .map(pair => Math.pow(pair[1] - pair[0], 2)))\n          / (inputPoints.length - 2));\n        var meanX = _.sum(inputPoints.map(xValue)) / inputPoints.length;\n\n        var stdX = Math.sqrt(\n          _.sum(inputPoints.map(function (val) {\n            return Math.pow(xValue(val) - meanX, 2);\n          })) / inputPoints.length);\n\n        var errorMargin = outputPoints.map(function (val) {\n          return 1.96 * stdErr * Math.sqrt(\n            1 / inputPoints.length +\n            Math.pow((xValue(val) - meanX), 2)\n            / ((inputPoints.length - 1) * Math.pow(stdX, 2)));\n        });\n\n        return {\n          lowerErrorPoints: _.zip(outputPoints, errorMargin).map(function (pair) {\n            return [xValue(pair[0]), yValue(pair[0]) - pair[1]];\n          }),\n          upperErrorPoints: _.zip(outputPoints, errorMargin).map(function (pair) {\n            return [xValue(pair[0]), yValue(pair[0]) + pair[1]];\n          })\n        };\n      }\n\n      return {\n        getErrorLines: getErrorLines\n      }\n    }\n\n    return regressionLineBehavior;\n  }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n}\nexport default CreateNumChart","import { merge } from 'jquery';\nimport React, { Component } from 'react';\nimport { connect } from \"react-redux\";\nimport * as misc_algo from '../misc_algo'\nimport CreateCatChart from './CreateCatChart'\nimport CreateNumChart from './CreateNumChart'\nclass Chart extends Component {\n  constructor(props) {\n    super(props);\n  }\n  componentDidMount() {\n    this.setState({ a: 5 })\n  }\n  componentDidUpdate() {\n    //console.log(this.props.default_models,'popover',this.props.popup_chart_data[0])\n    var temp_dict = {}\n    this.props.default_models.filter(item => item != \"ListNet\").map(model => {\n      temp_dict[model] = this.props.popup_chart_data[0][model].filter(item=>item['deviation']<this.props.threshold).map(item=>{\n        item['id'] = item['State'].replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\") + model.replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\")\n        return item\n      })\n    })\n    var merged_arr = [].concat.apply([], Object.values(temp_dict))\n    var scatterplot_data = Object.entries(this.props.popup_chart_data[0]).filter(item => this.props.pop_over_models.includes(item[0]))\n    console.log(merged_arr,temp_dict,'temp',scatterplot_data)\n    //----------------------------------------------------------------------------------------------------------Call createChart\n    if (merged_arr.length > 0) { // This is to avoid the error caused by the next line\n      if (isNaN(merged_arr[0][this.props.popup_chart_data[1]])) {\n        CreateCatChart(merged_arr, this.props.popup_chart_data[1], scatterplot_data,this.props,this.props.deviation_array)\n      }\n      else {\n        CreateNumChart(merged_arr, this.props.popup_chart_data[1], scatterplot_data,this.props,this.props.deviation_array)\n      }\n    }\n    else {\n      CreateNumChart(merged_arr, this.props.popup_chart_data[1], scatterplot_data,this.props,this.props.deviation_array) // calling the function to set the  graph empty when all models are unselected\n    }\n    misc_algo.handle_transparency(\"circle2\", this.props.clicked_circles, this.props.anim_config)\n  }\n\n  render() {\n    return (\n      <div key={this.props.popup_chart_data[1]} style={{ margin: 10, padding: 10, border: this.props.index == 0 ? \"3px solid #e5e5e5\" : \"white\" }}>\n        <svg id={this.props.myid}> </svg>\n        <p style={{ color: \"#4f4c4c\", marginLeft: \"42%\", marginTop: -25, marginBottom: 0 }}>{this.props.popup_chart_data[1]}</p>\n      </div>\n    );\n  }\n}\nconst maptstateToprop = (state) => {\n  return {\n    //popup_chart_data: state.popup_chart_data,\n    pop_over_models: state.pop_over_models,\n    clicked_circles: state.clicked_circles,\n    threshold: state.threshold,\n    anim_config:state.anim_config,\n    deviation_array: state.deviation_array,\n  }\n}\n//item['id'] = item['State'].replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\") + model.replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\")\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_clicked_circles: (val) => dispatch({ type: \"clicked_circles\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Chart);","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Fade from '@material-ui/core/Fade';\nimport { connect } from \"react-redux\";\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nfunction FadeMenu(props) {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const open = Boolean(anchorEl);\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  //------------For list and chckbox\n  const [checked, setChecked] = React.useState([0]);\n  const handleToggle = (value) => () => {\n    const currentIndex = checked.indexOf(value);\n    const newChecked = [...checked];\n    if (currentIndex === -1) {\n      newChecked.push(value);\n    } else {\n      newChecked.splice(currentIndex, 1);\n    }\n    setChecked(newChecked);\n  };\n  //----------------\n  const checkboxChanged = (event) => {\n    let temp_Models=[...props.pop_over_models].filter(item=>item!=\"ListNet\")\n    if (temp_Models.includes(event.target.value)) {\n      temp_Models = props.pop_over_models.filter(item => item != event.target.value)\n      props.Set_pop_over_models(temp_Models)\n    }\n    else {\n      temp_Models.push(event.target.value)\n      props.Set_pop_over_models(temp_Models)\n    }\n  }\n  return (\n    <div>\n      <Button aria-controls=\"fade-menu\" aria-haspopup=\"true\" onClick={handleClick}>\n        Filter Models\n        <ArrowDropDownIcon></ArrowDropDownIcon>\n      </Button>\n      <Menu\n        id=\"fade-menu\"\n        anchorEl={anchorEl}\n        keepMounted\n        open={open}\n        onClose={handleClose}\n        TransitionComponent={Fade}\n      >\n        <div className=\"CheckboxContainer\">\n          <List>\n            {props.default_models.map((value) => {\n              const labelId = `checkbox-list-label-${value}`;\n              return (\n                <ListItem key={value} role={undefined} onClick={handleToggle(value)}>\n                  <Checkbox\n                    checked={props.pop_over_models.includes(value)}\n                    edge=\"start\"\n                    tabIndex={-1}\n                    value={value}\n                    onChange={(event, value) => {\n                      checkboxChanged(event, value)\n                    }\n                    }\n                  />\n                  <p className=\"list_item_label\" id={labelId}>{value}</p>\n                </ListItem>\n              );\n            })}\n          </List>\n        </div>\n      </Menu>\n    </div>\n  );\n}\nconst maptstateToprop = (state) => {\n  return {\n    pop_over_models:state.pop_over_models\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_pop_over_models: (val) => dispatch({ type: \"pop_over_models\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(FadeMenu);\n//https://material-ui.com/components/menus/\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport { connect } from \"react-redux\";\nimport Chart_pop from './02Charts'\nimport Draggable from 'react-draggable';\nimport Grid from \"@material-ui/core/Grid\"\nimport FilterModel from \"./FilterModel\"\nexport function SimplePopover(props) {\n    console.log(props.default_models, 'popover')\n    const handleClose = () => {\n        props.set_pop_over(false)\n        props.set_dbclicked_features([])\n    };\n    return (\n        <div className=\"pop_over\" style={{ position: \"relative\" }}>\n            {props.pop_over == true ?\n                <div style={{ top: \"2%\", left: \"14%\", position: \"fixed\", pointerEvents: \"none\", backgroundColor: \"transparent\" }}>\n                    <Draggable>\n                        <Grid style={{ backgroundColor: \"#ffffff\", boxShadow: \"3px 2px 15px -7px #000000\", pointerEvents: \"auto\" }}>\n                            <Grid container style={{ borderBottom: \"1px solid #e2e2e2\", marginBottom: 20 }}\n                                direction=\"row\"\n                                justify=\"space-between\"\n                                alignItems=\"center\"\n                            >\n                                <FilterModel default_models={props.default_models}></FilterModel>\n                                <Button color=\"secondary\" id=\"draggable-dialog-title\" onClick={handleClose}>close</Button>\n                            </Grid>\n                            {\n                                props.mode == \"Model\" ? <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\" style={{ maxHeight: 700, overflow: \"scroll\", maxWidth: 1600 }}>\n                                    {\n                                        props.dbclicked_features.length > 0 ? props.dbclicked_features.map((item, index) => <Chart_pop\n                                            index={index}\n                                            popup_chart_data={[props.popup_chart_data[0], item]} default_models={props.default_models}\n                                            myid={item.replace(/\\s/g, '').replace(/[`~!@#$%^&*()_|+\\-=?;:'\",.<>\\{\\}\\[\\]\\\\\\/]/gi, '')} diverginColor={props.diverginColor}\n                                        ></Chart_pop>) : <Chart_pop popup_chart_data={props.popup_chart_data} default_models={props.default_models} myid=\"myid1\" diverginColor={props.diverginColor} textClickHandler_original={props.textClickHandler_original}></Chart_pop>\n                                    }\n                                </Grid> : null\n                            }\n                            {\n                                props.mode == \"Ranges\" ? <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\" style={{ maxHeight: 700, overflow: \"scroll\", maxWidth: 1600 }}>\n                                    {\n                                        props.dbclicked_features.length > 0 ? props.dbclicked_features.map((item, index) => <Chart_pop\n                                            index={index}\n                                            popup_chart_data={[props.popup_chart_data[0], item]} default_models={props.default_models}\n                                            myid={item.replace(/\\s/g, '').replace(/[`~!@#$%^&*()_|+\\-=?;:'\",.<>\\{\\}\\[\\]\\\\\\/]/gi, '')} diverginColor={props.diverginColor}\n                                        ></Chart_pop>) : <Chart_pop popup_chart_data={props.popup_chart_data} default_models={props.default_models} myid=\"myid1\" diverginColor={props.diverginColor} textClickHandler_original={props.textClickHandler_original}></Chart_pop>\n                                    }\n                                </Grid> : null\n                            }\n                            {\n                                props.mode == \"Time\" ? <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\" style={{ maxHeight: 700, overflow: \"scroll\", maxWidth: 1600 }}>\n                                    {\n                                        props.dbclicked_features.length > 0 ? props.dbclicked_features.map((item, index) => <Chart_pop\n                                            index={index}\n                                            popup_chart_data={[props.popup_chart_data[0], item]} default_models={props.default_models}\n                                            myid={item.replace(/\\s/g, '').replace(/[`~!@#$%^&*()_|+\\-=?;:'\",.<>\\{\\}\\[\\]\\\\\\/]/gi, '')} diverginColor={props.diverginColor}\n                                        ></Chart_pop>) : <Chart_pop popup_chart_data={props.popup_chart_data} default_models={props.default_models} myid=\"myid1\" diverginColor={props.diverginColor} textClickHandler_original={props.textClickHandler_original}></Chart_pop>\n                                    }\n                                </Grid> : null\n                            }\n                        </Grid>\n                    </Draggable>\n                </div> : null}\n        </div>\n    );\n}\nconst maptstateToprop = (state) => {\n    return {\n        popup_chart_data: state.popup_chart_data,\n        pop_over: state.pop_over,\n        dbclicked_features: state.dbclicked_features,\n        mode: state.mode,\n    }\n}\nconst mapdispatchToprop = (dispatch) => {\n    return {\n        set_pop_over: (val) => dispatch({ type: \"pop_over\", value: val }),\n        set_dbclicked_features: (val) => dispatch({ type: \"dbclicked_features\", value: val }),\n        set_clicked_features: (val) => dispatch({ type: \"clicked_features\", value: val }),\n    }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(SimplePopover);\n","import React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport { connect } from \"react-redux\";\nimport * as deviation_chart from \"../DevPlot/deviation_chart\"\nimport * as misc_algo from '../misc_algo'\nimport * as $ from 'jquery';\nimport ModelSlider from './ModelSlider';\nimport ExpChart from './ExpChartComponent';\nimport './ModelSlider.scss';\nimport YearModelSelection from \"./YearAndModelSelection/YearModelSelection\"\nimport Grid from '@mui/material/Grid';\nimport Popover from '../Popover/01Popover';\nclass SlopeChart extends Component {\n  constructor(props) {\n    super(props);\n    this.line_color = null;\n    this.state = { height_slope_exp_chart: 700, mouseX: 0, mouseY: 0 }\n  }\n  componentDidMount() { this.setState({ width: window.innerHeight }) }\n  shouldComponentUpdate(prevProps, prevState) { return true; }\n  componentDidUpdate(prevProps, prevState) {\n    var self=this\n    var selected_instances = d3.range(this.props.state_range[0], this.props.state_range[1] + 1)\n    if (this.props.histogram_data.length > 0) { selected_instances = this.props.histogram_data }\n\n    //--------------------\n    var min = d3.min(selected_instances), max = d3.max(selected_instances);\n    var d = (max - min) / 8;\n    var diverginColor = d3.scaleLinear().domain([min + d * 7, min + d * 6, min + d * 5, min + d * 4, min + d * 3, min + d * 2, min]).interpolate(d3.interpolateRgb).range(['#af8dc3','#b197c1','#dbd88c','#dbd88c', '#dbd88c', '#90bc8d', '#7fbf7b']);\n    var diverginColor = d3.scaleLinear().domain([min + d * 7, min + d * 6, min + d * 5, min + d * 4, min + d * 3, min + d * 2, min]).interpolate(d3.interpolateRgb).range(['#af8dc3','#b197c1','#dbd88c','#dbd88c', '#dbd88c', '#90bc8d', '#7fbf7b']);\n    //-------------------- Threshold filter\n    var under_threshold_instances = []\n    var year_data = this.props.original_data.filter(item => this.props.selected_year == item['1-qid'])\n    this.props.default_models.map(model_name => {\n      year_data.map(item => {\n        var two_realRank = parseInt(item['two_realRank'])\n        var predicted_rank = parseInt(item[model_name])\n        if (Math.abs(predicted_rank - two_realRank) < this.props.threshold) {\n          under_threshold_instances.push(two_realRank)\n        }\n      })\n    })\n    selected_instances = selected_instances.filter(item => under_threshold_instances.includes(item))\n    deviation_chart.Create_deviation_chart('dev_plot_container_svg', 'exp', selected_instances, this.props.original_data, this.props.default_models, this.props.anim_config, this.props.selected_year, this.props.average_m, this.props.clicked_circles, this.props.Set_clicked_circles, diverginColor, this.props.sparkline_data, this.props.Set_selected_year, this.props.dataset, this.props.threshold)\n    misc_algo.handle_transparency(\"circle2\", this.props.clicked_circles, this.props.anim_config)\n    //-------------------------Handle model mousever start here \n    d3.selectAll(\".model_p\").on('mouseover',function(){\n      var selectedModel=d3.select(this).attr('modelName')\n      if(self.props.default_models.includes(selectedModel)){\n        d3.selectAll('.deviation_circles').attr('opacity',0.1)\n        d3.selectAll('.'+selectedModel).attr('opacity',1)  \n      }\n    })\n    .on('mouseout',function(){\n      d3.selectAll('.deviation_circles').attr('opacity',1)\n    })\n  //-------------------------Handle model mousever start here\n  }\n  render() {\n    var selected_instances = d3.range(this.props.state_range[0], this.props.state_range[1] + 1)\n    if (this.props.histogram_data.length > 0) { selected_instances = this.props.histogram_data }\n    //--------------------\n    var min = d3.min(selected_instances), max = d3.max(selected_instances);\n    var d = (max - min) / 8;\n    var diverginColor = d3.scaleLinear().domain([min + d * 7, min + d * 6, min + d * 5, min + d * 4, min + d * 3, min + d * 2, min]).interpolate(d3.interpolateRgb).range(['#af8dc3','#b197c1','#dbd88c','#dbd88c', '#dbd88c', '#90bc8d', '#7fbf7b']);\n    this.props.Set_selected_instances(selected_instances)\n    //--------------------\n    var deviation_array = []\n    this.props.default_models.map(model => {\n      this.props.lime_data[model].map(item => {\n        if (item['1-qid'] == this.props.selected_year && selected_instances.includes(parseInt(item['two_realRank']))) {\n          deviation_array.push(item['deviation'])\n        }\n      })\n    })\n    this.props.Set_deviation_array(deviation_array)\n    //console.log('deviation_array: ', d3.extent(deviation_array))\n    //--------------------\n    return (\n      <Grid className=\"ModelChartParent\" container direction=\"row\" justify=\"flex-start\" alignItems=\"center\" style={{ height: '100%', width: '100%', backgroundColor: 'white', margin: 2, padding: 2, boxShadow: \"-2px 1px 4px -1px white\" }}> {/* This model chart's height and width is the parent*/}\n        <Grid item className=\"left_container\" style={{width:400, backgroundColor: \"#fcfcfc\" }}>\n          {/* The deviation plot container starts below */}\n          <div className=\"year_and_model_selector_and_slider_container\"> {/* This is used to calculate the deviation plot height */}\n            <YearModelSelection></YearModelSelection><ModelSlider></ModelSlider>\n          </div>\n          {/* The deviation plot container starts below */}\n          <div class=\"deviation_plot_container_div\" style={{ width: \"100%\", height: $('.ModelChartParent').height() - $('.year_and_model_selector_and_slider_container').height(), marginBottom: 0, overflow: 'scroll' }}>\n            <svg id=\"dev_plot_container_svg\" style={{ width: \"100%\", overflow: 'hidden' }}></svg>\n          </div>\n          {/* The deviation plot container ends here */}\n        </Grid>\n        {/* The explanation plot container starts below */}\n        {this.props.rank_data != null ?\n          <Grid className=\"right_container\" item container xs direction=\"row\" columnSpacing={1} style={{ height: '100%'}}>\n              {\n                this.props.default_models.map((model_name, index) => {\n                  return <Grid item xs={12/this.props.default_models.length} style={{height: \"100%\"}}>\n                    <ExpChart diverginColor={diverginColor} exp_id={\"exp\" + index} default_models={this.props.default_models} state_range={this.props.state_range} selected_year={this.props.selected_year} model_name={model_name}></ExpChart>\n                  </Grid>\n                })\n              }\n            \n          </Grid> : null}\n        {/* The explanation plot container ends here */}\n        <Popover diverginColor={diverginColor} default_models={this.props.default_models}></Popover>\n      </Grid>\n    )\n  }\n}\nconst maptstateToprop = (state) => {\n  return {\n    default_models: state.default_models,\n    histogram_data: state.histogram_data,\n    state_range: state.state_range,\n    selected_year: state.selected_year,\n    lime_data: state.lime_data,\n    default_models: state.default_models,\n    original_data: state.original_data,\n    dataset: state.dataset,\n    sparkline_data: state.sparkline_data,\n    dataset: state.dataset,\n    anim_config: state.anim_config,\n    average_m: state.average_m,\n    rank_data: state.rank_data,\n    clicked_circles: state.clicked_circles,\n    threshold: state.threshold\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_selected_instances: (val) => dispatch({ type: \"selected_instances\", value: val }),\n    Set_deviation_array: (val) => dispatch({ type: \"deviation_array\", value: val }),\n    Set_clicked_circles: (val) => dispatch({ type: \"clicked_circles\", value: val }),\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(SlopeChart);","import React from 'react';\nimport Slider from '@material-ui/core/Slider';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { connect } from \"react-redux\";\nimport TextField from '@material-ui/core/TextField';\nimport Button from \"@material-ui/core/Button\";\nimport './ModelSlider.scss';\nimport * as $ from 'jquery'\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: '100%',\n    },\n    heading: {\n        fontSize: theme.typography.pxToRem(15),\n        flexBasis: '33.33%',\n        flexShrink: 0,\n    },\n    secondaryHeading: {\n        fontSize: theme.typography.pxToRem(15),\n        color: theme.palette.text.secondary,\n    },\n    tRoot: {\n        marginBottom: 35,\n    },\n    rang_input: {\n        marginLeft: 10,\n    },\n}));\nfunction Modes(props) {\n    const classes = useStyles();\n    // states \n    const [sliderRange, set_sliderRange] = React.useState(props.range_mode_range1);\n    //-----------------------------------------------------------------\n    var temp_marks = [];\n    var step = (props.slider_max - 1) / (6 - 1);\n    for (var i = 0; i < 6; i++) {\n        temp_marks.push(1 + (step * i));\n    }\n    var marks = temp_marks.map(item => {\n        var myitem = parseInt(item)\n        return { value: myitem, label: myitem }\n    })\n    //console.log(props.marks)\n    //-----------------------------------------------------------------\n    return (\n        <div className=\"Modelslider\" \n        style={{height: 70, width: '100%',marginBottom:5,padding: 30, border: \"1px solid rgb(178, 178, 178,0.5)\"}}>\n            <div className=\"lower\" style={{ padding: \"0px 0px\", marginTop: -20 }}>\n                <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Lower\" value={sliderRange[0]} style={{ width: \"100%\" }}\n                    onChange={event => {\n                        if (isNaN(parseInt(event.target.value))) {\n                            set_sliderRange([\"\", sliderRange[1]])\n                        } else {\n                                set_sliderRange([event.target.value, sliderRange[1]])\n                        }\n                    }\n                    }\n                />\n            </div>\n            <div className=\"slider\" style={{width: \"100%\", margin: \"0px 0px\" }}>\n                <Slider value={sliderRange} onChange={(event, newValue) => set_sliderRange(newValue)} onChangeCommitted={(event, newValue) => props.Set_changed(\"range\")}\n                    valueLabelDisplay=\"auto\" aria-labelledby=\"range-slider\" valueLabelDisplay=\"on\" min={1} max={props.slider_max} marks={marks}\n                />\n            </div>\n            <div className=\"upper\" style={{ padding: \"0px 0px\", marginTop: -20 }}>\n                <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Upper\" value={sliderRange[1]} style={{ width: \"100%\" }}\n                    onChange={event => {\n                        if (isNaN(parseInt(event.target.value))) {\n                            set_sliderRange([sliderRange[0], \"\"])\n                        } else {\n                            if (parseInt(event.target.value) > props.slider_max) {\n                                //alert(\"Upper range can not exceed maximum\")\n                                set_sliderRange([sliderRange[0], props.slider_max])\n                            }\n                            else {\n                                set_sliderRange([sliderRange[0], parseInt(event.target.value)])\n                            }\n                        }\n                    }\n                    }\n                />\n            </div>\n            <div className=\"button\" item xs=\"2\" style={{ marginTop: -10 }}>\n                <Button className=\"range_button\" style={{ backgroundColor: \"#ededed\", height: 30 }}\n                    onClick={() => {\n                        if ( sliderRange[0] > sliderRange[1]) {\n                            alert(\"Lower range can not be larger than the upper range\")\n                        }\n                        else if ( sliderRange[1] < sliderRange[0]) {\n                            alert(\"upper range can not be smaller than the lower range\")\n                        }\n                        else{\n                            props.Set_range_mode_range1(sliderRange)\n                        }\n                    }\n                }\n                >Update range</Button>\n            </div>\n        </div>\n    );\n}\nconst maptstateToprop = (state) => {\n    return {\n        slider_max: state.slider_max,\n        range_mode_range1: state.range_mode_range1,\n    }\n}\nconst mapdispatchToprop = (dispatch) => {\n    return {\n        Set_range_mode_range1: (val) => dispatch({ type: \"range_mode_range1\", value: val }),\n        Set_changed: (val) => dispatch({ type: \"changed\", value: val }),\n    }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Modes);","import React from 'react';\nimport Slider from '@material-ui/core/Slider';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { connect } from \"react-redux\";\nimport TextField from '@material-ui/core/TextField';\nimport Button from \"@material-ui/core/Button\";\nimport './ModelSlider.scss';\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: '100%',\n    },\n    heading: {\n        fontSize: theme.typography.pxToRem(15),\n        flexBasis: '33.33%',\n        flexShrink: 0,\n    },\n    secondaryHeading: {\n        fontSize: theme.typography.pxToRem(15),\n        color: theme.palette.text.secondary,\n    },\n    tRoot: {\n        marginBottom: 35,\n    },\n    rang_input: {\n        marginLeft: 10,\n    },\n}));\nfunction Modes(props) {\n    const classes = useStyles();\n    // states \n    const [sliderRange, set_sliderRange] = React.useState(props.range_mode_range2);\n    //-----------------------------------------------------------------\n    var temp_marks = [];\n    var step = (props.slider_max - 1) / (6 - 1);\n    for (var i = 0; i < 6; i++) {\n        temp_marks.push(1 + (step * i));\n    }\n    var marks = temp_marks.map(item => {\n        var myitem = parseInt(item)\n        return { value: myitem, label: myitem }\n    })\n    //console.log(props.marks)\n    //-----------------------------------------------------------------\n    return (\n        <div className=\"Modelslider\" style={{ height: 70, width: \"100%\", marginBottom: 5, paddingTop: 30, paddingLeft: 15, border: \"1px solid rgb(178, 178, 178,0.5)\" }}>\n            <div className=\"lower\" style={{ padding: \"0px 0px\", marginTop: -20 }}>\n                <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Lower\" value={sliderRange[0]} style={{ width: \"100%\" }}\n                    onChange={event => {\n                        if (isNaN(parseInt(event.target.value))) {\n                            set_sliderRange([\"\", sliderRange[1]])\n                        } else {\n                            set_sliderRange([event.target.value, sliderRange[1]])\n                        }\n                    }\n                    }\n                />\n            </div>\n            <div className=\"slider\" style={{ width: \"100%\", margin: \"0px 0px\" }}>\n                <Slider value={sliderRange} onChange={(event, newValue) => set_sliderRange(newValue)} onChangeCommitted={(event, newValue) => props.Set_changed(\"range\")}\n                    valueLabelDisplay=\"auto\" aria-labelledby=\"range-slider\" valueLabelDisplay=\"on\" min={1} max={props.slider_max} marks={marks}\n                />\n            </div>\n            <div className=\"upper\" style={{ padding: \"0px 0px\", marginTop: -20 }}>\n                <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Upper\" value={sliderRange[1]} style={{ width: \"100%\" }}\n                    onChange={event => {\n                        if (isNaN(parseInt(event.target.value))) {\n                            set_sliderRange([sliderRange[0], \"\"])\n                        } else {\n                            if (parseInt(event.target.value) > props.slider_max) {\n                                set_sliderRange([sliderRange[0], props.slider_max])\n                            }\n                            else {\n                                set_sliderRange([sliderRange[0], parseInt(event.target.value)])\n                            }\n                        }\n                    }\n                    }\n                />\n            </div>\n            <div className=\"button\" item xs=\"2\" style={{ marginTop: -10 }}>\n                <Button className=\"range_button\" style={{ backgroundColor: \"#ededed\", height: 30 }}\n                    onClick={() => {\n                        if ( sliderRange[0] > sliderRange[1]) {\n                            alert(\"Lower range can not be larger than the upper range\")\n                        }\n                        else if ( sliderRange[1] < sliderRange[0]) {\n                            alert(\"upper range can not be smaller than the lower range\")\n                        }\n                        else{\n                            props.Set_range_mode_range2(sliderRange)\n                        }\n                    }}\n                >Update range</Button>\n            </div>\n        </div>\n    );\n}\nconst maptstateToprop = (state) => {\n    return {\n        slider_max: state.slider_max,\n        range_mode_range2: state.range_mode_range2,\n    }\n}\nconst mapdispatchToprop = (dispatch) => {\n    return {\n        Set_range_mode_range2: (val) => dispatch({ type: \"range_mode_range2\", value: val }),\n        Set_changed: (val) => dispatch({ type: \"changed\", value: val }),\n    }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Modes);","import React from 'react';\nimport \"./YearModelSelection.scss\";\nimport { connect } from \"react-redux\";\nfunction YearModelSelection(props) {\n  var handle_year_click = (year) => {\n    props.Set_selected_year(year)\n  }\n  var handle_model_click=(model)=>props.Set_range_mode_model(model)\n  if(props.dataset==\"rur\"){var all_models=[\"MART\",\"RandomFor\"]}else{var all_models=props.all_models}\n  return (\n    <div className=\"range_topbar\" style={{width:\"100%\",marginBottom:2,display:'flex',justifyContent: \"center\",margin:0}}>\n    <div ><h5 style={{ display: \"inline-block\", marginLeft: 0,marginRight:3,fontSize:16,fontWeight:600 }}>Years: </h5>{props.years_for_dropdown.map(item => <p className={props.selected_year==item ? \"years_p_selected years_p\" : \"years_p\"} onClick={() => handle_year_click(item)}>{item}</p>)}</div>\n    <div style={{marginLeft:20}}><h5 style={{ display: \"inline-block\", marginLeft: 0,marginRight:3,fontSize:16,fontWeight:600}}>Models:</h5>{all_models.map(item => <p className={props.range_mode_model==item ? \"years_p_selected years_p\" : \"years_p\"} onClick={() => handle_model_click(item)}>{item}</p>)}</div>\n    </div>\n  );\n}\nconst maptstateToprop = (state) => {\n  return {\n    all_models:state.all_models,\n    selected_year: state.selected_year,\n    years_for_dropdown: state.years_for_dropdown,\n    default_models: state.default_models,\n    range_mode_model:state.range_mode_model,\n    dataset:state.dataset,\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: val }),\n    Set_range_mode_model: (val) => dispatch({ type: \"range_mode_model\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(YearModelSelection);\n\n//https://material-ui.com/api/slider/\n//https://material-ui.com/components/expansion-panels/\n//https://material-ui.com/api/checkbox/\n//https://material-ui.com/components/radio-buttons/","import React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport { connect } from \"react-redux\";\nimport * as algo1 from \"../../../Algorithms/algo1\";\nimport * as $ from 'jquery';\nimport CreatexpCircle from \"../ExpChart/Create_exp_circles\"\nimport getMdsData from \"../ExpChart/MDS\"\nimport { Create_MDS } from \"../ExpChart/MDS\"\nimport \"../ExpChart/MDS.css\"\nclass SlopeChart extends Component {\n  constructor(props) {\n    super(props);\n    this.line_color = null;\n    this.exp = React.createRef()\n    this.mds = React.createRef()\n    this.state = { mds_height: 110, mouseX: 0, mouseY: 0, excluded_features: [], sorted_features: null, circle_data: null, indexed_features: null, random: true }\n  }\n  componentDidMount() {\n    this.setState({ width: window.innerHeight })\n  }\n  componentDidUpdate(prevProps, prevState) {\n    this.Createsvg(this.props.model_name, this.props.exp_id, this.props.state_range)\n  }\n  Createsvg = (model_name, exp_id, state_range) => {\n    var self = this\n    var selected_instances = d3.range(state_range[0], state_range[1] + 1)\n    if (this.props.histogram_data.length > 0) { selected_instances = this.props.histogram_data }\n    //-------------------- Threshold filter\n    var under_threshold_instances = []\n    var year_data = this.props.original_data.filter(item => this.props.selected_year == item['1-qid'])\n    this.props.default_models.map(model_name => {\n      year_data.map(item => {\n        var two_realRank = parseInt(item['two_realRank'])\n        var predicted_rank = parseInt(item[model_name])\n        if (Math.abs(predicted_rank - two_realRank) > this.props.threshold) {\n          under_threshold_instances.push(two_realRank)\n        }\n      })\n    })\n    selected_instances = selected_instances.filter(item => !under_threshold_instances.includes(item))\n    //console.log(selected_instances,\"selected_instances2\")\n    //--------------------\n\n    //------------------------------\n    var number_of_charts = 8 + self.state.excluded_features.length\n    var features_with_score = algo1.features_with_score(this.props.dataset, [model_name], selected_instances, this.props.selected_year, number_of_charts, this.props.rank_data)\n    if (exp_id in self.props.dragged_features) { features_with_score = self.props.dragged_features[exp_id] }\n    var indexed_features = Object.entries(features_with_score).sort((a, b) => b[1] - a[1]).map((item, i) => item[0])\n    var temp_sorted_features = indexed_features.filter(item => !this.state.excluded_features.includes(item))// Exclude crossed features \n    var sorted_features = temp_sorted_features.slice(0, number_of_charts).map((item, index) => [item, index])\n    var marginTop = 5;\n    var parent_height = parseInt($('.explanation_chart_parent').height()) - this.state.mds_height - parseInt($('.title_p').height())\n    var item_width = parseInt($(\"#\" + this.props.exp_id).width())\n    var item_height = (parent_height - 10) / sorted_features.length - marginTop // 10 is the top margin\n    var feature_containers = d3.select('#' + this.props.exp_id).attr('height', parent_height).selectAll(\".feature_items\").data(sorted_features, d => d[0])\n      .join(enter => enter.append(\"svg\").attr(\"y\", (d, i) => marginTop + i * (item_height + marginTop))\n        , update => update.transition().duration(2000).attr(\"y\", (d, i) => marginTop + i * (item_height + marginTop))\n        , exit => exit.remove()\n      )\n    feature_containers.attr(\"class\", d => \"feature_items \" + d[0]).attr(\"myindex\", (d, i) => i).attr('feature_name', d => d[0])\n    feature_containers.attr(\"add_title_text_and_rect_for_title_text\", function (d, index) {\n      d3.select(this).selectAll(\".title_rect\").data([0]).join('rect').attr(\"class\", \"title_rect\").attr(\"myindex\", index).attr('feature_name', d[0]).attr(\"width\", \"100%\").attr(\"height\", 18).attr(\"fill\", \"#e2e2e2\").attr(\"y\", 0).attr(\"x\", 0)\n      d3.select(this).selectAll(\".title_text\").data([0]).join('text').attr(\"class\", \"title_text\").attr(\"myindex\", index).attr('feature_name', d[0]).attr('x', item_width / 2).text(d[0]).attr(\"dominant-baseline\", \"hanging\")\n        .attr(\"y\", 2).attr('text-anchor', 'middle').attr('font-size', 12)\n    })\n    feature_containers.attr(\"add_cross_button\", function (d, index) {\n      d3.select(this).selectAll(\".cross_button\").data([0]).join(\"text\").attr('y', 7.3).attr('dominant-baseline', 'middle').attr(\"myindex\", index).attr('feature_name', d[0]).raise()\n        .attr('x', item_width - 15).style('cursor', 'pointer').attr('font-size', 12).attr('fill', 'black')\n        .text(\"\\uf410\").attr('class', \"cross_button fa make_cursor\").on('click', () => {\n          //alert(\"clicked!\")\n          d3.event.preventDefault()\n          self.setState({ excluded_features: [...self.state.excluded_features, d[0]] })\n        })\n        //---\n        d3.select(this).selectAll(\".expand_button\").data([0]).join(\"text\").attr('y', 7.3)\n        .attr('dominant-baseline', 'middle').attr(\"myindex\", index).attr('feature_name', d[0]).raise()\n        .attr('x', item_width - 30).style('cursor', 'pointer').attr('font-size', 12).attr('fill', 'black')\n        .text(\"\\uf31e\").attr('class', \"expand_button fa make_cursor\").on('click', () => {\n          var feature = d[0]\n          var year = self.props.selected_year\n          d3.event.preventDefault()\n          var temp = [...self.props.dbclicked_features]\n          if (!temp.includes(feature)) {\n            temp.unshift(feature)\n            //temp.unshift(feature)\n            d3.selectAll(\".rect\").classed(\"exp_chart_clicked\", true)\n          }\n          self.props.set_dbclicked_features(temp)\n          //self.props.set_dbclicked_features([feature])\n          //----------------------------Data for popup chart\n          var popup_chart_data = {}\n          self.props.default_models.filter(item => item != \"ListNet\").map(model_name => {\n            var data = []\n            if (self.props.histogram_data.length > 0) {\n              data = self.props.lime_data[model_name].filter(element => { if ((parseInt(element['1-qid']) == parseInt(year)) && (self.props.histogram_data.includes(parseInt(element['two_realRank'])))) { return element } });\n            }\n            else {\n              data = self.props.lime_data[model_name].filter(element => parseInt(element['1-qid']) == parseInt(year) && selected_instances.includes(parseInt(element['two_realRank'])))\n            }\n            popup_chart_data[model_name] = data\n          })\n          self.props.Set_popup_chart_data([popup_chart_data, feature]) // This is to update the pop when the year or anything changes during the pop up is open\n          //self.props.Set_popup_chart_data([popup_chart_data, feature])\n          self.props.set_pop_over(true)\n        })\n        //---\n    })\n    feature_containers.attr(\"add_rect_for_circle_background_and_handle_clicks\", function (d, index) {\n      d3.select(this).selectAll(\".circ_rect\").data([0]).join('rect').attr(\"class\", \"circ_rect\").attr(\"myindex\", index).attr('feature_name', d[0]).attr(\"width\", \"100%\").attr(\"height\", item_height - 18).attr(\"fill\", \"#f2f2f2\").attr(\"y\", 18).attr(\"x\", 0)\n        .on('click', () => {\n          if (self.props.clicked_features.includes(d[0])) {\n            self.props.Set_clicked_features(self.props.clicked_features.filter(item => item != d[0]))\n            d3.selectAll(\".\" + d[0]).selectAll(\".border_rect\").remove()\n          }\n          else {\n            self.props.Set_clicked_features([...self.props.clicked_features, d[0]])\n            d3.selectAll(\".\" + d[0]).selectAll(\".border_rect\").data([0]).join('rect').attr(\"class\", \"border_rect\").attr(\"width\", \"100%\").attr(\"height\", \"100%\").style(\"stroke\", \"black\").style(\"fill\", \"none\").style(\"stroke-width\", 5)\n          }\n        })\n        \n\n    })\n    feature_containers.attr(\"CreatexpCircle\", function (d, index) {\n      CreatexpCircle(d, d3.select(this), selected_instances, self.props.lime_data, self.props.selected_year, [model_name], self.props.clicked_circles,\n        self.props.Set_clicked_circles, self.props.diverginColor, self.props.anim_config, item_width, item_height, self.props.deviation_array, index, self.props.threshold,self.props.dataset)\n    }).attr(\"height\", item_height).attr('width', item_width)\n    feature_containers.attr('check_clicked_features', d => {\n      if (self.props.clicked_features.includes(d[0])) {\n        d3.selectAll(\".\" + d[0]).selectAll(\".border_rect\").data([0]).join('rect').attr(\"class\", \"border_rect\").attr(\"width\", \"100%\").attr(\"height\", \"100%\").style(\"stroke\", \"black\").style(\"fill\", \"none\").style(\"stroke-width\", 5)\n      }\n    })\n    feature_containers.attr('add_drag_drop', function (d, index) {\n      d3.select(this).selectAll(\".my_rect\").data([0]).join('rect').attr(\"class\", \"my_rect\").attr(\"myindex\", index).attr('feature_name', d[0]).attr(\"width\", item_width - 33).attr(\"height\", 18).style(\"fill\", \"transparent\").style('cursor', 'move')\n        .call(d3.drag().on(\"start\", dragstarted).on(\"drag\", dragged).on(\"end\", dragended).container(this.parentNode.parentNode)) // Set the parent node based on which the distance will be calculated\n      var deltaY, is_dragging;\n      function dragstarted(event, d) {\n        //d3.select(this).attr(\"width\", '100%').attr(\"height\", '100%').style('fill','rgb(249, 195, 87,0.3)')\n        d3.select(this.parentNode).raise()\n        deltaY = d3.select(this.parentNode).attr(\"y\") - d3.event.y;\n      }\n      function dragged(event, d) {\n        is_dragging = true\n        d3.select(this.parentNode).raise()\n        d3.select(this.parentNode).attr(\"y\", d3.event.y + deltaY);\n      }\n      function dragended(event, d) {\n        var origin_index = parseInt(d3.select(this).attr(\"myindex\")); d3.select(this.parentNode).lower();\n        d3.select(this.parentNode).attr(\"y\", d3.event.y + deltaY);\n        var difference = parseInt(d3.select(document.elementFromPoint(d3.event.sourceEvent.clientX, d3.event.sourceEvent.clientY)).attr(\"myindex\")) - origin_index\n        //if (isNaN(dest_index)) { alert(\"Please drop properly!\"); dest_index = origin_index }\n        var origin_feature = d3.select(this).attr(\"feature_name\")\n        var temp1 = {}\n        self.props.exp_data.map((exp_data, index) => { // exp_data={[[\"r1exp\",this.props.range_mode_range1],[\"r2exp\",this.props.range_mode_range2]]}\n          var selected_instances = d3.range(exp_data[1][0], exp_data[1][1] + 1)\n          if (self.props.histogram_data.length > 0) { selected_instances = self.props.histogram_data }\n          var number_of_charts = 15 // change this number to get features when crossed\n          var features_with_score = algo1.features_with_score(self.props.dataset, [model_name], selected_instances, self.props.selected_year,\n            number_of_charts, self.props.rank_data)\n          if (exp_data[0] in self.props.dragged_features) {\n            features_with_score = self.props.dragged_features[exp_data[0]]\n          }\n          var indexed_features = Object.entries(features_with_score).sort((a, b) => b[1] - a[1]).map((item, i) => item[0])\n          var origin_index = indexed_features.indexOf(origin_feature)\n          var dest_index = origin_index + difference\n          if (dest_index < 0) { var dest_feature = indexed_features[0] }\n          else if (dest_index > number_of_charts - 1) { var dest_feature = indexed_features[number_of_charts - 1] }\n          else { var dest_feature = indexed_features[dest_index] }\n          features_with_score[origin_feature] = features_with_score[origin_feature] - difference\n          features_with_score[dest_feature] = features_with_score[dest_feature] + difference\n          temp1[exp_data[0]] = features_with_score\n        })\n        self.props.Set_dragged_features(temp1)\n        //-------------------------------------\n        d3.select(this).raise()\n      }\n    })\n    //--------------------------------------MDS Plot-------------------------------------//\n    var feature_contrib_data_for_mds = this.props.lime_data[model_name].filter(item => item['1-qid'] == this.props.selected_year && selected_instances.includes(item['two_realRank']))\n    getMdsData(this.props.url, { \"data\": feature_contrib_data_for_mds, \"weight\": features_with_score }).then(data => {\n      if (typeof data != 'undefined') {\n        var MDS_response = JSON.parse(data.response)\n        var circle_data = feature_contrib_data_for_mds.map((item, index) => {\n          item['x'] = MDS_response[index][0]\n          item['y'] = MDS_response[index][1]\n          item['id'] = item['State'].replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\") + item[\"model\"].replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\")\n          return item\n        })\n        Create_MDS(this.mds, circle_data, \"#mds\" + this.props.exp_id, self.props.diverginColor, this.props.Set_clicked_circles,this.props.deviation_array)\n      }\n    })\n  }\n  //------------------------------\n  render() {\n    return (\n      <div className={\"explanation_chart_parent exp\" + this.props.model_name} style={{ width: '100%', height: '100%', \"border\": this.props.mode == 'Model' ? \"2px solid #e2e2e2\" : 'none', padding: \"2px 5px\" }}>\n        <p className=\"title_p\" style={{ padding: 0, margin: 0 }}>{this.props.model_name}</p>\n        <svg ref={this.mds} id={\"mds\" + this.props.exp_id} style={{ margin: 0, width: \"100%\", height: this.state.mds_height }}></svg>\n        <svg id={this.props.exp_id} style={{ marginTop: 0, width: \"100%\" }}></svg>\n      </div>\n    )\n  }\n}\nconst maptstateToprop = (state) => {\n  return {\n    deviation_array: state.deviation_array,\n    original_data: state.original_data,\n    time_mode_model: state.time_mode_model,\n    dataset: state.dataset,\n    histogram_data: state.histogram_data,\n    sparkline_data: state.sparkline_data,\n    anim_config: state.anim_config,\n    show: state.show,\n    average_m: state.average_m,\n    average_y: state.average_y,\n    lime_data: state.lime_data,\n    rank_data: state.rank_data,\n    clicked_circles: state.clicked_circles,\n    clicked_features: state.clicked_features,\n    threshold: state.threshold,\n    mode: state.mode,\n    dbclicked_features: state.dbclicked_features,\n    dragged_features: state.dragged_features,\n    url: state.url,\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_dragged_features: (val) => dispatch({ type: \"dragged_features\", value: val }),\n    Set_clicked_circles: (val) => dispatch({ type: \"clicked_circles\", value: val }),\n    Set_prev_prop: (val) => dispatch({ type: \"prev_prop\", value: val }),\n    Set_sparkline_data: (val) => dispatch({ type: \"sparkline_data\", value: val }),\n    Set_replay: (val) => dispatch({ type: \"replay\", value: val }),\n    Set_clicked_features: (val) => dispatch({ type: \"clicked_features\", value: val }),\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: val }),\n    set_dbclicked_features: (val) => dispatch({ type: \"dbclicked_features\", value: val }),\n    Set_popup_chart_data: (val) => dispatch({ type: \"popup_chart_data\", value: val }),\n    set_pop_over: (val) => dispatch({ type: \"pop_over\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(SlopeChart);","import React, { Component } from 'react';\nimport { connect } from \"react-redux\";\nimport * as misc_algo from '../misc_algo'\nimport CreateCatChart from '../Popover/CreateCatChart'\nimport CreateNumChart from '../Popover/CreateNumChart'\nclass Chart extends Component {\n  constructor(props) {\n    super(props);\n  }\n  componentDidMount() {\n    this.setState({ a: 5 })\n  }\n  componentDidUpdate() {\n    var merged_arr = this.props.popup_chart_data[0] // only data\n    var scatterplot_data = [[this.props.popup_chart_data[1],this.props.popup_chart_data[0]]] // [feature name, data]\n    //----------------------------------------------------------------------------------------------------------Call createChart\n    if (merged_arr.length > 0) { // This is to avoid the error caused by the next line\n      if (isNaN(merged_arr[0][this.props.popup_chart_data[1]])) {\n        CreateCatChart(merged_arr, this.props.popup_chart_data[1], scatterplot_data,this.props,this.props.deviation_array)\n      }\n      else {\n        CreateNumChart(merged_arr, this.props.popup_chart_data[1], scatterplot_data,this.props,this.props.deviation_array)\n      }\n    }\n    else {\n      CreateNumChart(merged_arr, this.props.popup_chart_data[1], scatterplot_data,this.props,this.props.deviation_array) // calling the function to set the  graph empty when all models are unselected\n    }\n    misc_algo.handle_transparency(\"circle2\", this.props.clicked_circles, this.props.anim_config)\n  }\n\n  render() {\n    return (\n      <div key={this.props.popup_chart_data[1]} style={{ margin: 10, padding: 10, border: this.props.index == 0 ? \"3px solid #e5e5e5\" : \"white\" }}>\n        <svg id={this.props.myid}> </svg>\n        <p style={{ color: \"#4f4c4c\", marginLeft: \"42%\", marginTop: -25, marginBottom: 0 }}>{this.props.popup_chart_data[1]}</p>\n      </div>\n    );\n  }\n}\nconst maptstateToprop = (state) => {\n  return {\n    //popup_chart_data: state.popup_chart_data,\n    pop_over_models: state.pop_over_models,\n    clicked_circles: state.clicked_circles,\n    threshold: state.threshold,\n    anim_config:state.anim_config,\n    deviation_array: state.deviation_array,\n  }\n}\n//item['id'] = item['State'].replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\") + model.replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\")\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_clicked_circles: (val) => dispatch({ type: \"clicked_circles\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Chart);","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport { connect } from \"react-redux\";\nimport Chart_pop from './04PopoverCharts'\nimport Draggable from 'react-draggable';\nimport Grid from '@mui/material/Grid';\nimport * as d3 from 'd3';\nexport function SimplePopover(props) {\n    const handleClose = () => {\n        props.set_pop_over(false)\n        props.set_dbclicked_features([])\n    };\n     //------------------------------\n     var selected_instances = d3.range(d3.min([props.range_mode_range1[0], props.range_mode_range2[0]]), d3.max([props.range_mode_range1[1], props.range_mode_range2[1]]) + 1)\n     var min = d3.min(selected_instances), max = d3.max(selected_instances);\n     var d = (max - min) / 8;\n     var diverginColor = d3.scaleLinear().domain([min + d * 7, min + d * 6, min + d * 5, min + d * 4, min + d * 3, min + d * 2, min]).interpolate(d3.interpolateRgb).range(['#af8dc3','#b197c1','#dbd88c','#dbd88c', '#dbd88c', '#90bc8d', '#7fbf7b']);\n     //------------------------------\n     var selected_instances1 = d3.range(props.range_mode_range1[0], props.range_mode_range1[1] + 1)\n     //-------------------- Threshold filter\n     var under_threshold_instances = []\n     var year_data = props.original_data.filter(item => props.selected_year == item['1-qid'])\n       year_data.map(item => {\n         var two_realRank = parseInt(item['two_realRank'])\n         var predicted_rank = parseInt(item[props.range_mode_model])\n         if (Math.abs(predicted_rank - two_realRank) < props.threshold) {\n           under_threshold_instances.push(two_realRank)\n         }\n       })\n     selected_instances1 = selected_instances1.filter(item => under_threshold_instances.includes(item))\n     var data1 = props.lime_data[props.range_mode_model].filter(element => parseInt(element['1-qid']) == parseInt(props.selected_year) && selected_instances1.includes(parseInt(element['two_realRank'])))\n     //------------------------------\n     var selected_instances2 = d3.range(props.range_mode_range2[0], props.range_mode_range2[1] + 1)\n     var under_threshold_instances = []\n     var year_data = props.original_data.filter(item => props.selected_year == item['1-qid'])\n     year_data.map(item => {\n       var two_realRank = parseInt(item['two_realRank'])\n       var predicted_rank = parseInt(item[props.range_mode_model])\n       if (Math.abs(predicted_rank - two_realRank) < props.threshold) {\n         under_threshold_instances.push(two_realRank)\n       }\n     })\n     selected_instances2 = selected_instances2.filter(item => under_threshold_instances.includes(item))\n     var data2 = props.lime_data[props.range_mode_model].filter(element => parseInt(element['1-qid']) == parseInt(props.selected_year) && selected_instances2.includes(parseInt(element['two_realRank'])))\n    \n    return (\n        <div className=\"pop_over\" style={{ position: \"relative\" }}>\n            {props.pop_over == true ?\n                <div style={{ top: \"2%\", left: \"14%\", position: \"fixed\", pointerEvents: \"none\", backgroundColor: \"transparent\" }}>\n                    <Draggable>\n                        <Grid style={{ backgroundColor: \"#ffffff\", boxShadow: \"3px 2px 15px -7px #000000\", pointerEvents: \"auto\",display:\"relative\",zIndex:6 }}>\n                            <Grid container style={{ borderBottom: \"1px solid #e2e2e2\", marginBottom: 20 }} direction=\"row\" justifyContent=\"flex-end\" alignItems=\"center\" >\n                                <Button color=\"secondary\" id=\"draggable-dialog-title\" onClick={handleClose}>close</Button>\n                            </Grid>\n                            <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\" style={{ maxHeight: 700, overflow: \"scroll\", maxWidth: 1600 }}>\n                                { \n                                    props.dbclicked_features.length > 0 ? props.dbclicked_features.map((item, index) => <Grid item container direction=\"row\" ><Chart_pop\n                                        index={index}\n                                        popup_chart_data={[data1, item]} default_models={props.default_models}\n                                        myid={item.replace(/\\s/g, '').replace(/[`~!@#$%^&*()_|+\\-=?;:'\",.<>\\{\\}\\[\\]\\\\\\/]/gi, '')+\"range1\"} diverginColor={props.diverginColor}\n                                    ></Chart_pop>\n                                    <Chart_pop\n                                        index={index}\n                                        popup_chart_data={[data2, item]} default_models={props.default_models}\n                                        myid={item.replace(/\\s/g, '').replace(/[`~!@#$%^&*()_|+\\-=?;:'\",.<>\\{\\}\\[\\]\\\\\\/]/gi, '')+\"range2\"} diverginColor={props.diverginColor}\n                                    ></Chart_pop></Grid>\n                                    ) : <Chart_pop popup_chart_data={data1} default_models={props.default_models} myid=\"myid1\" diverginColor={props.diverginColor} textClickHandler_original={props.textClickHandler_original}></Chart_pop>\n                                }\n                            </Grid>\n                        </Grid>\n                    </Draggable>\n                </div> : null}\n        </div>\n    );\n}\nconst maptstateToprop = (state) => {\n    return {\n        range_mode_range1: state.range_mode_range1,\n        range_mode_range2: state.range_mode_range2,\n        range_mode_model: state.range_mode_model,    \n        popup_chart_data: state.popup_chart_data,\n        pop_over: state.pop_over,\n        dbclicked_features: state.dbclicked_features,\n        selected_year: state.selected_year,\n        threshold: state.threshold,\n        original_data: state.original_data,\n        lime_data: state.lime_data,\n        histogram_data: state.histogram_data,\n    }\n}\nconst mapdispatchToprop = (dispatch) => {\n    return {\n        set_pop_over: (val) => dispatch({ type: \"pop_over\", value: val }),\n        set_dbclicked_features: (val) => dispatch({ type: \"dbclicked_features\", value: val }),\n        set_clicked_features: (val) => dispatch({ type: \"clicked_features\", value: val }),\n    }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(SimplePopover);\n","import React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport { connect } from \"react-redux\";\nimport Grid from '@material-ui/core/Grid';\nimport * as deviation_chart from \"../DevPlot/deviation_chart\"\nimport * as misc_algo from '../misc_algo'\nimport * as $ from 'jquery';\nimport SliderGroup1 from './SliderGroup1';\nimport SliderGroup2 from './SliderGroup2';\nimport YearModelSelection from \"./YearAndModelSelection/YearModelSelection\"\nimport ExpChart from './02RangeExpChart';\nimport Popover from './03RangePopover';\n\nclass SlopeChart extends Component {\n  constructor(props) {\n    super(props);\n    this.line_color = null;\n    this.state = { height_slope_exp_chart: 700, mouseX: 0, mouseY: 0 }\n  }\n  componentDidMount() {\n    this.setState({ width: window.innerHeight })\n  }\n  shouldComponentUpdate(prevProps, prevState) {\n    return true;\n  }\n  componentDidUpdate(prevProps, prevState) {\n    //------------------------------\n    var selected_instances = d3.range(d3.min([this.props.range_mode_range1[0], this.props.range_mode_range2[0]]), d3.max([this.props.range_mode_range1[1], this.props.range_mode_range2[1]]) + 1)\n    var min = d3.min(selected_instances), max = d3.max(selected_instances);\n    var d = (max - min) / 8;\n    var diverginColor = d3.scaleLinear().domain([min + d * 7, min + d * 6, min + d * 5, min + d * 4, min + d * 3, min + d * 2, min]).interpolate(d3.interpolateRgb).range(['#af8dc3','#b197c1','#dbd88c','#dbd88c', '#dbd88c', '#90bc8d', '#7fbf7b']);\n    //------------------------------\n    var selected_instances1 = d3.range(this.props.range_mode_range1[0], this.props.range_mode_range1[1] + 1)\n    //-------------------- Threshold filter\n    var under_threshold_instances = []\n    var year_data = this.props.original_data.filter(item => this.props.selected_year == item['1-qid'])\n      year_data.map(item => {\n        var two_realRank = parseInt(item['two_realRank'])\n        var predicted_rank = parseInt(item[this.props.range_mode_model])\n        if (Math.abs(predicted_rank - two_realRank) < this.props.threshold) {\n          under_threshold_instances.push(two_realRank)\n        }\n      })\n    \n    selected_instances1 = selected_instances1.filter(item => under_threshold_instances.includes(item))\n    deviation_chart.Create_deviation_chart('r1d', 'r1exp', selected_instances1, this.props.original_data, [this.props.range_mode_model], this.props.anim_config, this.props.selected_year, this.props.average_m, this.props.clicked_circles, this.props.Set_clicked_circles, diverginColor, this.props.sparkline_data, this.props.Set_selected_year, this.props.dataset, this.props.threshold)\n    //------------------------------\n    var selected_instances2 = d3.range(this.props.range_mode_range2[0], this.props.range_mode_range2[1] + 1)\n    var under_threshold_instances = []\n    var year_data = this.props.original_data.filter(item => this.props.selected_year == item['1-qid'])\n    year_data.map(item => {\n      var two_realRank = parseInt(item['two_realRank'])\n      var predicted_rank = parseInt(item[this.props.range_mode_model])\n      if (Math.abs(predicted_rank - two_realRank) < this.props.threshold) {\n        under_threshold_instances.push(two_realRank)\n      }\n    })\n    selected_instances2 = selected_instances2.filter(item => under_threshold_instances.includes(item))\n\n    deviation_chart.Create_deviation_chart('r2d', 'r2exp', selected_instances2, this.props.original_data, [this.props.range_mode_model], this.props.anim_config, this.props.selected_year, this.props.average_m, this.props.clicked_circles, this.props.Set_clicked_circles, diverginColor, this.props.sparkline_data, this.props.Set_selected_year, this.props.dataset, this.props.threshold)\n    //------------------------------\n    misc_algo.handle_transparency(\"circle2\", this.props.clicked_circles, this.props.anim_config)\n\n  }\n  render() {\n    //------------------------------\n    var selected_instances = d3.range(d3.min([this.props.range_mode_range1[0], this.props.range_mode_range2[0]]), d3.max([this.props.range_mode_range1[1], this.props.range_mode_range2[1]]) + 1)\n    var min = d3.min(selected_instances), max = d3.max(selected_instances);\n    var d = (max - min) / 8;\n    var diverginColor = d3.scaleLinear().domain([min + d * 7, min + d * 6, min + d * 5, min + d * 4, min + d * 3, min + d * 2, min]).interpolate(d3.interpolateRgb).range(['#af8dc3','#b197c1','#dbd88c','#dbd88c', '#dbd88c', '#90bc8d', '#7fbf7b']);\n    this.props.Set_selected_instances(selected_instances)\n    //--------------------\n    var deviation_array = []\n\n    this.props.lime_data[this.props.range_mode_model].map(item => {\n      if (item['1-qid'] == this.props.selected_year && selected_instances.includes(parseInt(item['two_realRank']))) {\n        deviation_array.push(item['deviation'])\n      }\n    })\n    this.props.Set_deviation_array(deviation_array)\n    //console.log('deviation_array: ', d3.extent(deviation_array))\n    //--------------------\n    return (\n      <Grid key={this.props.mode} className=\"RangeChartParent\" container direction=\"row\" justifyContent=\"space-between\"\n        className=\"slope_chart_exp\" style={{ width: \"100%\", height: '100%', backgroundColor: 'white', padding: \"0px 0px\", overflow: 'hidden' }}>\n        <div className=\"year_and_model_selector_and_slider_container\" style={{ width: \"100%\" }}> {/* This is used to calculate the deviation plot height */}\n          <YearModelSelection></YearModelSelection>\n        </div>\n        {/* Group 1 */}\n        <Grid className=\"Group1_container\" style={{ height: \"100%\", width: \"49.4%\", paddingRight: 0, border: \"2px solid #eaeaea\", overflow: 'hidden' }} container item direction=\"column\" justifyContent=\"space-between\">\n          <p className=\"title_p1\" style={{ margin: 0, paddingLeft: \"45%\", backgroundColor: \"rgb(232, 232, 232,0.4)\", fontWeight: \"bolder\", borderBottom: \"1px solid #cecece\" }}>Group 1</p>\n          <Grid className=\"slidergroup1\" item style={{ backgroundColor: \"rgb(232, 232, 232,0.4)\" }}><SliderGroup1></SliderGroup1></Grid>\n          <Grid className=\"dev_plot_and_exp_container\" style={{ width: '100%', height: $('.Group1_container').height() - ($('.title_p1').height() + $('.slidergroup1').height() + $('.year_and_model_selector_and_slider_container').height() + 5) }} container direction=\"row\" justify=\"center\" alignItems=\"center\">\n            <Grid className=\"deviation_plot_container_div\" item style={{ width: '49%', height: $('.Group1_container').height() - ($('.title_p1').height() + $('.slidergroup1').height() + $('.year_and_model_selector_and_slider_container').height() + 5), overflow: 'scroll', borderRight: '1px solid #dbdbdb' }}>\n              <svg id=\"r1d\" style={{ width: \"100%\", padding: 5 }}></svg>\n            </Grid>\n            {\n              this.props.rank_data != null ? <Grid className=\"explanation_plot_container\" item style={{ width: '49%', height: '100%' }}>\n                <ExpChart diverginColor={diverginColor} exp_data={[[\"r1exp\", this.props.range_mode_range1], [\"r2exp\", this.props.range_mode_range2]]} exp_id=\"r1exp\" state_range={this.props.range_mode_range1} selected_year={this.props.selected_year} model_name={this.props.range_mode_model} default_models={[this.props.range_mode_model]}></ExpChart>\n              </Grid> : null\n            }\n          </Grid>\n        </Grid>\n        {/* Group 2 */}\n        <Grid className=\"Group2_container\" style={{ height: \"100%\", width: \"49.4%\", marginLeft: '0.5%', paddingRight: 0, border: \"2px solid #eaeaea\", overflow: 'hidden' }} container item direction=\"column\" justifyContent=\"space-between\">\n          <p className=\"title_p2\" style={{ margin: 0, paddingLeft: \"45%\", backgroundColor: \"rgb(232, 232, 232,0.4)\", fontWeight: \"bolder\", borderBottom: \"1px solid #cecece\" }}>Group 2</p>\n          <Grid className=\"slidergroup2\" item style={{ backgroundColor: \"rgb(232, 232, 232,0.4)\" }}><SliderGroup2></SliderGroup2></Grid>\n          <Grid className=\"dev_plot_and_exp_container\" style={{ width: '100%', height: $('.Group2_container').height() - ($('.title_p2').height() + $('.slidergroup2').height() + $('.year_and_model_selector_and_slider_container').height() + 5) }} container direction=\"row\" justify=\"center\" alignItems=\"center\">\n            <Grid className=\"deviation_plot_container_div\" item style={{ width: '49%', height: $('.Group1_container').height() - ($('.title_p2').height() + $('.slidergroup2').height() + $('.year_and_model_selector_and_slider_container').height() + 5), overflow: 'scroll', borderRight: '1px solid #dbdbdb' }}>\n              <svg id=\"r2d\" style={{ width: \"100%\", padding: 5 }}></svg>\n            </Grid>\n            {\n              this.props.rank_data != null ? <Grid className=\"explanation_plot_container\" item style={{ width: '49%', height: '100%' }}>\n                <ExpChart diverginColor={diverginColor} exp_data={[[\"r1exp\", this.props.range_mode_range1], [\"r2exp\", this.props.range_mode_range2]]} exp_id=\"r2exp\" state_range={this.props.range_mode_range2} selected_year={this.props.selected_year} model_name={this.props.range_mode_model} default_models={[this.props.range_mode_model]}></ExpChart>\n              </Grid> : null\n            }\n          </Grid>\n        </Grid>\n        <Popover diverginColor={diverginColor} default_models={[this.props.range_mode_model]}></Popover>\n      </Grid>\n    )\n  }\n}\nconst maptstateToprop = (state) => {\n  return {\n    mode: state.mode,\n    range_mode_range1: state.range_mode_range1,\n    range_mode_range2: state.range_mode_range2,\n    range_mode_model: state.range_mode_model,\n    lime_data: state.lime_data,\n    selected_year: state.selected_year,\n    original_data: state.original_data,\n    dataset: state.dataset,\n    sparkline_data: state.sparkline_data,\n    dataset: state.dataset,\n    anim_config: state.anim_config,\n    average_m: state.average_m,\n    rank_data: state.rank_data,\n    clicked_circles: state.clicked_circles,\n    threshold: state.threshold,\n    histogram_data: state.histogram_data,\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_selected_instances: (val) => dispatch({ type: \"selected_instances\", value: val }),\n    Set_deviation_array: (val) => dispatch({ type: \"deviation_array\", value: val }),\n    Set_clicked_circles: (val) => dispatch({ type: \"clicked_circles\", value: val }),\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(SlopeChart);","import { createMuiTheme } from \"@material-ui/core/styles\";\n\n// Create a theme instance.\nconst outerTheme = createMuiTheme({\n  palette: {\n    primary: {\n      main: \"#0069d9\"\n    },\n    secondary: {\n      main: \"#0069d9\"\n    }\n  }\n})\n\n\n\nexport var year1_drop_down = createMuiTheme({\n  overrides: { // This is the place we override classes applied to a component\n    MuiAutocomplete:{\n        root:{\n            \n        }\n    },\n    MuiFilledInput: { // This is the name of the component\n      root: { // This is the class we want to edit\n        backgroundColor: \"none\",\n        \n      }\n    },\n    MuiInputLabel: {\n      root: {\n\n      }\n    },\n    MuiTextField: {\n      root: {}\n    },\n    MuiButton: {\n      root: {\n        textTransform: \"none\",\n        padding: \"15px\"\n      },\n      fullWidth: {\n        maxWidth: \"100%\"\n      }\n    },\n    MuiFilledInput:{\n      root:{\n        padding:0,\n        backgroundColor:\"yellow\"\n      }\n    },\n    MuiAutocomplete:{\n      Root:{\n        padding:0\n      }\n    }\n\n  },\n  props: { // This is the place where we define props\n    MuiButton: {\n      disableRipple: true,\n      variant: \"contained\",\n      color: \"primary\"\n    },\n    MuiCheckbox: {\n      disableRipple: true\n    },\n    MuiTextField: {\n      variant: \"filled\",\n      InputLabelProps: {\n        shrink: true\n      }\n    },\n    MuiPaper: {\n      elevation: 12\n    },\n    MuiCard: {\n      elevation: 2\n    },\n  }\n});\n\nexport default outerTheme\n\n\n\n\n/*\nconst theme = createMuiTheme({\n  overrides: {\n    MuiOutlinedInput: {\n      root: {\n        \"& $notchedOutline\": {\n          borderColor: \"green\"\n        },\n        \"&:hover $notchedOutline\": {\n          borderColor: \"red\"\n        },\n        \"&$focused $notchedOutline\": {\n          borderColor: \"purple\"\n        },\n        \"&&& $input\": {\n          padding: \"1px\"\n        }\n      }\n    }\n  }\n});\n*/","import React from 'react';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport TextField from '@material-ui/core/TextField';\nimport { connect } from \"react-redux\";\nimport * as themes from '../../themes'\nfunction FadeMenu(props) {\n    return (\n            <div className=\"year_drop_down_container1\">\n                <p style={{ margin: 0, marginTop: 3, fontSize: 16, fontWeight: 600 }}>Year 1 :</p>\n                <Autocomplete style={{ width: 100 }} disableClearable\n                    defaultValue={props.time_mode_year1.toString()}\n                    id=\"debug\"\n                    debug\n                    options={props.years_for_dropdown.map((option) => option)}\n                    renderInput={(params) => (\n                        <TextField {...params} margin=\"normal\" fullWidth={true} InputProps={{ ...params.InputProps, disableUnderline: true }} />\n                    )}\n                    onChange={(event, value) => {\n                        props.Set_time_mode_year1(value)\n                    }}\n                />\n            </div>\n        \n    );\n}\nconst maptstateToprop = (state) => {\n    return {\n        time_mode_year1: state.time_mode_year1,\n        years_for_dropdown: state.years_for_dropdown,\n    }\n}\nconst mapdispatchToprop = (dispatch) => {\n    return {\n        Set_time_mode_year1: (val) => dispatch({ type: \"time_mode_year1\", value: val }),\n    }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(FadeMenu);","import React from 'react';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport TextField from '@material-ui/core/TextField';\nimport { connect } from \"react-redux\";\nfunction FadeMenu(props) {\n    return (\n        <div className=\"year_drop_down_container1\">\n            <p style={{margin:0,marginTop:3,fontSize:16,fontWeight:600}}>Year 2 :</p>\n            <Autocomplete style={{width:100}} disableClearable\n                defaultValue={props.time_mode_year2.toString()}\n                id=\"debug\"\n                debug\n                options={props.years_for_dropdown.map((option) => option)}\n                renderInput={(params) => (\n                    <TextField {...params} margin=\"normal\" fullWidth={true} InputProps={{ ...params.InputProps, disableUnderline: true }} />\n                )}\n                onChange={(event, value) => {\n                    props.Set_time_mode_year2(value)\n                }}\n            />\n        </div>\n    );\n}\nconst maptstateToprop = (state) => {\n    return {\n        time_mode_year2: state.time_mode_year2,\n        years_for_dropdown: state.years_for_dropdown,\n    }\n}\nconst mapdispatchToprop = (dispatch) => {\n    return {\n        Set_time_mode_year2: (val) => dispatch({ type: \"time_mode_year2\", value: val }),\n    }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(FadeMenu);","import React from 'react';\nimport Slider from '@material-ui/core/Slider';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { connect } from \"react-redux\";\nimport TextField from '@material-ui/core/TextField';\nimport Button from \"@material-ui/core/Button\";\nimport './Slider.scss';\nimport * as $ from 'jquery'\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: '100%',\n    },\n    heading: {\n        fontSize: theme.typography.pxToRem(15),\n        flexBasis: '33.33%',\n        flexShrink: 0,\n    },\n    secondaryHeading: {\n        fontSize: theme.typography.pxToRem(15),\n        color: theme.palette.text.secondary,\n    },\n    tRoot: {\n        marginBottom: 35,\n    },\n    rang_input: {\n        marginLeft: 10,\n    },\n}));\nfunction Modes(props) {\n    const classes = useStyles();\n    // states \n    const [sliderRange, set_sliderRange] = React.useState(props.time_mode_range);\n    //-----------------------------------------------------------------\n    var temp_marks = [];\n    var step = (props.slider_max - 1) / (6 - 1);\n    for (var i = 0; i < 6; i++) {\n        temp_marks.push(1 + (step * i));\n    }\n    var marks = temp_marks.map(item => {\n        var myitem = parseInt(item)\n        return { value: myitem, label: myitem }\n    })\n    //console.log(props.marks)\n    //-----------------------------------------------------------------\n    return (\n        <div className=\"YearSlider\"\n            style={{ height: 70, width: '100%', padding: 30 }}>\n            <div className=\"lower\" style={{ padding: \"0px 0px\", marginTop: -20 }}>\n                <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Lower\" value={sliderRange[0]} style={{ width: \"100%\" }}\n                    onChange={event => {\n                        if (isNaN(parseInt(event.target.value))) {\n                            set_sliderRange([\"\", sliderRange[1]])\n                        } else\n                            set_sliderRange([event.target.value, sliderRange[1]])\n                    }\n                    }\n                />\n            </div>\n            <div className=\"slider\" style={{ width: \"100%\", margin: \"0px 0px\" }}>\n                <Slider value={sliderRange} onChange={(event, newValue) => set_sliderRange(newValue)} onChangeCommitted={(event, newValue) => props.Set_changed(\"range\")}\n                    valueLabelDisplay=\"auto\" aria-labelledby=\"range-slider\" valueLabelDisplay=\"on\" min={1} max={props.slider_max} marks={marks}\n                />\n            </div>\n            <div className=\"upper\" style={{ padding: \"0px 0px\", marginTop: -20 }}>\n                <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Upper\" value={sliderRange[1]} style={{ width: \"100%\" }}\n                    onChange={event => {\n                        if (isNaN(parseInt(event.target.value))) {\n                            set_sliderRange([sliderRange[0], \"\"])\n                        } else {\n                            if (parseInt(event.target.value) > props.slider_max) {\n                                //alert(\"Upper range can not exceed maximum\")\n                                set_sliderRange([sliderRange[0], props.slider_max])\n                            }\n                            else {\n                                set_sliderRange([sliderRange[0], parseInt(event.target.value)])\n                            }\n                        }\n                    }\n                    }\n                />\n            </div>\n            <div className=\"button\" item style={{ marginTop: -10 }}>\n                <Button className=\"range_button\" style={{ backgroundColor: \"#ededed\", height: 30, fontWeight: 600, fontSize: 18 }}\n                    onClick={() => {\n                        if (sliderRange[0] > sliderRange[1]) {\n                            alert(\"Lower range can not be larger than the upper range\")\n                        }\n                        else if (sliderRange[1] > sliderRange[0]) {\n                            alert(\"upper range can not be smaller than the lower range\")\n                        }\n                        else {\n                            props.Set_time_mode_range(sliderRange)\n                        }\n                    }}\n                >Update range</Button>\n            </div>\n        </div>\n    );\n}\nconst maptstateToprop = (state) => {\n    return {\n        slider_max: state.slider_max,\n        time_mode_range: state.time_mode_range,\n    }\n}\nconst mapdispatchToprop = (dispatch) => {\n    return {\n        Set_time_mode_range: (val) => dispatch({ type: \"time_mode_range\", value: val }),\n        Set_changed: (val) => dispatch({ type: \"changed\", value: val }),\n    }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Modes);","import React from 'react';\nimport \"./YearModelSelection.scss\";\nimport { connect } from \"react-redux\";\nimport Slider from './Slider'\nimport Grid from '@material-ui/core/Grid'\nfunction YearModelSelection(props) {\n  var handle_year_click = (year) => {\n    props.Set_selected_year(year)\n  }\n  var handle_model_click = (model) => props.Set_time_mode_model(model)\n  if(props.dataset==\"rur\"){var all_models=[\"MART\",\"RandomFor\"]}else{var all_models=props.all_models}\n  return (\n    <Grid container direction=\"row\" justifyContent=\"center\" alignItems=\"center\" style={{width:'100%',height:76,padding:3}}>\n      <Grid item xs={4} style={{marginTop:5, marginLeft: 5,verticalAlign:'baseline' }}><h5 style={{ display: \"inline-block\", marginRight: 5,marginTop:-4, fontSize: 20,fontWeight:600 }}>Models:</h5>{all_models.map(item => <p className={props.time_mode_model == item ? \"years_p_selected years_p\" : \"years_p\"} onClick={() => handle_model_click(item)}>{item}</p>)}</Grid>\n      <Grid item xs={6} style={{marginLeft:15,overflow:'scroll'}}><Slider></Slider></Grid>\n    </Grid>\n  );\n}\nconst maptstateToprop = (state) => {\n  return {\n    all_models: state.all_models,\n    selected_year: state.selected_year,\n    years_for_dropdown: state.years_for_dropdown,\n    default_models: state.default_models,\n    time_mode_model: state.time_mode_model,\n    dataset:state.dataset\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: val }),\n    Set_time_mode_model: (val) => dispatch({ type: \"time_mode_model\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(YearModelSelection);\n\n//https://material-ui.com/api/slider/\n//https://material-ui.com/components/expansion-panels/\n//https://material-ui.com/api/checkbox/\n//https://material-ui.com/components/radio-buttons/","import React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport { connect } from \"react-redux\";\nimport * as algo1 from \"../../../Algorithms/algo1\";\nimport * as $ from 'jquery';\nimport CreatexpCircle from \"../ExpChart/Create_exp_circles\"\nimport getMdsData from \"../ExpChart/MDS\"\nimport { Create_MDS } from \"../ExpChart/MDS\"\n\nimport \"../ExpChart/MDS.css\"\nclass SlopeChart extends Component {\n  constructor(props) {\n    super(props);\n    this.mds = React.createRef()\n    this.state = { mds_height: 110, mouseX: 0, mouseY: 0, excluded_features: [], sorted_features: null, circle_data: null, indexed_features: null, random: true }\n  }\n  componentDidMount() {\n    this.setState({ width: window.innerHeight })\n  }\n  componentDidUpdate(prevProps, prevState) {\n    this.Createsvg(this.props.model_name,this.props.exp_id,this.props.state_range,this.props.selected_year)\n  }\n  Createsvg = (model_name,exp_id,state_range,selected_year) => {\n    var self = this\n    var selected_instances = d3.range(state_range[0], state_range[1] + 1)\n    if (this.props.histogram_data.length > 0) { selected_instances = this.props.histogram_data }\n    //-------------------- Threshold filter\n    var under_threshold_instances = []\n    var year_data = this.props.original_data.filter(item => this.props.selected_year == item['1-qid'])\n    this.props.default_models.map(model_name => {\n      year_data.map(item => {\n        var two_realRank = parseInt(item['two_realRank'])\n        var predicted_rank = parseInt(item[model_name])\n        if (Math.abs(predicted_rank - two_realRank) > this.props.threshold) {\n          under_threshold_instances.push(two_realRank)\n        }\n      })\n    })\n    selected_instances = selected_instances.filter(item => !under_threshold_instances.includes(item))\n    //--------------------\n\n    //------------------------------\n    var number_of_charts = 8 + self.state.excluded_features.length\n    var features_with_score = algo1.features_with_score(this.props.dataset, [model_name], selected_instances, selected_year, number_of_charts, this.props.rank_data)\n    if(exp_id in self.props.dragged_features){features_with_score=self.props.dragged_features[exp_id]}\n    var indexed_features = Object.entries(features_with_score).sort((a, b) => b[1] - a[1]).map((item, i) => item[0]) \n    var temp_sorted_features = indexed_features.filter(item => !this.state.excluded_features.includes(item))// Exclude crossed features \n    var sorted_features = temp_sorted_features.slice(0, number_of_charts).map((item, index) => [item, index])\n    var marginTop = 5;\n    var parent_height = parseInt($('.explanation_chart_parent').height()) - this.state.mds_height - parseInt($('.title_p').height())\n    var item_width = parseInt($(\"#\" + this.props.exp_id).width())\n    var item_height = (parent_height - 10) / sorted_features.length - marginTop // 10 is the top margin\n    var feature_containers = d3.select('#' + this.props.exp_id).attr('height', parent_height).selectAll(\".feature_items\").data(sorted_features, d => d[0])\n      .join(enter => enter.append(\"svg\").attr(\"y\", (d, i) => marginTop + i * (item_height + marginTop))\n        , update => update.transition().duration(2000).attr(\"y\", (d, i) => marginTop + i * (item_height + marginTop))\n        , exit => exit.remove()\n      )\n    feature_containers.attr(\"class\", d => \"feature_items \" + d[0]).attr(\"myindex\", (d, i) => i).attr('feature_name', d => d[0])\n    feature_containers.attr(\"add_title_text_and_rect_for_title_text\", function (d, index) {\n      d3.select(this).selectAll(\".title_rect\").data([0]).join('rect').attr(\"class\", \"title_rect\").attr(\"myindex\", index).attr('feature_name', d[0]).attr(\"width\", \"100%\").attr(\"height\", 18).attr(\"fill\", \"#e2e2e2\").attr(\"y\", 0).attr(\"x\", 0)\n      d3.select(this).selectAll(\".title_text\").data([0]).join('text').attr(\"class\", \"title_text\").attr(\"myindex\", index).attr('feature_name', d[0]).attr('x', item_width / 2).text(d[0]).attr(\"dominant-baseline\", \"hanging\")\n        .attr(\"y\", 2).attr('text-anchor', 'middle').attr('font-size', 12)\n    })\n    feature_containers.attr(\"add_cross_button\", function (d, index) {\n      d3.select(this).selectAll(\".cross_button\").data([0]).join(\"text\").attr('y', 7.3).attr('dominant-baseline', 'middle').attr(\"myindex\", index).attr('feature_name', d[0]).raise()\n        .attr('x', item_width - 15).style('cursor', 'pointer').attr('font-size', 12).attr('fill', 'black')\n        .text(\"\\uf410\").attr('class', \"cross_button fa make_cursor\").on('click', () => {\n          //alert(\"clicked!\")\n          d3.event.preventDefault()\n          self.setState({ excluded_features: [...self.state.excluded_features, d[0]] })\n        })\n        //---\n        d3.select(this).selectAll(\".expand_button\").data([0]).join(\"text\").attr('y', 7.3)\n        .attr('dominant-baseline', 'middle').attr(\"myindex\", index).attr('feature_name', d[0]).raise()\n        .attr('x', item_width - 30).style('cursor', 'pointer').attr('font-size', 12).attr('fill', 'black')\n        .text(\"\\uf31e\").attr('class', \"expand_button fa make_cursor\").on('click', () => {\n          var feature = d[0]\n          var year = selected_year\n          d3.event.preventDefault()\n          var temp = [...self.props.dbclicked_features]\n          if (!temp.includes(feature)) {\n            temp.unshift(feature)\n            d3.selectAll(\".rect\").classed(\"exp_chart_clicked\", true)\n          }\n          self.props.set_dbclicked_features(temp)\n          //self.props.set_dbclicked_features([feature])\n          //----------------------------Data for popup chart\n          var popup_chart_data = {}\n          self.props.default_models.filter(item => item != \"ListNet\").map(model_name => {\n            var data = []\n            if (self.props.histogram_data.length > 0) {\n              data = self.props.lime_data[model_name].filter(element => { if ((parseInt(element['1-qid']) == parseInt(year)) && (self.props.histogram_data.includes(parseInt(element['two_realRank'])))) { return element } });\n            }\n            else {\n              data = self.props.lime_data[model_name].filter(element => parseInt(element['1-qid']) == parseInt(year) && selected_instances.includes(parseInt(element['two_realRank'])))\n            }\n            popup_chart_data[model_name] = data\n          })\n          self.props.Set_popup_chart_data([popup_chart_data, feature]) // This is to update the pop when the year or anything changes during the pop up is open\n          //self.props.Set_popup_chart_data([popup_chart_data, feature])\n          self.props.set_pop_over(true)\n        })\n        //---\n    })\n    feature_containers.attr(\"add_rect_for_circle_background_and_handle_clicks\", function (d, index) {\n      d3.select(this).selectAll(\".circ_rect\").data([0]).join('rect').attr(\"class\", \"circ_rect\").attr(\"myindex\", index).attr('feature_name', d[0]).attr(\"width\", \"100%\").attr(\"height\", item_height - 18).attr(\"fill\", \"#f2f2f2\").attr(\"y\", 18).attr(\"x\", 0)\n        .on('click', () => {\n          if (self.props.clicked_features.includes(d[0])) {\n            self.props.Set_clicked_features(self.props.clicked_features.filter(item => item != d[0]))\n            d3.selectAll(\".\" + d[0]).selectAll(\".border_rect\").remove()\n          }\n          else {\n            self.props.Set_clicked_features([...self.props.clicked_features, d[0]])\n            d3.selectAll(\".\" + d[0]).selectAll(\".border_rect\").data([0]).join('rect').attr(\"class\", \"border_rect\").attr(\"width\", \"100%\").attr(\"height\", \"100%\").style(\"stroke\", \"black\").style(\"fill\", \"none\").style(\"stroke-width\", 5)\n          }\n        })\n    })\n    feature_containers.attr(\"CreatexpCircle\", function (d, index) {\n      CreatexpCircle(d, d3.select(this), selected_instances, self.props.lime_data, selected_year, [model_name], self.props.clicked_circles,\n        self.props.Set_clicked_circles, self.props.diverginColor, self.props.anim_config, item_width, item_height, self.props.deviation_array, index,self.props.threshold,self.props.dataset)\n    }).attr(\"height\", item_height).attr('width', item_width)\n    feature_containers.attr('check_clicked_features', d => {\n      if (self.props.clicked_features.includes(d[0])) {\n        d3.selectAll(\".\" + d[0]).selectAll(\".border_rect\").data([0]).join('rect').attr(\"class\", \"border_rect\").attr(\"width\", \"100%\").attr(\"height\", \"100%\").style(\"stroke\", \"black\").style(\"fill\", \"none\").style(\"stroke-width\", 5)\n      }\n    })\n    feature_containers.attr('add_drag_drop', function (d, index) {\n      d3.select(this).selectAll(\".my_rect\").data([0]).join('rect').attr(\"class\", \"my_rect\").attr(\"myindex\", index).attr('feature_name', d[0]).attr(\"width\", item_width - 33).attr(\"height\", 18).style(\"fill\", \"transparent\").style('cursor', 'move')\n        .call(d3.drag().on(\"start\", dragstarted).on(\"drag\", dragged).on(\"end\", dragended).container(this.parentNode.parentNode)) // Set the parent node based on which the distance will be calculated\n      var deltaY, is_dragging;\n      function dragstarted(event, d) {\n        d3.select(this.parentNode).raise()\n        deltaY = d3.select(this.parentNode).attr(\"y\") - d3.event.y;\n      }\n      function dragged(event, d) {\n        is_dragging = true\n        d3.select(this.parentNode).raise()\n        d3.select(this.parentNode).attr(\"y\", d3.event.y + deltaY);\n      }\n      function dragended(event, d) {\n        var origin_index = parseInt(d3.select(this).attr(\"myindex\")); d3.select(this.parentNode).lower();\n        d3.select(this.parentNode).attr(\"y\", d3.event.y + deltaY);\n        var difference = parseInt(d3.select(document.elementFromPoint(d3.event.sourceEvent.clientX, d3.event.sourceEvent.clientY)).attr(\"myindex\"))-origin_index\n        //if (isNaN(dest_index)) { alert(\"Please drop properly!\"); dest_index = origin_index }\n        var origin_feature = d3.select(this).attr(\"feature_name\")\n        \n        var temp1={}\n        self.props.exp_data.map((exp_data,index) => { // exp_data={[[\"r1exp\",this.props.range_mode_range1],[\"r2exp\",this.props.range_mode_range2]]}\n          var selected_instances = d3.range(state_range[0], state_range[1] + 1)\n          if (self.props.histogram_data.length > 0) { selected_instances = self.props.histogram_data }\n          var number_of_charts = 15 // change this number to get features when crossed\n          var features_with_score = algo1.features_with_score(self.props.dataset, [model_name], selected_instances, exp_data[1],\n            number_of_charts, self.props.rank_data)\n          if(exp_data[0] in self.props.dragged_features){\n            features_with_score=self.props.dragged_features[exp_data[0]]\n          }\n          var indexed_features = Object.entries(features_with_score).sort((a, b) => b[1] - a[1]).map((item, i) => item[0])\n          var origin_index=indexed_features.indexOf(origin_feature)\n          var dest_index=origin_index+difference\n          if(dest_index<0){var dest_feature=indexed_features[0]}\n          else if(dest_index>number_of_charts-1){var dest_feature=indexed_features[number_of_charts-1]}\n          else{var dest_feature=indexed_features[dest_index]}\n\n          console.log(origin_feature,dest_feature,indexed_features,dest_index,exp_data[1][0],'test')\n\n          features_with_score[origin_feature]=features_with_score[origin_feature]-difference\n          features_with_score[dest_feature]=features_with_score[dest_feature]+difference\n          temp1[exp_data[0]]=features_with_score\n        })\n        console.log(temp1,'temp1')\n        self.props.Set_dragged_features(temp1)\n        //-------------------------------------\n        d3.select(this).raise()\n      }\n    })\n    //--------------------------------------MDS Plot-------------------------------------//\n    var feature_contrib_data_for_mds = this.props.lime_data[model_name].filter(item => item['1-qid'] == selected_year && selected_instances.includes(item['two_realRank']))\n    getMdsData(this.props.url, { \"data\": feature_contrib_data_for_mds, \"weight\": features_with_score }).then(data => {\n      if (typeof data != 'undefined') {\n        var MDS_response = JSON.parse(data.response)\n        var circle_data = feature_contrib_data_for_mds.map((item, index) => {\n          item['x'] = MDS_response[index][0]\n          item['y'] = MDS_response[index][1]\n          item['id'] = item['State'].replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\") + item[\"model\"].replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\")\n          return item\n        })\n        Create_MDS(this.mds, circle_data, \"#mds\" + this.props.exp_id, self.props.diverginColor, this.props.Set_clicked_circles,this.props.deviation_array)\n      }\n    })\n  }\n  //------------------------------\n  render() {\n    return (\n      <div className={\"explanation_chart_parent exp\" + this.props.model_name} style={{ width: '100%', height: '100%', \"border\": this.props.mode == 'Model' ? \"2px solid #e2e2e2\" : 'none', padding: \"2px 5px\" }}>\n        <p className=\"title_p\" style={{ padding: 0, margin: 0 }}>{this.props.model_name}</p>\n        <svg ref={this.mds} id={\"mds\" + this.props.exp_id} style={{ margin: 0, width: \"100%\", height: this.state.mds_height }}></svg>\n        <svg id={this.props.exp_id} style={{ marginTop: 0, width: \"100%\" }}></svg>\n      </div>\n    )\n  }\n}\nconst maptstateToprop = (state) => {\n  return {\n    deviation_array: state.deviation_array,\n    original_data: state.original_data,\n    time_mode_model: state.time_mode_model,\n    chart_scale_type: state.chart_scale_type,\n    dataset: state.dataset,\n    histogram_data: state.histogram_data,\n    sparkline_data: state.sparkline_data,\n    anim_config: state.anim_config,\n    show: state.show,\n    average_m: state.average_m,\n    average_y: state.average_y,\n    lime_data: state.lime_data,\n    rank_data: state.rank_data,\n    clicked_circles: state.clicked_circles,\n    clicked_features: state.clicked_features,\n    threshold: state.threshold,\n    mode: state.mode,\n    dbclicked_features: state.dbclicked_features,\n    dragged_features: state.dragged_features,\n    url: state.url,\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_dragged_features: (val) => dispatch({ type: \"dragged_features\", value: val }),\n    Set_clicked_circles: (val) => dispatch({ type: \"clicked_circles\", value: val }),\n    Set_prev_prop: (val) => dispatch({ type: \"prev_prop\", value: val }),\n    Set_sparkline_data: (val) => dispatch({ type: \"sparkline_data\", value: val }),\n    Set_replay: (val) => dispatch({ type: \"replay\", value: val }),\n    Set_clicked_features: (val) => dispatch({ type: \"clicked_features\", value: val }),\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: val }),\n    set_dbclicked_features: (val) => dispatch({ type: \"dbclicked_features\", value: val }),\n    Set_popup_chart_data: (val) => dispatch({ type: \"popup_chart_data\", value: val }),\n    set_pop_over: (val) => dispatch({ type: \"pop_over\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(SlopeChart);","import React, { Component } from 'react';\nimport { connect } from \"react-redux\";\nimport * as misc_algo from '../misc_algo'\nimport CreateCatChart from '../Popover/CreateCatChart'\nimport CreateNumChart from '../Popover/CreateNumChart'\nclass Chart extends Component {\n  constructor(props) {\n    super(props);\n  }\n  componentDidMount() {\n    this.setState({ a: 5 })\n  }\n  componentDidUpdate() {\n    var merged_arr = this.props.popup_chart_data[0] // only data\n    var scatterplot_data = [[this.props.popup_chart_data[1],this.props.popup_chart_data[0]]] // [feature name, data]\n    //----------------------------------------------------------------------------------------------------------Call createChart\n    if (merged_arr.length > 0) { // This is to avoid the error caused by the next line\n      if (isNaN(merged_arr[0][this.props.popup_chart_data[1]])) {\n        CreateCatChart(merged_arr, this.props.popup_chart_data[1], scatterplot_data,this.props,this.props.deviation_array)\n      }\n      else {\n        CreateNumChart(merged_arr, this.props.popup_chart_data[1], scatterplot_data,this.props,this.props.deviation_array)\n      }\n    }\n    else {\n      CreateNumChart(merged_arr, this.props.popup_chart_data[1], scatterplot_data,this.props,this.props.deviation_array) // calling the function to set the  graph empty when all models are unselected\n    }\n    misc_algo.handle_transparency(\"circle2\", this.props.clicked_circles, this.props.anim_config)\n  }\n\n  render() {\n    return (\n      <div key={this.props.popup_chart_data[1]} style={{ margin: 10, padding: 10, border: this.props.index == 0 ? \"3px solid #e5e5e5\" : \"white\" }}>\n        <svg id={this.props.myid}> </svg>\n        <p style={{ color: \"#4f4c4c\", marginLeft: \"42%\", marginTop: -25, marginBottom: 0 }}>{this.props.popup_chart_data[1]}</p>\n      </div>\n    );\n  }\n}\nconst maptstateToprop = (state) => {\n  return {\n    //popup_chart_data: state.popup_chart_data,\n    pop_over_models: state.pop_over_models,\n    clicked_circles: state.clicked_circles,\n    threshold: state.threshold,\n    anim_config:state.anim_config,\n    deviation_array: state.deviation_array,\n  }\n}\n//item['id'] = item['State'].replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\") + model.replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\")\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_clicked_circles: (val) => dispatch({ type: \"clicked_circles\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Chart);","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport { connect } from \"react-redux\";\nimport Chart_pop from './04PopoverCharts'\nimport Draggable from 'react-draggable';\nimport Grid from '@mui/material/Grid';\nimport * as d3 from 'd3';\nexport function SimplePopover(props) {\n    const handleClose = () => {\n        props.set_pop_over(false)\n        props.set_dbclicked_features([])\n    };\n    //------------------------------\n    var selected_instances = d3.range(props.time_mode_range[0], props.time_mode_range[1] + 1)\n    var min = d3.min(selected_instances), max = d3.max(selected_instances);\n    var d = (max - min) / 8;\n    var diverginColor = d3.scaleLinear().domain([min + d * 7, min + d * 6, min + d * 5, min + d * 4, min + d * 3, min + d * 2, min]).interpolate(d3.interpolateRgb).range(['#af8dc3','#b197c1','#dbd88c','#dbd88c', '#dbd88c', '#90bc8d', '#7fbf7b']);\n\n    //----------\n    var under_threshold_instances = []\n    var year_data = props.original_data.filter(item => props.time_mode_year1 == item['1-qid'])\n    year_data.map(item => {\n        var two_realRank = parseInt(item['two_realRank'])\n        var predicted_rank = parseInt(item[props.time_mode_model])\n        if (Math.abs(predicted_rank - two_realRank) < props.threshold) {\n            under_threshold_instances.push(two_realRank)\n        }\n    })\n    var selected_instances1 = selected_instances.filter(item => under_threshold_instances.includes(item))\n    var data1 = props.lime_data[props.time_mode_model].filter(element => parseInt(element['1-qid']) == parseInt(props.time_mode_year1) && selected_instances1.includes(parseInt(element['two_realRank'])))\n    //------------------------------\n    var under_threshold_instances = []\n    var year_data = props.original_data.filter(item => props.time_mode_year2 == item['1-qid'])\n    year_data.map(item => {\n        var two_realRank = parseInt(item['two_realRank'])\n        var predicted_rank = parseInt(item[props.time_mode_model])\n        if (Math.abs(predicted_rank - two_realRank) < props.threshold) {\n            under_threshold_instances.push(two_realRank)\n        }\n    })\n    var selected_instances2 = selected_instances.filter(item => under_threshold_instances.includes(item))\n    var data2 = props.lime_data[props.time_mode_model].filter(element => parseInt(element['1-qid']) == parseInt(props.time_mode_year2) && selected_instances2.includes(parseInt(element['two_realRank'])))\n\n    return (\n        <div className=\"pop_over\" style={{ position: \"relative\" }}>\n            {props.pop_over == true ?\n                <div style={{ top: \"2%\", left: \"14%\", position: \"fixed\", pointerEvents: \"none\", backgroundColor: \"transparent\" }}>\n                    <Draggable>\n                        <Grid style={{ backgroundColor: \"#ffffff\", boxShadow: \"3px 2px 15px -7px #000000\", pointerEvents: \"auto\", display: \"relative\", zIndex: 6 }}>\n                            <Grid container style={{ borderBottom: \"1px solid #e2e2e2\", marginBottom: 20 }} direction=\"row\" justifyContent=\"flex-end\" alignItems=\"center\" >\n                                <Button color=\"secondary\" id=\"draggable-dialog-title\" onClick={handleClose}>close</Button>\n                            </Grid>\n                            <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\" style={{ maxHeight: 700, overflow: \"scroll\", maxWidth: 1600 }}>\n                                {\n                                    props.dbclicked_features.length > 0 ? props.dbclicked_features.map((item, index) => <Grid item container direction=\"row\" ><Chart_pop\n                                        index={index}\n                                        popup_chart_data={[data1, item]} default_models={props.default_models}\n                                        myid={item.replace(/\\s/g, '').replace(/[`~!@#$%^&*()_|+\\-=?;:'\",.<>\\{\\}\\[\\]\\\\\\/]/gi, '') + \"range1\"} diverginColor={props.diverginColor}\n                                    ></Chart_pop>\n                                        <Chart_pop\n                                            index={index}\n                                            popup_chart_data={[data2, item]} default_models={props.default_models}\n                                            myid={item.replace(/\\s/g, '').replace(/[`~!@#$%^&*()_|+\\-=?;:'\",.<>\\{\\}\\[\\]\\\\\\/]/gi, '') + \"range2\"} diverginColor={props.diverginColor}\n                                        ></Chart_pop></Grid>\n                                    ) : <Chart_pop popup_chart_data={data1} default_models={props.default_models} myid=\"myid1\" diverginColor={props.diverginColor} textClickHandler_original={props.textClickHandler_original}></Chart_pop>\n                                }\n                            </Grid>\n                        </Grid>\n                    </Draggable>\n                </div> : null}\n        </div>\n    );\n}\nconst maptstateToprop = (state) => {\n    return {\n        time_mode_year1: state.time_mode_year1,\n        time_mode_year2: state.time_mode_year2,\n        time_mode_model: state.time_mode_model,\n        time_mode_range: state.time_mode_range,\n        popup_chart_data: state.popup_chart_data,\n        pop_over: state.pop_over,\n        dbclicked_features: state.dbclicked_features,\n        selected_year: state.selected_year,\n        threshold: state.threshold,\n        original_data: state.original_data,\n        lime_data: state.lime_data,\n        histogram_data: state.histogram_data,\n    }\n}\nconst mapdispatchToprop = (dispatch) => {\n    return {\n        set_pop_over: (val) => dispatch({ type: \"pop_over\", value: val }),\n        set_dbclicked_features: (val) => dispatch({ type: \"dbclicked_features\", value: val }),\n        set_clicked_features: (val) => dispatch({ type: \"clicked_features\", value: val }),\n    }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(SimplePopover);\n","import React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport './YearModeComponent.scss';\nimport { connect } from \"react-redux\";\nimport * as deviation_chart from \"../DevPlot/deviation_chart\"\nimport * as misc_algo from '../misc_algo'\nimport * as $ from 'jquery';\nimport Year1DropDown from './Year1DropDown';\nimport Year2DropDown from './Year2DropDown';\nimport YearModelSelection from \"./YearAndModelSelection/YearModelSelection\"\nimport ExpChart from './02ExpChartComponent';\nimport Popover from './03TimePopover';\nimport Box from '@mui/material/Box';\nimport Grid from '@mui/material/Grid';\n\nclass SlopeChart extends Component {\n  constructor(props) {\n    super(props);\n    this.line_color = null;\n    this.state = { height_slope_exp_chart: 700, mouseX: 0, mouseY: 0 }\n  }\n  componentDidMount() {\n    this.setState({ width: window.innerHeight })\n  }\n  shouldComponentUpdate(prevProps, prevState) {\n    return true;\n  }\n  componentDidUpdate(prevProps, prevState) {\n    //------------------------------\n    var selected_instances = d3.range(this.props.time_mode_range[0], this.props.time_mode_range[1] + 1)\n    var min = d3.min(selected_instances), max = d3.max(selected_instances);\n    var d = (max - min) / 8;\n    var diverginColor = d3.scaleLinear().domain([min + d * 7, min + d * 6, min + d * 5, min + d * 4, min + d * 3, min + d * 2, min]).interpolate(d3.interpolateRgb).range(['#af8dc3','#b197c1','#dbd88c','#dbd88c', '#dbd88c', '#90bc8d', '#7fbf7b']);\n\n    //----------\n    var under_threshold_instances = []\n    var year_data = this.props.original_data.filter(item => this.props.time_mode_year1 == item['1-qid'])\n    year_data.map(item => {\n      var two_realRank = parseInt(item['two_realRank'])\n      var predicted_rank = parseInt(item[this.props.time_mode_model])\n      if (Math.abs(predicted_rank - two_realRank) < this.props.threshold) {\n        under_threshold_instances.push(two_realRank)\n      }\n    })\n    var selected_instances1 = selected_instances.filter(item => under_threshold_instances.includes(item))\n    deviation_chart.Create_deviation_chart('r1d', 'r1exp', selected_instances1, this.props.original_data, [this.props.time_mode_model], this.props.anim_config, this.props.time_mode_year1, this.props.average_m, this.props.clicked_circles, this.props.Set_clicked_circles, diverginColor, this.props.sparkline_data, this.props.Set_time_mode_year1, this.props.dataset, this.props.threshold)\n    //------------------------------\n    var under_threshold_instances = []\n    var year_data = this.props.original_data.filter(item => this.props.time_mode_year2 == item['1-qid'])\n    year_data.map(item => {\n      var two_realRank = parseInt(item['two_realRank'])\n      var predicted_rank = parseInt(item[this.props.time_mode_model])\n      if (Math.abs(predicted_rank - two_realRank) < this.props.threshold) {\n        under_threshold_instances.push(two_realRank)\n      }\n    })\n    var selected_instances2 = selected_instances.filter(item => under_threshold_instances.includes(item))\n    \n    deviation_chart.Create_deviation_chart('r2d', 'r2exp', selected_instances2, this.props.original_data, [this.props.time_mode_model], this.props.anim_config, this.props.time_mode_year2, this.props.average_m, this.props.clicked_circles, this.props.Set_clicked_circles, diverginColor, this.props.sparkline_data, this.props.Set_time_mode_year2, this.props.dataset, this.props.threshold)\n    //------------------------------\n    misc_algo.handle_transparency(\"circle2\", this.props.clicked_circles, this.props.anim_config)\n\n  }\n  render() {\n    var selected_instances = d3.range(this.props.time_mode_range[0], this.props.time_mode_range[1] + 1)\n    var min = d3.min(selected_instances), max = d3.max(selected_instances);\n    var d = (max - min) / 8;\n    var diverginColor = d3.scaleLinear().domain([min + d * 7, min + d * 6, min + d * 5, min + d * 4, min + d * 3, min + d * 2, min]).interpolate(d3.interpolateRgb).range(['#af8dc3','#b197c1','#dbd88c','#dbd88c', '#dbd88c', '#90bc8d', '#7fbf7b']);\n    this.props.Set_selected_instances(selected_instances)\n    return (\n      <Box className=\"box_root\" sx={{ width: '100%',height:'100%', padding: 0.5 }}>\n        <Grid container justifyContent=\"space-between\">\n          <Grid item xs={12}>\n            <div className=\"year_and_model_selector_and_slider_container\" style={{ width: '100%' }}><YearModelSelection></YearModelSelection></div>\n          </Grid>\n          {/* Group 1 */}\n          <Grid item xs={5.9} className=\"Group1_container\" style={{ borderTop: '2px solid #eaeaea',borderLeft: '2px solid #eaeaea',borderRight: '2px solid #eaeaea'}}>\n            <Grid container>\n              <Grid item xs={12} style={{padding:0}}>\n                <div className=\"slidergroup1\" style={{ width: '100%', height: 30 }}><Year1DropDown></Year1DropDown></div>\n              </Grid>\n              <Grid className=\"dev_plot_and_exp_container\" item xs={6}>\n                <div className=\"deviation_plot_container_div\" style={{ width: '100%', height:$('.box_root').height() - ($('.year_and_model_selector_and_slider_container').height() + $('.slidergroup1').height()),overflow: 'scroll' }}><svg id=\"r1d\" style={{ width: \"100%\"}}></svg></div>\n              </Grid>\n              <Grid item xs={6}>\n                {\n                  this.props.rank_data != null ? <div className=\"explanation_plot_container\" style={{ width: '100%', height: '100%', }}>\n                    <ExpChart exp_data={[[\"r1exp\", this.props.time_mode_year1], [\"r2exp\", this.props.time_mode_year2]]} diverginColor={diverginColor} exp_id=\"r1exp\" default_models={[this.props.time_mode_model]} state_range={this.props.time_mode_range} selected_year={this.props.time_mode_year1} model_name={this.props.time_mode_model}></ExpChart>\n                  </div> : null\n                }\n              </Grid>\n            </Grid>\n          </Grid>\n          {/* Group 2 */}\n          <Grid item xs={5.9} style={{ borderTop: '2px solid #eaeaea',borderLeft: '2px solid #eaeaea',borderRight: '2px solid #eaeaea' }}>\n            <Grid container>\n              <Grid item xs={12} style={{padding:0}}>\n                <div className=\"slidergroup2\" style={{ width: '100%', height: 30 }}><Year2DropDown></Year2DropDown></div>\n              </Grid>\n              <Grid item xs={6}>\n                <div className=\"deviation_plot_container_div\" style={{ width: '100%', height:$('.box_root').height() - ($('.year_and_model_selector_and_slider_container').height() + $('.slidergroup2').height()),overflow: 'scroll' }}><svg id=\"r2d\" style={{ width: \"100%\" }}></svg></div>\n              </Grid>\n              <Grid item xs={6}>\n                  {\n                    this.props.rank_data != null ? <div className=\"explanation_plot_container\" style={{ width: '100%', height: 500, }}>\n                      <ExpChart exp_data={[[\"r1exp\", this.props.time_mode_year1], [\"r2exp\", this.props.time_mode_year2]]} diverginColor={diverginColor} exp_id=\"r2exp\" default_models={[this.props.time_mode_model]} state_range={this.props.time_mode_range} selected_year={this.props.time_mode_year2} model_name={this.props.time_mode_model}></ExpChart>\n                    </div> : null\n                  }\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n        <Popover diverginColor={diverginColor} default_models={[this.props.time_mode_model]}></Popover>\n      </Box>\n    )\n  }\n}\nconst maptstateToprop = (state) => {\n  return {\n    time_mode_year1: state.time_mode_year1,\n    time_mode_year2: state.time_mode_year2,\n    mode: state.mode,\n    time_mode_range: state.time_mode_range,\n    time_mode_model: state.time_mode_model,\n    default_models: state.default_models,\n    original_data: state.original_data,\n    dataset: state.dataset,\n    sparkline_data: state.sparkline_data,\n    dataset: state.dataset,\n    anim_config: state.anim_config,\n    average_m: state.average_m,\n    rank_data: state.rank_data,\n    clicked_circles: state.clicked_circles,\n    threshold: state.threshold,\n    histogram_data: state.histogram_data,\n\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_selected_instances: (val) => dispatch({ type: \"selected_instances\", value: val }),\n    Set_clicked_circles: (val) => dispatch({ type: \"clicked_circles\", value: val }),\n    Set_time_mode_year1:(val) => dispatch({ type: \"time_mode_year1\", value: val }),\n    Set_time_mode_year2:(val) => dispatch({ type: \"time_mode_year2\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(SlopeChart);","import React, { Component } from 'react';\nimport { connect } from \"react-redux\";\nimport * as $ from \"jquery\"\nimport * as d3 from 'd3';\nimport exp_fiscal_CordAscent from \"../../../Data/data/fiscal/lime/chart1_data.csv\";\nimport exp_school_CordAscent from \"../../../Data/data/school/lime/chart1_data.csv\";\nimport exp_house_CordAscent from \"../../../Data/data/house/lime/chart1_data.csv\";\nimport rur_histogram_data from \"../../../Data/RUR/RUR_histogram_data.csv\";\nimport * as algo1 from \"../../../Algorithms/algo1\";\nimport CreateHistogram from './CreateHistogram'\nimport CreateBarChart from './CreateBarChart';\nimport Button from '@material-ui/core/Button';\nimport { delay } from 'lodash';\nclass FeatureHistograms extends Component {\n    constructor(props) {\n        super(props);\n        this.state = { feature_data: [] };\n    }\n    componentDidMount() {\n        var filename; if (this.props.dataset == \"fiscal\") { filename = exp_fiscal_CordAscent } else if (this.props.dataset == \"school\") { filename = exp_school_CordAscent } else if (this.props.dataset == \"house\") { filename = exp_house_CordAscent } else if (this.props.dataset == \"rur\") { filename = rur_histogram_data }\n        d3.csv(filename).then(feature_data => {\n            this.setState({ feature_data: feature_data,all_instances:{} })\n        })\n    }\n    store_instances=(feature_name,instances)=>{\n        var temp={...this.state.all_instances}\n        temp[feature_name]=instances\n        this.setState({all_instances:temp})\n    }\n    shouldComponentUpdate(nextProps, nextState) {\n        if(typeof(this.state.all_instances)!=\"undefined\" && JSON.stringify(nextState.all_instances)!==JSON.stringify(this.state.all_instances)){\n            return false\n        }\n        return true    \n    }\n    componentDidUpdate() {\n        var self = this\n        var filename;\n        var selected_instances = d3.range(this.props.state_range[0], this.props.state_range[1] + 1)\n        //--------------------\n        var number_of_charts = 9\n        var features_dict = algo1.features_with_score(this.props.dataset, this.props.default_models, selected_instances, this.props.selected_year, number_of_charts, this.props.rank_data)\n        var sorted_features = Object.entries(features_dict).sort((first, second) => second[1] - first[1]).map(element => element[0])\n        //--------------------\n        if (this.props.dataset == \"fiscal\") { filename = exp_fiscal_CordAscent } else if (this.props.dataset == \"school\") { filename = exp_school_CordAscent } else if (this.props.dataset == \"rur\") { filename = rur_histogram_data }\n        //--------------------------------Iterate through each features\n        const margin = { top: 10, right: 5, bottom: 50, left: 5 }; // Histogram\n        //const margin = { top: 10, right: 5, bottom: 40, left: 5 } // Barchart\n        d3.select(\".feature_histograms_container\").selectAll(\".feature\").data(sorted_features, d => d).join(\"svg\").attr(\"class\", 'feature')\n            //.attr(\"width\", feature_width)\n            //.attr(\"y\", (d, feature_index) => feature_height * feature_index)\n            .attr(\"add_histogram\", function (d, feature_index) {\n                var histogram_data = []\n                if (!isNaN(self.state.feature_data[0][d])) {\n                    self.state.feature_data.forEach(element => {\n                        if (element[\"1-qid\"] == self.props.selected_year) {\n                            var temp_dict = {}\n                            temp_dict[\"x\"] = parseInt(element['two_realRank'])\n                            temp_dict[\"y\"] = parseFloat(element[d])\n                            histogram_data.push(temp_dict)\n                        }\n                    });\n                    CreateHistogram(histogram_data, d3.select(this), d, feature_index, sorted_features.length,self.store_instances)\n                }\n                else {\n                    self.state.feature_data.forEach(element => {\n                        if (element[\"1-qid\"] == self.props.selected_year) {\n                            var temp_dict = {}\n                            temp_dict[\"x\"] = parseInt(element['two_realRank'])\n                            temp_dict[\"y\"] = element[d]\n                            histogram_data.push(temp_dict)\n                        }})\n                    CreateBarChart(histogram_data, d3.select(this), d, feature_index, sorted_features.length,self.store_instances,self.state.all_instances)\n                }\n            })\n            .attr('id',d=>d)\n            //.call(d3.brush().extent([[0, margin.top], [400, 65]]))\n        //--------------------------------Iterate through each features\n    }\n    render() {\n        return (\n            this.props.original_data != null ? <div style={{display:'relative', width: 400,marginTop:-8 }}>\n                <Button fullWidth style={{margin:0,position:'sticky',top:0,backgroundColor:\"gray\",borderRadius:0}} onClick={()=>{\n                    var selected_instances=[...new Set([].concat(...Object.values(this.state.all_instances)))]\n                    var filtered_instances=selected_instances.filter(item => item>=this.props.state_range[0] && item<=this.props.state_range[1])\n                    this.props.handleClose() // This will close the select menu\n                    if(filtered_instances.length==0){alert(\"No instance is available withing the selected range!\")}\n                    this.props.Set_histogram_data([...filtered_instances])\n                }}> Update </Button>\n                <div className=\"feature_histograms_container_div\" style={{display:'relative', width: 400, height: window.innerHeight, overflow: \"scroll\",marginTop:-8 }}>\n                <svg className=\"feature_histograms_container\" style={{ width: \"100%\", padding: 10 }}> </svg>\n                </div>\n            </div> : null\n        );\n    }\n}\nconst maptstateToprop = (state) => {\n    return {\n        dataset: state.dataset,\n        deviate_by: state.deviate_by,\n        state_range: state.state_range,\n        default_models: state.default_models,\n        selected_year: state.selected_year,\n        sparkline_data: state.sparkline_data,\n        show: state.show,\n        mode: state.mode,\n        original_data: state.original_data,\n        rank_data: state.rank_data,\n    }\n}\nconst mapdispatchToprop = (dispatch) => {\n    return {\n        Set_slider_max: (val) => dispatch({ type: \"slider_max\", value: val }),\n        Set_state_range: (val) => dispatch({ type: \"state_range\", value: val }),\n        Set_histogram_data: (val) => dispatch({ type: \"histogram_data\", value: val }),\n    }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(FeatureHistograms);\n\n//https://material-ui.com/api/slider/\n//https://material-ui.com/components/expansion-panels/\n//https://material-ui.com/api/checkbox/\n//https://material-ui.com/components/radio-buttons/","import * as d3 from 'd3';\nimport * as $ from \"jquery\"\nexport default function CreateChart(histogram_data, svg, feature_name, feature_index, number_of_features,store_instances,all_instances) {\n  //( feature_height, selected_year, handleHistogramselection, feature_data)\n  var parent_width = $(\".feature_histograms_container\").width()\n  var parent_height = $(\".feature_histograms_container\").height()\n  var feature_width = $(\".feature_histograms_container\").width()\n  var feature_height = 120\n  const margin = { top: 10, right: 5, bottom: 40, left: 5 }\n  d3.select(\".feature_histograms_container\").attr('height', feature_height * number_of_features + 20)\n  svg.attr('y', feature_height * feature_index).attr('width', parent_width).attr('height', feature_height)\n  //-----------------------------------------------------------\n  var occur = {}\n  histogram_data.map(item => {\n    if (item.y in occur) occur[item.y] = occur[item.y] + 1\n    else { occur[item.y] = 1 }\n  })\n  var items = Object.entries(occur).sort((first, second) => second[1] - first[1]);\n  var x = items.map(element => element[1]);\n  var sum_x = d3.sum(x)\n  svg.selectAll('.item_svg').data(items).join(\"svg\").attr(\"class\", 'item_svg').attr(\"x\", (d, i) => (d3.sum(x.slice(0, i)) / sum_x) * feature_width).attr('y',margin.top).attr('width', (d, i) => ((d[1] / sum_x) * feature_width) - .2).attr('height', feature_height - margin.bottom)\n    .attr('add_rectangle', function (d) {\n      d3.select(this).selectAll(\".my_rect\").data([0]).join('rect').attr(\"class\", \"my_rect\").attr(\"width\", \"100%\").attr(\"height\", feature_height - margin.bottom).style(\"fill\", \"gray\")\n      .attr(\"check\",function(){\n        if(feature_name+d[0] in all_instances){ if(all_instances[feature_name+d[0]].length>0){d3.select(this).classed('feature_clicked',true) }} // if the feature and the category exists we check the length and decide that it is clicked item. In categorical items if something is clicked it can not have empty instances\n      })\n      .on('click', function(){\n        if(!d3.select(this).classed('feature_clicked')){ // if not classed we add the class and the data\n          d3.select(this).classed('feature_clicked',true)\n          store_instances(feature_name+d[0],histogram_data.filter(item=>item['y']==d[0]).map(item=>item.x))\n        }\n        else{ // if claassed we already have it so we set it empty\n          d3.select(this).classed('feature_clicked',false)\n          store_instances(feature_name+d[0],[])\n        }\n      })\n      \n    \n    })\n    .attr('add_text', function (d) {\n      //if(d3.select(this).attr(\"width\")>9)\n      d3.select(this).selectAll(\"text\").data([0]).join(\"text\").text(d[0]).attr('x', \"50%\").attr(\"y\", '50%').attr('dominant-baseline', 'middle').style(\"font-size\", d3.select(this).attr(\"width\") > 11 ? 10 : d3.select(this).attr(\"width\") - 2).style(\"writing-mode\", \"tb\").style(\"text-anchor\", \"middle\").style('cursor', 'pointer')\n    })\n  //----------------------------------------------------------- Histogram creation ends here\n  svg.selectAll(\".hist_title\").data([0]).join(\"text\").attr(\"class\", \"hist_title\").attr(\"y\", feature_height-10).attr(\"x\", feature_width / 2).attr(\"text-anchor\", \"middle\").attr('font-size', 14).text(feature_name).style('text-transform','capitalize')\n}","import * as d3 from \"d3\"\nimport * as $ from \"jquery\"\nexport default function CreateHistogram(histogram_data, svg, feature_name, feature_index, number_of_features, store_instances) {\n  const margin = { top: 10, right: 5, bottom: 50, left: 5 };\n  var parent_width = $(\".feature_histograms_container\").width()\n  var feature_height = 120\n  var feature_width = parent_width\n  d3.select(\".feature_histograms_container\").attr('height', feature_height * number_of_features + 20)\n  svg.attr('y', feature_height * feature_index).attr('width', parent_width).attr('height', feature_height)\n  var item_data = histogram_data.map(item => item['y'])\n  var area_chart_height = feature_height - margin.top - margin.bottom;\n  var area_chart_width = feature_width - margin.left - margin.right\n  const y = d3.scaleLinear().domain(d3.extent(item_data)).range([margin.top, area_chart_height])\n\n  var myticks = y.ticks(25)\n  var binned_data = d3.histogram().value(d => d).domain(y.domain()).thresholds(myticks)(item_data)\n  //--------- Create the areaChart\n  var area_chart_data = []\n  binned_data.map((item, i) => area_chart_data.push([item.x1, item.length]))\n  console.log(feature_name,histogram_data)\n  var xScale = d3.scaleLinear().domain(d3.extent(area_chart_data.map(item => item[0]))).range([margin.left, feature_width - margin.right]) // 20 is the baseline\n  var yScale = d3.scaleLinear().domain([0, d3.max(area_chart_data.map(item => item[1]))]).range([area_chart_height, 0])\n  const areaGenerator = d3.area().curve(d3.curveMonotoneX).x(d => xScale(d[0])).y0(yScale(0)).y1(d => yScale(d[1]))\n\n  svg.append(\"path\").attr('transform', 'translate(0,' + margin.top + ')')\n    .attr(\"d\", areaGenerator(area_chart_data))\n    .style(\"fill\", \"gray\");\n//--------------------------------\n  svg.selectAll(\".xAxis_g\").data([0]).join('g').attr('class', 'xAxis_g').attr(\"transform\", \"translate(0,\" + (feature_height - margin.bottom) + \")\")\n    .call(d3.axisBottom(xScale).ticks(5).tickFormat(d3.format(\".2s\")));\n  //.call(d3.axisBottom(xScale).ticks(5));\n  svg.selectAll('.domain').attr('stroke', '#dddddd')\n  svg.call(d3.brushX().extent([[0, margin.top], [400, area_chart_height + margin.top]]).on(\"end\", () => {\n    var extent = d3.event.selection\n    if (extent != null) {\n      var lower = xScale.invert(extent[0]), upper = xScale.invert(extent[1])\n      var instances = histogram_data.filter(item => item['y'] >= lower && item['y'] <= upper).map(item => item['x']) // x contains the ranking and y contains the value\n      store_instances(feature_name, instances)\n    }\n    else{store_instances(feature_name, [])}\n  }))\n  svg.selectAll(\".title\").data([0]).join('text').attr(\"class\",\"title\").attr('x', feature_width / 2).attr('y', feature_height - 28).attr('dominant-baseline', 'hanging')\n  .attr('text-anchor', 'middle').text(feature_name).attr('font-size', 14).style('text-transform', 'capitalize')\n  .attr(\"fill\",\"#3d3b3b\")\n}\n//https://stackoverflow.com/questions/54236051/how-to-draw-a-vertical-area-chart","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport FeatureHistograms from \"./FeatureHistograms/FeatureHistograms\"\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\n\nexport default function SimpleMenu() {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  return (\n    <div style={{marginTop:-2}}>\n      <Button aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleClick}>Select Features<ArrowDropDownIcon></ArrowDropDownIcon></Button>\n      <Menu id=\"simple-menu\" anchorEl={anchorEl} keepMounted open={Boolean(anchorEl)} onClose={handleClose} style={{marginTop:0}}>\n       {anchorEl?<FeatureHistograms handleClose={handleClose}></FeatureHistograms>:null}\n      </Menu>\n    </div>\n  );\n}\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport { connect } from 'react-redux';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormLabel from '@material-ui/core/FormLabel';\n\nexport function SimpleMenu(props) {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  return (\n    <div style={{marginTop:-2}}>\n      <Button aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleClick}>Select Mode<ArrowDropDownIcon></ArrowDropDownIcon></Button>\n      <Menu id=\"simple-menu\" anchorEl={anchorEl} keepMounted open={Boolean(anchorEl)} onClose={handleClose} style={{marginTop:0}}>\n       {anchorEl?<div style={{paddingLeft:10}}><form onSubmit={() => this.buttonclickHandler(1, \"form\")}>\n                <FormControl component=\"fieldset\">\n                  <FormLabel component=\"legend\"></FormLabel>\n                  <RadioGroup aria-label=\"gender\" name=\"gender1\" onChange={(event, val) => {handleClose();props.Set_histogram_data([]);props.Set_mode(val)}}>\n                    {['Model', 'Ranges', 'Time'].map((value) => {\n                      return <FormControlLabel value={value} control={<Radio />} label={value} />\n                    })}\n                  </RadioGroup>\n                </FormControl>\n              </form></div>:null}\n      </Menu>\n    </div>\n  );\n}\nconst maptstateToprop = (state) => {\n  return {\n    state_range: state.state_range,\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_mode: (val) => dispatch({ type: \"mode\", value: val }),\n    Set_histogram_data: (val) => dispatch({ type: \"histogram_data\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(SimpleMenu);\n","import { createMuiTheme } from \"@material-ui/core/styles\";\n\n// Create a theme instance.\nconst outerTheme1 = createMuiTheme({\n  palette: {\n    primary: {\n      main: \"#0069d9\"\n    },\n    secondary: {\n      main: \"#0069d9\"\n    }\n  }\n})\n\n\n\nconst outerTheme = createMuiTheme({\n  spacing: 2,\n  overrides: { // This is the place we override classes applied to a component\n    MuiFilledInput: { // This is the name of the component\n      root: { // This is the class we want to edit\n        backgroundColor: \"none\",\n        padding:0,\n      }\n    },\n    MuiInputLabel: {\n      root: {\n        backgroundColor: \"yellow\"\n      }\n    },\n    MuiTextField: {\n      root: {}\n    },\n    MuiButton: {\n      root: {\n        textTransform: \"none\",\n        padding: \"15px\"\n      },\n      fullWidth: {\n        maxWidth: \"100%\"\n      }\n    },\n    MuiFilledInput:{\n      root:{\n        padding:0,\n        backgroundColor:\"yellow\"\n      }\n    },\n    MuiAutocomplete:{\n      Root:{\n        padding:0\n      }\n    }\n\n  },\n  props: { // This is the place where we define props\n    MuiButton: {\n      disableRipple: true,\n      variant: \"contained\",\n      color: \"primary\"\n    },\n    MuiCheckbox: {\n      disableRipple: true\n    },\n    MuiTextField: {\n      variant: \"filled\",\n      InputLabelProps: {\n        shrink: true\n      }\n    },\n  }\n});\n\nexport default outerTheme","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Input from '@material-ui/core/Input';\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\nimport outerTheme from './theme'\nimport { connect } from \"react-redux\";\nimport Button from '@material-ui/core/Button';\nimport { useState } from 'react';\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        '& > *': {\n            margin: theme.spacing(1),\n        },\n    },\n}));\nfunction Inputs(props) {\n    const [threshold,set_threshold]=useState(props.threshold)\n    const classes = useStyles();\n    return (\n        <ThemeProvider theme={outerTheme}>\n            <form className={classes.root} noValidate autoComplete=\"off\">\n                <span>Deviation threshold:</span>\n                <Input style={{width:30}} defaultValue={threshold} inputProps={{ 'aria-label': 'description' }} \n                onChange={(event=>set_threshold(event.target.value))}\n                />\n                <Button style={{height:20,color:\"black\",fontSize:16,backgroundColor:'#f2f2f2'}} variant='string'\n                onClick={()=>props.Set_threshold(threshold)}\n                >Update</Button>\n            </form>\n        </ThemeProvider>\n\n    );\n}\nconst maptstateToprop = (state) => {\n    return {\n        threshold:state.threshold\n    }\n}\nconst mapdispatchToprop = (dispatch) => {\n    return {\n        Set_threshold: (val) => dispatch({ type: \"threshold\", value: val }),\n    }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Inputs);\n/*\nimport React from 'react';\nimport \"./Sliders.scss\";\nimport Slider from '@material-ui/core/Slider';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { connect } from \"react-redux\";\nimport Typography from '@material-ui/core/Typography';\nimport TextField from '@material/TextField';\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: '100%',\n    },\n    heading: {\n        fontSize: theme.typography.pxToRem(15),\n        flexBasis: '33.33%',\n        flexShrink: 0,\n    },\n    secondaryHeading: {\n        fontSize: theme.typography.pxToRem(15),\n        color: theme.palette.text.secondary,\n    },\n    tRoot: {\n        marginBottom: 35,\n    },\n    rang_input: {\n        marginLeft: 10,\n    },\n}));\nfunction Modes(props) {\n    const classes = useStyles();\n    // states\n    const [threshold, set_threshold] = React.useState(props.threshold);\n    //-----------------------------------------------------------------\n    var temp_marks = [];\n    var min=0\n    var max=20\n    var number_marks=10\n    var step = (max - 1) / (number_marks - 1);\n    for (var i = 0; i < number_marks; i++) {\n        temp_marks.push(1 + (step * i));\n    }\n    var marks = temp_marks.map(item => {\n        var myitem = parseInt(item)\n        return { value: myitem, label: myitem }\n    })\n    //console.log(props.marks)\n    //-----------------------------------------------------------------\n    return (\n        <div className=\"rangeslider2\" style={{ marginLeft: 60,marginTop:-28, width: \"100%\", paddingTop: 0 }} >\n            <Typography>\n                Threshold\n            </Typography>\n\n        </div>\n    );\n}\nconst maptstateToprop = (state) => {\n    return {\n        threshold:state.threshold\n    }\n}\nconst mapdispatchToprop = (dispatch) => {\n    return {\n        Set_threshold: (val) => dispatch({ type: \"threshold\", value: val }),\n    }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Modes);\n*/","import React from 'react';\nimport { connect } from \"react-redux\";\nimport Button from '@material-ui/core/Button';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport Radio from '@material-ui/core/Radio';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport Menu from '@material-ui/core/Menu';\nimport Fade from '@material-ui/core/Fade';\nimport * as algo1 from \"../../Algorithms/algo1\";\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\n/*\nChange in year,model selection and state range selection as well \n*/\nfunction Sort(props) {\n    const [anchorEl, setAnchorEl] = React.useState(null);\n    const [sort_by, set_sort_by] = React.useState(props.sort_by);\n    const open = Boolean(anchorEl);\n    const handleClick = (event) => {\n        setAnchorEl(event.currentTarget);\n    };\n    const handleClose = () => {\n        setAnchorEl(null);\n    };\n    const sortModels = (event) => {\n        set_sort_by(event.target.value)\n        if(event.target.value==\"None\"){var val=\"Alphabetically\"}\n        else{var val=event.target.value}\n        props.Set_sort_by(val)\n        var temp_Models = algo1.sort(val, props.state_range, props.default_models, props.selected_year,props.grouped_by_year_data)[0];\n        var default_model_scores = algo1.sort(val, props.state_range, props.default_models, props.selected_year,props.grouped_by_year_data)[1];\n        props.Set_default_model_scores(default_model_scores)\n        props.Set_default_models([...temp_Models])\n      };\n    return (\n        <div className=\"sort\" style={{borderRight:\"1px dashed #eaeaea\",paddingLeft:5}}>\n            <Button aria-controls=\"fade-menu\" aria-haspopup=\"true\" onClick={handleClick}>Select Metrics <ArrowDropDownIcon></ArrowDropDownIcon></Button>\n            <Menu\n                id=\"fade-menu\"\n                anchorEl={anchorEl}\n                keepMounted\n                open={open}\n                onClose={handleClose}\n                TransitionComponent={Fade}\n            >\n            <FormControl component=\"fieldset\">\n                <FormLabel component=\"legend\"></FormLabel>\n                <RadioGroup aria-label=\"gender\" name=\"gender1\" value={sort_by} onChange={sortModels}>\n                    {['Discounted Cumulative Gain', 'Average Precision', 'None'].map((value) => {\n                        return <FormControlLabel value={value} control={<Radio />} label={value} />\n                    })}\n                </RadioGroup>\n            </FormControl>\n            </Menu>\n        </div>\n    );\n}\nconst maptstateToprop = (state) => {\n    return {\n        default_models: state.default_models,\n        sort_by:state.sort_by,\n        state_range: state.state_range,\n        selected_year: state.selected_year,\n        grouped_by_year_data:state.grouped_by_year_data,\n    }\n}\nconst mapdispatchToprop = (dispatch) => {\n    return {\n        Set_sort_by: (val) => dispatch({ type: \"sort_by\", value: val }),\n        Set_default_models: (val) => dispatch({ type: \"default_models\", value: val }),\n        Set_default_model_scores: (val) => dispatch({ type: \"default_model_scores\", value: val }),\n    }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Sort);\n//https://material-ui.com/components/menus/","import React, { Component } from 'react';\n//------------------------------------------------All datasets imports ends here\nimport { Row, Col } from 'reactstrap';\nimport Button from '@material-ui/core/Button';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport * as $ from 'jquery';\nimport { connect } from \"react-redux\";\nimport Grid from '@material-ui/core/Grid';\nimport FeaturesDropdown from \"./FeaturesDropdown\"\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport SelectMode from './SelectMode'\nimport Threshold from './Threshold';\nimport SortModels from './SortModels';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    // mydata is original data\n    this.state = {\n      random: 10,\n      original_data: null, grouped_by_year_data: null, show: [\"Slope charts\", \"Rankings\", \"Explanation\"], view_data: 1,\n      histogram_data: [], ref_year: null, features_dict: {}, features_voted: null, Legend_ready_to_vis: null, legend_model: \"CordAscent\",\n    };\n  }\n  buttonclickHandler = (value, type) => {\n    setTimeout(() => { this.setState({ random: Math.random() }) }, 500);\n    type = \"button\" ? this.props.Set_view_data(value) : null\n    type = \"form\" ? this.setState({ view_data: value }) : null\n  }\n  shouldComponentUpdate() {\n    return true;\n  }\n  render() {\n    return (\n      <div>\n        <Grid container>\n          <ButtonGroup aria-label=\"outlined button group\" style={{marginRight:150,border:'none'}}>\n          <Button style={{borderRadius:0,border:'none',borderRight:'1px solid #bfbfbf'}} onClick={() => this.buttonclickHandler(1, \"button\")}>View Data</Button>\n          <Button style={{borderRadius:0,border:'none', borderRight:'1px solid #bfbfbf'}} onClick={() => this.buttonclickHandler(0, \"button\")}>Load Data</Button>\n          </ButtonGroup>\n          <SelectMode></SelectMode>\n          {this.props.mode==\"Model\"?<FeaturesDropdown></FeaturesDropdown>:null}\n          {this.props.mode==\"Model\"?<SortModels></SortModels>:null}\n          <Threshold></Threshold>\n        </Grid>\n        {this.props.view_data == false ?\n          <Row className=\"Topbar_container\">\n            <div className=\"load\">\n              <form onSubmit={() => this.buttonclickHandler(1, \"form\")}>\n                <FormControl component=\"fieldset\">\n                  <FormLabel component=\"legend\"></FormLabel>\n                  <RadioGroup aria-label=\"gender\" name=\"gender1\" onChange={(event, val) => this.props.handleradioChange(val)}>\n                    {['Fiscal Dataset', 'School Dataset (World)','School Dataset (USA)'].map((value) => {\n                      return <FormControlLabel value={value} control={<Radio />} label={value} />\n                    })}\n                  </RadioGroup>\n                  <Button type=\"submit\" variant=\"outlined\" color=\"primary\">Load</Button>\n                </FormControl>\n              </form>\n            </div></Row>\n          : null}\n      </div>\n    );\n  }\n}\nconst maptstateToprop = (state) => {\n  return {\n    view_data: state.view_data,\n    mode:state.mode,\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_view_data: (val) => dispatch({ type: \"view_data\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(App);","import React, { Component, PureComponent } from 'react';\nimport * as d3 from 'd3';\nimport * as $ from 'jquery';\nimport { connect } from \"react-redux\";\nimport Grid from '@mui/material/Grid';\nimport './legend.scss'\nclass Legend extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {} // This is the default height\n  }\n  componentDidMount() { this.setState({ rand: 10 }) }\n  componentDidUpdate() {\n    var legend_container_width = $('.legend_container').width()\n    var legend_container_height = $('.legend_container').height()\n    //--------------------------- Legend 1\n    var legend1_height = 100\n    var legend1_rScale = d3.scaleLinear().domain(d3.extent(this.props.deviation_array)).range([8, 1])\n    var legend1_yScale = d3.scaleLinear().domain(d3.extent(this.props.deviation_array)).range([8, legend1_height - 5])\n    var legend1_ticks = legend1_yScale.ticks(4)\n    legend1_ticks=legend1_ticks.filter(item=>item % 1 === 0)\n    console.log(legend1_ticks,\"legend1_ticks\")\n    var legend1_svg = d3.select('#legend1').attr('width', legend_container_width).attr('height', legend1_height)\n    legend1_svg.selectAll('.legend1_circles').data(legend1_ticks).join('circle').attr('class', 'legend1_circles').attr('cx', 10).attr('cy', d => legend1_yScale(d)).attr('r', d => legend1_rScale(d)).attr('fill', 'grey')\n    legend1_svg.selectAll('.legend1_text').data(legend1_ticks).join('text').attr('class', 'legend1_text').attr('x', 23).attr('y', d => legend1_yScale(d)).text(d => d).attr('dominant-baseline', 'middle').attr('font-size', 10)\n\n    //--------------------------- Legend 2\n    var min = d3.min(this.props.selected_instances), max = d3.max(this.props.selected_instances);\n    var d = (max - min) / 8;\n    var diverginColor = d3.scaleLinear().domain([min + d * 7, min + d * 6, min + d * 5, min + d * 4, min + d * 3, min + d * 2, min]).interpolate(d3.interpolateRgb).range(['#af8dc3','#b197c1','#dbd88c','#dbd88c', '#dbd88c', '#90bc8d', '#7fbf7b']);\n\n    var legend2_svg_height = legend_container_height / 2 - 50\n\n    var legend2_yScale = d3.scaleLinear().domain([min, max]).range([5, legend2_svg_height - 10])\n    var legend2_ticks = d3.range(min, max + 1, max / 10)\n    var rect_height = legend2_svg_height / legend2_ticks.length\n    var rect_width = 8\n    console.log(legend1_ticks)\n    var legend2_svg = d3.select('#legend2').attr('width', legend_container_width).attr('height', legend2_svg_height)\n    legend2_svg.selectAll('.legend2_rects').data(legend2_ticks).join('rect').attr('class', 'legend2_rects').attr('x', 10)\n    .attr('y', (d, i) => rect_height*i).attr('width', rect_width).attr('height', rect_height).attr('fill', d => diverginColor(d))\n    legend2_svg.selectAll(\".legend2_labels\").data([min, parseInt(max / 2), max]).join(\"text\").attr(\"x\", 10 + rect_width + 2).attr(\"class\", \"legend2_labels\").attr('dominant-baseline', \"middle\").attr('y', (d, i) => i == 0 ? legend2_yScale(d) + rect_height / 2 : legend2_yScale(d)).text(d => d).attr('font-size', 12)\n  }\n\n  render() {\n    return (\n      <Grid className=\"legend_container\" container direction=\"column\" justifyContent=\"center\" alignItems=\"flex-start\" style={{ width: \"100%\", height: \"100%\" }}>\n        <Grid item style={{width:this.props.legend_width}}>\n          <div item style={{ backgroundColor: 'rgb(211, 211, 211,0.5)', padding: 5, marginBottom: 5 }}>\n            <p className=\"title\" style={{ marginBottom: 10 }}> Model Deviation</p>\n            <svg id=\"legend1\"> </svg>\n          </div>\n        </Grid>\n        <Grid item container  style={{width:this.props.legend_width,backgroundColor: 'rgb(211, 211, 211,0.5)', padding: 5 }}>\n            <p className=\"title\" style={{ marginBottom: 10 }}> Rank Range</p>\n            <p style={{ margin:0,fontSize:12 }}>High</p>\n            <svg id=\"legend2\" style={{marginTop:3,marginBottom:0}}> </svg>\n            <p style={{ margin:0,fontSize:12 }}>Low</p>\n        </Grid>\n      </Grid>\n    );\n  }\n}\nconst maptstateToprop = (state) => {\n  return {\n    selected_instances: state.selected_instances,\n    deviation_array: state.deviation_array,\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_legend_year: (val) => dispatch({ type: \"legend_year\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Legend);","import React, { Component } from 'react';\n//------------------------------------------------All datasets imports\nimport fiscal from \"./Data/fiscal.csv\";\nimport school from \"./Data/school.csv\";\nimport house from \"./Data/house.csv\";\nimport rur from \"./Data/RUR/RUR.csv\";\n\nimport fiscal_rank from \"./Data/data/fiscal/lime/fiscal_rank.csv\";\nimport fiscal_lime from \"./Data/data/fiscal/lime/fiscal_lime.csv\";\n\nimport school_rank from \"./Data/data/school/lime/school_rank.csv\";\nimport school_lime from \"./Data/data/school/lime/school_lime.csv\";\n\nimport rur_rank from \"./Data/RUR/RUR_rank.csv\";\nimport rur_lime from \"./Data/RUR/RUR_lime.csv\";\n\n\nimport house_rank from \"./Data/data/house/lime/house_rank.csv\";\nimport house_lime from \"./Data/data/house/lime/house_lime.csv\";\n\n//------------------------------------------------All datasets imports ends here\nimport \"./App.scss\";\nimport * as d3 from 'd3';\nimport * as algo1 from \"./Algorithms/algo1\";\nimport ModelChart from \"./components/Charts/Model/ModelChartComponent\"\nimport RangeChart from \"./components/Charts/Range/01RangeChartComponent\"\nimport YearChart from \"./components/Charts/Time/01YearChartComponent\"\nimport { Row, Col } from 'reactstrap';\nimport * as $ from 'jquery';\nimport { connect } from \"react-redux\";\nimport Grid from '@mui/material/Grid';\nimport Top from './components/Top/Top';\nimport Legend from '../src/components/Legend/Legend'\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    // mydata is original data\n    this.state = {\n      random: 10,\n      original_data: null, grouped_by_year_data: null, show: [\"Slope charts\", \"Rankings\", \"Explanation\"], view_data: 1,\n      histogram_data: [], ref_year: null, features_dict: {}, features_voted: null, Legend_ready_to_vis: null, legend_model: \"CordAscent\",width:window.innerWidth\n    };\n  }\n  componentDidMount() { \n    var self=this\n    this.dataprocessor(this.props.dataset) \n    $(document).keyup(function(e) {\n      if (e.key === \"Escape\") {\n        self.props.Set_clicked_circles([])\n        self.props.Set_clicked_features([])\n     }\n });\n  }\n  //-------------------------------------------------------------------------------------------------------------------- data processor processes data for initial render\n  dataprocessor = (dataset_name) => {\n    if (dataset_name == \"school\") { this.process_data(school, school_rank, school_lime, dataset_name) }\n    if (dataset_name == \"fiscal\") { this.process_data(fiscal, fiscal_rank, fiscal_lime, dataset_name) }\n    if (dataset_name == \"house\") { this.process_data(house, house_rank, house_lime, dataset_name) }\n    if (dataset_name == \"rur\") { this.process_data(rur, rur_rank, rur_lime, dataset_name) }\n  }\n  process_data = (slopechart_data_filename, rank_data_filename, lime_data_filename, dataset_name) => {\n    var self = this\n    //-------------\n    d3.csv(slopechart_data_filename).then(original_data => {\n      var grouped_by_year_data = algo1.groupby_year(original_data).years\n      var sparkline_data = algo1.groupby_year(original_data).sparkline_data\n      var years_for_dropdown = Object.keys(grouped_by_year_data)\n      //console.log(grouped_by_year_data,sparkline_data,years_for_dropdown,'selected_year')\n      self.props.Set_sparkline_data(sparkline_data)\n      self.props.Set_slider_max(grouped_by_year_data[years_for_dropdown[0]].length)\n      self.setState({ years_for_dropdown: years_for_dropdown })\n      self.props.Set_years_for_dropdown(years_for_dropdown)\n      self.props.Set_time_mode_year1(years_for_dropdown[0])\n      self.props.Set_time_mode_year2(years_for_dropdown[1])\n      self.props.Set_legend_year(years_for_dropdown[0])\n      self.setState({ ref_year: years_for_dropdown[0] })\n      self.props.Set_grouped_by_year_data(grouped_by_year_data)\n      self.setState({ grouped_by_year_data: grouped_by_year_data })\n      self.setState({ original_data: original_data })\n      self.props.Set_original_data(original_data)\n      //self.props.Set_selected_year(years_for_dropdown[0])\n    })\n    //-------------\n    d3.csv(rank_data_filename).then(data => {\n      var nested_data = {}\n      d3.nest().key(function (d) { return d.model; }).entries(data).map(item => {\n        nested_data[item.key] = item.values\n      })\n      self.props.Set_rank_data(nested_data)\n    })\n    //-------------\n    d3.csv(lime_data_filename).then(temp_data => {\n\n        var data=temp_data.map(item=>{\n          item['predicted']=parseInt(item['predicted'])\n          item['two_realRank']=parseInt(item['two_realRank'])\n          item['deviation']=Math.abs(item['predicted']-item['two_realRank'])\n          return item\n        })\n      \n\n      var nested_data = {}\n      d3.nest().key(function (d) { return d.model; }).entries(data).map(item => {\n        nested_data[item.key] = item.values\n      })\n      self.props.Set_lime_data(nested_data)\n    })\n  }\n  //-------------------------------------------------------------------------------------------------------------------- data processor processes data for initial render\n\n  handleradioChange = (selected_dataset) => {\n    this.props.Set_rank_data(null)\n    this.props.Set_clicked_items_in_slopechart([])\n    this.props.Set_state_range([1, 25])\n    this.props.Set_histogram_data([])\n    this.props.Set_mode(\"Model\")\n    this.props.Set_range_mode_range1([1, 25])\n    this.props.Set_range_mode_range2([15, 40])\n    this.props.Set_time_mode_range([5, 35])\n    if (selected_dataset == 'Fiscal Dataset') {\n      this.setState({ dataset: 'fiscal' })\n      this.props.Set_dataset('fiscal')\n      this.dataprocessor(\"fiscal\")\n    }\n    else if (selected_dataset == 'House Dataset') {\n      this.setState({ dataset: 'house' })\n      this.props.Set_dataset('house')\n      this.dataprocessor(\"house\")\n    }\n    else if (selected_dataset == 'School Dataset (USA)') {\n      this.setState({ dataset: 'rur' })\n      this.props.Set_dataset('rur')\n      this.dataprocessor(\"rur\")\n      this.props.Set_selected_year(2012)\n    }\n    else {\n      this.setState({ dataset: 'school' })\n      this.props.Set_dataset('school')\n      this.dataprocessor(\"school\")\n    }\n  };\n  render() {\n    var legend_width = 80\n    return (\n      <div className=\"root_container\" style={{ height: window.innerHeight, width: window.innerWidth}}>\n        <div className=\"topBar_root\" style={{ height: 35, width: window.innerWidth}}>\n          <Top handleradioChange={this.handleradioChange}></Top>\n        </div>\n        {this.props.view_data ? <Row>\n          <div style={{ width: window.innerWidth, height: window.innerHeight - $('.topBar_root').height(), padding: \"2px 0px\" }} key={this.props.view_data}>\n            {this.state.view_data == true ?\n              <Grid className=\"charts_and_legend_container\" style={{ height: '100%', width: window.innerWidth, border: \"2px solid grey\"}} container direction=\"row\" justify=\"flex-start\" alignItems=\"center\" >\n                <Grid className=\"charts_container\" style={{ height: '100%', width: window.innerWidth - legend_width }} container spacing={0} direction=\"row\" justify=\"space-evenly\" >\n                  {this.props.mode == \"Model\" && this.state.grouped_by_year_data != null && this.props.original_data != null && this.props.lime_data != null ? <ModelChart></ModelChart> : null}\n                  {this.props.mode == \"Ranges\" && this.state.grouped_by_year_data != null && this.props.original_data != null && this.props.lime_data != null ? <RangeChart></RangeChart> : null}\n                  {this.props.mode == \"Time\" && this.state.grouped_by_year_data != null && this.props.original_data != null && this.props.lime_data != null ? <YearChart></YearChart> : null}\n                </Grid>\n                <div style={{ padding: 0,marginTop:5, height: '100%', width: legend_width-10 }}><Legend legend_width={legend_width}></Legend></div>\n              </Grid> : null}\n          </div>\n        </Row> : null}\n      </div>\n    );\n  }\n}\nconst maptstateToprop = (state) => {\n  return {\n    tracking: state.tracking,\n    state_range: state.state_range,\n    deviate_by: state.deviate_by,\n    default_models: state.default_models,\n    sparkline_data: state.sparkline_data,\n    selected_year: state.selected_year,\n    mode: state.mode,\n    range_mode_model: state.range_mode_model,\n    original_data: state.original_data,\n    time_mode_model: state.time_mode_model,\n    chart_scale_type: state.chart_scale_type,\n    dataset: state.dataset,\n    histogram_data: state.histogram_data,\n    sort_by: state.sort_by,\n    time_mode_year1: state.time_mode_year1,\n    time_mode_year2: state.time_mode_year2,\n    popup_chart_data: state.popup_chart_data,\n    clicked_items_in_slopechart: state.clicked_items_in_slopechart,\n    config: state.config,\n    lime_data: state.lime_data,\n    view_data: state.view_data\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_dataset: (val) => dispatch({ type: \"dataset\", value: val }),\n    Set_default_models: (val) => dispatch({ type: \"default_models\", value: val }),\n    Set_sparkline_data: (val) => dispatch({ type: \"sparkline_data\", value: val }),\n    Set_slider_max: (val) => dispatch({ type: \"slider_max\", value: val }),\n    Set_years_for_dropdown: (val) => dispatch({ type: \"years_for_dropdown\", value: val }),\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: parseInt(val) }),\n    Set_ref_year: (val) => dispatch({ type: \"ref_year\", value: val }),\n    Set_original_data: (val) => dispatch({ type: \"original_data\", value: val }),\n    Set_grouped_by_year_data: (val) => dispatch({ type: \"grouped_by_year_data\", value: val }),\n    Set_slider_and_feature_value: (val) => dispatch({ type: \"slider_and_feature_value\", value: val }),\n    Set_clicked_items_in_slopechart: (val) => dispatch({ type: \"clicked_items_in_slopechart\", value: val }),\n    Set_histogram_data: (val) => dispatch({ type: \"histogram_data\", value: val }),\n    Set_state_range: (val) => dispatch({ type: \"state_range\", value: val }),\n    Set_legend_year: (val) => dispatch({ type: \"legend_year\", value: val }),\n\n    Set_mode: (val) => dispatch({ type: \"mode\", value: val }),\n    Set_range_mode_range1: (val) => dispatch({ type: \"range_mode_range1\", value: val }),\n    Set_range_mode_range2: (val) => dispatch({ type: \"range_mode_range2\", value: val }),\n    Set_time_mode_range: (val) => dispatch({ type: \"time_mode_range\", value: val }),\n    Set_time_mode_year1: (val) => dispatch({ type: \"time_mode_year1\", value: val }),\n    Set_time_mode_year2: (val) => dispatch({ type: \"time_mode_year2\", value: val }),\n\n    Set_rank_data: (val) => dispatch({ type: \"rank_data\", value: val }),\n    Set_lime_data: (val) => dispatch({ type: \"lime_data\", value: val }),\n    Set_pop_over_models: (val) => dispatch({ type: \"pop_over_models\", value: val }),\n    Set_default_model_scores: (val) => dispatch({ type: \"default_model_scores\", value: val }),\n    Set_clicked_circles: (val) => dispatch({ type: \"clicked_circles\", value: val }),\n    Set_clicked_features: (val) => dispatch({ type: \"clicked_features\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(App);","import { createMuiTheme } from '@material-ui/core/styles';\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: \"#7f7f7f\"\n    },\n    secondary: {\n      main: \"#7f7f7f\"\n    }\n  },\n  spacing:3,      \n  typography: {\n    button: {\n      textTransform: 'none'\n    }\n  },\n  overrides:{\n    MuiGrid:{\n      root:{\n        margin:0,\n        padding:0\n      },\n    }\n  }\n});\nexport default theme;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { createStore } from 'redux';\nimport {Provider} from 'react-redux';\nimport reducer from './store/reducer';\nimport theme from './Themes'; \nimport { ThemeProvider } from '@material-ui/styles';\nconst store=createStore(reducer);\nReactDOM.render( <ThemeProvider theme={theme}><Provider store={store}><App /></Provider></ThemeProvider>,document.getElementById('root'));\n\n\n"],"sourceRoot":""}