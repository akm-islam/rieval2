{"version":3,"sources":["Data/data/fiscal/lime/chart1_data.csv","Data/data/school/lime/chart1_data.csv","Data/fiscal.csv","Data/school.csv","Data/house.csv","Data/data/fiscal/lime/fiscal_rank.csv","Data/data/fiscal/lime/fiscal_lime.csv","Data/data/school/lime/school_rank.csv","Data/data/school/lime/school_lime.csv","Data/data/house/lime/house_rank.csv","Data/data/house/lime/house_lime.csv","Data/data/house/lime/chart1_data.csv","Algorithms/algo1.js","components/Charts/misc_algo.js","components/Charts/explanation_chart.js","components/Charts/deviation_chart.js","components/Charts/Sparkline.js","components/Charts/ThresholdSlider.js","components/Charts/Model/ModelSlider.js","components/TopBar/TopBar.js","components/Charts/Model/MDS.js","components/Charts/Model/ExpChart.js","components/Charts/Model/Create_exp_circles.js","components/Charts/Model/ModelChart.js","components/Charts/Range/SliderGroup1.js","components/Charts/Range/SliderGroup2.js","components/Charts/Range/RangeChart.js","components/Charts/Time/YearChart.js","components/Sidebar/Histogram.js","components/Sidebar/HistogramContainer.js","components/Sidebar/Modes.js","components/Sidebar/Sidebar.js","components/Popover/chart_pop.js","components/Popover/FilterModel.js","components/Popover/Popover.js","App.js","store/reducer.js","Themes.js","index.js"],"names":["module","exports","groupby_year","original_data","years","sparkline_data","forEach","element","replace","temp_dict","year","parseInt","rank","push","features_with_score","dataset","models","state_range","selected_year","number_of_charts","rank_data","temp1","temp_final","key","map","model","temp2","v","top_nine","length","items","data","feautures","tempvoted_data_with_score","data2","filter","index","Object","keys","item","feauture","parseFloat","sort","first","second","items2","sorted_features","i","key2","handle_transparency","class_name","clicked_circles","anim_config","console","log","d3","attr","circle_id","CreatexpChart","parent_id","selected_instances","lime_data","defualt_models","Set_clicked_circles","diverginColor","clicked_features","Set_clicked_features","margin","parent_width","$","width","parent_height","height","item_width","item_height","parent_svg","selectAll","join","d","text","enter","append","svg_index","this","includes","update","transition","duration","feature_animation","delay","rank_animation","deviation_animation","exit","remove","Create_deviation_chart","parent_exp_id","average","Set_selected_year","threshold","div","style","temp_scale_data","Math","abs","config","space_for_state_name","fontSize","font_dy","sparkline_width","font_line_gap","line_stroke_width","animation_duration","container_height","my_svg_top_margin","myg_top_margin","y_distance","circle_radius","dd","val","substring","parent","s_margin","s_width","s_height","s_svg","x","domain","range","datum","y0","y","y1","raise","on","preventDefault","Create_sparkline","data_for_all_years","line_data","model_name","a","temp_max","sclale1","d2","temp","circ_data","classed","html","pageX","pageY","useStyles","makeStyles","theme","root","heading","typography","pxToRem","flexBasis","flexShrink","secondaryHeading","color","palette","secondary","tRoot","marginBottom","rang_input","marginLeft","connect","state","dispatch","Set_threshold","type","value","props","React","useState","set_threshold","temp_marks","marks","myitem","label","className","marginTop","paddingTop","Typography","Slider","onChange","event","newValue","onChangeCommitted","valueLabelDisplay","min","max","aria-labelledby","mode","slider_max","range_mode_model","range_mode_range1","range_mode_range2","time_mode_model","time_mode_range","time_mode_year1","time_mode_year2","years_for_dropdown","slider_and_feature_value","sort_by","grouped_by_year_data","Set_state_range","Set_changed","classes","sliderRange","set_sliderRange","step","border","padding","TextField","input","id","isNaN","target","alert","xs","Button","backgroundColor","onClick","MuiAutocompleteroot","listroot","maxWidth","paper","fontWeight","fontWeightRegular","all_models","selected_years","tracking","prev_prop","replay","clicked_items_in_slopechart","average_m","add","set_tracking","Set_histogram_data","Set_slider_max","Set_range_mode_range1","Set_range_mode_range2","Set_time_mode_range","Set_pop_over_models","Set_defualt_models","Set_default_model_scores","Set_average_m","handle_model_click","display","Create_MDS","mds_id","temp_lime_data_label","temp_lime_data_mds","feature_arr","dist_matrix","temp_arr","j","eucDistance","mds_data","distances","dimensions","M","numeric","mean","A","apply","rowMeans","colMeans","totalMean","ret","eigenValues","S","U","row","splice","mds_classic","circle_data","w","h","xScale","r","yScale","svg","circles","lasso","d3lasso","closePathSelect","closePathDistance","targetArea","possibleItems","notPossibleItems","selected_ids","selectedItems","each","notSelectedItems","call","b","reduce","sum","now","SlopeChart","line_color","exp_h","mouseX","mouseY","setState","window","innerHeight","prevProps","prevState","self","histogram_data","under_threshold_instances","year_data","two_realRank","predicted_rank","interpolate","algo1","entries","slice","selection","symbolTypes","feature_name","feature_contrib_name","sum_data","my_mean","circle_animation","CreatexpCircle","Component","deviate_by","chart_scale_type","show","default_model_scores","average_y","Set_prev_prop","Set_sparkline_data","Set_clicked_items_in_slopechart","Set_replay","height_slope_exp_chart","deviation_chart","misc_algo","boxShadow","class","minWidth","paddingRight","overflow","ExpChart","range_mode_slider_value1","set_range_mode_slider_value1","Grid","container","direction","justify","alignItems","range_mode_slider_value2","set_range_mode_slider_value2","explanation_chart","selected_instances2","features_with_score2","sorted_features2","justifyContent","paddingLeft","borderBottom","SliderGroup1","marginRight","SliderGroup2","CreateChart","feature","node","feature_height","handleHistogramselection","feature_data","feature_width","occur","sum_x","cScale","interpolator","svg1","statelist","country","cat_states","temp_x","tick_values","nice","ticks","hist_height","bins","thresholds","histogram","y_hist","svg0","x0","x1","tickValues","tickFormat","selectionRect","previousElement","currentY","currentX","originX","originY","setElement","ele","getNewAttributes","getCurrentAttributes","x2","y2","getCurrentAttributesAsText","attrs","init","newX","newY","rectElement","NewAttr","focus","removePrevious","dragBehavior","p","finalAttributes","myx1","myx2","temp_range","invert","toFixed","states","Chart","selected_states","update_histogram_data","filtered_states","myRef","createRef","feaures_dict","features_voted","filename","exp_fiscal_CordAscent","exp_school_CordAscent","exp_house_CordAscent","then","features_dict","feature_index","feature_id","setTimeout","Set_years_for_dropdown","Set_mode","Set_range_mode_model","Set_time_mode_model","Set_time_mode_year1","Set_time_mode_year2","Set_slider_and_feature_value","borderTop","Autocomplete","borderRadius","paddingBottom","defaultValue","debug","options","renderInput","params","fullWidth","InputProps","disableUnderline","Set_ref_year","Set_original_data","Set_deviate_by","Set_show","view_data","HistogramContainer","toString","Sidebar_width","scatterplot_data","feature_contribute","temp_y","myid","tickSize","select","color_gen","String","textClickHandler_original","CreateChart_cat","barplot_data","values","bandwidth","popup_chart_data","merged_arr","concat","pop_over_models","reduced_opacity","idName","anchorEl","setAnchorEl","open","Boolean","checked","setChecked","handleToggle","currentIndex","indexOf","newChecked","aria-controls","aria-haspopup","currentTarget","Menu","keepMounted","onClose","TransitionComponent","Fade","List","labelId","ListItem","role","undefined","Checkbox","edge","tabIndex","temp_Models","checkboxChanged","pop_over","dbclicked_features","set_pop_over","set_dbclicked_features","set_clicked_features","position","top","left","pointerEvents","FilterModel","maxHeight","App","handleradioChange","Set_dataset","dataprocessor","task2","state_name","dataset_name","process_data","school","school_rank","school_lime","fiscal","fiscal_rank","fiscal_lime","house","house_rank","house_lime","slopechart_data_filename","rank_data_filename","lime_data_filename","Set_legend_year","ref_year","Set_grouped_by_year_data","nested_data","Set_rank_data","Set_lime_data","buttonclickHandler","random","makeArr","startValue","stopValue","arr","Legend_ready_to_vis","legend_model","Row","Col","innerWidth","minHeight","spacing","borderRight","onSubmit","FormControl","component","FormLabel","RadioGroup","aria-label","name","FormControlLabel","control","Radio","variant","ModelChart","RangeChart","YearChart","Popover","initialState","appHandleChange","slope_chart_ready_to_vis","slider_min","cmodel","dummy","legend_show_option","legend_year","reducer","action","drag_drop_feautre_data","changed","createMuiTheme","button","textTransform","store","createStore","ReactDOM","render","ThemeProvider","document","getElementById"],"mappings":"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","file":"static/js/main.6e0e639c.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/chart1_data.bbc13ad4.csv\";","module.exports = __webpack_public_path__ + \"static/media/chart1_data.e95760f9.csv\";","module.exports = __webpack_public_path__ + \"static/media/fiscal.977bae2d.csv\";","module.exports = __webpack_public_path__ + \"static/media/school.2d2c77ef.csv\";","module.exports = __webpack_public_path__ + \"static/media/house.88979d03.csv\";","module.exports = __webpack_public_path__ + \"static/media/fiscal_rank.442b3a04.csv\";","module.exports = __webpack_public_path__ + \"static/media/fiscal_lime.f2a69dd9.csv\";","module.exports = __webpack_public_path__ + \"static/media/school_rank.a78bd499.csv\";","module.exports = __webpack_public_path__ + \"static/media/school_lime.221df987.csv\";","module.exports = __webpack_public_path__ + \"static/media/house_rank.e66c7c0d.csv\";","module.exports = __webpack_public_path__ + \"static/media/house_lime.66415f13.csv\";","module.exports = __webpack_public_path__ + \"static/media/chart1_data.81e362e3.csv\";","export function groupby_year(original_data) {\r\n  var years = {}\r\n  var sparkline_data = {}\r\n  original_data.forEach(element => {\r\n    years[element['1-qid']] = []\r\n    sparkline_data[element['State'].replace(/ /g, '').replace(/[^\\w\\s]/gi, '')] = []\r\n  });\r\n\r\n  original_data.forEach(element => {\r\n    var temp_dict = { year: parseInt(element['1-qid']), rank: parseInt(element['two_realRank']) }\r\n    sparkline_data[element['State'].replace(/ /g, '').replace(/[^\\w\\s]/gi, '')].push(temp_dict)\r\n    years[element['1-qid']].push(element)\r\n  });\r\n  return { years: years, sparkline_data: sparkline_data };\r\n}\r\nexport function features_with_score(dataset, models, state_range, selected_year, number_of_charts, rank_data) {\r\n  var temp1 = {}\r\n  var temp_final = {}\r\n  models.map(model => {\r\n    var temp2 = {}\r\n    var v = number_of_charts;\r\n    var top_nine = sorted_features(dataset, model, state_range, selected_year,rank_data)\r\n    if (top_nine.length < number_of_charts) { v = top_nine.length;; number_of_charts = top_nine.length } // This is because number of charts is calculated based on space but there are cases when we don't have that many features\r\n    for (var i = 0; i < number_of_charts; i++) {\r\n      temp2[top_nine[i]] = v;\r\n      v = v - 1\r\n    }\r\n    temp1[model] = temp2\r\n  });\r\n\r\n  for (var key in temp1) {\r\n    for (var key2 in temp1[key]) {\r\n      if (temp_final[key2] > 0) {\r\n\r\n        temp_final[key2] = temp_final[key2] + temp1[key][key2]\r\n      }\r\n      else {\r\n        temp_final[key2] = temp1[key][key2]\r\n      }\r\n    }\r\n  }\r\n  return temp_final;\r\n}\r\n\r\n\r\nexport function sorted_features(dataset, model, state_range, selected_year,rank_data) { // Uses feature rank to rank and return features name by removing the feature_rank string\r\n  if (!state_range.length > 0) { return [] }\r\n  state_range = state_range.map(element => element - 1)\r\n  var tempvoted_data_with_score = {},items,data,feautures;\r\n\r\n  if (model == \"ListNet\") { return [] }\r\n  var data2 = rank_data[model].filter(element => { if (parseInt(element['1-qid']) == parseInt(selected_year)) { return element } })\r\n  data = state_range.map(index => data2[index])\r\n  feautures = Object.keys(data[0])\r\n\r\n  data.map(item => {\r\n    feautures.forEach(feauture => {\r\n      if (tempvoted_data_with_score[feauture] >= 0 || tempvoted_data_with_score[feauture] < 0) {\r\n        tempvoted_data_with_score[feauture] = tempvoted_data_with_score[feauture] + (parseFloat(item[feauture]))\r\n      }\r\n      else { tempvoted_data_with_score[feauture] = parseFloat(item[feauture]) }\r\n    })\r\n  })\r\n  //-----------------------------------------------------------------\r\n  // Create items array\r\n  items = Object.keys(tempvoted_data_with_score).map(function (key) {\r\n    return [key, tempvoted_data_with_score[key]];\r\n  });\r\n  // Sort the array based on the second element\r\n  items.sort(function (first, second) {\r\n    return first[1] - second[1];\r\n  });\r\n  var items2 = items.map((element) => element[0].replace(\"_feature_rank\", \"\"))\r\n  items2 = items2.filter(item => item != \"1-qid\" && item!=\"model\")\r\n  return items2;\r\n  //-----------------------------------------------------------------\r\n}\r\n","import * as d3 from 'd3';\r\nexport function handle_transparency(class_name, clicked_circles, anim_config) {\r\n    console.log(clicked_circles)\r\n    if (clicked_circles.length != 0) { // If there are no clicked circles make all opacity 1\r\n        d3.selectAll(\".items\").attr('opacity', 0.6) // Groups\r\n        d3.selectAll(\".\" + \"my_circles\").attr('opacity', 0.3) // Circles\r\n        clicked_circles.map(circle_id => {\r\n            d3.selectAll(\".\" + circle_id).attr('opacity', 1) // Groups\r\n            d3.selectAll(\"#\" + circle_id).attr('opacity', 1) // Circles\r\n        })\r\n    }\r\n    else {\r\n        d3.selectAll(\".items\").attr('opacity', 1); // Groups\r\n        d3.selectAll(\".\" + \"my_circles\").attr('opacity', 1) // Circles \r\n    }\r\n}\r\nexport function draw_lines(clicked_circles, diverginColor) {\r\n   \r\n}","\r\nimport * as d3 from 'd3';\r\nimport * as $ from 'jquery';\r\nimport * as misc_algo from './misc_algo'\r\nimport Create_lasso_circles from \"./lasso_circle\"\r\nexport function CreatexpChart(parent_id, selected_instances, sorted_features, lime_data, selected_year, defualt_models, clicked_circles, Set_clicked_circles, diverginColor, anim_config, clicked_features, Set_clicked_features) {\r\n  //Create_lasso_circles(parent_id,lime_data,defualt_models,selected_year,selected_instances,sorted_features,diverginColor,Set_clicked_circles)\r\n  //----------------\r\n  var margin = { item_top_margin: 15, right: 14, bottom: 0, left: 20, circ_radius: 5, item_left_margin: 25, item_right_margin: 3 }\r\n  var parent_width = $(\"#\" + parent_id).width() - margin.item_left_margin\r\n  var parent_height = $(\"#\" + parent_id).height() - margin.item_top_margin * 2\r\n  var item_width = parent_width / sorted_features.length - margin.item_right_margin\r\n  var item_height = parent_height\r\n  var parent_svg = d3.select(\"#\" + parent_id)\r\n  // Draw ++ --\r\n  parent_svg.selectAll(\".ylabels\").data([[.125, \"++\"], [.375, \"+\"], [.5, \"0\"], [.625, \"-\"], [.875, \"--\"]]).join('text').attr('class', 'ylabels').attr(\"y\", d => d[0] * item_height).attr(\"x\", margin.item_left_margin - 5).attr('text-anchor', 'end').attr('dominant-baseline', 'hanging').text(d => d[1]).attr(\"font-size\", 14).attr('fill', \"#636363\")\r\n  // Add title rectangle, title text and rectangles around each feature\r\n  parent_svg.selectAll('.feature_g').data(sorted_features, d => d[0]).join(\r\n    enter => enter.append('g').attr('class', 'feature_g').attr('transform', (d, svg_index) => \"translate(\" + (margin.item_left_margin + item_width * svg_index + (margin.item_right_margin * svg_index)) + \",0)\").attr('x_transformation', (d, svg_index) => (margin.item_left_margin + item_width * svg_index + (margin.item_right_margin * svg_index)))\r\n      .attr(\"id\", d => d[0].replace(/[^\\w\\s]/gi, ''))\r\n      .attr('add_title_rect', function (d) { d3.select(this).selectAll('.title_rect').data([0]).join('rect').attr('class', 'title_rect').attr('width', item_width + 2).attr('x', -1).attr('height', margin.item_top_margin).attr('fill', '#d1d1d1') })\r\n      .attr('add_title_text', function (d, svg_index) { d3.select(this).selectAll(\".title_text\").data([0]).join('text').attr('class', 'title_text').text(d[0]).attr('y', 0).attr('dominant-baseline', 'hanging').attr(\"font-size\", 12).attr('x', 10).attr('text-anchor', 'start') })\r\n      .attr('add_item_rect', function (d, svg_index) { d3.select(this).selectAll('.item_rect').data([0]).join('rect').attr('class', 'item_rect').attr('width', item_width).attr('height', item_height).attr('y', margin.item_top_margin).attr('fill', clicked_features.includes(d[0]) ? \"#F8FDB8\" : '#f2f2f2').attr('fill-opacity', 1).attr('stroke', '#b2b0b0') })\r\n      .attr('svg_index', (d, svg_index) => svg_index)\r\n      .attr('add_contrib_lines', function (d, svg_index) {\r\n        d3.select(this).selectAll(\".mylines\").data([[.25], [.5], [.75]]).join('line').attr('class', 'mylines')\r\n          .attr('x1', 0).attr('x2', item_width)\r\n          .attr('y1', d => d * (item_height + margin.item_top_margin)).attr('y2', d => d * (item_height + margin.item_top_margin)).attr('stroke-width', 1).attr(\"stroke\", \"#bababa\")\r\n      })\r\n    , update => {\r\n      //parent_svg.selectAll('.feature_g').attr('opacity',0.5)\r\n      //update.attr('opacity',1)\r\n      return update.transition().duration(anim_config.feature_animation).delay(anim_config.rank_animation + anim_config.deviation_animation).attr('transform', (d, svg_index) => \"translate(\" + (margin.item_left_margin + item_width * svg_index + (margin.item_right_margin * svg_index)) + \",0)\").attr('x_transformation', (d, svg_index) => (margin.item_left_margin + item_width * svg_index + (margin.item_right_margin * svg_index)))\r\n        .attr(\"id\", d => d[0].replace(/[^\\w\\s]/gi, ''))\r\n        .attr('svg_index', (d, svg_index) => svg_index)\r\n        .attr('add_title_rect', function (d) { d3.select(this).selectAll('.title_rect').data([0]).join('rect').attr('class', 'title_rect').attr('width', item_width + 2).attr('x', -1).attr('height', margin.item_top_margin).attr('fill', '#d1d1d1') })\r\n        .attr('add_title_text', function (d, svg_index) { d3.select(this).selectAll(\".title_text\").data([0]).join('text').attr('class', 'title_text').text(d[0]).attr('y', 0).attr('dominant-baseline', 'hanging').attr(\"font-size\", 12).attr('x', 10).attr('text-anchor', 'start') })\r\n        .attr('add_item_rect', function (d, svg_index) { d3.select(this).selectAll('.item_rect').data([0]).join('rect').attr('class', 'item_rect').attr('width', item_width).attr('height', item_height).attr('y', margin.item_top_margin).attr('fill', clicked_features.includes(d[0]) ? \"#F8FDB8\" : '#f2f2f2').attr('fill-opacity', 1).attr('stroke', '#b2b0b0') })\r\n        //Add circles and lines to divide the rectangle\r\n        .attr('add_contrib_lines', function (d, svg_index) {\r\n          d3.select(this).selectAll(\".mylines\").data([[.25], [.5], [.75]]).join('line').attr('class', 'mylines')\r\n            .attr('x1', 0).attr('x2', item_width)\r\n            .attr('y1', d => d * (item_height + margin.item_top_margin)).attr('y2', d => d * (item_height + margin.item_top_margin)).attr('stroke-width', 1).attr(\"stroke\", \"#bababa\")\r\n        })\r\n    }\r\n    , exit => exit.remove())\r\n  //---------------------------------------------------------------------------------------------------------------------------------------------------\r\n}\r\n\r\nexport function CreatexpCircle(parent_id, selected_instances, sorted_features, lime_data, selected_year, defualt_models, clicked_circles, Set_clicked_circles, diverginColor, anim_config, clicked_features, Set_clicked_features) {\r\n  \r\n}","import * as d3 from 'd3';\r\nimport * as $ from 'jquery';\r\nimport Create_sparkline from \"./Sparkline\"\r\nexport function Create_deviation_chart(parent_id,parent_exp_id, selected_instances, original_data, defualt_models, anim_config, selected_year, average, clicked_circles, Set_clicked_circles, diverginColor,sparkline_data,Set_selected_year,dataset,threshold) {\r\n  var div = d3.select(\"body\").selectAll('.tooltip').data([0]).join(\"div\").attr(\"class\", \"tooltip\").style(\"opacity\", 0);\r\n  var parent_width = $(\"#\" + parent_id).width() - 5\r\n  var data = original_data.filter(item => selected_year==item['1-qid'] && selected_instances.includes(parseInt(item['two_realRank'])))\r\n  var temp_scale_data = []\r\n  data.map(item => { defualt_models.map(model => temp_scale_data.push(Math.abs(parseInt(item[model]) - parseInt(item['two_realRank'])))) })\r\n  // font_line_gap=sparkline_width+4\r\n  var config = { space_for_state_name: 120,fontSize: 12, font_dy: -6, sparkline_width:20,font_line_gap: 24, line_stroke_width: 10, animation_duration: 0, container_height: 100, my_svg_top_margin: 10, myg_top_margin: 10 }\r\n  var y_distance = config.line_stroke_width + 2\r\n  var circle_radius = config.line_stroke_width / 2\r\n  var parent_g = d3.select(\"#\" + parent_id).attr('height', y_distance + data.length * y_distance)\r\n    .selectAll(\".parent_g\").data([0]).join('g').attr('class', 'parent_g').attr('transform', \"translate(\" + 0 + \",13)\")\r\n  var items_g = parent_g.selectAll(\".items\").data(data, d => d['State']).join(enter => enter.append(\"g\").attr(\"class\", \"items\")\r\n    .attr('transform', (d, i) => \"translate(\" + config.space_for_state_name + \",\" + i * y_distance + \")\")\r\n    , update => update.transition().duration(anim_config.rank_animation).attr('transform', (d, i) => \"translate(\" + config.space_for_state_name + \",\" + i * y_distance + \")\")\r\n    , exit => exit.remove()\r\n  )\r\n  items_g.attr(\"add_state\", function (d) {\r\n    d3.select(this).selectAll(\"text\").data([d]).join('text')\r\n    .text(dd=>{\r\n      var max_textsize=15\r\n      var val = d['State']\r\n          if (val.length > max_textsize) { val = val.replace(\"University\", \"U\") }\r\n          if(val.length > max_textsize){val = val.substring(0, max_textsize)+\"..\"}\r\n          return val + \" \" + d['two_realRank'] \r\n    })\r\n    .attr('fill', d => diverginColor(d['two_realRank'])).attr(\"dominant-baseline\", \"hanging\").attr(\"font-size\", config.fontSize)\r\n      .attr(\"x\", 0).attr('text-anchor', 'end').attr(\"dy\", config.font_dy)\r\n  }).attr(\"add_sparkline\", function (d) {\r\n    // sparkline height is y_distance\r\n    if(dataset!='house'){Create_sparkline(d3.select(this),config,y_distance,sparkline_data,d,diverginColor,selected_year,Set_selected_year)}\r\n  })\r\n    .attr(\"add_lines_and_circles\", function (d) {\r\n      var data_for_all_years = data.filter(item => d['two_realRank'] == parseInt(item['two_realRank']))\r\n      var line_data = []\r\n      defualt_models.map(model_name => {\r\n        data_for_all_years.map(item => {\r\n          var a = {}\r\n          a['two_realRank'] = parseInt(item['two_realRank'])\r\n          a['predicted_rank'] = parseInt(item[model_name])\r\n          a[\"model\"] = model_name\r\n          a['year'] = item['1-qid']\r\n          line_data.push(a)\r\n        })\r\n      })\r\n      // This is only for scaling starts here\r\n      var temp_scale_data = []\r\n      data.map(item => { defualt_models.map(model => temp_scale_data.push(Math.abs(parseInt(item[model]) - parseInt(item['two_realRank'])))) })\r\n      var temp_max = d3.max(temp_scale_data)\r\n      var sclale1 = d3.scaleLinear().domain([0, temp_max]).range([config.font_line_gap, parent_width - (config.space_for_state_name + circle_radius)])\r\n      if (temp_max == 0) { var sclale1 = d3.scaleLinear().domain([0, temp_max]).range([config.font_line_gap, 0]) }\r\n      // This is only for scaling ends here\r\n      d3.select(this).selectAll(\"line\").data([d]).join(enter => enter.append('line')\r\n        .attr(\"x1\", config.font_line_gap).attr(\"y1\", (d, i) => y_distance * i).attr(\"y2\", (d, i) => y_distance * i).attr(\"stroke-width\", config.line_stroke_width).attr(\"stroke\", \"#cecece\").attr(\"x2\", (d2) => {\r\n          var temp = []\r\n          line_data.map(item => temp.push(Math.abs(item[\"predicted_rank\"] - item[\"two_realRank\"])))\r\n          return sclale1(d3.max(temp))\r\n        })\r\n        // Update\r\n        , update => update.transition().duration(anim_config.deviation_animation).delay(anim_config.rank_animation).attr(\"x2\", (d2) => {\r\n          var temp = []\r\n          line_data.map(item => temp.push(Math.abs(item[\"predicted_rank\"] - item[\"two_realRank\"])))\r\n          return sclale1(d3.max(temp))\r\n        }))\r\n      // ------------ Circles start here\r\n      var data_for_all_years = data.filter(item => d['two_realRank'] == parseInt(item['two_realRank']))\r\n      var circ_data = []\r\n      defualt_models.map(model_name => {\r\n        data_for_all_years.map(item => {\r\n          var a = {}\r\n          a['two_realRank'] = parseInt(item['two_realRank'])\r\n          a['predicted_rank'] = parseInt(item[model_name])\r\n          a[\"model\"] = model_name\r\n          a['year'] = item['1-qid']\r\n          a['id'] =item['State'].replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\") + model_name.replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\")\r\n          circ_data.push(a)\r\n        })\r\n      })\r\n      var my_circs = d3.select(this).selectAll(\".my_circles\").data(circ_data, d => d['id']).join(\r\n        enter => enter.append(\"circle\").attr('id', d => d['id']).attr('class', 'my_circles').attr(\"cx\", (d2, i) => {\r\n          d3.select(this).classed(d2['id'], true)\r\n          if (d2[\"predicted_rank\"] - d2['two_realRank'] == 0) { return sclale1(Math.abs(d2[\"predicted_rank\"] - d2['two_realRank'])) + circle_radius }\r\n          return sclale1(Math.abs(d2[\"predicted_rank\"] - d2['two_realRank']))\r\n        })\r\n        // Update\r\n        , update => update.transition().duration(anim_config.deviation_animation).delay(anim_config.rank_animation).attr(\"cx\", (d2, i) => {\r\n          d3.select(this).classed(d2['id'], true)\r\n          if (d2[\"predicted_rank\"] - d2['two_realRank'] == 0) { return sclale1(Math.abs(d2[\"predicted_rank\"] - d2['two_realRank'])) + circle_radius }\r\n          return sclale1(Math.abs(d2[\"predicted_rank\"] - d2['two_realRank']))\r\n        })\r\n      )\r\n      my_circs.attr(\"r\", circle_radius).attr('fill', d => diverginColor(d['two_realRank'])).attr(\"parent_id\", parent_exp_id)\r\n        .on('click', d => Set_clicked_circles(clicked_circles.includes(d['id']) ? clicked_circles.filter(item => item != d['id']) : [...clicked_circles, d['id']]))\r\n        .on(\"mouseover\", function (d2) {\r\n          div.transition().duration(200).style(\"opacity\", .9);\r\n          div.html(\"Year : \" + d2[\"year\"] + \"<br></br>\" + \"Model: \" + d2[\"model\"] + \"<br></br>\" + \"Deviation: \" + Math.abs(d2[\"predicted_rank\"] - d2['two_realRank']))\r\n          .style(\"left\", (d3.event.pageX - 140) + \"px\").style(\"top\", (d3.event.pageY - 98) + \"px\");\r\n        }).on(\"mouseout\", function (d2) {\r\n          //d3.select(this).classed(d2['id'],true)\r\n          div.transition()\r\n            .duration(500)\r\n            .style(\"opacity\", 0);\r\n        })\r\n\r\n    })\r\n\r\n}","import * as d3 from 'd3';\r\nexport default function Create_sparkline(parent, config, y_distance, sparkline_data, d, diverginColor, selected_year, Set_selected_year) { // sparkline height is y_distance\r\n    var year = selected_year\r\n    var s_margin = { top: 0, right: 0, bottom: 0, left: 4 },\r\n        s_width = config.sparkline_width - 2,\r\n        s_height = y_distance - 5;\r\n    var s_svg = parent.selectAll(\".sparkline_svg\").data([0]).join(\"svg\").attr(\"class\", \"sparkline_svg\").attr(\"x\", 2).attr(\"y\", -3)\r\n        .attr(\"width\", s_width + s_margin.left + s_margin.right)\r\n        .attr(\"height\", s_height + s_margin.top + s_margin.bottom)\r\n    \r\n    var data = sparkline_data[d['State'].replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\")]\r\n    // Add X axis  \r\n    var x = d3.scaleLinear().domain(d3.extent(data, function (d) { return d.year; })).range([0, s_width]);\r\n    //-----------------------------------------------------------------------------------------------------------------------------------------Add the area\r\n    s_svg.selectAll(\"path\").remove()\r\n    s_svg.append(\"path\")\r\n        .datum(data, d => d)\r\n        .attr(\"id\", \"A\")\r\n        .attr(\"opacity\", 1)\r\n        .attr(\"fill\", diverginColor(d['two_realRank'])) //#969696\r\n        .attr(\"stroke\", diverginColor(d['two_realRank']))\r\n        .attr(\"stroke-width\", (d) => {\r\n            return 1.5\r\n        })\r\n        .attr(\"d\", d3.area()\r\n            .x(function (d) { return x(d.year) })\r\n            .y0(function () {\r\n                var y = d3.scaleLinear().domain([0, d3.max(data, function (d) { return +d.rank; })]).range([s_height, 0]);\r\n                return y(0)\r\n            })\r\n            .y1(function (d) {\r\n                var y = d3.scaleLinear().domain([0, d3.max(data, function (d) { return +d.rank; })]).range([0, s_height]);\r\n                return y(d.rank)\r\n            })\r\n        )\r\n    //------------Circles\r\n    s_svg.selectAll('circle').raise().data(data).join('circle')\r\n        .attr('cx', function (d, i) { return x(d.year) })\r\n        .attr('cy', s_height - 2)\r\n        .attr(\"class\", \"myid\")\r\n        .on(\"mouseover\", function (d) {\r\n            d3.select(this).style('fill', 'black')\r\n            d3.select(this).attr('r', 3)\r\n        })\r\n        .style('fill', (d) => d.year != year ? 'transparent' : 'black')\r\n        .attr('class', (d) => d.year != year ? 'transparent_class' : 'red_class')\r\n        .attr('r', 2)\r\n        .on('dblclick', (d, i) => {\r\n            d3.event.preventDefault();\r\n            Set_selected_year(d.year)\r\n        })\r\n        .on(\"mouseout\", function (d) {\r\n            d3.select(this).style('fill', 'transparent')\r\n            d3.select(this).style('fill', d.year != year ? 'transparent' : 'black')\r\n            d3.select(this).attr('r', 2)\r\n        })\r\n}","import React from 'react';\r\nimport \"./Sliders.scss\";\r\nimport Slider from '@material-ui/core/Slider';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { connect } from \"react-redux\";\r\nimport Typography from '@material-ui/core/Typography';\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: '100%',\r\n    },\r\n    heading: {\r\n        fontSize: theme.typography.pxToRem(15),\r\n        flexBasis: '33.33%',\r\n        flexShrink: 0,\r\n    },\r\n    secondaryHeading: {\r\n        fontSize: theme.typography.pxToRem(15),\r\n        color: theme.palette.text.secondary,\r\n    },\r\n    tRoot: {\r\n        marginBottom: 35,\r\n    },\r\n    rang_input: {\r\n        marginLeft: 10,\r\n    },\r\n}));\r\nfunction Modes(props) {\r\n    const classes = useStyles();\r\n    // states \r\n    const [threshold, set_threshold] = React.useState(props.threshold);\r\n    //-----------------------------------------------------------------\r\n    var temp_marks = [];\r\n    var min=0\r\n    var max=20\r\n    var number_marks=10\r\n    var step = (max - 1) / (number_marks - 1);\r\n    for (var i = 0; i < number_marks; i++) {\r\n        temp_marks.push(1 + (step * i));\r\n    }\r\n    var marks = temp_marks.map(item => {\r\n        var myitem = parseInt(item)\r\n        return { value: myitem, label: myitem }\r\n    })\r\n    //console.log(props.marks)\r\n    //-----------------------------------------------------------------\r\n    return (\r\n        <div className=\"rangeslider2\" style={{ marginLeft: 60,marginTop:-28, width: \"100%\", paddingTop: 0 }} >\r\n            <Typography>\r\n                Threshold\r\n            </Typography>\r\n            <Slider value={threshold} onChange={(event, newValue) => set_threshold(newValue)} onChangeCommitted={(event, newValue) => props.Set_threshold(newValue)}\r\n                valueLabelDisplay=\"auto\" min={min} max={max} aria-labelledby=\"input-slider\" marks={marks}\r\n            />\r\n        </div>\r\n    );\r\n}\r\nconst maptstateToprop = (state) => {\r\n    return {\r\n        threshold:state.threshold\r\n    }\r\n}\r\nconst mapdispatchToprop = (dispatch) => {\r\n    return {\r\n        Set_threshold: (val) => dispatch({ type: \"threshold\", value: val }),\r\n    }\r\n}\r\nexport default connect(maptstateToprop, mapdispatchToprop)(Modes);","import React from 'react';\r\nimport \"../Sliders.scss\";\r\nimport * as $ from 'jquery';\r\nimport Slider from '@material-ui/core/Slider';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { connect } from \"react-redux\";\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from \"@material-ui/core/Button\";\r\nimport ThresholdSlider from '../ThresholdSlider';\r\nimport './ModelSlider.scss';\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: '100%',\r\n    },\r\n    heading: {\r\n        fontSize: theme.typography.pxToRem(15),\r\n        flexBasis: '33.33%',\r\n        flexShrink: 0,\r\n    },\r\n    secondaryHeading: {\r\n        fontSize: theme.typography.pxToRem(15),\r\n        color: theme.palette.text.secondary,\r\n    },\r\n    tRoot: {\r\n        marginBottom: 35,\r\n    },\r\n    rang_input: {\r\n        marginLeft: 10,\r\n    },\r\n}));\r\nfunction Modes(props) {\r\n    const classes = useStyles();\r\n    // states \r\n    const [sliderRange, set_sliderRange] = React.useState(props.state_range);\r\n    //-----------------------------------------------------------------\r\n    var temp_marks = [];\r\n    var step = (props.slider_max - 1) / (6 - 1);\r\n    for (var i = 0; i < 6; i++) {\r\n        temp_marks.push(1 + (step * i));\r\n    }\r\n    var marks = temp_marks.map(item => {\r\n        var myitem = parseInt(item)\r\n        return { value: myitem, label: myitem }\r\n    })\r\n    //console.log(props.marks)\r\n    //-----------------------------------------------------------------\r\n    return (\r\n        <div className=\"Modelslider\" style={{height: 70, width: \"100%\",\r\n            paddingTop: 30, border: \"2px solid rgb(178, 178, 178,0.5)\"\r\n        }} >\r\n            <div className=\"lower\" style={{ padding: \"0px 0px\", marginTop: -20 }}>\r\n                <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Lower\" value={sliderRange[0]} style={{ width: \"100%\" }}\r\n                    onChange={event => {\r\n                        if (isNaN(parseInt(event.target.value))) {\r\n                            set_sliderRange([\"\", sliderRange[1]])\r\n                        } else {\r\n                            if (event.target.value > sliderRange[1]) {\r\n                                alert(\"Lower range can not be larger than the upper range\")\r\n                            }\r\n                            else {\r\n                                set_sliderRange([event.target.value, sliderRange[1]])\r\n                            }\r\n                        }\r\n                    }\r\n                    }\r\n                />\r\n            </div>\r\n            <div className=\"slider\" style={{width: \"100%\", margin: \"0px 0px\" }}>\r\n                <Slider value={sliderRange} onChange={(event, newValue) => set_sliderRange(newValue)} onChangeCommitted={(event, newValue) => props.Set_changed(\"range\")}\r\n                    valueLabelDisplay=\"auto\" aria-labelledby=\"range-slider\" valueLabelDisplay=\"on\" min={1} max={props.slider_max} marks={marks}\r\n                />\r\n            </div>\r\n            <div className=\"upper\" style={{ padding: \"0px 0px\", marginTop: -20 }}>\r\n                <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Upper\" value={sliderRange[1]} style={{ width: \"100%\" }}\r\n                    onChange={event => {\r\n                        if (isNaN(parseInt(event.target.value))) {\r\n                            set_sliderRange([sliderRange[0], \"\"])\r\n                        } else {\r\n                            if (parseInt(event.target.value) > props.slider_max) {\r\n                                alert(\"Upper range can not exceed maximum\")\r\n                                set_sliderRange([sliderRange[0], props.slider_max])\r\n                            }\r\n                            else {\r\n                                set_sliderRange([sliderRange[0], parseInt(event.target.value)])\r\n                            }\r\n                        }\r\n                    }\r\n                    }\r\n                />\r\n            </div>\r\n            <div className=\"button\" item xs=\"2\" style={{ marginTop: -10 }}>\r\n                <Button className=\"range_button\" style={{ backgroundColor: \"#ededed\", height: 30 }}\r\n                    onClick={() => {\r\n                        props.Set_state_range(sliderRange)\r\n                    }}\r\n                >Update range</Button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nconst maptstateToprop = (state) => {\r\n    return {\r\n        selected_year: state.selected_year,\r\n        state_range: state.state_range,\r\n        mode: state.mode, // Model mode model\r\n        slider_max: state.slider_max,\r\n        range_mode_model: state.range_mode_model, // Range mode model\r\n        range_mode_range1: state.range_mode_range1,\r\n        range_mode_range2: state.range_mode_range2,\r\n        time_mode_model: state.time_mode_model, // Time mode model\r\n        time_mode_range: state.time_mode_range,\r\n        time_mode_year1: state.time_mode_year1,\r\n        time_mode_year2: state.time_mode_year2,\r\n        years_for_dropdown: state.years_for_dropdown,\r\n        dataset: state.dataset,\r\n        defualt_models: state.defualt_models,\r\n        slider_and_feature_value: state.slider_and_feature_value,\r\n        sort_by: state.sort_by,\r\n        grouped_by_year_data: state.grouped_by_year_data\r\n    }\r\n}\r\nconst mapdispatchToprop = (dispatch) => {\r\n    return {\r\n        Set_state_range: (val) => dispatch({ type: \"state_range\", value: val }),\r\n        Set_changed: (val) => dispatch({ type: \"changed\", value: val }),\r\n    }\r\n}\r\nexport default connect(maptstateToprop, mapdispatchToprop)(Modes);","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport \"./TopBar.scss\";\r\nimport { connect } from \"react-redux\";\r\nconst useStyles = makeStyles((theme) => ({\r\n  MuiAutocompleteroot: {\r\n    marginTop: 0,\r\n  },\r\n  root: {\r\n    width: '100%',\r\n  },\r\n  listroot: {\r\n    width: '100%',\r\n    maxWidth: 360,\r\n  },\r\n  paper: {\r\n  },\r\n  heading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n    fontWeight: theme.typography.fontWeightRegular,\r\n  },\r\n}));\r\nfunction TopBar(props) {\r\n  const classes = useStyles();\r\n  const handleyearChange = (event, value, reason) => {\r\n    if (reason == 'select-option') {\r\n      props.Set_selected_year(value)\r\n      var myfunc = props.appHandleChange\r\n      myfunc(value, \"year_changed\")\r\n    }\r\n  };\r\n  var handle_year_click = (year) => {\r\n    props.Set_selected_year(year)\r\n  }\r\n  var handle_model_click=(model)=>{\r\n    if(model==\"All\"){props.Set_defualt_models([...props.all_models])}\r\n    else if(model==\"Average\"){props.Set_average_m(!props.average_m)}\r\n    else{\r\n      if (props.defualt_models.includes(model)) {\r\n        props.Set_defualt_models(props.defualt_models.filter(item=>item!=model))\r\n      }\r\n      else {\r\n        props.Set_defualt_models([...props.defualt_models,model])\r\n      }  \r\n    }\r\n  }\r\n  return (\r\n    <div style={{width:\"100%\",marginBottom:2}}>\r\n    <div><h5 style={{ display: \"inline-block\", marginLeft: 0,fontSize:14 }}>Years:</h5>{props.years_for_dropdown.map(item => <p className={props.selected_years.includes(item) ? \"years_p_selected years_p\" : \"years_p\"} onClick={() => handle_year_click(item)}>{item}</p>)}</div>\r\n    <div><h5 style={{ display: \"inline-block\", marginLeft: 0,fontSize:14}}>Models:</h5>{props.all_models.map(item => <p className={props.defualt_models.includes(item) ? \"years_p_selected years_p\" : \"years_p\"} onClick={() => handle_model_click(item)}>{item}</p>)}<p className=\"years_p\" style={{ display: \"inline-block\"}} onClick={() => handle_model_click(\"All\")}>All</p> <p className={props.average_m ? \"years_p_selected years_p\" : \"years_p\"} style={{ display: \"inline-block\"}} onClick={() => handle_model_click(\"Average\")}>Average</p></div>\r\n    </div>\r\n  );\r\n}\r\nconst maptstateToprop = (state) => {\r\n  return {\r\n    all_models:state.all_models,\r\n    selected_years: state.selected_years,\r\n    tracking: state.tracking,\r\n    selected_year: state.selected_year,\r\n    years_for_dropdown: state.years_for_dropdown,\r\n    defualt_models: state.defualt_models,\r\n    mode: state.mode,\r\n    prev_prop: state.prev_prop,\r\n    state_range: state.state_range,\r\n    replay: state.replay,\r\n    grouped_by_year_data: state.grouped_by_year_data,\r\n    clicked_items_in_slopechart: state.clicked_items_in_slopechart,\r\n    range_mode_range1: state.range_mode_range1,\r\n    range_mode_range2: state.range_mode_range2,\r\n    time_mode_range: state.time_mode_range,\r\n    mode: state.mode, // Model mode model\r\n    sort_by: state.sort_by,\r\n    average_m:state.average_m\r\n\r\n  }\r\n}\r\nconst mapdispatchToprop = (dispatch) => {\r\n  return {\r\n    add: (val) => dispatch({ type: \"add\", value: val }),\r\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: val }),\r\n    set_tracking: (val) => dispatch({ type: \"tracking\", value: val }),\r\n    Set_histogram_data: (val) => dispatch({ type: \"histogram_data\", value: val }),\r\n    Set_changed: (val) => dispatch({ type: \"changed\", value: val }),\r\n    Set_state_range: (val) => dispatch({ type: \"state_range\", value: val }),\r\n    Set_slider_max: (val) => dispatch({ type: \"slider_max\", value: val }),\r\n    Set_range_mode_range1: (val) => dispatch({ type: \"range_mode_range1\", value: val }),\r\n    Set_range_mode_range2: (val) => dispatch({ type: \"range_mode_range2\", value: val }),\r\n    Set_time_mode_range: (val) => dispatch({ type: \"time_mode_range\", value: val }),\r\n    Set_pop_over_models: (val) => dispatch({ type: \"pop_over_models\", value: val }),\r\n    Set_defualt_models: (val) => dispatch({ type: \"defualt_models\", value: val }),\r\n    Set_default_model_scores: (val) => dispatch({ type: \"default_model_scores\", value: val }),\r\n    Set_average_m: (val) => dispatch({ type: \"average_m\", value: val }),\r\n  }\r\n}\r\nexport default connect(maptstateToprop, mapdispatchToprop)(TopBar);\r\n\r\n//https://material-ui.com/api/slider/\r\n//https://material-ui.com/components/expansion-panels/\r\n//https://material-ui.com/api/checkbox/\r\n//https://material-ui.com/components/radio-buttons/","import * as d3 from 'd3';\r\nimport * as $ from 'jquery';\r\nimport * as d3lasso from 'd3-lasso';\r\nimport * as numeric from \"numeric\"\r\nexport default function Create_MDS(parent_id,mds_id, lime_data, model_name, selected_year, selected_instances, sorted_features, diverginColor, Set_clicked_circles) {\r\n    // Create mds starts here\r\n    var temp_lime_data_label = []\r\n    var temp_lime_data_mds = []\r\n    var model_lime_data = lime_data[model_name]\r\n    model_lime_data.map(item => {\r\n        var temp = []\r\n        if (item['1-qid'] == selected_year && selected_instances.includes(parseInt(item['two_realRank']))) {\r\n            temp_lime_data_label.push({ \"model\": item[\"model\"], \"State\": item['State'], \"1-qid\": item['1-qid'], 'two_realRank': parseInt(item['two_realRank']) })\r\n            sorted_features.map(feature_arr => temp.push(parseFloat(item[feature_arr[0]+'_contribution'])))\r\n            temp_lime_data_mds.push(temp)\r\n        }\r\n    })\r\n    //----------------------------------------------------------------------\r\n    var dist_matrix = []\r\n    for (var i = 0; i < temp_lime_data_mds.length; i++) {\r\n        var temp_arr = []\r\n        for (var j = 0; j < temp_lime_data_mds.length; j++) {\r\n            temp_arr.push(eucDistance(temp_lime_data_mds[i], temp_lime_data_mds[j]))\r\n        }\r\n        dist_matrix.push(temp_arr)\r\n    }\r\n    var mds_data = mds_classic(dist_matrix)\r\n    //---------------------------------------------------------------------------\r\n    var circle_data = []\r\n    temp_lime_data_label.map((item, index) => {\r\n        item['x'] = mds_data[index][0]\r\n        item['y'] = mds_data[index][1]\r\n        item['id'] = item['State'].replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\") + item[\"model\"].replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\")\r\n        circle_data.push(item)\r\n    })\r\n    // Create mds ends here\r\n    var margin = { item_top_margin: 15, right: 14, bottom: 0, left: 20, circ_radius: 5, item_left_margin: 25, item_right_margin: 3 }\r\n    var w = $(mds_id).width() - margin.item_left_margin\r\n    var h = $(mds_id).height() - margin.item_top_margin * 2\r\n    var r = 5;\r\n    var xScale = d3.scaleLinear().domain(d3.extent(circle_data.map(item => item['x']))).range([r * 2, w - r * 2])\r\n    var yScale = d3.scaleLinear().domain(d3.extent(circle_data.map(item => item['y']))).range([r * 2, h - r * 2])\r\n\r\n    var svg = d3.select(mds_id).style(\"border\", \"1px solid #eaeaea\")\r\n\r\n    var circles = svg.selectAll(\"circle\")\r\n        .data(circle_data)\r\n        .join(\"circle\")\r\n        .attr(\"cx\", d => xScale(d['x']))\r\n        .attr(\"cy\", d => yScale(d['y']))\r\n        .attr(\"r\", r)\r\n        .attr(\"fill\", d => diverginColor(d[\"two_realRank\"]))\r\n        .attr('id', d => d['id'])\r\n        .attr('class', 'my_circles')\r\n    // Lasso functions\r\n    var lasso_start = function () {\r\n        lasso.items()\r\n            .attr(\"r\", 5) // reset size\r\n            .classed(\"not_possible\", true)\r\n            .classed(\"selected\", false);\r\n    };\r\n\r\n    var lasso_draw = function () {\r\n        // Style the possible dots\r\n        lasso.possibleItems()\r\n            .classed(\"not_possible\", false)\r\n            .classed(\"possible\", true);\r\n\r\n        // Style the not possible dot\r\n        lasso.notPossibleItems()\r\n            .classed(\"not_possible\", true)\r\n            .classed(\"possible\", false);\r\n    };\r\n\r\n    var lasso_end = function () {\r\n        var selected_ids = []\r\n        lasso.selectedItems().each(function () {\r\n            selected_ids.push(d3.select(this).attr(\"id\"))\r\n        })\r\n        Set_clicked_circles(selected_ids)\r\n        // Reset the color of all dots\r\n        lasso.items()\r\n            .classed(\"not_possible\", false)\r\n            .classed(\"possible\", false);\r\n\r\n        // Style the selected dots\r\n        lasso.selectedItems()\r\n            .classed(\"selected\", true)\r\n            .attr(\"r\", 6);\r\n\r\n        // Reset the style of the not selected dots\r\n        lasso.notSelectedItems()\r\n            .attr(\"r\", 5);\r\n\r\n    };\r\n    var lasso = d3lasso.lasso()\r\n        .closePathSelect(true)\r\n        .closePathDistance(100)\r\n        .items(circles)\r\n        .targetArea(svg)\r\n        .on(\"start\", lasso_start)\r\n        .on(\"draw\", lasso_draw)\r\n        .on(\"end\", lasso_end);\r\n    svg.call(lasso);\r\n}\r\nfunction mds_classic(distances, dimensions) {\r\n    dimensions = dimensions || 2;\r\n    // square distances\r\n    var M = numeric.mul(-0.5, numeric.pow(distances, 2));\r\n    // double centre the rows/columns\r\n    function mean(A) { return numeric.div(numeric.add.apply(null, A), A.length); }\r\n    var rowMeans = mean(M),\r\n        colMeans = mean(numeric.transpose(M)),\r\n        totalMean = mean(rowMeans);\r\n    for (var i = 0; i < M.length; ++i) {\r\n        for (var j = 0; j < M[0].length; ++j) {\r\n            M[i][j] += totalMean - rowMeans[i] - colMeans[j];\r\n        }\r\n    }\r\n    // take the SVD of the double centred matrix, and return the\r\n    // points from it\r\n    var ret = numeric.svd(M),\r\n        eigenValues = numeric.sqrt(ret.S);\r\n    return ret.U.map(function (row) {\r\n        return numeric.mul(row, eigenValues).splice(0, dimensions);\r\n    });\r\n\r\n};\r\nfunction eucDistance(a, b) {\r\n    return a\r\n        .map((x, i) => Math.abs(x - b[i]) ** 2) // square the difference\r\n        .reduce((sum, now) => sum + now) // sum\r\n        ** (1 / 2)\r\n}\r\n\r\n","import React, { Component } from 'react';\r\nimport * as d3 from 'd3';\r\nimport { connect } from \"react-redux\";\r\nimport * as algo1 from \"../../../Algorithms/algo1\";\r\nimport * as $ from 'jquery';\r\nimport Create_MDS from \"./MDS\"\r\nimport CreatexpCircle from \"./Create_exp_circles\"\r\n\r\nclass SlopeChart extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.line_color = null;\r\n    this.state = { exp_h: 150, mouseX: 0, mouseY: 0 }\r\n  }\r\n  componentDidMount() { this.setState({ width: window.innerHeight }) }\r\n  componentDidUpdate(prevProps, prevState) {\r\n    var self = this\r\n    var selected_instances = d3.range(this.props.state_range[0], this.props.state_range[1] + 1)\r\n    if (this.props.histogram_data.length > 0) { selected_instances = this.props.histogram_data }\r\n    //------------------------------\r\n    var under_threshold_instances = []\r\n    var year_data = this.props.original_data.filter(item => this.props.selected_year == item['1-qid'])\r\n    this.props.defualt_models.map(model_name => {\r\n      year_data.map(item => {\r\n        var two_realRank = parseInt(item['two_realRank'])\r\n        var predicted_rank = parseInt(item[model_name])\r\n        if (Math.abs(predicted_rank - two_realRank) > this.props.threshold) {\r\n          under_threshold_instances.push(two_realRank)\r\n        }\r\n      })\r\n    })\r\n    selected_instances = selected_instances.filter(item => !under_threshold_instances.includes(item))\r\n    //------------------------------\r\n    var min = d3.min(selected_instances), max = d3.max(selected_instances);\r\n    var d = (max - min) / 8;\r\n    var diverginColor = d3.scaleLinear().domain([min + d * 7, min + d * 6, min + d * 5, min + d * 4, min + d * 3, min + d * 2, min]).interpolate(d3.interpolateRgb).range(['#00429d', '#4771b2', '#73a2c6', '#a5d5d8', /*'#ffffe0',*/ '#ffbcaf', '#f4777f', '#cf3759', '#93003a']);\r\n    var number_of_charts = 9\r\n    var features_with_score = algo1.features_with_score(this.props.dataset, [this.props.model_name], selected_instances, this.props.selected_year, number_of_charts, this.props.rank_data)\r\n    var sorted_features = Object.entries(features_with_score).sort((a, b) => b[1] - a[1]).slice(0, number_of_charts + 1)\r\n\r\n    //------------------------------\r\n    var marginTop = 30;\r\n    var item_width = parseInt($(\"#all_features_container\" + this.props.model_name).width())\r\n    var item_height = parseInt($(\"#all_features_container\" + this.props.model_name).height()) / sorted_features.length - marginTop\r\n\r\n    var feature_containers=d3.select(\"#all_features_container\" + this.props.model_name).selectAll(\".feature_items\").data(sorted_features, d => d[0])\r\n      .join(enter =>\r\n        enter.append(\"svg\")\r\n          .attr(\"class\", \"feature_items\").attr('width', item_width).attr(\"height\", item_height).style(\"border\", \"1px solid #bcbcbc\")\r\n          //.on(\"click\", d => console.log(d[0]))\r\n          .attr(\"style\", \"outline: thin solid #eaeaea;\")\r\n          .attr(\"y\", (d, i) => marginTop + i * (item_height + marginTop))\r\n        , update => update.transition().duration(2000).attr(\"y\", (d, i) => marginTop + i * (item_height + marginTop))\r\n        , exit => exit.remove()\r\n      )\r\n      feature_containers.attr(\"CreatexpCircle\", function (d) {\r\n        CreatexpCircle(d, d3.select(this), selected_instances, sorted_features, self.props.lime_data, \r\n        self.props.selected_year, [self.props.model_name], \r\n        self.props.clicked_circles, self.props.Set_clicked_circles,\r\n          diverginColor, self.props.anim_config, self.props.Set_clicked_circles, self.props.Set_clicked_features, self.props.symbolTypes, item_width, item_height)\r\n      })\r\n\r\n    d3.select(\"#all_features_container\" + this.props.model_name).selectAll(\".title_text\").data(sorted_features).join(\r\n      enter => enter.append('text').attr(\"class\", \"title_text\").attr('x', item_width / 2).text((d, i) => d[0]).attr(\"dominant-baseline\", \"hanging\")\r\n        .attr(\"y\", (d, i) => i * (item_height + marginTop) + 7).attr('text-anchor', 'middle').attr('font-size',12)\r\n        ,update=>update.transition().duration(2000).attr(\"y\", (d, i) => i * (item_height + marginTop) + 7).text((d, i) => d[0])\r\n        ,exit=>exit.remove()\r\n        )\r\n\r\n\r\n    //------------------------------\r\n    Create_MDS(\"mds_parent\", \"#mds\" + this.props.model_name, this.props.lime_data, this.props.model_name, this.props.selected_year, selected_instances, sorted_features, diverginColor, this.props.Set_clicked_circles)\r\n    //------------------------------\r\n  }\r\n  render() {\r\n    var item_width = parseInt($(\".exp_parent\").width()) / this.props.defualt_models.length\r\n    return (\r\n      <div className={\"exp\" + this.props.model_name} style={{ width: item_width, \"border\": \"2px solid #bcbcbc\", padding: \"2px 10px\" }}>\r\n        <p style={{ margin: 0, padding: 0, marginLeft: \"45%\" }}>{this.props.model_name}</p>\r\n        <svg id={\"mds\" + this.props.model_name} style={{ margin: 0, width: \"100%\", height: this.state.exp_h }}></svg>\r\n        <svg id={\"all_features_container\" + this.props.model_name} style={{ marginTop: 5, width: \"100%\", height: parseInt($(\".exp_parent\").height()) - this.state.exp_h }}> </svg>\r\n      </div>\r\n    )\r\n  }\r\n}\r\nconst maptstateToprop = (state) => {\r\n  return {\r\n    state_range: state.state_range,\r\n    selected_year: state.selected_year,\r\n    deviate_by: state.deviate_by,\r\n    clicked_items_in_slopechart: state.clicked_items_in_slopechart,\r\n    tracking: state.tracking,\r\n    defualt_models: state.defualt_models,\r\n    original_data: state.original_data,\r\n    time_mode_model: state.time_mode_model,\r\n    chart_scale_type: state.chart_scale_type,\r\n    features_with_score: state.features_with_score,\r\n    dataset: state.dataset,\r\n    histogram_data: state.histogram_data,\r\n    sparkline_data: state.sparkline_data,\r\n    dataset: state.dataset,\r\n    anim_config: state.anim_config,\r\n    show: state.show,\r\n    default_model_scores: state.default_model_scores,\r\n    average_m: state.average_m,\r\n    average_y: state.average_y,\r\n    lime_data: state.lime_data,\r\n    features_with_score: state.features_with_score,\r\n    rank_data: state.rank_data,\r\n    clicked_circles: state.clicked_circles,\r\n    clicked_features: state.clicked_features,\r\n    threshold: state.threshold\r\n  }\r\n}\r\nconst mapdispatchToprop = (dispatch) => {\r\n  return {\r\n    Set_clicked_circles: (val) => dispatch({ type: \"clicked_circles\", value: val }),\r\n    Set_prev_prop: (val) => dispatch({ type: \"prev_prop\", value: val }),\r\n    Set_sparkline_data: (val) => dispatch({ type: \"sparkline_data\", value: val }),\r\n    Set_clicked_items_in_slopechart: (val) => dispatch({ type: \"clicked_items_in_slopechart\", value: val }),\r\n    Set_replay: (val) => dispatch({ type: \"replay\", value: val }),\r\n    Set_clicked_features: (val) => dispatch({ type: \"clicked_features\", value: val }),\r\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: val }),\r\n  }\r\n}\r\nexport default connect(maptstateToprop, mapdispatchToprop)(SlopeChart);","import * as d3 from \"d3\";\nexport default function CreatexpCircle(d, selection, selected_instances, sorted_features, \n    lime_data, selected_year, defualt_models, clicked_circles, Set_clicked_circles, diverginColor, anim_config,\n    clicked_features, Set_clicked_features, symbolTypes, item_width, item_height) {\n    var margin = { item_top_margin: 6, item_bottom_margin: 6, circ_radius: 5, item_left_margin: 6, item_right_margin: 6 }\n    var feature_name = d[0]\n    var feature_contrib_name = d[0] + \"_contribution\"\n\n    var circ_data = []\n    var sum_data = []\n    defualt_models.map(model => {\n        lime_data[model].map(item => {\n            if (item['1-qid'] == selected_year && selected_instances.includes(parseInt(item['two_realRank']))) {\n                sum_data.push(parseFloat(item[feature_contrib_name]))\n                item['id'] = item['State'].replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\") + model.replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\")\n                circ_data.push(item)\n            }\n        })\n    })\n    // Draw circle starts here\n    var yScale = d3.scaleLinear().domain([d3.min(circ_data.map(item => parseFloat(item[d[0]]))), d3.max(circ_data.map(item => parseFloat(item[d[0]])))])\n        .range([margin.item_top_margin, item_height - margin.item_bottom_margin])\n    var xScale = d3.scaleLinear().domain([d3.min(circ_data.map(item => parseFloat(item[feature_contrib_name]))), d3.max(circ_data.map(item => parseFloat(item[feature_contrib_name])))])\n        .range([margin.item_left_margin, item_width - margin.item_right_margin])\n\n    //----------\n    var my_mean = d3.mean(sum_data)\n    //----------\n    selection.selectAll(\".myline\").data([0]).join(\"line\").attr(\"class\",\"myline\").attr(\"x1\",xScale(my_mean)).attr(\"x2\",xScale(my_mean)).attr(\"y1\",0).attr(\"y2\",item_height).attr('stroke',\"#d6d6d6\").attr('stroke-width',1)\n\n    var mycircles = selection.selectAll(\".my_circles\").data(circ_data, d => d['id']).join(\n        enter => enter.append('circle')\n            .attr('id', d => d['id'])\n            .attr('class', d => 'my_circles')\n            .attr('fill', d => diverginColor(d['two_realRank']))\n            .attr(\"transform\", function (d, i) {\n                var x_transform = xScale(parseFloat(d[feature_contrib_name]))\n                var y_transform = yScale(parseFloat(d[feature_name]))\n                return \"translate(\" + x_transform + \",\" + y_transform + \")\";\n            })\n            .attr(\"r\", 5)\n        // Update\n        , update => update.attr('class', d => d['id'] + ' items circle2 my_circles')\n            .transition().duration(anim_config.circle_animation).delay(anim_config.rank_animation + anim_config.deviation_animation + anim_config.feature_animation)\n            .attr(\"transform\", function (d, i) {\n                var x_transform = xScale(parseFloat(d[feature_contrib_name]))\n                var y_transform = yScale(parseFloat(d[feature_name]))\n                return \"translate(\" + x_transform + \",\" + y_transform + \")\";\n            })\n            .attr('id', d => d['id'])\n        , exit => exit.remove())\n    mycircles.on('click', d=>{\n        console.log(d['id'],clicked_circles)\n        Set_clicked_circles(clicked_circles.includes(d['id']) ? clicked_circles.filter(item => item != d['id']) : [...clicked_circles, d['id']])\n    }\n    )\n    // Draw circle ends here\n\n\n}","import React, { Component } from 'react';\r\nimport * as d3 from 'd3';\r\nimport * as explanation_chart from \"../explanation_chart\";\r\nimport { connect } from \"react-redux\";\r\nimport Grid from '@material-ui/core/Grid';\r\nimport * as algo1 from \"../../../Algorithms/algo1\";\r\nimport * as deviation_chart from \"../deviation_chart\"\r\nimport * as misc_algo from '../misc_algo'\r\nimport * as $ from 'jquery';\r\nimport ModelSlider from './ModelSlider';\r\nimport TopBar from \"../../TopBar/TopBar\"\r\nimport ExpChart from './ExpChart';\r\nimport './ModelSlider.scss';\r\n\r\nclass SlopeChart extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.line_color = null;\r\n    this.state = { height_slope_exp_chart: 700, mouseX: 0, mouseY: 0 }\r\n  }\r\n  componentDidMount() { this.setState({ width: window.innerHeight }) }\r\n  shouldComponentUpdate(prevProps, prevState) { return true; }\r\n  componentDidUpdate(prevProps, prevState) {\r\n    var selected_instances = d3.range(this.props.state_range[0], this.props.state_range[1] + 1)\r\n    if (this.props.histogram_data.length > 0) { selected_instances = this.props.histogram_data }\r\n    //--------------------\r\n    var under_threshold_instances = []\r\n    var year_data = this.props.original_data.filter(item => this.props.selected_year == item['1-qid'])\r\n    this.props.defualt_models.map(model_name => {\r\n      year_data.map(item => {\r\n        var two_realRank = parseInt(item['two_realRank'])\r\n        var predicted_rank = parseInt(item[model_name])\r\n        if (Math.abs(predicted_rank - two_realRank) > this.props.threshold) {\r\n          under_threshold_instances.push(two_realRank)\r\n        }\r\n      })\r\n    })\r\n    selected_instances = selected_instances.filter(item => !under_threshold_instances.includes(item))\r\n    //--------------------\r\n    var min = d3.min(selected_instances), max = d3.max(selected_instances);\r\n\r\n    var d = (max - min) / 8;\r\n    var diverginColor = d3.scaleLinear().domain([min + d * 7, min + d * 6, min + d * 5, min + d * 4, min + d * 3, min + d * 2, min]).interpolate(d3.interpolateRgb).range(['#00429d', '#4771b2', '#73a2c6', '#a5d5d8', /*'#ffffe0',*/ '#ffbcaf', '#f4777f', '#cf3759', '#93003a']);\r\n    var number_of_charts = 9\r\n    //algo1.features_with_score(this.props.dataset, this.props.defualt_models, selected_instances, this.props.selected_year,number_of_charts,this.props.rank_data)\r\n    var features_with_score = algo1.features_with_score(this.props.dataset, this.props.defualt_models, selected_instances, this.props.selected_year, number_of_charts, this.props.rank_data)\r\n    var sorted_features = Object.entries(features_with_score).sort((a, b) => b[1] - a[1]).slice(0, 18)\r\n\r\n    deviation_chart.Create_deviation_chart('dev_plot_container', 'exp', selected_instances, this.props.original_data, this.props.defualt_models, this.props.anim_config, this.props.selected_year, this.props.average_m, this.props.clicked_circles, this.props.Set_clicked_circles, diverginColor, this.props.sparkline_data, this.props.Set_selected_year, this.props.dataset, this.props.threshold)\r\n    misc_algo.handle_transparency(\"circle2\", this.props.clicked_circles, this.props.anim_config)\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"ModelChartParent\" style={{backgroundColor: 'white', margin: 2, padding: 2, border: \"2px solid grey\", width: \"100%\", boxShadow: \"-2px 1px 4px -1px white\" }}>\r\n        <div class=\"dev_parent\" style={{display: \"inline-block\", minWidth: 405, width: \"22%\", paddingRight: 3, backgroundColor: \"#fcfcfc\", height: ($(\".ModelChartParent\").height()), overflow: \"scroll\" }}>\r\n          <TopBar></TopBar>\r\n          <ModelSlider></ModelSlider>\r\n          <svg id=\"dev_plot_container\" style={{ width: \"100%\", height: \"100%\", marginBottom: 10 }}></svg>\r\n        </div>\r\n\r\n        <div class=\"exp_parent\" style={{ width: \"78%\"}}>\r\n      {\r\n        this.props.defualt_models.map(model_name=>{\r\n          return <ExpChart model_name={model_name}></ExpChart>\r\n        })\r\n      }\r\n      </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\nconst maptstateToprop = (state) => {\r\n  return {\r\n    state_range: state.state_range,\r\n    selected_year: state.selected_year,\r\n    deviate_by: state.deviate_by,\r\n    clicked_items_in_slopechart: state.clicked_items_in_slopechart,\r\n    tracking: state.tracking,\r\n    defualt_models: state.defualt_models,\r\n    original_data: state.original_data,\r\n    time_mode_model: state.time_mode_model,\r\n    chart_scale_type: state.chart_scale_type,\r\n    features_with_score: state.features_with_score,\r\n    dataset: state.dataset,\r\n    histogram_data: state.histogram_data,\r\n    sparkline_data: state.sparkline_data,\r\n    dataset: state.dataset,\r\n    anim_config: state.anim_config,\r\n    show: state.show,\r\n    default_model_scores: state.default_model_scores,\r\n    average_m: state.average_m,\r\n    average_y: state.average_y,\r\n    lime_data: state.lime_data,\r\n    features_with_score: state.features_with_score,\r\n    rank_data: state.rank_data,\r\n    clicked_circles: state.clicked_circles,\r\n    clicked_features: state.clicked_features,\r\n    threshold: state.threshold\r\n  }\r\n}\r\nconst mapdispatchToprop = (dispatch) => {\r\n  return {\r\n    Set_clicked_circles: (val) => dispatch({ type: \"clicked_circles\", value: val }),\r\n    Set_prev_prop: (val) => dispatch({ type: \"prev_prop\", value: val }),\r\n    Set_sparkline_data: (val) => dispatch({ type: \"sparkline_data\", value: val }),\r\n    Set_clicked_items_in_slopechart: (val) => dispatch({ type: \"clicked_items_in_slopechart\", value: val }),\r\n    Set_replay: (val) => dispatch({ type: \"replay\", value: val }),\r\n    Set_clicked_features: (val) => dispatch({ type: \"clicked_features\", value: val }),\r\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: val }),\r\n  }\r\n}\r\nexport default connect(maptstateToprop, mapdispatchToprop)(SlopeChart);","import React from 'react';\r\nimport \"../Sliders.scss\";\r\nimport * as $ from 'jquery';\r\nimport Slider from '@material-ui/core/Slider';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { connect } from \"react-redux\";\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: '100%',\r\n    },\r\n    heading: {\r\n        fontSize: theme.typography.pxToRem(15),\r\n        flexBasis: '33.33%',\r\n        flexShrink: 0,\r\n    },\r\n    secondaryHeading: {\r\n        fontSize: theme.typography.pxToRem(15),\r\n        color: theme.palette.text.secondary,\r\n    },\r\n    tRoot: {\r\n        marginBottom: 35,\r\n    },\r\n    rang_input: {\r\n        marginLeft: 10,\r\n    },\r\n}));\r\nfunction Modes(props) {\r\n    const classes = useStyles();\r\n    // states \r\n    const [range_mode_slider_value1, set_range_mode_slider_value1] = React.useState(props.range_mode_range1);\r\n    //-----------------------------------------------------------------\r\n    var temp_marks = [];\r\n    var step = (props.slider_max - 1) / (6 - 1);\r\n    for (var i = 0; i < 6; i++) {\r\n        temp_marks.push(1 + (step * i));\r\n    }\r\n    var marks = temp_marks.map(item => {\r\n        var myitem = parseInt(item)\r\n        return { value: myitem, label: myitem }\r\n    })\r\n    //console.log(props.marks)\r\n    //-----------------------------------------------------------------\r\n    return (\r\n        <div className=\"rangeslider\" style={{ width:\"95%\",marginTop:30 }} >\r\n                    <Slider\r\n                        value={range_mode_slider_value1}\r\n                        onChange={(event, newValue) => set_range_mode_slider_value1(newValue)}\r\n                        onChangeCommitted={(event, newValue) => props.Set_changed(\"range\")}\r\n                        valueLabelDisplay=\"auto\"\r\n                        aria-labelledby=\"range-slider\"\r\n                        valueLabelDisplay=\"on\"\r\n                        min={1}\r\n                        max={props.slider_max}\r\n                        marks={marks}\r\n                    />\r\n                    <Grid style={{ marginBottom: 15 }} container\r\n                        direction=\"row\"\r\n                        justify=\"space-around\"\r\n                        alignItems=\"center\">\r\n                            {\r\n                                /*\r\n                        <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Lower\" value={range_mode_slider_value1[0]} style={{ width: 40 }}\r\n                            onChange={event => {\r\n                                if (isNaN(parseInt(event.target.value))) {\r\n                                    set_range_mode_slider_value1([\"\", range_mode_slider_value1[1]])\r\n                                } else {\r\n                                    if (event.target.value > range_mode_slider_value1[1]) {\r\n                                        alert(\"Lower range can not be larger than the upper range\")\r\n                                    }\r\n                                    else {\r\n                                        set_range_mode_slider_value1([event.target.value, range_mode_slider_value1[1]])\r\n                                    }\r\n                                }\r\n                            }\r\n                            }\r\n                        />\r\n                        <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Upper\" value={range_mode_slider_value1[1]} style={{ width: 40 }}\r\n                            onChange={event => {\r\n                                if (isNaN(parseInt(event.target.value))) {\r\n                                    set_range_mode_slider_value1([range_mode_slider_value1[0], \"\"])\r\n                                } else {\r\n                                    if (parseInt(event.target.value) > props.slider_max) {\r\n                                        alert(\"Upper range can not exceed maximum\")\r\n                                        set_range_mode_slider_value1([range_mode_slider_value1[0], props.slider_max])\r\n                                    }\r\n                                    else {\r\n                                        set_range_mode_slider_value1([range_mode_slider_value1[0], parseInt(event.target.value)])\r\n                                    }\r\n                                }\r\n                            }\r\n                            }\r\n                        />\r\n\r\n                                */\r\n                            }\r\n                    </Grid>\r\n                    <Button className=\"range_button\" style={{ width: $('.Sidebar').width() - 11, backgroundColor: \"#ededed\", height: 30, marginBottom: 5, marginLeft: -3 }}\r\n                        onClick={() => props.Set_range_mode_range1(range_mode_slider_value1)}\r\n                    >Update range</Button>\r\n                </div>\r\n    );\r\n}\r\nconst maptstateToprop = (state) => {\r\n    return {\r\n        mode: state.mode, // Model mode model\r\n        slider_max: state.slider_max,\r\n        range_mode_range1: state.range_mode_range1,\r\n    }\r\n}\r\nconst mapdispatchToprop = (dispatch) => {\r\n    return {\r\n        Set_range_mode_range1: (val) => dispatch({ type: \"range_mode_range1\", value: val }),\r\n        Set_changed: (val) => dispatch({ type: \"changed\", value: val }),\r\n    }\r\n}\r\nexport default connect(maptstateToprop, mapdispatchToprop)(Modes);","import React from 'react';\r\nimport \"../Sliders.scss\";\r\nimport * as $ from 'jquery';\r\nimport Slider from '@material-ui/core/Slider';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { connect } from \"react-redux\";\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: '100%',\r\n    },\r\n    heading: {\r\n        fontSize: theme.typography.pxToRem(15),\r\n        flexBasis: '33.33%',\r\n        flexShrink: 0,\r\n    },\r\n    secondaryHeading: {\r\n        fontSize: theme.typography.pxToRem(15),\r\n        color: theme.palette.text.secondary,\r\n    },\r\n    tRoot: {\r\n        marginBottom: 35,\r\n    },\r\n    rang_input: {\r\n        marginLeft: 10,\r\n    },\r\n}));\r\nfunction Modes(props) {\r\n    const classes = useStyles();\r\n    // states \r\n    const [range_mode_slider_value2, set_range_mode_slider_value2] = React.useState(props.range_mode_range2);\r\n    //-----------------------------------------------------------------\r\n    var temp_marks = [];\r\n    var step = (props.slider_max - 1) / (6 - 1);\r\n    for (var i = 0; i < 6; i++) {\r\n        temp_marks.push(1 + (step * i));\r\n    }\r\n    var marks = temp_marks.map(item => {\r\n        var myitem = parseInt(item)\r\n        return { value: myitem, label: myitem }\r\n    })\r\n    //console.log(props.marks)\r\n    //-----------------------------------------------------------------\r\n    return (\r\n        <div className=\"rangeslider\" style={{ width: \"95%\", marginTop: 30 }} >\r\n            <Slider\r\n                value={range_mode_slider_value2}\r\n                onChange={(event, newValue) => set_range_mode_slider_value2(newValue)}\r\n                onChangeCommitted={(event, newValue) => { props.Set_changed(\"range\") }}\r\n                valueLabelDisplay=\"auto\"\r\n                aria-labelledby=\"range-slider\"\r\n                valueLabelDisplay=\"on\"\r\n                min={1}\r\n                max={props.slider_max}\r\n                marks={marks}\r\n            />\r\n            <Grid style={{ marginBottom: 15 }} container\r\n                direction=\"row\"\r\n                justify=\"space-around\"\r\n                alignItems=\"center\">\r\n                {\r\n            /*\r\n                <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Lower\" value={range_mode_slider_value2[0]} style={{ width: 40 }}\r\n                    onChange={event => {\r\n                        if (isNaN(parseInt(event.target.value))) {\r\n                            set_range_mode_slider_value2([\"\", range_mode_slider_value2[1]])\r\n                        } else {\r\n                            if (event.target.value > range_mode_slider_value2[1]) {\r\n                                alert(\"Lower range can not be larger than the upper range\")\r\n                            }\r\n                            else {\r\n                                set_range_mode_slider_value2([event.target.value, range_mode_slider_value2[1]])\r\n                            }\r\n                        }\r\n                    }\r\n                    }\r\n                />\r\n                <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Upper\" value={range_mode_slider_value2[1]} style={{ width: 40 }}\r\n                    onChange={event => {\r\n                        if (isNaN(parseInt(event.target.value))) {\r\n                            set_range_mode_slider_value2([range_mode_slider_value2[0], \"\"])\r\n                        } else {\r\n                            if (parseInt(event.target.value) > props.slider_max) {\r\n                                alert(\"Upper range can not exceed maximum\")\r\n                                set_range_mode_slider_value2([range_mode_slider_value2[0], props.slider_max])\r\n                            }\r\n                            else {\r\n                                set_range_mode_slider_value2([range_mode_slider_value2[0], parseInt(event.target.value)])\r\n                            }\r\n                        }\r\n                    }\r\n                    }\r\n                />\r\n            */\r\n                }\r\n            </Grid>\r\n            <Button className=\"range_button\" style={{ width: $('.Sidebar').width() - 11, backgroundColor: \"#ededed\", height: 30, marginBottom: 5, marginLeft: 0 }}\r\n                onClick={() => props.Set_range_mode_range2(range_mode_slider_value2)}\r\n            >Update range</Button>\r\n\r\n        </div>\r\n    );\r\n}\r\nconst maptstateToprop = (state) => {\r\n    return {\r\n        selected_year: state.selected_year,\r\n        state_range: state.state_range,\r\n        mode: state.mode, // Model mode model\r\n        slider_max: state.slider_max,\r\n        range_mode_model: state.range_mode_model, // Range mode model\r\n        range_mode_range1: state.range_mode_range1,\r\n        range_mode_range2: state.range_mode_range2,\r\n        time_mode_model: state.time_mode_model, // Time mode model\r\n        time_mode_range: state.time_mode_range,\r\n        time_mode_year1: state.time_mode_year1,\r\n        time_mode_year2: state.time_mode_year2,\r\n        years_for_dropdown: state.years_for_dropdown,\r\n        dataset: state.dataset,\r\n        defualt_models: state.defualt_models,\r\n        slider_and_feature_value: state.slider_and_feature_value,\r\n        sort_by: state.sort_by,\r\n        grouped_by_year_data: state.grouped_by_year_data,\r\n    }\r\n}\r\nconst mapdispatchToprop = (dispatch) => {\r\n    return {\r\n        Set_range_mode_range2: (val) => dispatch({ type: \"range_mode_range2\", value: val }),\r\n        Set_changed: (val) => dispatch({ type: \"changed\", value: val }),\r\n    }\r\n}\r\nexport default connect(maptstateToprop, mapdispatchToprop)(Modes);","import React, { Component } from 'react';\r\nimport * as d3 from 'd3';\r\nimport * as explanation_chart from \"../explanation_chart\";\r\nimport { connect } from \"react-redux\";\r\nimport Grid from '@material-ui/core/Grid';\r\nimport * as algo1 from \"../../../Algorithms/algo1\";\r\nimport * as deviation_chart from \"../deviation_chart\"\r\nimport * as misc_algo from '../misc_algo'\r\nimport * as $ from 'jquery';\r\nimport SliderGroup1 from './SliderGroup1';\r\nimport SliderGroup2 from './SliderGroup2';\r\n\r\nclass SlopeChart extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.line_color = null;\r\n    this.state = { height_slope_exp_chart: 700, mouseX: 0, mouseY: 0 }\r\n  }\r\n  componentDidMount() {\r\n    this.setState({ width: window.innerHeight })\r\n  }\r\n  shouldComponentUpdate(prevProps, prevState) {\r\n    return true;\r\n  }\r\n  componentDidUpdate(prevProps, prevState) {\r\n    // Range1\r\n    var min = d3.min([this.props.range_mode_range1[0],this.props.range_mode_range2[0]]), max = d3.max([this.props.range_mode_range1[1],this.props.range_mode_range2[1]]);\r\n    var d = (max - min) / 8;\r\n    var diverginColor = d3.scaleLinear().domain([min + d * 7, min + d * 6, min + d * 5, min + d * 4, min + d * 3, min + d * 2, min]).interpolate(d3.interpolateRgb).range(['#00429d', '#4771b2', '#73a2c6', '#a5d5d8', /*'#ffffe0',*/ '#ffbcaf', '#f4777f', '#cf3759', '#93003a']);\r\n    \r\n    var selected_instances = d3.range(this.props.range_mode_range1[0], this.props.range_mode_range1[1] + 1)\r\n    var number_of_charts = 9\r\n    var features_with_score = algo1.features_with_score(this.props.dataset, this.props.defualt_models, this.props.range_mode_range1, this.props.selected_year, number_of_charts, this.props.rank_data)\r\n    var sorted_features = Object.entries(features_with_score).sort((a, b) => a[1] - b[1]).slice(0, number_of_charts)\r\n    deviation_chart.Create_deviation_chart('r1d','r1e', selected_instances, this.props.original_data, this.props.defualt_models, this.props.anim_config, this.props.selected_years, this.props.average_m, this.props.clicked_circles, this.props.Set_clicked_circles, diverginColor,this.props.sparkline_data,this.props.Set_selected_year)\r\n    explanation_chart.CreatexpChart('r1e', selected_instances, sorted_features, this.props.lime_data, this.props.selected_year, this.props.defualt_models, this.props.clicked_circles, this.props.Set_clicked_circles, diverginColor, this.props.anim_config, this.props.clicked_features, this.props.Set_clicked_features)\r\n    explanation_chart.CreatexpCircle('r1e', selected_instances, sorted_features, this.props.lime_data, this.props.selected_year, this.props.defualt_models, this.props.clicked_circles, this.props.Set_clicked_circles, diverginColor, this.props.anim_config, this.props.clicked_features, this.props.Set_clicked_features)\r\n    // Range2\r\n    var selected_instances2 = d3.range(this.props.range_mode_range2[0], this.props.range_mode_range2[1] + 1)\r\n    var features_with_score2 = algo1.features_with_score(this.props.dataset, this.props.defualt_models, this.props.range_mode_range2, this.props.selected_year, number_of_charts, this.props.rank_data)\r\n    var sorted_features2 = Object.entries(features_with_score2).sort((a, b) => a[1] - b[1]).slice(0, number_of_charts)\r\n    deviation_chart.Create_deviation_chart('r2d','r2e', selected_instances2, this.props.original_data, this.props.defualt_models, this.props.anim_config, this.props.selected_years, this.props.average_m, this.props.clicked_circles, this.props.Set_clicked_circles, diverginColor,this.props.sparkline_data,this.props.Set_selected_year)\r\n    explanation_chart.CreatexpChart('r2e', selected_instances2, sorted_features2, this.props.lime_data, this.props.selected_year, this.props.defualt_models, this.props.clicked_circles, this.props.Set_clicked_circles, diverginColor, this.props.anim_config, this.props.clicked_features, this.props.Set_clicked_features)\r\n    explanation_chart.CreatexpCircle('r2e', selected_instances2, sorted_features2, this.props.lime_data, this.props.selected_year, this.props.defualt_models, this.props.clicked_circles, this.props.Set_clicked_circles, diverginColor, this.props.anim_config, this.props.clicked_features, this.props.Set_clicked_features)\r\n    //---------------------------------\r\n    misc_algo.draw_lines(this.props.clicked_circles, diverginColor, this.props.anim_config, sorted_features)\r\n    misc_algo.handle_transparency(\"circle2\", this.props.clicked_circles, this.props.anim_config)\r\n\r\n  }\r\n  render() {\r\n    return (\r\n      <Grid container direction=\"row\" justifyContent=\"space-between\" className=\"slope_chart_exp\" style={{ backgroundColor: 'white', padding: \"0px 0px\", border: \"1px solid #eaeaea\", width: \"100%\", boxShadow: \"-2px 1px 4px -1px white\" }}>\r\n        <Grid container item direction=\"column\" justifyContent=\"space-between\" style={{ paddingRight: 0, border: \"1px solid #a0a0a0\", height: \"100%\", width: \"49.4%\" }}>\r\n          <p style={{ margin: 0, paddingLeft: \"45%\", backgroundColor: \"rgb(232, 232, 232,0.4)\", fontWeight: \"bolder\", borderBottom: \"1px solid #cecece\" }}>Group 1</p>\r\n          <Grid item style={{ backgroundColor: \"rgb(232, 232, 232,0.4)\"}}><SliderGroup1></SliderGroup1></Grid>\r\n          <Grid item style={{ backgroundColor: \"rgb(232, 232, 232,0.4)\", height: ($(\".slope_chart_exp\").height() * 0.5 - 25), overflow: \"scroll\" }}><svg id=\"r1d\" style={{ width: \"100%\", marginRight: \"3%\" }}></svg></Grid>\r\n          <Grid item style={{ backgroundColor: \"rgb(232, 232, 232,0.4)\", marginTop: 5, paddingTop: 5, paddingRight: 3, height: $(\".slope_chart_exp\").height() * 0.3 }}><svg id=\"r1e\" style={{ width: \"100%\", height: \"100%\" }}></svg></Grid>\r\n        </Grid>\r\n        <Grid container item direction=\"column\" justifyContent=\"space-between\" style={{ marginLeft: \"1%\", padding: 0, border: \"1px solid #a0a0a0\", height: \"100%\", width: \"49.4%\" }}>\r\n          <p style={{ margin: 0, paddingLeft: \"45%\", backgroundColor: \"rgb(232, 232, 232,0.4)\", fontWeight: \"bolder\", borderBottom: \"1px solid #cecece\" }}>Group 2</p>\r\n          <Grid item style={{ backgroundColor: \"rgb(232, 232, 232,0.4)\"}}><SliderGroup2></SliderGroup2></Grid>\r\n          <Grid item style={{ backgroundColor: \"rgb(232, 232, 232,0.4)\", height: ($(\".slope_chart_exp\").height() * 0.5 - 25), overflow: \"scroll\" }}><svg id=\"r2d\" style={{ width: \"100%\", marginRight: \"3%\" }}></svg></Grid>\r\n          <Grid item style={{ backgroundColor: \"rgb(232, 232, 232,0.4)\", marginTop: 5, paddingTop: 5, paddingRight: 3, height: $(\".slope_chart_exp\").height() * 0.3 }}><svg id=\"r2e\" style={{ width: \"100%\", height: \"100%\" }}></svg></Grid>\r\n        </Grid>\r\n      </Grid>\r\n    )\r\n  }\r\n}\r\nconst maptstateToprop = (state) => {\r\n  return {\r\n    range_mode_range1: state.range_mode_range1,\r\n    range_mode_range2: state.range_mode_range2,\r\n    selected_year: state.selected_year,\r\n    selected_years: state.selected_years,\r\n    deviate_by: state.deviate_by,\r\n    clicked_items_in_slopechart: state.clicked_items_in_slopechart,\r\n    tracking: state.tracking,\r\n    defualt_models: state.defualt_models,\r\n    original_data: state.original_data,\r\n    time_mode_model: state.time_mode_model,\r\n    chart_scale_type: state.chart_scale_type,\r\n    features_with_score: state.features_with_score,\r\n    dataset: state.dataset,\r\n    histogram_data: state.histogram_data,\r\n    sparkline_data: state.sparkline_data,\r\n    dataset: state.dataset,\r\n    anim_config: state.anim_config,\r\n    show: state.show,\r\n    default_model_scores: state.default_model_scores,\r\n    sort_by: state.sort_by,\r\n    average_m: state.average_m,\r\n    average_y: state.average_y,\r\n    lime_data: state.lime_data,\r\n    features_with_score: state.features_with_score,\r\n    rank_data: state.rank_data,\r\n    clicked_circles: state.clicked_circles,\r\n    clicked_features: state.clicked_features\r\n  }\r\n}\r\nconst mapdispatchToprop = (dispatch) => {\r\n  return {\r\n    Set_clicked_circles: (val) => dispatch({ type: \"clicked_circles\", value: val }),\r\n    Set_prev_prop: (val) => dispatch({ type: \"prev_prop\", value: val }),\r\n    Set_sparkline_data: (val) => dispatch({ type: \"sparkline_data\", value: val }),\r\n    Set_clicked_items_in_slopechart: (val) => dispatch({ type: \"clicked_items_in_slopechart\", value: val }),\r\n    Set_replay: (val) => dispatch({ type: \"replay\", value: val }),\r\n    Set_clicked_features: (val) => dispatch({ type: \"clicked_features\", value: val }),\r\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: val }),\r\n  }\r\n}\r\nexport default connect(maptstateToprop, mapdispatchToprop)(SlopeChart);","import React, { Component } from 'react';\r\nimport * as d3 from 'd3';\r\nimport * as explanation_chart from \"../explanation_chart\";\r\nimport { connect } from \"react-redux\";\r\nimport Grid from '@material-ui/core/Grid';\r\nimport * as algo1 from \"../../../Algorithms/algo1\";\r\nimport * as deviation_chart from \"../deviation_chart\"\r\nimport * as misc_algo from '../misc_algo'\r\nimport * as $ from 'jquery';\r\nclass SlopeChart extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.line_color = null;\r\n    this.state = { height_slope_exp_chart: 700, mouseX: 0, mouseY: 0 }\r\n  }\r\n  componentDidMount() {\r\n    this.setState({ width: window.innerHeight })\r\n  }\r\n  shouldComponentUpdate(prevProps, prevState) {\r\n    return true;\r\n  }\r\n  componentDidUpdate(prevProps, prevState) {\r\n    // Range1\r\n    var min = this.props.time_mode_range[0], max = this.props.time_mode_range[1];\r\n    var d = (max - min) / 8;\r\n    var diverginColor = d3.scaleLinear().domain([min + d * 7, min + d * 6, min + d * 5, min + d * 4, min + d * 3, min + d * 2, min]).interpolate(d3.interpolateRgb).range(['#00429d', '#4771b2', '#73a2c6', '#a5d5d8', /*'#ffffe0',*/ '#ffbcaf', '#f4777f', '#cf3759', '#93003a']);\r\n    \r\n    var selected_instances = d3.range(this.props.time_mode_range[0], this.props.time_mode_range[1] + 1)\r\n    var number_of_charts = 9\r\n    var features_with_score = algo1.features_with_score(this.props.dataset, this.props.defualt_models, this.props.time_mode_range, this.props.time_mode_year1, number_of_charts, this.props.rank_data)\r\n    var sorted_features = Object.entries(features_with_score).sort((a, b) => a[1] - b[1]).slice(0, number_of_charts)\r\n    deviation_chart.Create_deviation_chart('y1d','y1e', selected_instances, this.props.original_data, this.props.defualt_models, this.props.anim_config, this.props.time_mode_year1, this.props.average_m, this.props.clicked_circles, this.props.Set_clicked_circles, diverginColor)\r\n    explanation_chart.CreatexpChart('y1e', selected_instances, sorted_features, this.props.lime_data, this.props.time_mode_year1, this.props.defualt_models, this.props.clicked_circles, this.props.Set_clicked_circles, diverginColor, this.props.anim_config, this.props.clicked_features, this.props.Set_clicked_features)\r\n\r\n    // Range2\r\n    var selected_instances2 = d3.range(this.props.time_mode_range[0], this.props.time_mode_range[1] + 1)\r\n    var features_with_score2 = algo1.features_with_score(this.props.dataset, this.props.defualt_models, this.props.time_mode_range, this.props.time_mode_year2, number_of_charts, this.props.rank_data)\r\n    var sorted_features2 = Object.entries(features_with_score2).sort((a, b) => a[1] - b[1]).slice(0, number_of_charts)\r\n    deviation_chart.Create_deviation_chart('y2d','y2e', selected_instances2, this.props.original_data, this.props.defualt_models, this.props.anim_config, this.props.time_mode_year2, this.props.average_m, this.props.clicked_circles, this.props.Set_clicked_circles, diverginColor)\r\n    explanation_chart.CreatexpChart('y2e', selected_instances2, sorted_features2, this.props.lime_data, this.props.time_mode_year2, this.props.defualt_models, this.props.clicked_circles, this.props.Set_clicked_circles, diverginColor, this.props.anim_config, this.props.clicked_features, this.props.Set_clicked_features)\r\n    //---------------------------------\r\n    misc_algo.draw_lines(this.props.clicked_circles, diverginColor, this.props.anim_config, sorted_features)\r\n    misc_algo.handle_transparency(\"circle2\", this.props.clicked_circles, this.props.anim_config)\r\n\r\n  }\r\n  render() {\r\n    return (\r\n      <Grid container direction=\"row\" justifyContent=\"space-between\" className=\"slope_chart_exp\" style={{ backgroundColor: 'white', padding: \"0px 0px\", border: \"1px solid #eaeaea\", width: \"100%\", boxShadow: \"-2px 1px 4px -1px white\" }}>\r\n        <Grid container item direction=\"column\" justifyContent=\"space-between\" style={{ paddingRight: 0, border: \"1px solid #a0a0a0\", height: \"100%\", width: \"49.4%\" }}>\r\n          <p style={{ margin: 0, paddingLeft: \"45%\", backgroundColor: \"rgb(232, 232, 232,0.4)\", fontWeight: \"bolder\", borderBottom: \"1px solid #cecece\" }}>{\"Year : \"+this.props.time_mode_year1}</p>\r\n          <Grid item style={{ backgroundColor: \"rgb(232, 232, 232,0.4)\", height: ($(\".slope_chart_exp\").height() * 0.69 - 25), overflow: \"scroll\" }}><svg id=\"y1d\" style={{ width: \"100%\", marginRight: \"3%\" }}></svg></Grid>\r\n          <Grid item style={{ backgroundColor: \"rgb(232, 232, 232,0.4)\", marginTop: 5, paddingTop: 5, paddingRight: 3, height: $(\".slope_chart_exp\").height() * 0.3 }}><svg id=\"y1e\" style={{ width: \"100%\", height: \"100%\" }}></svg></Grid>\r\n        </Grid>\r\n        <Grid container item direction=\"column\" justifyContent=\"space-between\" style={{ marginLeft: \"1%\", padding: 0, border: \"1px solid #a0a0a0\", height: \"100%\", width: \"49.4%\" }}>\r\n          <p style={{ margin: 0, paddingLeft: \"45%\", backgroundColor: \"rgb(232, 232, 232,0.4)\", fontWeight: \"bolder\", borderBottom: \"1px solid #cecece\" }}>{\"Year : \"+this.props.time_mode_year2}</p>\r\n          <Grid item style={{ backgroundColor: \"rgb(232, 232, 232,0.4)\", height: ($(\".slope_chart_exp\").height() * 0.69 - 25), overflow: \"scroll\" }}><svg id=\"y2d\" style={{ width: \"100%\", marginRight: \"3%\" }}></svg></Grid>\r\n          <Grid item style={{ backgroundColor: \"rgb(232, 232, 232,0.4)\", marginTop: 5, paddingTop: 5, paddingRight: 3, height: $(\".slope_chart_exp\").height() * 0.3 }}><svg id=\"y2e\" style={{ width: \"100%\", height: \"100%\" }}></svg></Grid>\r\n        </Grid>\r\n      </Grid>\r\n    )\r\n  }\r\n}\r\nconst maptstateToprop = (state) => {\r\n  return {\r\n    time_mode_model: state.time_mode_model,\r\n    time_mode_range: state.time_mode_range,\r\n    deviate_by: state.deviate_by,\r\n    time_mode_year1: state.time_mode_year1,\r\n    time_mode_year2: state.time_mode_year2,\r\n    deviate_by: state.deviate_by,\r\n    clicked_items_in_slopechart: state.clicked_items_in_slopechart,\r\n    tracking: state.tracking,\r\n    defualt_models: state.defualt_models,\r\n    original_data: state.original_data,\r\n    time_mode_model: state.time_mode_model,\r\n    chart_scale_type: state.chart_scale_type,\r\n    features_with_score: state.features_with_score,\r\n    dataset: state.dataset,\r\n    histogram_data: state.histogram_data,\r\n    sparkline_data: state.sparkline_data,\r\n    dataset: state.dataset,\r\n    anim_config: state.anim_config,\r\n    show: state.show,\r\n    default_model_scores: state.default_model_scores,\r\n    sort_by: state.sort_by,\r\n    average_m: state.average_m,\r\n    average_y: state.average_y,\r\n    lime_data: state.lime_data,\r\n    features_with_score: state.features_with_score,\r\n    rank_data: state.rank_data,\r\n    clicked_circles: state.clicked_circles,\r\n    clicked_features: state.clicked_features\r\n  }\r\n}\r\nconst mapdispatchToprop = (dispatch) => {\r\n  return {\r\n    Set_clicked_circles: (val) => dispatch({ type: \"clicked_circles\", value: val }),\r\n    Set_prev_prop: (val) => dispatch({ type: \"prev_prop\", value: val }),\r\n    Set_sparkline_data: (val) => dispatch({ type: \"sparkline_data\", value: val }),\r\n    Set_clicked_items_in_slopechart: (val) => dispatch({ type: \"clicked_items_in_slopechart\", value: val }),\r\n    Set_replay: (val) => dispatch({ type: \"replay\", value: val }),\r\n    Set_clicked_features: (val) => dispatch({ type: \"clicked_features\", value: val }),\r\n  }\r\n}\r\nexport default connect(maptstateToprop, mapdispatchToprop)(SlopeChart);","import * as d3 from 'd3';\r\nimport * as $ from \"jquery\"\r\nexport default function CreateChart(feature, data, node, feature_height, selected_year, handleHistogramselection, feature_data) {\r\n  var feature_width = $(\".Sidebar_parent\").width()\r\n  var svg = d3.select(node),\r\n    margin = { top: 30, right: 15, bottom: 20, left: 7 },\r\n    width = feature_width - margin.left - margin.right,\r\n    height = feature_height - margin.top - margin.bottom;\r\n  if (isNaN(data[0].y)) {\r\n    //-----------------------------------------------------------(handle the categorical features here)\r\n    var occur = {}\r\n    data.map(item => {\r\n      if (item.y in occur) {\r\n        occur[item.y] = occur[item.y] + 1\r\n      }\r\n      else {\r\n        occur[item.y] = 1\r\n      }\r\n    })\r\n    // Create items array\r\n    var items = Object.keys(occur).map(function (key) {\r\n      return [key, occur[key]];\r\n    });\r\n\r\n    // Sort the array based on the second element\r\n    items.sort(function (first, second) {\r\n      return second[1] - first[1];\r\n    });\r\n    //-----\r\n    var y = items.map(element => element[0]);\r\n    var x = items.map(element => element[1]);\r\n    var sum_x = d3.sum(x)\r\n    var cScale = d3.scaleSequential()\r\n      .interpolator(d3.interpolate(\"#999999b3\", \"#999999b3\"))\r\n      .domain([0, x.length]);\r\n    svg.selectAll(\".hist_title\").data([0]).join(\"text\").attr(\"class\", \"hist_title\").attr(\"y\", 15).attr(\"x\", width / 2).attr(\"text-anchor\", \"middle\").text(feature);\r\n    var g = svg.selectAll(\".g1\").data([0]).join(\"g\").attr(\"class\", \"g1\").attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\r\n    var svg1 = g.selectAll(\".svg1\").data([0]).join('svg').attr(\"class\", \"svg1\").attr('width', width).attr('height', height)\r\n    svg1.selectAll('rect').data(x).join(\"rect\")\r\n      .style('fill', (d, i) => cScale(i)).attr(\"height\", height)\r\n      .attr('width', (d, i) => {\r\n        return (((d / sum_x) * width) - .2)\r\n      })\r\n      .attr(\"x\", (d, i) => {\r\n        var temp_sum = d3.sum(x.slice(0, i))\r\n        return ((temp_sum / sum_x) * width)\r\n      })\r\n      .attr(\"id\", (d, i) => y[i])\r\n      .on(\"click\", (d, i) => {\r\n        d3.select(\"#\" + y[i]).classed(\"cat_item_clicked\", () => {\r\n          if (d3.select(\"#\" + y[i]).classed(\"cat_item_clicked\")) {\r\n\r\n            return false\r\n          }\r\n          else {\r\n            var statelist = cat_states(feature_data, selected_year, y[i])\r\n            handleHistogramselection(statelist, \"histogram_data\")\r\n            return true\r\n          }\r\n        })\r\n\r\n      }\r\n      )\r\n    //---\r\n    svg1.selectAll(\"text\").data(y, d => d).join(\"text\")\r\n      .text((d, i) => {\r\n        if (((x[i] / sum_x) * width) > 12) { return d }\r\n        else { return \"\" }\r\n      })\r\n      .attr(\"x\", (d, i) => {\r\n        var temp_sum = d3.sum(x.slice(0, i))\r\n        return ((temp_sum / sum_x) * width) + 8\r\n      })\r\n      .attr(\"y\", height / 2)\r\n      .style(\"font-size\", 9)\r\n      .style(\"writing-mode\", \"tb\")\r\n      .style(\"text-anchor\", \"middle\")\r\n    //-----------------------------------------------------------Barchart ends here\r\n  }\r\n  else {\r\n    //----------------------------------------------------------- Handle the Numeric features here)\r\n    svg.selectAll(\".hist_title\").data([feature], d => d).join(\"text\").attr(\"class\", \"hist_title\").attr(\"y\", 15).attr(\"x\", width / 2).attr(\"text-anchor\", \"middle\").text(feature.replace(/_/g, ' '));\r\n\r\n    var temp_x = data.map(item => parseFloat(item['y'])),\r\n      x = d3.scaleLinear().domain([d3.min(temp_x), d3.max(temp_x)]).range([0, width]).nice(),\r\n      tick_values = x.ticks(4),\r\n      hist_height = height,\r\n      histogram = d3.histogram()\r\n        .value(d => d)   // I need to give the vector of value\r\n        .domain(x.domain())  // then the domain of the graphic\r\n        .thresholds(4); // then the numbers of bins\r\n    var bins = histogram(temp_x),\r\n      y_hist = d3.scaleLinear()\r\n        .range([hist_height, 0]);\r\n    y_hist.domain([0, d3.max(bins, function (d) { return d.length; })]);   // d3.hist has to be called before the Y axis obviously\r\n    var svg0 = svg.selectAll('.svg0').data([0]).join('svg').attr(\"class\", \"svg0\").selectAll(\".myg0\").data([0]).join('g').attr(\"class\", \"myg0\").attr(\"transform\",\r\n      \"translate(\" + margin.left + \",\" + margin.top + \")\")\r\n\r\n    svg0.selectAll(\"rect\").data(bins).join('rect')\r\n      .attr(\"x\", 1)\r\n      .attr(\"fill\", \"#999999b3\")\r\n      .attr(\"transform\", function (d) {\r\n        if(d.x0==d.x1){return \"translate(\" + 0 + \",\" + y_hist(d.length) + \")\"}\r\n        return \"translate(\" + x(d.x0) + \",\" + y_hist(d.length) + \")\";\r\n      })\r\n      .attr(\"width\", function (d) { \r\n        if(d.x0==d.x1){return width}\r\n        return x(d.x1) - x(d.x0) - 0.2; })\r\n      .attr(\"height\", function (d) { return hist_height - y_hist(d.length); });\r\n    //-------Add text of bars\r\n    \r\n    svg0.selectAll(\".mylabel\").data(bins).join('text').attr(\"class\",\"mylabel\")\r\n      .attr(\"x\", d=>x(d.x0)+((x(d.x1)-x(d.x0))/3))\r\n      .text(d=>d.length)\r\n      .attr('y',d=> y_hist(d.length)-2)\r\n      .attr('font-size',10)\r\n  \r\n    //------------- Add X axis\r\n    if(d3.max(tick_values)>1000){\r\n      svg0.selectAll(\".myXaxis\").data([0]).join('g').attr(\"class\", \"myXaxis\")\r\n      .attr(\"transform\", \"translate(0,\" + hist_height + \")\")\r\n      .call(d3.axisBottom(x).tickValues(tick_values).tickFormat(d3.format(\".2s\")))\r\n    }\r\n    else{\r\n      svg0.selectAll(\".myXaxis\").data([0]).join('g').attr(\"class\", \"myXaxis\")\r\n      .attr(\"transform\", \"translate(0,\" + hist_height + \")\")\r\n      .call(d3.axisBottom(x).tickValues(tick_values))\r\n    }\r\n\r\n    svg0.selectAll(\".tick line,.domain\").attr(\"stroke\", \"#adadad\")\r\n\r\n    //------------------------------------------------------------------------------------------------------ Create Histogram ends here    \r\n    //---drag starts here\r\n    var selectionRect = {\r\n      element: null,\r\n      previousElement: null,\r\n      currentY: 0,\r\n      currentX: 0,\r\n      originX: 0,\r\n      originY: 0,\r\n      setElement: function (ele) {\r\n        this.previousElement = this.element;\r\n        this.element = ele;\r\n      },\r\n      getNewAttributes: function () {\r\n        var x = this.currentX < this.originX ? this.currentX : this.originX;\r\n        var y = this.currentY < this.originY ? this.currentY : this.originY;\r\n        var width = Math.abs(this.currentX - this.originX);\r\n        var height = Math.abs(this.currentY - this.originY);\r\n        return { x: x, y: y, width: width, height: height }; // returning the javascript object\r\n      },\r\n      getCurrentAttributes: function () {\r\n        // use plus sign to convert string into number\r\n        var x = +this.element.attr(\"x\");\r\n        var y = +this.element.attr(\"y\");\r\n        var width = +this.element.attr(\"width\");\r\n        var height = +this.element.attr(\"height\");\r\n        return { x1: x, y1: y, x2: x + width, y2: y + height }; // returning the javascript object\r\n      },\r\n      getCurrentAttributesAsText: function () {\r\n        var attrs = this.getCurrentAttributes();\r\n        return \"x1: \" + attrs.x1 + \" x2: \" + attrs.x2 + \" y1: \" + attrs.y1 + \" y2: \" + attrs.y2;\r\n      },\r\n      init: function (newX, newY) {\r\n        var rectElement = svg.append(\"rect\")\r\n          .attr('rx', 1).attr('ry', 1).attr(\"x\", 0).attr(\"y\", 0)\r\n          .attr('width', 0).attr('height', 0).classed(\"selection\", true);\r\n        this.setElement(rectElement);\r\n        this.originX = newX;\r\n        this.originY = newY;\r\n        this.update(newX, newY);\r\n      },\r\n      update: function (newX, newY) {\r\n        this.currentX = newX;\r\n        this.currentY = newY;\r\n        var NewAttr = this.getNewAttributes()\r\n        this.element.attr(\"x\", NewAttr.x).attr(\"y\", NewAttr.y)\r\n          .attr('width', NewAttr.width).attr('height', NewAttr.height)\r\n      },\r\n      focus: function () {\r\n        this.element\r\n          .style(\"stroke\", \"\")\r\n          .style(\"stroke-width\", \"1\");\r\n      },\r\n      remove: function () {\r\n        this.element.remove();\r\n        this.element = null;\r\n      },\r\n      removePrevious: function () {\r\n        if (this.previousElement) {\r\n          this.previousElement.remove();\r\n        }\r\n      }\r\n    };\r\n\r\n    //-----------------\r\n    function dragStart() {\r\n      var p = d3.mouse(this);\r\n      selectionRect.init(p[0], p[1]);\r\n      selectionRect.removePrevious();\r\n    }\r\n    function dragMove() {\r\n      var p = d3.mouse(this);\r\n      selectionRect.update(p[0], p[1]);\r\n    }\r\n    function dragEnd() {\r\n      var finalAttributes = selectionRect.getCurrentAttributes();\r\n      if (finalAttributes.x1 != finalAttributes.x2) {\r\n        var myx1 = finalAttributes.x1 - margin.left\r\n        var myx2 = finalAttributes.x2 - margin.left\r\n        var temp_range = [x.invert(myx1).toFixed(4), x.invert(myx2).toFixed(4)]\r\n        var statelist = states(feature_data, temp_range, selected_year, feature)\r\n        handleHistogramselection(statelist, \"histogram_data\")\r\n      }\r\n      if (finalAttributes.x2 - finalAttributes.x1 > 1 && finalAttributes.y2 - finalAttributes.y1 > 1) {\r\n        // range selected\r\n       // d3.event.sourceEvent.preventDefault();\r\n        selectionRect.focus();\r\n      } else {\r\n        selectionRect.remove();\r\n      }\r\n    }\r\n    var dragBehavior = d3.drag()\r\n      .on(\"start\", dragStart)\r\n      .on(\"drag\", dragMove)\r\n      .on(\"end\", dragEnd);\r\n    svg.call(dragBehavior);\r\n    //---drag ends here\r\n  }\r\n  function states(original_data,range,year,feature){\r\n    var temp=[]\r\n    original_data.forEach(element => {\r\n      if(element[\"1-qid\"]==year && parseFloat(element[feature])>=range[0] && parseFloat(element[feature])<=range[1]){\r\n       temp.push(parseInt(element['two_realRank']))\r\n      }\r\n    });\r\n    return temp;\r\n  }\r\n  function cat_states(original_data,year,country){\r\n    var temp=[]\r\n    original_data.forEach(element => {\r\n      if(element[\"1-qid\"]==year && element[\"country\"]==country){\r\n       temp.push(parseInt(element['two_realRank']))\r\n      }\r\n    });\r\n    return temp;\r\n  }\r\n  //----------------------------------------------------------- Histogram creation ends here\r\n}\r\n\r\n//https://www.youtube.com/watch?v=N9nHQzboCUI","import React, { Component, PureComponent } from 'react';\r\nimport * as d3 from 'd3';\r\nimport './Histogram.css';\r\nimport * as algo1 from \"../../Algorithms/algo1\";\r\nimport CreateChart from \"./Histogram\"\r\nimport exp_fiscal_CordAscent from \"../../Data/data/fiscal/lime/chart1_data.csv\";\r\nimport exp_school_CordAscent from \"../../Data/data/school/lime/chart1_data.csv\";\r\nimport exp_house_CordAscent from \"../../Data/data/house/lime/chart1_data.csv\";\r\nimport { connect } from 'react-redux'\r\nimport { Button } from '@material-ui/core';\r\nimport * as $ from \"jquery\"\r\nclass Chart extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.myRef = React.createRef();\r\n    this.state = { feaures_dict: {}, features_voted: null, feature_data: null, selected_states: [] } // This is the default height\r\n  }\r\n  componentDidMount() {\r\n    var self = this\r\n    var filename; if (this.props.dataset == \"fiscal\") { filename = exp_fiscal_CordAscent } else if (this.props.dataset == \"school\") { filename = exp_school_CordAscent } else if (this.props.dataset == \"house\") { filename = exp_house_CordAscent }\r\n    d3.csv(filename).then(function (feature_data) {\r\n      self.setState({ feature_data: feature_data })\r\n    })\r\n  }\r\n  shouldComponentUpdate() {\r\n    return true;\r\n  }\r\n  componentDidUpdate() {\r\n    var self = this\r\n\r\n    var selected_instances = d3.range(this.props.state_range[0], this.props.state_range[1] + 1)\r\n    if (this.props.histogram_data.length > 0) { selected_instances = this.props.histogram_data }\r\n    //--------------------\r\n    var under_threshold_instances = []\r\n    var year_data = this.props.original_data.filter(item => this.props.selected_year == item['1-qid'])\r\n    this.props.defualt_models.map(model_name => {\r\n      year_data.map(item => {\r\n        var two_realRank = parseInt(item['two_realRank'])\r\n        var predicted_rank = parseInt(item[model_name])\r\n        if (Math.abs(predicted_rank - two_realRank) > this.props.threshold) {\r\n          under_threshold_instances.push(two_realRank)\r\n        }\r\n      })\r\n    })\r\n    selected_instances = selected_instances.filter(item => !under_threshold_instances.includes(item))\r\n    //--------------------\r\n    var number_of_charts = 9\r\n    //------\r\n    var features_dict = algo1.features_with_score(this.props.dataset, this.props.defualt_models, selected_instances, this.props.selected_year, number_of_charts, this.props.rank_data)\r\n    var items = Object.keys(features_dict).map(function (key) {\r\n      return [key, features_dict[key]];\r\n    });\r\n    items.sort(function (first, second) { // Sort the array based on the second element\r\n      return second[1] - first[1];\r\n    });\r\n    items = items.map((element) => element[0])\r\n    //--------\r\n    var filename; if (this.props.dataset == \"fiscal\") { filename = exp_fiscal_CordAscent } else if (this.props.dataset == \"school\") { filename = exp_school_CordAscent }\r\n    //--------------------------------Iterate through each features\r\n    if (this.state.feature_data != null) {\r\n      var feature_width = $(\".Sidebar_parent\").width()\r\n      var feature_height = 100; // Feature height for individual feature\r\n      //--------------------------------------------- Iterate trough eact item and create histograms\r\n      items.forEach((feature, feature_index) => {\r\n        var feature_id = \"feature\" + feature.replace(/[^\\w\\s]/gi, '')\r\n        var temp = []\r\n        this.state.feature_data.forEach(element => {\r\n          if (element[\"1-qid\"] == self.props.selected_year) {\r\n            var temp_dict = {}\r\n            temp_dict[\"x\"] = parseInt(element['two_realRank'])\r\n            temp_dict[\"y\"] = element[feature]\r\n            temp.push(temp_dict)\r\n          }\r\n        });\r\n        d3.select(\"#histogram_container\").attr(\"height\", items.length * feature_height).selectAll(\"#\" + feature_id).data([feature_id], d => d).join(\"svg\").attr(\"id\", feature_id).attr(\"width\", feature_width)\r\n          .attr(\"x\", d => {\r\n            //--------------------------------------------- Create chart is imported from the Histogram.js and this is the function that creates all the histograms\r\n            CreateChart(feature, temp, \"#\" + feature_id, feature_height, self.props.selected_year, self.handleHistogramselection, self.state.feature_data)\r\n            return 0;\r\n          })\r\n          .attr(\"y\", (d, i) => feature_height * feature_index)\r\n      })\r\n    }\r\n  }\r\n  handleHistogramselection = (data, type) => {\r\n    var temp = this.state.selected_states\r\n    data.forEach(element => {\r\n      if (!temp.includes(element)) { temp.push(element) }\r\n    });\r\n    this.setState({ selected_states: temp })\r\n  }\r\n  update_histogram_data = () => {\r\n    d3.selectAll(\".cat_item_clicked\").classed(\"cat_item_clicked\", false)\r\n    d3.selectAll(\".selection\").remove()\r\n    if (this.state.selected_states.length < 1) { alert(\"Empty selection!\"); return }\r\n    var filtered_states = this.state.selected_states.filter((item) => {\r\n      if (item >= this.props.state_range[0] && item <= this.props.state_range[1]) {\r\n        return item\r\n      }\r\n    })\r\n    if (filtered_states.length < 1) { alert(\"Empty Selection\") }\r\n    if (this.props.slider_and_feature_value[\"Feature\"] == 1 && this.props.slider_and_feature_value[\"Rank range\"] == 1) { // If rank range is selected then filter states within the range\r\n      console.log(\"temp\", filtered_states)\r\n      this.props.Set_histogram_data(filtered_states)\r\n    }\r\n    else {\r\n      this.props.Set_histogram_data(this.state.selected_states) // else set states as selected\r\n    }\r\n    this.setState({ selected_states: [] })\r\n  }\r\n  //-----------------------------------------------------------------\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Button className=\"update\" style={{ marginLeft: 0, padding: 0, width: 197 }} onClick={() => {\r\n          var self = this\r\n          if (!this.props.slider_and_feature_value[\"Rank range\"]) {\r\n            if (d3.min(this.state.selected_states) < this.props.state_range[0]) {\r\n              this.props.Set_state_range([d3.min(this.state.selected_states), this.props.state_range[1]])\r\n            }\r\n            if (d3.max(this.state.selected_states) > this.props.state_range[1]) {\r\n              this.props.Set_state_range([this.props.state_range[0], d3.max(this.state.selected_states)])\r\n            }\r\n          }\r\n          setTimeout(function () { self.update_histogram_data(); }, 500);\r\n        }}\r\n        >Update</Button>\r\n        <div className=\"hitograms_container\" style={{ height: 420, borderBottom: \"0px solid #e5e5e5\" }}>\r\n          <svg id=\"histogram_container\" style={{ width: this.props.width }}></svg>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst maptstateToprop = (state) => {\r\n  return {\r\n    state_range: state.state_range,\r\n    defualt_models: state.defualt_models,\r\n    dataset: state.dataset,\r\n    selected_year: state.selected_year,\r\n    slider_and_feature_value: state.slider_and_feature_value,\r\n    deviate_by: state.deviate_by,\r\n    rank_data: state.rank_data,\r\n    histogram_data: state.histogram_data,\r\n    original_data:state.original_data,\r\n    threshold:state.threshold,\r\n  }\r\n}\r\nconst mapdispatchToprop = (dispatch) => {\r\n  return {\r\n    Set_defualt_models: (val) => dispatch({ type: \"defualt_models\", value: val }),\r\n    Set_sparkline_data: (val) => dispatch({ type: \"sparkline_data\", value: val }),\r\n    Set_histogram_data: (val) => dispatch({ type: \"histogram_data\", value: val }),\r\n    Set_state_range: (val) => dispatch({ type: \"state_range\", value: val }),\r\n    Set_clicked_items_in_slopechart: (val) => dispatch({ type: \"clicked_items_in_slopechart\", value: val }),\r\n  }\r\n}\r\nexport default connect(maptstateToprop, mapdispatchToprop)(Chart);","import React from 'react';\r\nimport \"./Sidebar.scss\";\r\nimport * as $ from 'jquery';\r\nimport Histograms from \"./HistogramContainer\"\r\nimport { connect } from \"react-redux\";\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport TextField from '@material-ui/core/TextField';\r\nfunction Modes(props) {\r\n    //-----------------------------------------------------------------\r\n    return (\r\n        <div style={{ borderTop: \"1px solid #eaeaea\" }}>\r\n            <p className=\"title_show\" style={{ marginBottom: 8 }}>Compare:</p>\r\n            <Autocomplete className=\"autocomplete_mode\" style={{ border: \"1px solid grey\", borderRadius: 0, paddingTop: 0, paddingBottom: 0, marginLeft: 5, marginRight: 30, width: $('.Sidebar').width() - 10 }}\r\n                defaultValue={\"Models\"}\r\n                id=\"debug\"\r\n                debug\r\n                options={[\"Models\", \"Ranges\", \"Time\"]}\r\n                renderInput={(params) => (\r\n                    <TextField {...params} label=\"\" margin=\"normal\" fullWidth={true} InputProps={{ ...params.InputProps, disableUnderline: true }} />\r\n                )}\r\n                onChange={(event, val) => {\r\n                    var value = val.replace('s', \"\")\r\n                    props.Set_mode(value)\r\n                    props.Set_clicked_items_in_slopechart([])\r\n                }\r\n                }\r\n            />\r\n        </div>\r\n    );\r\n}\r\nconst maptstateToprop = (state) => {\r\n    return {\r\n        selected_year: state.selected_year,\r\n        state_range: state.state_range,\r\n        mode: state.mode, // Model mode model\r\n        slider_max: state.slider_max,\r\n        range_mode_model: state.range_mode_model, // Range mode model\r\n        range_mode_range1: state.range_mode_range1,\r\n        range_mode_range2: state.range_mode_range2,\r\n        time_mode_model: state.time_mode_model, // Time mode model\r\n        time_mode_range: state.time_mode_range,\r\n        time_mode_year1: state.time_mode_year1,\r\n        time_mode_year2: state.time_mode_year2,\r\n        years_for_dropdown: state.years_for_dropdown,\r\n        dataset: state.dataset,\r\n        defualt_models: state.defualt_models,\r\n        slider_and_feature_value: state.slider_and_feature_value,\r\n        sort_by: state.sort_by,\r\n        grouped_by_year_data: state.grouped_by_year_data,\r\n    }\r\n}\r\nconst mapdispatchToprop = (dispatch) => {\r\n    return {\r\n        Set_slider_max: (val) => dispatch({ type: \"slider_max\", value: val }),\r\n        Set_years_for_dropdown: (val) => dispatch({ type: \"years_for_dropdown\", value: val }),\r\n        Set_state_range: (val) => dispatch({ type: \"state_range\", value: val }),\r\n        Set_mode: (val) => dispatch({ type: \"mode\", value: val }),\r\n        Set_range_mode_model: (val) => dispatch({ type: \"range_mode_model\", value: val }),\r\n        Set_time_mode_model: (val) => dispatch({ type: \"time_mode_model\", value: val }),\r\n        Set_range_mode_range1: (val) => dispatch({ type: \"range_mode_range1\", value: val }),\r\n        Set_range_mode_range2: (val) => dispatch({ type: \"range_mode_range2\", value: val }),\r\n        Set_time_mode_range: (val) => dispatch({ type: \"time_mode_range\", value: val }),\r\n        Set_time_mode_year1: (val) => dispatch({ type: \"time_mode_year1\", value: val }),\r\n        Set_time_mode_year2: (val) => dispatch({ type: \"time_mode_year2\", value: val }),\r\n        Set_histogram_data: (val) => dispatch({ type: \"histogram_data\", value: val }),\r\n        Set_slider_and_feature_value: (val) => dispatch({ type: \"slider_and_feature_value\", value: val }),\r\n        Set_clicked_items_in_slopechart: (val) => dispatch({ type: \"clicked_items_in_slopechart\", value: val }),\r\n        Set_changed: (val) => dispatch({ type: \"changed\", value: val }),\r\n        Set_pop_over_models: (val) => dispatch({ type: \"pop_over_models\", value: val }),\r\n        Set_defualt_models: (val) => dispatch({ type: \"defualt_models\", value: val }),\r\n        Set_default_model_scores: (val) => dispatch({ type: \"default_model_scores\", value: val }),\r\n\r\n    }\r\n}\r\nexport default connect(maptstateToprop, mapdispatchToprop)(Modes);","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport \"./Sidebar.scss\";\r\nimport { connect } from \"react-redux\";\r\nimport Modes from \"./Modes\"\r\nimport * as $ from \"jquery\"\r\nimport HistogramContainer from \"./HistogramContainer\"\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n  },\r\n  listroot: {\r\n    width: '100%',\r\n    maxWidth: 360,\r\n  },\r\n  paper: {\r\n\r\n  },\r\n  heading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n    fontWeight: theme.typography.fontWeightRegular,\r\n  },\r\n}));\r\n\r\nfunction Sidebar(props) {\r\n  const classes = useStyles();\r\n  //------------For list and chckbox\r\n  const [checked, setChecked] = React.useState([0]);\r\n  const handleToggle = (value) => () => {\r\n    const currentIndex = checked.indexOf(value);\r\n    const newChecked = [...checked];\r\n\r\n    if (currentIndex === -1) {\r\n      newChecked.push(value);\r\n    } else {\r\n      newChecked.splice(currentIndex, 1);\r\n    }\r\n    setChecked(newChecked);\r\n  };\r\n  const inputchanged = (event) => {\r\n    var val = parseInt(event.target.value)\r\n    if (val > -1) {\r\n      setTimeout(function () {\r\n        props.Set_deviate_by(val)\r\n      }, 100);\r\n\r\n    }\r\n  }\r\n  const show_checkboxChanged = (event, val) => {\r\n    var myfunc = props.appHandleChange\r\n    myfunc(val, \"show_checkboxChanged\")\r\n  }\r\n  return (\r\n    <div className=\"Sidebar_parent\" style={{ height: window.innerHeight }}>\r\n      {\r\n        // <h4 className=\"app_title\">RIEVAL </h4>\r\n      }\r\n      {props.view_data == 1 ?\r\n        <div className=\"rangeSlidercontainer\">\r\n          <Modes></Modes>\r\n          {props.mode == \"Model\" ? <div style={{ marginTop: 10, paddingLeft: 5, width: $('.Sidebar').width() }}>\r\n            <HistogramContainer\r\n              year={props.selected_year.toString()} state_range={props.state_range}\r\n              Sidebar_width={$('.Sidebar').width()} >\r\n            </HistogramContainer>\r\n          </div> : null}\r\n        </div> : null}\r\n       \r\n    </div>\r\n  );\r\n}\r\nconst maptstateToprop = (state) => {\r\n  return {\r\n    deviate_by: state.deviate_by,\r\n    state_range: state.state_range,\r\n    defualt_models: state.defualt_models,\r\n    selected_year: state.selected_year,\r\n    sparkline_data: state.sparkline_data,\r\n    show: state.show,\r\n    mode:state.mode,\r\n\r\n  }\r\n}\r\nconst mapdispatchToprop = (dispatch) => {\r\n  return {\r\n    Set_defualt_models: (val) => dispatch({ type: \"defualt_models\", value: val }),\r\n    Set_sparkline_data: (val) => dispatch({ type: \"sparkline_data\", value: val }),\r\n    Set_slider_max: (val) => dispatch({ type: \"slider_max\", value: val }),\r\n    Set_years_for_dropdown: (val) => dispatch({ type: \"years_for_dropdown\", value: val }),\r\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: val }),\r\n    Set_ref_year: (val) => dispatch({ type: \"ref_year\", value: val }),\r\n    Set_original_data: (val) => dispatch({ type: \"original_data\", value: val }),\r\n    Set_state_range: (val) => dispatch({ type: \"state_range\", value: val }),\r\n    Set_deviate_by: (val) => dispatch({ type: \"deviate_by\", value: val }),\r\n    Set_show: (val) => dispatch({ type: \"show\", value: val }),\r\n  }\r\n}\r\nexport default connect(maptstateToprop, mapdispatchToprop)(Sidebar);\r\n\r\n//https://material-ui.com/api/slider/\r\n//https://material-ui.com/components/expansion-panels/\r\n//https://material-ui.com/api/checkbox/\r\n//https://material-ui.com/components/radio-buttons/","import React, { Component } from 'react';\r\nimport * as d3 from 'd3';\r\nimport { connect } from \"react-redux\";\r\n//import {get_feature_voting} from \"../Algorithms/exp_algo\";\r\n\r\nclass Chart extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { \"a\": 10 }\r\n  }\r\n  componentDidMount() {\r\n    this.setState({ a: 5 })\r\n  }\r\n  componentDidUpdate() {\r\n    var temp_dict = {}\r\n    this.props.defualt_models.filter(item => item != \"ListNet\").map(model => {\r\n      temp_dict[model] = this.props.popup_chart_data[0][model]\r\n    })\r\n    var merged_arr = [].concat.apply([], Object.values(temp_dict))\r\n    var scatterplot_data = Object.entries(this.props.popup_chart_data[0]).filter(item => this.props.pop_over_models.includes(item[0]))\r\n\r\n    //console.log(this.props.popup_chart_data[0],this.props.pop_over_models)\r\n    //----------------------------------------------------------------------------------------------------------Call createChart\r\n    if (merged_arr.length > 0) { // This is to avoid the error caused by the next line\r\n      if (isNaN(merged_arr[0][this.props.popup_chart_data[1]])) {\r\n        this.CreateChart_cat(merged_arr, this.props.popup_chart_data[1], scatterplot_data)\r\n      }\r\n      else {\r\n        //this.CreateChart_cat(merged_arr, this.props.popup_chart_data[1], scatterplot_data)\r\n        this.CreateChart(merged_arr, this.props.popup_chart_data[1], scatterplot_data)\r\n      }\r\n    }\r\n    else {\r\n      this.CreateChart(merged_arr, this.props.popup_chart_data[1], scatterplot_data) // calling the function to set the  graph empty when all models are unselected\r\n    }\r\n    //----------------------------------------------------------------------------------------------------------Set and unset Opacity\r\n    if (this.props.clicked_items_in_slopechart.length > 0) {\r\n      d3.selectAll('circle,.datapoint').attr('opacity', this.props.config.reduced_opacity)\r\n    }\r\n    this.props.clicked_items_in_slopechart.map(idName => d3.selectAll('#' + idName).attr('opacity', 1))\r\n    //----------------------------------------------------------------------------------------------------------\r\n  }\r\n  CreateChart = (data, feature, scatterplot_data) => {\r\n    console.log(scatterplot_data)\r\n    var self = this,\r\n      feature_contribute = feature + \"_contribution\"\r\n    // set the dimensions and margins of the graph\r\n    var margin = { top: 0, right: 30, bottom: 45, left: 50, space_for_hist: 50 },\r\n      width = 520 - margin.left - margin.right,\r\n      height = 250 - margin.top - margin.bottom;\r\n    var temp_x = data.map(item => parseFloat(item[feature])),\r\n      temp_y = data.map(item => parseFloat(item[feature_contribute]))\r\n    var x = d3.scaleLinear().domain([d3.min(temp_x), d3.max(temp_x)]).range([0, width]).nice(),\r\n      y = d3.scaleLinear().domain([d3.min(temp_y), d3.max(temp_y)]).range([height, 0]).nice(); // circles will start from y position 10 and go upto height-10\r\n\r\n    //-------------------------------------------------------------All svgs\r\n    var parent_svg = d3.select(\"#\" + self.props.myid).attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom + margin.space_for_hist),\r\n      svg1 = parent_svg.selectAll('.svg11').data([0]).join('svg').attr(\"y\", margin.space_for_hist).attr(\"class\", \"svg11\").selectAll(\".myg\").data([0]).join('g').attr(\"class\", \"myg\").attr(\"transform\",\r\n        \"translate(\" + margin.left + \",\" + margin.top + \")\")\r\n\r\n    //------------------------------------------------------------------------------------------------------ Create Histogram starts here\r\n    var hist_height = margin.space_for_hist,\r\n      histogram = d3.histogram()\r\n        .value(d => d)   // I need to give the vector of value\r\n        .domain(x.domain())  // then the domain of the graphic\r\n    //.thresholds(x.ticks(5)); // then the numbers of bins\r\n    var bins = histogram(temp_x),\r\n      y_hist = d3.scaleLinear()\r\n        .range([hist_height, 0]);\r\n\r\n    y_hist.domain([0, d3.max(bins, function (d) { return d.length; })]);   // d3.hist has to be called before the Y axis obviously\r\n    var svg0 = parent_svg.selectAll('.svg0').data([0]).join('svg').attr(\"class\", \"svg0\").selectAll(\".myg0\").data([0]).join('g').attr(\"class\", \"myg0\").attr(\"transform\",\r\n      \"translate(\" + margin.left + \",\" + margin.top + \")\")\r\n    // Add line on the bottom of the histogram\r\n    svg0.selectAll(\".myline\").data([0]).join('line').attr(\"class\", \"myline\").attr(\"x1\", 0).attr(\"y1\", margin.space_for_hist).attr(\"x2\", width).attr(\"y2\", margin.space_for_hist).attr(\"stroke\", \"#EBEBEB\");\r\n    svg0.selectAll(\"rect\").data(bins).join('rect')\r\n      .attr(\"x\", 1)\r\n      .attr(\"fill\", \"#b7b7b7\")\r\n      .attr(\"transform\", function (d) {\r\n        if (d.x0 == d.x1) { return \"translate(\" + 0 + \",\" + y_hist(d.length) + \")\" }\r\n        return \"translate(\" + x(d.x0) + \",\" + y_hist(d.length) + \")\";\r\n      })\r\n      .attr(\"width\", function (d) {\r\n        if (d.x0 == d.x1) { return width }\r\n        return x(d.x1) - x(d.x0) - 0.2;\r\n      })\r\n      .attr(\"height\", function (d) { return hist_height - y_hist(d.length); });\r\n    //------------------------------------------------------------------------------------------------------ Create Histogram ends here\r\n\r\n    var svg1 = parent_svg.selectAll('.svg11').data([0]).join('svg').attr(\"class\", \"svg11\").selectAll(\".myg\").data([0]).join('g').attr(\"class\", \"myg\").attr(\"transform\",\r\n      \"translate(\" + margin.left + \",\" + margin.top + \")\")\r\n    svg1.selectAll(\".myline2\").data([0]).join('line').attr(\"class\", \"myline2\").attr(\"x1\", 0).attr(\"y1\", 0).attr(\"x2\", 0).attr(\"y2\", height).attr(\"stroke\", \"#EBEBEB\");\r\n    //svg1.selectAll(\".myline3\").data([0]).join('line').attr(\"class\",\"myline3\").attr(\"x1\", 0).attr(\"y1\", height).attr(\"x2\", width).attr(\"y2\", height).attr(\"stroke\", \"#EBEBEB\");\r\n\r\n    //------------- Add Y axis\r\n    var y2 = d3.scaleOrdinal().domain([\".\", \"0\", \"..\"]).range([height / 4, height / 2, (3 * height) / 4]); // circles will start from y position 10 and go upto height-10\r\n    svg1.selectAll(\".myYaxis\").data([0]).join('g').attr(\"class\", \"myYaxis\")\r\n      .call(d3.axisLeft(y2).tickSize(-width * 1.0).ticks(3).tickValues([\",\", \"0\", \"..\"]).tickFormat(d => d))\r\n      .select(\".domain\").remove()\r\n    svg1.selectAll(\".myYaxis\").selectAll('text').remove()\r\n\r\n    d3.selectAll('.svg11').selectAll('.myYtext').data([[\"++ ve\", height / 8], [\"+ ve\", (3 * height) / 8], [\"0\", height / 2], [\"- ve\", (5 * height) / 8], [\"-- ve\", (7 * height) / 8]]).join(\"text\").attr(\"class\", \"myYtext\")\r\n      .attr(\"x\", 45).attr(\"y\", (d, i) => d[1] + 4).text(d => d[0]).attr('font-size', 14).attr(\"text-anchor\", \"end\")\r\n    d3.selectAll('.svg11').attr('add_horizontal_lines', function () { //horizontal lines starts here\r\n      d3.select(this).selectAll(\".horiz_line\").data([3.85, 1.31]).join('line').attr('class', \"horiz_line\")\r\n        .attr(\"x1\", 11)\r\n        .attr(\"x2\", 50)\r\n        .attr(\"y1\", d => (height / d) - 2)\r\n        .attr(\"y2\", d => (height / d) - 2)\r\n        .style(\"stroke\", \"#EBEBEB\")\r\n    })\r\n\r\n    d3.selectAll('.svg11').selectAll(\".line0\").data([0]).join('line').attr('class', \"line0\")\r\n      .attr(\"x1\", 11)\r\n      .attr(\"x2\", 35)\r\n      .attr(\"y1\", d => (height / 2))\r\n      .attr(\"y2\", d => (height / 2))\r\n      .style(\"stroke\", \"#EBEBEB\")\r\n\r\n\r\n    //------------- Add X axis\r\n    if (d3.max(d3.max(bins)) > 1000) {\r\n      svg1.selectAll(\".myXaxis\").data([0]).join('g').attr(\"class\", \"myXaxis\")\r\n        .attr(\"transform\", \"translate(0,\" + height + \")\")\r\n        .call(d3.axisBottom(x).tickSize(-height * 1.3).tickValues(bins.map(item => item['x1'])).tickFormat(d3.format(\".2s\")))\r\n        .select(\".domain\").remove()\r\n    }\r\n    else {\r\n      svg1.selectAll(\".myXaxis\").data([0]).join('g').attr(\"class\", \"myXaxis\")\r\n        .attr(\"transform\", \"translate(0,\" + height + \")\")\r\n        .call(d3.axisBottom(x).tickSize(-height * 1.3).tickValues(bins.map(item => item['x1'])))\r\n        .select(\".domain\").remove()\r\n    }\r\n    svg1.selectAll(\".tick line\").attr(\"stroke\", \"#EBEBEB\")\r\n\r\n    //------------------------------------------------------------------------------------------------------ Scatterplot starts here\r\n    svg1.selectAll(\".scatterplot_g\").data(scatterplot_data).join('g').attr(\"id\", d => d[0] + \"scatterplot_g_id\").attr(\"class\", \"scatterplot_g\").attr(\"ax\", function (d) {\r\n      temp_x = d[1].map(item => parseFloat(item[feature]))\r\n      temp_y = d[1].map(item => parseFloat(item[feature_contribute]))\r\n\r\n      x = d3.scaleLinear().domain([d3.min(temp_x), d3.max(temp_x)]).range([0, width]).nice()\r\n      y = d3.scaleLinear().domain([d3.min(temp_y), d3.max(temp_y)]).range([height, 0]).nice();\r\n\r\n      d3.select(this).selectAll('circle').data(d[1])\r\n        .join(\"circle\")\r\n        .attr(\"cx\", (d, i) => {\r\n          if (x(parseFloat(d[feature])) < 10) {\r\n            return 10;\r\n          }\r\n          else if (x(parseFloat(d[feature])) > width - 10) {\r\n            return width - 10;\r\n          }\r\n          return x(d[feature]) + 2\r\n        })\r\n        .attr(\"cy\", (d, i) => {\r\n          if (y(parseFloat(d[feature_contribute])) < 10) {\r\n            return 10;\r\n          }\r\n          else if (y(parseFloat(d[feature_contribute])) > (height - 10)) {\r\n            return height - 10;\r\n          }\r\n          return y(parseFloat(d[feature_contribute])) - 0\r\n\r\n        })\r\n        .attr(\"actual_Y_valu\", d => d[feature_contribute])\r\n        .attr(\"r\", 4)\r\n        .attr(\"class\", \"random\")\r\n        .attr(\"fill\", (d) => self.props.color_gen(d['State']))\r\n        .attr(\"id\", d => \"A\" + String(d['State']).replace(/ +/g, \"\"))\r\n        .attr(\"class\", function (d) {\r\n          return \"bar myid\" + String(d['two_realRank']) + \" exp_circles\"\r\n        })\r\n        .attr('dataset_name',d[0])\r\n        .on(\"click\", d => {\r\n          self.props.textClickHandler_original(\"A\" + d[\"State\"])\r\n        })\r\n    })\r\n\r\n// Define the div for the tooltip\r\n    var div = d3.select(\"body\").append(\"div\")\r\n      .attr(\"class\", \"tooltip2\")\r\n      .style(\"opacity\", 0);\r\n    d3.selectAll('.exp_circles')\r\n      .on(\"mouseover\", function (d) {\r\n        div.transition()\r\n          .duration(200)\r\n          .style(\"opacity\", .9);\r\n        div.html(\"<p>\" + d['State'] + \"</p>\" + \"<p>\" + \"Model: \" + d3.select(this).attr('dataset_name') + \"</p>\")\r\n        //div.html(d['State'])\r\n          .style(\"left\", (d3.event.pageX) + \"px\")\r\n          .style(\"top\", (d3.event.pageY - 28) + \"px\");\r\n      })\r\n      .on(\"mouseout\", function (d) {\r\n        d3.selectAll('.tooltip2').transition()\r\n          .duration(500)\r\n          .style(\"opacity\", 0);\r\n      })\r\n\r\n    //------------------------------------------------------------------------------------------------------ Scatterplot ends here\r\n\r\n  }\r\n  CreateChart_cat = (data, feature, scatterplot_data) => {\r\n    var self = this,\r\n      feature_contribute = feature + \"_contribution\"\r\n    var margin = { top: 0, right: 30, bottom: 75, left: 50, space_for_hist: 50 }, width = 520 - margin.left - margin.right, height = 270 - margin.top - margin.bottom;\r\n    var barplot_data = {}\r\n    data.map(item => { if (barplot_data[item[feature]] > 0) { barplot_data[item[feature]] += 1 } else { barplot_data[item[feature]] = 1 } })\r\n\r\n    var temp_x = Object.keys(barplot_data),\r\n      temp_y = Object.values(barplot_data),\r\n      y = d3.scaleLinear().domain([d3.min(temp_y), d3.max(temp_y)]).range([height, 0]).nice(); // circles will start from y position 10 and go upto height-10\r\n\r\n    var x = d3.scaleBand().domain(temp_x).range([0, width]).padding(0.1);\r\n\r\n    // add the x Axis\r\n    //svg.append(\"g\").attr(\"transform\", \"translate(0,\" + height + \")\").call(d3.axisBottom(x));\r\n\r\n\r\n    //-------------------------------------------------------------All svgs\r\n    var parent_svg = d3.select(\"#\" + self.props.myid).attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom + margin.space_for_hist),\r\n      svg1 = parent_svg.selectAll('.svg11').data([0]).join('svg').attr(\"y\", margin.space_for_hist).attr(\"class\", \"svg11\").selectAll(\".myg\").data([0]).join('g').attr(\"class\", \"myg\").attr(\"transform\",\r\n        \"translate(\" + margin.left + \",\" + margin.top + \")\")\r\n\r\n    //------------------------------------------------------------------------------------------------------ Create Histogram starts here\r\n    var hist_height = margin.space_for_hist\r\n    y = d3.scaleLinear().domain([0, d3.max(temp_y)]).range([hist_height, 0]).nice();\r\n    var svg0 = parent_svg.selectAll('.svg0').data([0]).join('svg').attr(\"class\", \"svg0\").selectAll(\".myg0\").data([0]).join('g').attr(\"class\", \"myg0\")\r\n      .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\")\r\n    // Add line on the bottom of the histogram\r\n    svg0.selectAll(\".myline\").data([0]).join('line').attr(\"class\", \"myline\").attr(\"x1\", 0).attr(\"y1\", margin.space_for_hist).attr(\"x2\", width).attr(\"y2\", margin.space_for_hist).attr(\"stroke\", \"#EBEBEB\");\r\n    svg0.selectAll(\"rect\").data(Object.entries(barplot_data)).join('rect')\r\n      .attr(\"x\", d => x(d[0]))\r\n      .attr(\"fill\", \"#b7b7b7\")\r\n      .attr(\"width\", x.bandwidth())\r\n      .attr(\"y\", d => y(d[1]))\r\n      .attr(\"height\", d => hist_height - y(d[1]));\r\n    //------------------------------------------------------------------------------------------------------ Create Histogram ends here\r\n\r\n    var svg1 = parent_svg.selectAll('.svg11').data([0]).join('svg').attr(\"class\", \"svg11\").selectAll(\".myg\").data([0]).join('g').attr(\"class\", \"myg\").attr(\"transform\",\r\n      \"translate(\" + margin.left + \",\" + margin.top + \")\")\r\n    svg1.selectAll(\".myline2\").data([0]).join('line').attr(\"class\", \"myline2\").attr(\"x1\", 0).attr(\"y1\", 0).attr(\"x2\", 0).attr(\"y2\", height).attr(\"stroke\", \"#EBEBEB\");\r\n    svg1.selectAll(\".myline3\").data([0]).join('line').attr(\"class\", \"myline3\").attr(\"x1\", 0).attr(\"y1\", height).attr(\"x2\", width).attr(\"y2\", height).attr(\"stroke\", \"#EBEBEB\");\r\n\r\n\r\n    //------------- Add Y axis\r\n    var y2 = d3.scaleOrdinal().domain([\".\", \"0\", \"..\"]).range([height / 4, height / 2, (3 * height) / 4]); // circles will start from y position 10 and go upto height-10\r\n    svg1.selectAll(\".myYaxis\").data([0]).join('g').attr(\"class\", \"myYaxis\")\r\n      .call(d3.axisLeft(y2).tickSize(-width * 1.0).ticks(3).tickValues([\",\", \"0\", \"..\"]).tickFormat(d => d))\r\n      .select(\".domain\").remove()\r\n    svg1.selectAll(\".myYaxis\").selectAll('text').remove()\r\n    d3.selectAll('.svg11').selectAll('.myYtext').data([[\"++ve\", height / 8], [\"+ve\", (3 * height) / 8], [\"0\", height / 2], [\"-ve\", (5 * height) / 8], [\"--ve\", (7 * height) / 8]]).join(\"text\").attr(\"class\", \"myYtext\")\r\n      .attr(\"x\", 45).attr(\"y\", (d, i) => d[1] + 4).text(d => d[0]).attr('font-size', 14).attr(\"text-anchor\", \"end\")\r\n    d3.selectAll('.svg11').attr('add_horizontal_lines', function () { //horizontal lines starts here\r\n      d3.select(this).selectAll(\".horiz_line\").data([3.85, 1.31]).join('line').attr('class', \"horiz_line\")\r\n        .attr(\"x1\", 11)\r\n        .attr(\"x2\", 50)\r\n        .attr(\"y1\", d => (height / d) - 2)\r\n        .attr(\"y2\", d => (height / d) - 2)\r\n        .style(\"stroke\", \"#EBEBEB\")\r\n    })\r\n\r\n    d3.selectAll('.svg11').selectAll(\".line0\").data([0]).join('line').attr('class', \"line0\")\r\n      .attr(\"x1\", 11)\r\n      .attr(\"x2\", 35)\r\n      .attr(\"y1\", d => (height / 2))\r\n      .attr(\"y2\", d => (height / 2))\r\n      .style(\"stroke\", \"#EBEBEB\")\r\n\r\n\r\n    //------------- Add X axis\r\n    svg1.selectAll(\".myXaxis\").data([0]).join('g').attr(\"class\", \"myXaxis\")\r\n      .attr(\"transform\", \"translate(0,\" + height + \")\")\r\n      .call(d3.axisBottom(x).tickSize(-height * 1.3)).selectAll(\"text\")\r\n      .style(\"text-anchor\", \"end\")\r\n      .attr(\"dx\", \"-.8em\")\r\n      .attr(\"dy\", \"0em\")\r\n      .attr(\"transform\", \"rotate(-90)\")\r\n      .selectAll(\".tick line\").remove()\r\n    svg1.selectAll(\".domain\").remove()\r\n    svg1.selectAll(\".tick line\").attr(\"stroke\", \"#EBEBEB\")\r\n    //------------------------------------------------------------------------------------------------------ Create Histogram ends here\r\n    //------------------------------------------------------------------------------------------------------ Scatterplot starts here\r\n    svg1.selectAll(\".scatterplot_g\").data(scatterplot_data).join('g').attr(\"id\", d => d[0] + \"scatterplot_g_id\").attr(\"class\", \"scatterplot_g\").attr(\"ax\", function (d) {\r\n      var temp_y = d[1].map(item => parseFloat(item[feature + \"_contribution\"])) // d[1] \r\n      y = d3.scaleLinear().domain([d3.min(temp_y), d3.max(temp_y)]).range([height, 0]).nice();\r\n\r\n      d3.select(this).selectAll('circle').data(d[1])\r\n        .join(\"circle\")\r\n        .attr(\"cx\", (d, i) => {\r\n          return x(d[feature]) + x.bandwidth() / 2\r\n        })\r\n        .attr(\"cy\", (d, i) => {\r\n          if (y(parseFloat(d[feature_contribute])) < 10) {\r\n            return 10;\r\n          }\r\n          else if (y(parseFloat(d[feature_contribute])) > (height - 10)) {\r\n            return height - 10;\r\n          }\r\n          return y(parseFloat(d[feature_contribute])) - 0\r\n\r\n        })\r\n        .attr(\"actual_Y_valu\", d => d[feature_contribute])\r\n        .attr(\"r\", 4)\r\n        .attr(\"class\", \"random\")\r\n        .attr(\"fill\", (d) => self.props.color_gen(d['State']))\r\n        .attr(\"id\", d => \"A\" + String(d['State']).replace(/ +/g, \"\"))\r\n        .attr(\"class\", function (d) {\r\n          return \"bar myid\" + String(d['two_realRank']) + \" exp_circles\"\r\n        })\r\n        .attr('dataset_name',d[0])\r\n        .on(\"click\", d => {\r\n          self.props.textClickHandler_original(\"A\" + d[\"State\"])\r\n        })\r\n    })\r\n\r\n// Define the div for the tooltip\r\nvar div = d3.select(\"body\").append(\"div\")\r\n.attr(\"class\", \"tooltip2\")\r\n.style(\"opacity\", 0);\r\nd3.selectAll('.exp_circles')\r\n.on(\"mouseover\", function (d) {\r\n  div.transition()\r\n    .duration(200)\r\n    .style(\"opacity\", .9);\r\n  div.html(\"<p>\" + d['State'] + \"</p>\" + \"<p>\" + \"Model: \" + d3.select(this).attr('dataset_name') + \"</p>\")\r\n  //div.html(d['State'])\r\n    .style(\"left\", (d3.event.pageX) + \"px\")\r\n    .style(\"top\", (d3.event.pageY - 28) + \"px\");\r\n})\r\n.on(\"mouseout\", function (d) {\r\n  d3.selectAll('.tooltip2').transition()\r\n    .duration(500)\r\n    .style(\"opacity\", 0);\r\n})\r\n\r\n    //------------------------------------------------------------------------------------------------------ Scatterplot ends here\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div style={{ margin: 10, padding: 10, border: this.props.index == 0 ? \"3px solid #e5e5e5\" : \"white\" }}>\r\n        <svg id={this.props.myid}> </svg>\r\n        \r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst maptstateToprop = (state) => {\r\n  return {\r\n    //popup_chart_data: state.popup_chart_data,\r\n    pop_over_models: state.pop_over_models,\r\n    clicked_items_in_slopechart: state.clicked_items_in_slopechart,\r\n    config: state.config,\r\n    mode: state.mode,\r\n    range_mode_model: state.range_mode_model,\r\n    time_mode_model: state.time_mode_model,\r\n    defualt_models:state.defualt_models\r\n  }\r\n}\r\nconst mapdispatchToprop = (dispatch) => {\r\n  return {\r\n    Set_clicked_items_in_slopechart: (val) => dispatch({ type: \"clicked_items_in_slopechart\", value: val }),\r\n  }\r\n}\r\nexport default connect(maptstateToprop, mapdispatchToprop)(Chart);","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport { connect } from \"react-redux\";\r\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\r\nfunction FadeMenu(props) {\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const open = Boolean(anchorEl);\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n  //------------For list and chckbox\r\n  const [checked, setChecked] = React.useState([0]);\r\n  const handleToggle = (value) => () => {\r\n    const currentIndex = checked.indexOf(value);\r\n    const newChecked = [...checked];\r\n    if (currentIndex === -1) {\r\n      newChecked.push(value);\r\n    } else {\r\n      newChecked.splice(currentIndex, 1);\r\n    }\r\n    setChecked(newChecked);\r\n  };\r\n  //----------------\r\n  const checkboxChanged = (event) => {\r\n    let temp_Models=[...props.pop_over_models].filter(item=>item!=\"ListNet\")\r\n    if (temp_Models.includes(event.target.value)) {\r\n      temp_Models = props.pop_over_models.filter(item => item != event.target.value)\r\n      props.Set_pop_over_models(temp_Models)\r\n    }\r\n    else {\r\n      temp_Models.push(event.target.value)\r\n      props.Set_pop_over_models(temp_Models)\r\n    }\r\n  }\r\n  return (\r\n    <div>\r\n      <Button aria-controls=\"fade-menu\" aria-haspopup=\"true\" onClick={handleClick}>\r\n        Filter Models\r\n        <ArrowDropDownIcon></ArrowDropDownIcon>\r\n      </Button>\r\n      <Menu\r\n        id=\"fade-menu\"\r\n        anchorEl={anchorEl}\r\n        keepMounted\r\n        open={open}\r\n        onClose={handleClose}\r\n        TransitionComponent={Fade}\r\n      >\r\n        <div className=\"CheckboxContainer\">\r\n          <List>\r\n            {props.defualt_models.map((value) => {\r\n              const labelId = `checkbox-list-label-${value}`;\r\n              return (\r\n                <ListItem key={value} role={undefined} onClick={handleToggle(value)}>\r\n                  <Checkbox checked={props.pop_over_models.includes(value)} edge=\"start\" tabIndex={-1}\r\n                    value={value}\r\n                    onChange={(event, value) => {\r\n                      checkboxChanged(event, value)\r\n                    }\r\n                    }\r\n                  />\r\n                  <p className=\"list_item_label\" id={labelId}>{value}</p>\r\n                </ListItem>\r\n              );\r\n            })}\r\n          </List>\r\n        </div>\r\n      </Menu>\r\n    </div>\r\n  );\r\n}\r\nconst maptstateToprop = (state) => {\r\n  return {\r\n    pop_over_models:state.pop_over_models,\r\n    defualt_models:state.defualt_models\r\n  }\r\n}\r\nconst mapdispatchToprop = (dispatch) => {\r\n  return {\r\n    Set_defualt_models: (val) => dispatch({ type: \"defualt_models\", value: val }),\r\n    Set_pop_over_models: (val) => dispatch({ type: \"pop_over_models\", value: val }),\r\n  }\r\n}\r\nexport default connect(maptstateToprop, mapdispatchToprop)(FadeMenu);\r\n//https://material-ui.com/components/menus/\r\n","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport { connect } from \"react-redux\";\r\nimport Chart_pop from './chart_pop'\r\nimport Draggable from 'react-draggable';\r\nimport * as d3 from 'd3';\r\nimport Grid from \"@material-ui/core/Grid\"\r\nimport FilterModel from \"./FilterModel\"\r\nimport * as $ from 'jquery';\r\nexport function SimplePopover(props) {\r\n    console.log(props.dbclicked_features)\r\n    const handleClose = () =>{\r\n        props.set_pop_over(false)\r\n        props.set_dbclicked_features([])\r\n    };\r\n    return (\r\n        <div style={{ position: \"relative\" }}>\r\n            {props.pop_over == true ?\r\n                <div style={{ top: \"2%\", left: \"14%\", position: \"fixed\",pointerEvents:\"none\",backgroundColor:\"transparent\" }}>\r\n                    <Draggable>\r\n                        <Grid style={{ backgroundColor: \"#ffffff\", boxShadow: \"3px 2px 15px -7px #000000\",pointerEvents:\"auto\" }}>\r\n                            <Grid container style={{ borderBottom: \"1px solid #e2e2e2\", marginBottom: 20 }}\r\n                                direction=\"row\"\r\n                                justify=\"space-between\"\r\n                                alignItems=\"center\"\r\n                            >\r\n                                <FilterModel defualt_models={props.defualt_models}></FilterModel>\r\n                                <Button color=\"secondary\" id=\"draggable-dialog-title\" onClick={handleClose}>close</Button>\r\n                            </Grid>\r\n                            <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\" style={{maxHeight:700,overflow:\"scroll\",maxWidth:1600}}>\r\n                                {\r\n                                //props.dbclicked_features.length>0?props.dbclicked_features.map((item,index)=><Chart_pop index={index} popup_chart_data={[props.popup_chart_data[0],item]} defualt_models={props.defualt_models} myid={item.replace(/\\s/g, '').replace(/[`~!@#$%^&*()_|+\\-=?;:'\",.<>\\{\\}\\[\\]\\\\\\/]/gi, '')} color_gen={props.color_gen} textClickHandler_original={props.textClickHandler_original}></Chart_pop>):<Chart_pop popup_chart_data={props.popup_chart_data} defualt_models={props.defualt_models} myid=\"myid1\" color_gen={props.color_gen} textClickHandler_original={props.textClickHandler_original}></Chart_pop>\r\n                                }\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Draggable>\r\n                </div> : null}\r\n        </div>\r\n    );\r\n}\r\nconst maptstateToprop = (state) => {\r\n    return {\r\n        popup_chart_data: state.popup_chart_data,\r\n        pop_over: state.pop_over,\r\n        dbclicked_features:state.dbclicked_features,\r\n    }\r\n}\r\nconst mapdispatchToprop = (dispatch) => {\r\n    return {\r\n        set_pop_over: (val) => dispatch({ type: \"pop_over\", value: val }),\r\n        set_dbclicked_features: (val) => dispatch({ type: \"dbclicked_features\", value: val }),\r\n        set_clicked_features: (val) => dispatch({ type: \"clicked_features\", value: val }),\r\n    }\r\n}\r\nexport default connect(maptstateToprop, mapdispatchToprop)(SimplePopover);\r\n","import React, { Component } from 'react';\r\n//------------------------------------------------All datasets imports\r\nimport fiscal from \"./Data/fiscal.csv\";\r\nimport school from \"./Data/school.csv\";\r\nimport house from \"./Data/house.csv\";\r\n\r\nimport fiscal_rank from \"./Data/data/fiscal/lime/fiscal_rank.csv\";\r\nimport fiscal_lime from \"./Data/data/fiscal/lime/fiscal_lime.csv\";\r\n\r\nimport school_rank from \"./Data/data/school/lime/school_rank.csv\";\r\nimport school_lime from \"./Data/data/school/lime/school_lime.csv\";\r\n\r\nimport house_rank from \"./Data/data/house/lime/house_rank.csv\";\r\nimport house_lime from \"./Data/data/house/lime/house_lime.csv\";\r\n\r\n//------------------------------------------------All datasets imports ends here\r\nimport \"./App.scss\";\r\nimport * as d3 from 'd3';\r\nimport * as algo1 from \"./Algorithms/algo1\";\r\nimport ModelChart from \"./components/Charts/Model/ModelChart\"\r\nimport RangeChart from \"./components/Charts/Range/RangeChart\"\r\nimport YearChart from \"./components/Charts/Time/YearChart\"\r\nimport TopBar from \"./components/TopBar/TopBar\"\r\nimport { Row, Col } from 'reactstrap';\r\nimport Sidebar from \"./components/Sidebar/Sidebar\";\r\nimport Button from '@material-ui/core/Button';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\nimport * as $ from 'jquery';\r\nimport { connect } from \"react-redux\";\r\nimport Grid from '@material-ui/core/Grid';\r\nimport \"./components/Charts/Charts.css\"\r\nimport Popover from './components/Popover/Popover';\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    // mydata is original data\r\n    this.state = {\r\n      random: 10,\r\n      original_data: null, grouped_by_year_data: null, show: [\"Slope charts\", \"Rankings\", \"Explanation\"], view_data: 1,\r\n      histogram_data: [], ref_year: null, features_dict: {}, features_voted: null, Legend_ready_to_vis: null, legend_model: \"CordAscent\",\r\n    };\r\n  }\r\n  handleradioChange = (event) => {\r\n    this.setState({ show: [\"Slope charts\", \"Rankings\", \"Explanation\"] })\r\n    this.props.Set_slider_and_feature_value({ 'Rank range': 1, 'Feature': 0 })\r\n    this.props.Set_clicked_items_in_slopechart([])\r\n    this.props.Set_state_range([1, 25])\r\n    this.props.Set_histogram_data([])\r\n    this.props.Set_mode(\"Model\")\r\n    this.props.Set_range_mode_range1([1, 25])\r\n    this.props.Set_range_mode_range2([15, 40])\r\n    this.props.Set_time_mode_range([5, 35])\r\n    if (event.target.value == 'Fiscal Dataset') {\r\n      this.setState({ dataset: 'fiscal' })\r\n      this.props.Set_dataset('fiscal')\r\n      this.dataprocessor(\"fiscal\")\r\n    }\r\n    else if (event.target.value == 'House Dataset') {\r\n      this.setState({ dataset: 'house' })\r\n      this.props.Set_dataset('house')\r\n      this.dataprocessor(\"house\")\r\n    }\r\n    else {\r\n      this.setState({ dataset: 'school' })\r\n      this.props.Set_dataset('school')\r\n      this.dataprocessor(\"school\")\r\n    }\r\n  };\r\n\r\n  task2 = () => {\r\n    if (this.props.clicked_items_in_slopechart.length > 0) {\r\n      d3.selectAll('circle,.datapoint').attr('opacity', this.props.config.reduced_opacity)\r\n    }\r\n    this.props.clicked_items_in_slopechart.map(idName => d3.selectAll('#' + idName).attr('opacity', 1))\r\n  }\r\n\r\n  textClickHandler_original = (state_name) => { // state_name is set as the id of each element\r\n    var idName = state_name.replace(/ +/g, \"\")\r\n\r\n    //----Whatever properties are changed due to click change back here for the original \r\n    d3.selectAll('#' + idName).filter(d3.matcher('line')).style('stroke-width', 1)\r\n    //----Whatever properties are changed due to click change back here for the original\r\n\r\n    //-----Store the clicked items\r\n    var clicked_items_in_slopechart = [...this.props.clicked_items_in_slopechart]\r\n    if (clicked_items_in_slopechart.includes(idName)) {\r\n      clicked_items_in_slopechart = clicked_items_in_slopechart.filter(element => element != idName)\r\n    }\r\n    else { clicked_items_in_slopechart.push(idName) }\r\n    this.props.Set_clicked_items_in_slopechart(clicked_items_in_slopechart)\r\n    //-----Store the clicked items ends here\r\n\r\n    if (clicked_items_in_slopechart.length > 0) {\r\n      d3.selectAll('circle,.datapoint').attr('opacity', this.props.config.reduced_opacity)\r\n      this.props.clicked_items_in_slopechart.map(idName => {\r\n        d3.selectAll('#' + idName).attr('opacity', 1)\r\n        d3.selectAll('#' + idName).filter(d3.matcher('line')).style('stroke-width', 3)\r\n      })\r\n    }\r\n    else {\r\n      d3.selectAll('circle,.datapoint').attr('opacity', 1)\r\n    }\r\n\r\n    //d3.selectAll('.line1,.line2').attr('opacity',1)\r\n  }\r\n\r\n  //--------- data processor processes data for initial render\r\n  dataprocessor = (dataset_name) => {\r\n    if (dataset_name == \"school\") { this.process_data(school, school_rank, school_lime, dataset_name) }\r\n    if (dataset_name == \"fiscal\") { this.process_data(fiscal, fiscal_rank, fiscal_lime, dataset_name) }\r\n    if (dataset_name == \"house\") { this.process_data(house, house_rank, house_lime, dataset_name) }\r\n  }\r\n  process_data = (slopechart_data_filename, rank_data_filename, lime_data_filename, dataset_name) => {\r\n    var self = this\r\n    //-------------\r\n    d3.csv(slopechart_data_filename).then(original_data => {\r\n      var grouped_by_year_data = algo1.groupby_year(original_data).years\r\n      var sparkline_data = algo1.groupby_year(original_data).sparkline_data\r\n      var years_for_dropdown = Object.keys(grouped_by_year_data)\r\n      self.props.Set_sparkline_data(sparkline_data)\r\n      self.props.Set_slider_max(grouped_by_year_data[years_for_dropdown[0]].length)\r\n      self.setState({ years_for_dropdown: years_for_dropdown })\r\n      self.props.Set_years_for_dropdown(years_for_dropdown)\r\n      self.props.Set_time_mode_year1(years_for_dropdown[0])\r\n      self.props.Set_time_mode_year2(years_for_dropdown[1])\r\n      self.props.Set_legend_year(years_for_dropdown[0])\r\n      self.setState({ ref_year: years_for_dropdown[0] })\r\n      self.props.Set_grouped_by_year_data(grouped_by_year_data)\r\n      self.setState({ grouped_by_year_data: grouped_by_year_data })\r\n      self.setState({ original_data: original_data })\r\n      self.props.Set_original_data(original_data)\r\n      self.props.Set_selected_year(years_for_dropdown[0])\r\n    })\r\n    //-------------\r\n    d3.csv(rank_data_filename).then(data => {\r\n      var nested_data = {}\r\n      d3.nest().key(function (d) { return d.model; }).entries(data).map(item => {\r\n        nested_data[item.key] = item.values\r\n      })\r\n      self.props.Set_rank_data(nested_data)\r\n    })\r\n    //-------------\r\n    d3.csv(lime_data_filename).then(data => {\r\n      var nested_data = {}\r\n      d3.nest().key(function (d) { return d.model; }).entries(data).map(item => {\r\n        nested_data[item.key] = item.values\r\n      })\r\n      self.props.Set_lime_data(nested_data)\r\n    })\r\n\r\n  }\r\n  buttonclickHandler = (value, type) => {\r\n    setTimeout(() => { this.setState({ random: Math.random() }) }, 500);\r\n    type = \"button\" ? this.setState({ view_data: value }) : null\r\n    type = \"form\" ? this.setState({ view_data: value }) : null\r\n  }\r\n  //-----------------Models are generated ends here\r\n  componentDidMount() {\r\n    this.dataprocessor(\"fiscal\")\r\n  }\r\n  shouldComponentUpdate() {\r\n    return true;\r\n  }\r\n  render() {\r\n    return (\r\n      <div key={this.state.random}>\r\n        <Row>\r\n          <div style={{ width: 207 }} className=\"Sidebar\">\r\n            {this.props.original_data != null ?\r\n              <Sidebar view_data={this.state.view_data}\r\n                dataset={this.props.dataset} sort_by={this.props.sort_by} chart_scale_type={this.props.chart_scale_type}>\r\n              </Sidebar> : null}\r\n          </div>\r\n          <Col style={{ width: window.innerWidth - 200, minHeight: window.innerHeight }} className=\"container_header_and_components\">\r\n            <div className=\"uploader_topbar\">\r\n              <Grid container spacing={0} className=\"myheader\" style={{ left: $('.Sidebar').width() }}>\r\n                <Grid item style={{ borderRight: \"1px dashed #eaeaea\", width: 100 }}><Button onClick={() => this.buttonclickHandler(1, \"button\")}>View Data</Button></Grid>\r\n                <Grid item style={{ borderRight: \"1px dashed #eaeaea\", width: 120 }}><Button onClick={() => this.buttonclickHandler(0, \"button\")}>Load Data</Button></Grid>\r\n              </Grid>\r\n              {this.state.view_data == false ?\r\n                <Row className=\"Topbar_container\">\r\n                  <div className=\"load\">\r\n                    <form onSubmit={() => this.buttonclickHandler(1, \"form\")}>\r\n                      <FormControl component=\"fieldset\">\r\n                        <FormLabel component=\"legend\"></FormLabel>\r\n                        <RadioGroup aria-label=\"gender\" name=\"gender1\" onChange={this.handleradioChange}>\r\n                          {['Fiscal Dataset', 'School Dataset', 'House Dataset'].map((value) => {\r\n                            return <FormControlLabel value={value} control={<Radio />} label={value} />\r\n                          })}\r\n                        </RadioGroup>\r\n                        <Button type=\"submit\" variant=\"outlined\" color=\"primary\">Load</Button>\r\n                      </FormControl>\r\n                    </form>\r\n                  </div></Row>\r\n                : null}\r\n            </div>\r\n            {this.state.view_data == true ?\r\n              <Grid container direction=\"row\" justify=\"flex-start\" alignItems=\"center\" >\r\n                <Grid container spacing={0} direction=\"row\" justify=\"space-evenly\" className=\"slopechart_container\" style={{ height: window.innerHeight - $('.uploader_topbar').height(), width: window.innerWidth - ($('.Sidebar_parent').width() + $('.legend').width() + 15) }}>\r\n                  {this.props.mode == \"Model\" && this.state.grouped_by_year_data != null && this.props.original_data != null && this.props.lime_data != null ? <ModelChart></ModelChart> : null}\r\n                  {this.props.mode == \"Range\" && this.state.grouped_by_year_data != null && this.props.original_data != null && this.props.lime_data != null ? <RangeChart></RangeChart> : null}\r\n                  {this.props.mode == \"Time\" && this.state.grouped_by_year_data != null && this.props.original_data != null && this.props.lime_data != null ? <YearChart></YearChart> : null}\r\n                </Grid>\r\n              </Grid> : null}\r\n          </Col>\r\n        </Row>\r\n        <Popover></Popover>\r\n      </div>\r\n    );\r\n  }\r\n  makeArr = () => {\r\n    var startValue = this.props.state_range[0];\r\n    var stopValue = this.props.state_range[1];\r\n    var arr = [];\r\n    for (var i = startValue; i <= stopValue; i++) {\r\n      arr.push(i);\r\n    }\r\n    //hi\r\n    return arr;\r\n  }\r\n}\r\nconst maptstateToprop = (state) => {\r\n  return {\r\n    tracking: state.tracking,\r\n    state_range: state.state_range,\r\n    deviate_by: state.deviate_by,\r\n    defualt_models: state.defualt_models,\r\n    sparkline_data: state.sparkline_data,\r\n    selected_year: state.selected_year,\r\n    mode: state.mode,\r\n    range_mode_model: state.range_mode_model,\r\n    original_data: state.original_data,\r\n    time_mode_model: state.time_mode_model,\r\n    chart_scale_type: state.chart_scale_type,\r\n    dataset: state.dataset,\r\n    histogram_data: state.histogram_data,\r\n    sort_by: state.sort_by,\r\n    time_mode_year1: state.time_mode_year1,\r\n    time_mode_year2: state.time_mode_year2,\r\n    popup_chart_data: state.popup_chart_data,\r\n    clicked_items_in_slopechart: state.clicked_items_in_slopechart,\r\n    config: state.config,\r\n    lime_data: state.lime_data,\r\n    rank_data: state.rank_data,\r\n  }\r\n}\r\nconst mapdispatchToprop = (dispatch) => {\r\n  return {\r\n    Set_dataset: (val) => dispatch({ type: \"dataset\", value: val }),\r\n    Set_defualt_models: (val) => dispatch({ type: \"defualt_models\", value: val }),\r\n    Set_sparkline_data: (val) => dispatch({ type: \"sparkline_data\", value: val }),\r\n    Set_slider_max: (val) => dispatch({ type: \"slider_max\", value: val }),\r\n    Set_years_for_dropdown: (val) => dispatch({ type: \"years_for_dropdown\", value: val }),\r\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: parseInt(val) }),\r\n    Set_ref_year: (val) => dispatch({ type: \"ref_year\", value: val }),\r\n    Set_original_data: (val) => dispatch({ type: \"original_data\", value: val }),\r\n    Set_grouped_by_year_data: (val) => dispatch({ type: \"grouped_by_year_data\", value: val }),\r\n    Set_slider_and_feature_value: (val) => dispatch({ type: \"slider_and_feature_value\", value: val }),\r\n    Set_clicked_items_in_slopechart: (val) => dispatch({ type: \"clicked_items_in_slopechart\", value: val }),\r\n    Set_histogram_data: (val) => dispatch({ type: \"histogram_data\", value: val }),\r\n    Set_state_range: (val) => dispatch({ type: \"state_range\", value: val }),\r\n    Set_legend_year: (val) => dispatch({ type: \"legend_year\", value: val }),\r\n\r\n    Set_mode: (val) => dispatch({ type: \"mode\", value: val }),\r\n    Set_range_mode_range1: (val) => dispatch({ type: \"range_mode_range1\", value: val }),\r\n    Set_range_mode_range2: (val) => dispatch({ type: \"range_mode_range2\", value: val }),\r\n    Set_time_mode_range: (val) => dispatch({ type: \"time_mode_range\", value: val }),\r\n    Set_time_mode_year1: (val) => dispatch({ type: \"time_mode_year1\", value: val }),\r\n    Set_time_mode_year2: (val) => dispatch({ type: \"time_mode_year2\", value: val }),\r\n\r\n    Set_rank_data: (val) => dispatch({ type: \"rank_data\", value: val }),\r\n    Set_lime_data: (val) => dispatch({ type: \"lime_data\", value: val }),\r\n    Set_pop_over_models: (val) => dispatch({ type: \"pop_over_models\", value: val }),\r\n    Set_default_model_scores: (val) => dispatch({ type: \"default_model_scores\", value: val }),\r\n\r\n  }\r\n}\r\nexport default connect(maptstateToprop, mapdispatchToprop)(App);","let initialState = {\r\n   anim_config: {rank_animation:3000,deviation_animation:3000,feature_animation:3000,circle_animation:3000},\r\n   appHandleChange: null,\r\n   sparkline_data: null,\r\n   sort_by: \"Average Precision\",\r\n   original_data: null,\r\n   rank_data: null,\r\n   lime_data: null,\r\n   grouped_by_year_data: null,\r\n   slope_chart_ready_to_vis: null,\r\n   defualt_models: [\"LinearReg\",\"CordAscent\"], // Change the pop_over_models as well\r\n   state_range: [1, 30], // Change in handleradioChange\r\n   deviate_by: 0,\r\n   show: [\r\n      \"Slope charts\", \"Rankings\", \"Explanation\" // change in app.js\r\n   ],\r\n   years_for_dropdown: [\r\n      \"2006\"\r\n   ],\r\n   selected_year: 2006,\r\n   selected_years: [\"2006\"],\r\n   slider_min: 1,\r\n   slider_max: 50,\r\n   view_data: 1,\r\n   dataset: \"fiscal\", // change in componentDidmount in app.js too\r\n   histogram_data: [],\r\n   chart_scale_type: \"true\",\r\n   features_with_score: null,\r\n   ref_year: null,\r\n   cmodel: \"CordAscent\",\r\n   clicked_items_in_slopechart: [],\r\n   tracking: false,\r\n   dummy: null,\r\n   features_dict: {},\r\n   features_voted: null,\r\n   Legend_ready_to_vis: null,\r\n   legend_model: \"CordAscent\",\r\n   legend_show_option: \"Rank\",\r\n   legend_year: 2012,\r\n   mode: \"Model\",\r\n   range_mode_model: \"CordAscent\",\r\n   range_mode_range1: [1, 25],\r\n   range_mode_range2: [15, 40],\r\n   time_mode_model: \"CordAscent\",\r\n   time_mode_year1: \"Null\",\r\n   time_mode_year2: \"Null\",\r\n   time_mode_range: [6, 32],\r\n   chart_scale_type: \"true\",\r\n   slider_and_feature_value: { 'Rank range': 1, 'Feature': 1 },\r\n   prev_prop: {},\r\n   replay: false,\r\n   changed: \"year\",\r\n   popup_chart_data: null,\r\n   pop_over: false,\r\n   pop_over_models: [\"MART\", \"LinearReg\"],\r\n   clicked_features: [],\r\n   drag_drop_feautre_data: {},\r\n   dbclicked_features: [],\r\n   default_model_scores: {},\r\n   all_models: [\"MART\", \"RandomFor\", \"LinearReg\", \"CordAscent\", \"LambdaMART\", \"LambdaRank\", \"RankBoost\", \"RankNet\"],\r\n   average_y: false,\r\n   average_m: false,\r\n   clicked_circles:[],\r\n   threshold:100,\r\n}\r\n//---InitialState ends here\r\nconst reducer = (state = initialState, action) => {\r\n   if (action.type === \"threshold\") {\r\n      //console.log(action.value)\r\n      return { ...state, threshold: action.value }\r\n   }\r\n   if (action.type === \"clicked_circles\") {\r\n      //console.log(action.value)\r\n      return { ...state, clicked_circles: action.value }\r\n   }\r\n   if (action.type === \"average_y\") {\r\n      console.log(action.value)\r\n      return { ...state, average_y: action.value }\r\n   }\r\n   if (action.type === \"average_m\") {\r\n      console.log(action.value)\r\n      return { ...state, average_m: action.value }\r\n   } \r\n   if (action.type === \"selected_years\") {\r\n      console.log(action.value)\r\n      return { ...state, selected_years: action.value[action.value.length-1],selected_year:action.value[action.value.length-1] }\r\n   }\r\n   if (action.type === \"default_model_scores\") {\r\n      //console.log(action.value)\r\n      return { ...state, default_model_scores: action.value }\r\n   }\r\n   if (action.type === \"dbclicked_features\") {\r\n      return { ...state, dbclicked_features: action.value }\r\n   }\r\n   if (action.type === \"drag_drop_feautre_data\") {\r\n      return { ...state, drag_drop_feautre_data: action.value }\r\n   }\r\n   if (action.type === \"anim_config\") {\r\n      return { ...state, config: action.value }\r\n   }\r\n   if (action.type === \"show\") {\r\n      return { ...state, show: action.value }\r\n   }\r\n   if (action.type === \"lime_data\") {\r\n      return { ...state, lime_data: action.value }\r\n   }\r\n   if (action.type === \"defualt_models\") {\r\n      return { ...state, defualt_models: action.value }\r\n   }\r\n   if (action.type === \"rank_data\") {\r\n      return { ...state, rank_data: action.value }\r\n   }\r\n   if (action.type === \"original_data\") {\r\n      return { ...state, original_data: action.value }\r\n   }\r\n   if (action.type === \"years_for_dropdown\") {\r\n      return { ...state, years_for_dropdown: action.value }\r\n   }\r\n   if (action.type === \"appHandleChange\") {\r\n      return { ...state, appHandleChange: action.value }\r\n   }\r\n   if (action.type === \"state_range\") {\r\n      return { ...state, state_range: action.value }\r\n   }\r\n   if (action.type === \"selected_year\") {\r\n      return { ...state, selected_year: action.value,selected_years: [action.value.toString()] }\r\n   }\r\n   if (action.type === \"tracking\") {\r\n      return { ...state, tracking: action.value }\r\n   }\r\n   if (action.type === \"grouped_by_year_data\") {\r\n      return { ...state, grouped_by_year_data: action.value }\r\n   }\r\n   if (action.type === \"sort_by\") {\r\n      return { ...state, sort_by: action.value }\r\n   }\r\n   if (action.type === \"deviate_by\") {\r\n      return { ...state, deviate_by: action.value }\r\n   }\r\n   if (action.type === \"mode\") {\r\n      return { ...state, mode: action.value }\r\n   }\r\n   if (action.type === \"slider_max\") {\r\n      return { ...state, slider_max: action.value }\r\n   }\r\n   if (action.type === \"range_mode_model\") {\r\n      return { ...state, range_mode_model: action.value }\r\n   }\r\n   //----\r\n   if (action.type === \"range_mode_range1\") {\r\n      return { ...state, range_mode_range1: action.value }\r\n   }\r\n   if (action.type === \"range_mode_range2\") {\r\n      return { ...state, range_mode_range2: action.value }\r\n   }\r\n   if (action.type === \"time_mode_range\") {\r\n      return { ...state, time_mode_range: action.value }\r\n   }\r\n   if (action.type === \"time_mode_model\") {\r\n      return { ...state, time_mode_model: action.value }\r\n   }\r\n   if (action.type === \"time_mode_year1\") {\r\n      return { ...state, time_mode_year1: action.value }\r\n   }\r\n   if (action.type === \"time_mode_year2\") {\r\n      return { ...state, time_mode_year2: action.value }\r\n   }\r\n   if (action.type === \"clicked_items_in_slopechart\") {\r\n      return { ...state, clicked_items_in_slopechart: action.value }\r\n   }\r\n   if (action.type === \"features_with_score\") {\r\n      return { ...state, features_with_score: action.value }\r\n   }\r\n   if (action.type === \"sparkline_data\") {\r\n      return { ...state, sparkline_data: action.value }\r\n   }\r\n   if (action.type === \"legend_show_option\") {\r\n      return { ...state, legend_show_option: action.value }\r\n   }\r\n   if (action.type === \"legend_model\") {\r\n      return { ...state, legend_model: action.value }\r\n   }\r\n   if (action.type === \"histogram_data\") {\r\n      return { ...state, histogram_data: action.value }\r\n   }\r\n   if (action.type === \"dataset\") {\r\n      return { ...state, dataset: action.value }\r\n   }\r\n   if (action.type === \"slider_and_feature_value\") {\r\n      return { ...state, slider_and_feature_value: action.value }\r\n   }\r\n   if (action.type === \"legend_year\") {\r\n      return { ...state, legend_year: action.value }\r\n   }\r\n   if (action.type === \"prev_prop\") {\r\n      return { ...state, prev_prop: action.value }\r\n   }\r\n   if (action.type === \"replay\") {\r\n      return { ...state, replay: action.value }\r\n   }\r\n   if (action.type === \"changed\") {\r\n      return { ...state, changed: action.value }\r\n   }\r\n   if (action.type === \"popup_chart_data\") {\r\n      return { ...state, popup_chart_data: action.value }\r\n   }\r\n   if (action.type === \"pop_over\") {\r\n      return { ...state, pop_over: action.value }\r\n   }\r\n   if (action.type === \"pop_over_models\") {\r\n      var temp = action.value.filter(item => item != \"ListNet\")\r\n      return { ...state, pop_over_models: temp }\r\n   }\r\n   if (action.type === \"clicked_features\") {\r\n      //console.log(action.value)\r\n      return { ...state, clicked_features: action.value }\r\n   }\r\n   return state;\r\n}\r\nexport default reducer;","import { createMuiTheme } from '@material-ui/core/styles';\r\nconst theme = createMuiTheme({      \r\n  typography: {\r\n    button: {\r\n      textTransform: 'none'\r\n    }\r\n  }\r\n});\r\nexport default theme;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport { createStore } from 'redux';\r\nimport {Provider} from 'react-redux';\r\nimport reducer from './store/reducer';\r\nimport theme from './Themes'; \r\nimport { ThemeProvider } from '@material-ui/styles';\r\nconst store=createStore(reducer);\r\nReactDOM.render( <ThemeProvider theme={theme}><Provider store={store}><App /></Provider></ThemeProvider>,document.getElementById('root'));\r\n\r\n\r\n"],"sourceRoot":""}