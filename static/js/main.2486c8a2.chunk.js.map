{"version":3,"sources":["Data/data/airbnb/shap/airbnb_shap.csv","Data/data/fiscal/lime/chart1_data.csv","Data/data/school/lime/chart1_data.csv","Data/RUR/RUR_histogram_data.csv","Data/data/airbnb/lime/chart1_data.csv","Data/fiscal.csv","Data/school.csv","Data/house.csv","Data/RUR/RUR.csv","Data/airbnb.csv","Data/data/fiscal/lime/fiscal_rank.csv","Data/data/school/lime/school_rank.csv","Data/data/airbnb/lime/airbnb_rank.csv","Data/RUR/RUR_rank.csv","Data/RUR/RUR_lime.csv","Data/data/house/lime/house_rank.csv","Data/data/house/lime/house_lime.csv","Data/data/house/lime/chart1_data.csv","Algorithms/algo1.js","components/Charts/DevPlot/deviation_chart.js","Algorithms/misc_algo.js","components/Charts/Model/ModelSlider.js","store/reducer.js","components/Charts/ExpChart/Create_exp_circles.js","components/Charts/Model/ExpChartComponent.js","components/Charts/Model/YearAndModelSelection/YearModelSelection.js","components/Charts/Popover/CreateCatChart.js","components/Charts/Popover/CreateNumChart.js","components/Charts/Popover/02Charts.js","components/Charts/Popover/FilterModel.js","components/Charts/Popover/01Popover.js","components/Charts/Model/ModelChartComponent.js","components/Charts/Range/SliderGroup1.js","components/Charts/Range/SliderGroup2.js","components/Charts/Range/YearAndModelSelection/YearModelSelection.js","components/Charts/Range/02RangeExpChart.js","components/Charts/Range/04PopoverCharts.js","components/Charts/Range/03RangePopover.js","components/Charts/Range/01RangeChartComponent.js","components/Charts/Time/Year1DropDown.js","components/Charts/Time/Year2DropDown.js","components/Charts/Time/YearAndModelSelection/Slider.js","components/Charts/Time/YearAndModelSelection/YearModelSelection.js","components/Charts/Time/02ExpChartComponentTime.js","components/Charts/Time/04PopoverCharts.js","components/Charts/Time/03TimePopover.js","components/Charts/Time/01YearChartComponent.js","components/Top/FeatureHistograms/FeatureHistograms.js","components/Top/FeatureHistograms/CreateBarChart.js","components/Top/FeatureHistograms/CreateHistogram.js","components/Top/FeaturesDropdown.js","components/Top/SelectMode.js","components/Top/SelectExpMethod.js","components/Top/theme.js","components/Top/Threshold.js","components/Top/Advance.js","components/Top/LabelOn.js","components/Top/Top.js","components/Legend/Legend.js","App.js","Themes.js","index.js","Data/data/airbnb/lime/airbnb_lime.csv","Data/data/fiscal/lime/fiscal_lime_may25.csv","Data/data/fiscal/ice/fiscal_ice_may25.csv","Data/data/school/lime/school_lime_may25.csv","Data/data/school/ice/school_ice_may25.csv"],"names":["module","exports","sort","type","state_range","default_models","selected_year","grouped_by_year_data","console","log","nDCG_dict","i","Object","keys","forEach","key","parseFloat","items","map","substring","first","second","temp_ndcg","length","includes","push","temp1","myitem","mydict","model","temp","Math","sqrt","temp_ap","groupby_year","original_data","years","sparkline_data","element","replace","temp_dict","year","parseInt","rank","getSortedFeatures","lime_data","selected_instances","filtered_data","filter","item","feature_cols","feature","x","a","b","Create_deviation_chart","parent_id","parent_exp_id","anim_config","average","clicked_circles","Set_clicked_circles","diverginColor","Set_selected_year","dataset","threshold","div","d3","selectAll","data","join","attr","style","parent_width","$","width","parent_height","height","temp_scale_data","abs","config","y_distance","circle_radius","t","textures","lines","size","strokeWidth","stroke","background","call","d","enter","append","update","transition","duration","rank_animation","exit","remove","this","text","dd","val","data_for_all_years","line_data","model_name","two_realRank","predicted_rank","temp_max","sclale1","domain","range","url","d2","deviation_animation","delay","circ_data","classed","on","html","pageX","pageY","handle_transparency","class_name","circle_id","raise","useStyles","makeStyles","theme","root","heading","fontSize","typography","pxToRem","flexBasis","flexShrink","secondaryHeading","color","palette","secondary","tRoot","marginBottom","rang_input","marginLeft","connect","state","mode","slider_max","range_mode_model","range_mode_range1","range_mode_range2","time_mode_model","time_mode_range","time_mode_year1","time_mode_year2","years_for_dropdown","slider_and_feature_value","sort_by","dispatch","Set_state_range","value","Set_changed","Set_default_models","Set_default_model_scores","props","classes","React","useState","sliderRange","set_sliderRange","temp_marks","step","marks","label","className","paddingTop","border","padding","marginTop","TextField","input","id","onChange","event","isNaN","target","margin","Slider","newValue","onChangeCommitted","aria-labelledby","valueLabelDisplay","min","max","xs","Button","backgroundColor","onClick","alert","temp_Models","algo1","default_model_scores","initialState","global_config","max_circle_r","min_circle_r","feature_animation","circle_animation","appHandleChange","rank_data","slope_chart_ready_to_vis","exp_method","deviate_by","show","slider_min","view_data","histogram_data","chart_scale_type","features_with_score","ref_year","cmodel","clicked_items_in_slopechart","tracking","dummy","features_dict","features_voted","Legend_ready_to_vis","legend_model","legend_show_option","legend_year","prev_prop","replay","changed","popup_chart_data","pop_over","pop_over_models","clicked_features","drag_drop_feautre_data","dbclicked_features","all_models","average_y","average_m","deviation_array","dragged_features","label_on","reducer","action","def_models","sel_year","all_models_local","range_mode_model_local","time_mode_model_local","pop_over_models_local","createStore","getState","CreatexpCircle","selection","item_width","item_height","index","title_rect_height","sorted_features","item_top_margin","item_bottom_margin","circ_radius","item_left_margin","item_right_margin","feature_contrib_name","global_items","biggest","global_range","sum_data","xScale","my_mean","rScale","exponent","mycircles","x_transform","y_transform","getRandomArbitrary","seed","rand","rnd","disp","sin","floor","random","SlopeChart","Createsvg","indexed_features","self","under_threshold_instances","year_data","number_of_charts","excluded_features","slice","mds_height","feature_containers","parentNode","svg","markerBoxWidth","markerBoxHeight","preventDefault","setState","Set_pop_over_models","unshift","set_dbclicked_features","Set_popup_chart_data","set_pop_over","Set_clicked_features","line_color","exp","createRef","mds","mouseX","mouseY","circle_data","window","innerHeight","prev_props","JSON","stringify","misc_algo","ref","markerUnits","markerWidth","markerHeight","viewBox","refX","refY","orient","fill","Component","Set_dragged_features","Set_prev_prop","Set_sparkline_data","Set_replay","sortModels","display","justifyContent","marginRight","fontWeight","modelName","handle_model_click","CreateCatChart","scatterplot_data","feature_contribute","feature_width","barplot_data","temp_y","temp_x","values","nice","y","parent_svg","myid","svg1","tickSize","ft_svg","CreateNumChart","data_arr","data_for_x_axis","data_for_y_axis","yScale","ticks","tickFormat","select","Chart","merged_arr","concat","apply","entries","anchorEl","setAnchorEl","open","Boolean","checked","setChecked","handleToggle","currentIndex","indexOf","newChecked","splice","aria-controls","aria-haspopup","currentTarget","Menu","keepMounted","onClose","TransitionComponent","Fade","List","labelId","ListItem","role","undefined","Checkbox","edge","tabIndex","checkboxChanged","set_clicked_features","position","top","left","pointerEvents","boxShadow","container","borderBottom","direction","justify","alignItems","FilterModel","maxHeight","overflow","maxWidth","textClickHandler_original","height_slope_exp_chart","prevProps","prevState","deviation_chart","selectedModel","Set_selected_instances","Set_deviation_array","Grid","class","columnSpacing","exp_id","Set_range_mode_range1","Set_range_mode_range2","paddingLeft","Set_range_mode_model","group","selected_instances1","interpolate","data1","selected_instances2","data2","zIndex","paddingRight","SliderGroup1","borderRight","exp_data","SliderGroup2","Set_time_mode_year1","Autocomplete","disableClearable","defaultValue","toString","debug","options","option","renderInput","params","fullWidth","InputProps","disableUnderline","Set_time_mode_year2","Set_time_mode_range","Set_time_mode_model","verticalAlign","Box","sx","borderTop","borderLeft","Year1DropDown","Year2DropDown","FeatureHistograms","store_instances","feature_name","instances","all_instances","feature_data","filename","exp_fiscal_CordAscent","exp_school_CordAscent","exp_house_CordAscent","rur_histogram_data","exp_airbnb_histogram_data","then","nextProps","nextState","filtered_rank_data","localeCompare","feature_index","number_of_features","occur","sum_x","feature_height","CreateBarChart","item_data","area_chart_height","myticks","binned_data","thresholds","area_chart_data","x1","areaGenerator","curve","y0","y1","extent","lower","invert","upper","CreateHistogram","borderRadius","filtered_instances","Set","handleClose","Set_histogram_data","Set_slider_max","SimpleMenu","Set_mode","onSubmit","buttonclickHandler","FormControl","component","FormLabel","RadioGroup","aria-label","name","FormControlLabel","control","Radio","Set_exp_method","Set_lime_data","lime_data_filename","fiscal_lime","fiscal_ice","school_lime","school_ice","airbnb_lime","airbnb_shap","temp_data","d1","nested_data","process_data_mini","toLowerCase","outerTheme","createMuiTheme","primary","main","spacing","overrides","MuiFilledInput","MuiInputLabel","MuiTextField","MuiButton","textTransform","Root","disableRipple","variant","MuiCheckbox","InputLabelProps","shrink","Set_threshold","set_threshold","ThemeProvider","noValidate","autoComplete","Input","inputProps","Set_sort_by","anchorEl1","setAnchorEl1","anchorEl2","setAnchorEl2","set_sort_by","open1","open2","Threshold","Set_label_on","FormGroup","Typography","fontFamily","App","setTimeout","Set_view_data","ButtonGroup","SelectMode","LabelOn","right","Advance","Row","handleradioChange","Legend","legend_container_width","legend_container_height","legend1_rScale","legend1_yScale","legend1_height","legend1_ticks","ceil","legend1_svg","legend2_svg_height","legend2_yScale","legend2_ticks","rect_height","legend2_svg","legend_width","transform","Set_legend_year","dataprocessor","dataset_name","process_data","school","school_rank","fiscal","fiscal_rank","airbnb","airbnb_rank","house","house_rank","house_lime","rur","rur_rank","rur_lime","slopechart_data_filename","rank_data_filename","Set_years_for_dropdown","Set_grouped_by_year_data","Set_original_data","Set_rank_data","selected_dataset","Set_clicked_items_in_slopechart","Set_dataset","innerWidth","document","keyup","e","Top","Set_ref_year","Set_slider_and_feature_value","button","MuiGrid","store","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.2486c8a2.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/airbnb_shap.711c54e3.csv\";","module.exports = __webpack_public_path__ + \"static/media/chart1_data.8ac4896f.csv\";","module.exports = __webpack_public_path__ + \"static/media/chart1_data.cca71c9e.csv\";","module.exports = __webpack_public_path__ + \"static/media/RUR_histogram_data.ab6fad30.csv\";","module.exports = __webpack_public_path__ + \"static/media/chart1_data.88d46de4.csv\";","module.exports = __webpack_public_path__ + \"static/media/fiscal.21e1942b.csv\";","module.exports = __webpack_public_path__ + \"static/media/school.515cf770.csv\";","module.exports = __webpack_public_path__ + \"static/media/house.88979d03.csv\";","module.exports = __webpack_public_path__ + \"static/media/RUR.e8eaae8e.csv\";","module.exports = __webpack_public_path__ + \"static/media/airbnb.f2354d6e.csv\";","module.exports = __webpack_public_path__ + \"static/media/fiscal_rank.dcdaf12c.csv\";","module.exports = __webpack_public_path__ + \"static/media/school_rank.edf0b9e3.csv\";","module.exports = __webpack_public_path__ + \"static/media/airbnb_rank.542cd163.csv\";","module.exports = __webpack_public_path__ + \"static/media/RUR_rank.1805a0d5.csv\";","module.exports = __webpack_public_path__ + \"static/media/RUR_lime.ab094de9.csv\";","module.exports = __webpack_public_path__ + \"static/media/house_rank.f85c2352.csv\";","module.exports = __webpack_public_path__ + \"static/media/house_lime.ce3dd233.csv\";","module.exports = __webpack_public_path__ + \"static/media/chart1_data.45acbae8.csv\";","/* eslint-disable no-unused-vars, eqeqeq, array-callback-return, no-redeclare, no-useless-escape, no-loop-func */\n//------------------------------------------------------------------------------------------------- Sort Models\nexport function sort(type, state_range, default_models, selected_year, grouped_by_year_data) {\n  console.log(type, state_range, default_models, selected_year, grouped_by_year_data,'sort')\n  //------------Handle ndgc sorting\n  if (type == 'Discounted Cumulative Gain') {\n    var nDCG_dict = { \"ndcg_term_CordAscent\": 0, \"ndcg_term_LambdaMART\": 0, \"ndcg_term_LambdaRank\": 0, \"ndcg_term_LinearReg\": 0, \"ndcg_term_ListNet\": 0, \"ndcg_term_MART\": 0, \"ndcg_term_RandomFor\": 0, \"ndcg_term_RankBoost\": 0, \"ndcg_term_RankNet\": 0 }\n    for (var i = state_range[0]; i < state_range[1]; i++) {\n      Object.keys(nDCG_dict).forEach(key => {\n          nDCG_dict[key] = nDCG_dict[key] + parseFloat(grouped_by_year_data[selected_year][i][key])\n      })\n    }\n    //---- sort\n    var items = Object.keys(nDCG_dict).map(function (key) {\n      return [key.substring(10), nDCG_dict[key]];\n    });\n    items.sort(function (first, second) {\n      return second[1] - first[1];\n    });\n    var temp_ndcg = []\n    for (var i = 0; i < items.length; i++) {\n      if (default_models.includes(items[i][0])) {\n        temp_ndcg.push(items[i][0])\n      }\n    }\n    var temp1={}\n    items.map(myitem=>{temp1[myitem[0]]=myitem[1]})\n    console.log(items)\n    return [temp_ndcg,temp1]\n  }\n  //----\n\n  //------------ Handle AP sorting\n  if (type == 'Average Precision') {\n    var mydict = {}\n    default_models.forEach((model) => {\n      var temp = 1\n      for (var i = state_range[0]; i < state_range[1]; i++) {\n        temp = temp + (grouped_by_year_data[selected_year][i][\"two_realRank\"] - grouped_by_year_data[selected_year][i][model]) ** 2\n      }\n      mydict[model] = ((state_range[1] - state_range[0]) + 1) / (Math.sqrt(temp))\n    })\n    //---- sort\n    var items = Object.keys(mydict).map(function (key) {\n      return [key, mydict[key]];\n    });\n    items.sort(function (first, second) {\n      return second[1] - first[1];\n    });\n    var temp_ap = []\n    for (var i = 0; i < items.length; i++) {\n      if (default_models.includes(items[i][0])) {\n        temp_ap.push(items[i][0])\n      }\n    }\n    return [temp_ap,mydict]\n  }\n  //------------Handle Alphabatic sorting\n  if (type == 'Alphabetically') {\n    var temp=default_models.sort()\n    return [temp,[0]]\n  }\n}\nexport function groupby_year(original_data) {\n  var years = {}\n  var sparkline_data = {}\n  original_data.forEach(element => {\n    years[element['1-qid']] = []\n    sparkline_data[element['State'].replace(/ /g, '').replace(/[^\\w\\s]/gi, '')] = []\n  });\n\n  original_data.forEach(element => {\n    var temp_dict = { year: parseInt(element['1-qid']), rank: parseInt(element['two_realRank']) }\n    sparkline_data[element['State'].replace(/ /g, '').replace(/[^\\w\\s]/gi, '')].push(temp_dict)\n    years[element['1-qid']].push(element)\n  });\n  return { years: years, sparkline_data: sparkline_data };\n}\nexport function features_with_score(dataset, models, selected_instances, selected_year, number_of_charts, rank_data) {\n  //console.log(dataset, models, selected_instances, selected_year, number_of_charts, rank_data,\"abc\")\n  var temp1 = {}\n  var temp_final = {}\n  models.map(model => {\n    var temp2 = {}\n    var v = number_of_charts;\n    var top_nine = sorted_features(dataset, model, selected_instances, selected_year,rank_data)\n    if (top_nine.length < number_of_charts) { v = top_nine.length;; number_of_charts = top_nine.length } // This is because number of charts is calculated based on space but there are cases when we don't have that many features\n    for (var i = 0; i < number_of_charts; i++) {\n      temp2[top_nine[i]] = v;\n      v = v - 1\n    }\n    temp1[model] = temp2\n  });\n\n  for (var key in temp1) {\n    for (var key2 in temp1[key]) {\n      if (temp_final[key2] > 0) {\n\n        temp_final[key2] = temp_final[key2] + temp1[key][key2]\n      }\n      else {\n        temp_final[key2] = temp1[key][key2]\n      }\n    }\n  }\n  console.log(temp_final,\"temp_final\")\n  return temp_final;\n}\nexport function sorted_features(dataset, model, selected_instances, selected_year,rank_data) { // Uses feature rank to rank and return features name by removing the feature_rank string\n  if (!selected_instances.length > 0) { return [] }\n  selected_instances = selected_instances.map(element => element -1)\n  var tempvoted_data_with_score = {},items,data,features;\n  \n\n  var filtered_rank_data = rank_data[model].filter(element => { if (parseInt(element['1-qid']) == parseInt(selected_year)) { return element } })\n  data = selected_instances.map(index => filtered_rank_data[index])\n  features = Object.keys(data[0])\n  var my_features_rank_col=features.filter(item=>item.includes(\"_feature_rank\"))\n  features=my_features_rank_col\n  data.map(item => {\n    features.forEach(feauture => {\n      if (tempvoted_data_with_score[feauture] >= 0 || tempvoted_data_with_score[feauture] < 0) {\n        tempvoted_data_with_score[feauture] = tempvoted_data_with_score[feauture] + (parseFloat(item[feauture]))\n      }\n      else { tempvoted_data_with_score[feauture] = parseFloat(item[feauture]) }\n    })\n  })\n  //-----------------------------------------------------------------\n  // Create items array\n  items = Object.keys(tempvoted_data_with_score).map(function (key) {\n    return [key, tempvoted_data_with_score[key]];\n  });\n  // Sort the array based on the second element\n  items.sort(function (first, second) {\n    return first[1] - second[1];\n  });\n  var items2 = items.map((element) => element[0].replace(\"_feature_rank\", \"\"))\n  items2 = items2.filter(item => item != \"1-qid\" && item!=\"model\")\n  //console.log(data,selected_instances,filtered_rank_data,\"items2\")\n  console.log(items2,\"items2\")\n  return items2; // sorted items \n  //-----------------------------------------------------------------\n}\n\nexport function getSortedFeatures(lime_data,selected_instances, selected_year) {\n  //console.log(\"Lime Data: \",selected_year, lime_data.filter(item=>item['1-qid']==selected_year))\n  //var filtered_data=lime_data.filter(item=>parseInt(item['1-qid'])==selected_year && selected_instances.includes(item['two_realRank']))\n  var filtered_data=lime_data.filter(item=>item['1-qid']==selected_year && selected_instances.includes(item['two_realRank']))\n  var feature_cols=Object.keys(filtered_data[0]).filter(item=>item.includes(\"_contribution\")) //.map(item => item.replace(\"_contribution\", \"\"))\n  var temp=[]\n  feature_cols.map(feature=>{\n    var x=0\n    filtered_data.map(item=>{\n      x+=parseFloat(item[feature])\n    })\n    temp.push([feature,x/selected_instances.length])\n  })\n  //console.log(\"Algo1 \", Object.keys(filtered_data[0]))\nreturn temp.sort((a,b)=>b[1]-a[1]).map(item => item[0].replace(\"_contribution\", \"\"))\n}\n","/* eslint-disable no-useless-concat, eqeqeq, array-callback-return, no-redeclare   */\nimport * as d3 from 'd3';\nimport * as $ from 'jquery';\nimport textures from 'textures';\n\nexport function Create_deviation_chart(parent_id, parent_exp_id, selected_instances, original_data, default_models, anim_config, selected_year, average, clicked_circles, Set_clicked_circles, diverginColor, sparkline_data, Set_selected_year, dataset, threshold) {\n  console.log(\"Test\",original_data[0], parent_id)\n  var div = d3.select(\"body\").selectAll('.tooltip').data([0]).join(\"div\").attr(\"class\", \"tooltip\").style(\"opacity\", 0);\n  var parent_width = $(\"#\" + parent_id).width() - 5\n  var parent_height = $(\".\" + 'deviation_plot_container_div').height() // deviation_plot_container_div is the div that contains the deviation plot for all modes\n  var data = original_data.filter(item => selected_year == item['1-qid'] && selected_instances.includes(parseInt(item['two_realRank'])))\n  var temp_scale_data = []\n  data.map(item => { default_models.map(model => temp_scale_data.push(Math.abs(parseInt(item[model]) - parseInt(item['two_realRank'])))) })\n\n  // font_line_gap=sparkline_width+4\n  var config = { space_for_state_name: 120, fontSize: 12, font_dy: -6, sparkline_width: 0, font_line_gap: 5, line_stroke_width: 12, animation_duration: 0, container_height: 100, my_svg_top_margin: 10, myg_top_margin: 10 }\n  var y_distance = parent_height / selected_instances.length\n  if (y_distance < 15) { var y_distance = 15 }\n  //console.log(\"Checking\", y_distance, selected_instances)\n  d3.select(\"#\" + parent_id).attr(\"height\", y_distance * selected_instances)\n\n  var circle_radius = config.line_stroke_width / 2\n  var t = textures.lines().size(5).strokeWidth(2).stroke(\"#cccccc\").background(\"gray\");\n  var svg = d3.select(\"#\" + parent_id).attr('height', y_distance + data.length * y_distance).call(t)\n  var parent_g = svg.selectAll(\".parent_g\").data([0]).join('g').attr('class', 'parent_g').attr('transform', \"translate(\" + 0 + \",13)\")\n  var items_g = parent_g.selectAll(\".items\").data(data, d => d['State']).join(enter => enter.append(\"g\").attr(\"class\", \"items\")\n    .attr('transform', (d, i) => \"translate(\" + config.space_for_state_name + \",\" + i * y_distance + \")\")\n    , update => update.transition().duration(anim_config.rank_animation).attr('transform', (d, i) => \"translate(\" + config.space_for_state_name + \",\" + i * y_distance + \")\")\n    , exit => exit.remove()\n  )\n  items_g.attr(\"add_state\", function (d) {\n    d3.select(this).selectAll(\"text\").data([d]).join('text')\n      .text(dd => {\n        var max_textsize = 15\n        var val = d['State']\n        if (val.length > max_textsize) { val = val.replace(\"University\", \"U\") }\n        if (val.length > max_textsize) { val = val.substring(0, max_textsize) + \"..\" }\n        return val + \" \" + d['two_realRank']\n      })\n      .attr('fill', d => diverginColor(d['two_realRank'])).attr(\"dominant-baseline\", \"hanging\").attr(\"font-size\", config.fontSize)\n      .attr(\"x\", 0).attr('text-anchor', 'end').attr(\"dy\", config.font_dy)\n  }).attr(\"stroke\", (d) => {\n    if (clicked_circles.includes(d['id'])) {\n      return \"rgb(227, 26, 28,0.5)\"\n    }\n  })\n  /*\n    .style(\"stroke-width\", (d) => {\n      if (clicked_circles.includes(d['id'])) {\n        return 2.5\n      }\n    })\n*/\n    .attr(\"add_lines_and_circles\", function (d) {\n      var data_for_all_years = data.filter(item => d['two_realRank'] == parseInt(item['two_realRank']))\n      var line_data = []\n      default_models.map(model_name => {\n        data_for_all_years.map(item => {\n          var a = {}\n          var two_realRank = parseInt(item['two_realRank'])\n          var predicted_rank = parseInt(item[model_name])\n          a['two_realRank'] = two_realRank\n          a['predicted_rank'] = predicted_rank\n          a[\"model\"] = model_name\n          a['year'] = item['1-qid']\n          if (Math.abs(predicted_rank - two_realRank) < threshold) {\n            line_data.push(a)\n          }\n        })\n      })\n      // This is only for scaling starts here\n      var temp_scale_data = []\n      data.map(item => { default_models.map(model => temp_scale_data.push(Math.abs(parseInt(item[model]) - parseInt(item['two_realRank'])))) })\n      var temp_max = d3.max(temp_scale_data)\n      var sclale1 = d3.scaleLinear().domain([0, temp_max]).range([config.font_line_gap, parent_width - (config.space_for_state_name + circle_radius)])\n      if (temp_max == 0) { var sclale1 = d3.scaleLinear().domain([0, temp_max]).range([config.font_line_gap, 0]) }\n      // This is only for scaling ends here\n      d3.select(this).selectAll(\"line\").data([d]).join(enter => enter.append('line')\n        .attr(\"x1\", config.font_line_gap).attr(\"y1\", (d, i) => y_distance * i).attr(\"y2\", (d, i) => y_distance * i).attr(\"stroke-width\", config.line_stroke_width).attr(\"stroke\", t.url()).attr(\"x2\", (d2) => {\n          var temp = []\n          line_data.map(item => temp.push(Math.abs(item[\"predicted_rank\"] - item[\"two_realRank\"])))\n          return sclale1(d3.max(temp))\n        })\n        // Update\n        , update => update.transition().duration(anim_config.deviation_animation).delay(anim_config.rank_animation).attr(\"x2\", (d2) => {\n          var temp = []\n          line_data.map(item => temp.push(Math.abs(item[\"predicted_rank\"] - item[\"two_realRank\"])))\n          return sclale1(d3.max(temp))\n        }))\n      // ------------ Circles start here\n      var data_for_all_years = data.filter(item => d['two_realRank'] == parseInt(item['two_realRank']))\n      var circ_data = []\n      default_models.map(model_name => {\n        data_for_all_years.map(item => {\n          var a = {}\n          var two_realRank = parseInt(item['two_realRank'])\n          var predicted_rank = parseInt(item[model_name])\n          a['two_realRank'] = two_realRank\n          a['predicted_rank'] = predicted_rank\n          a[\"model\"] = model_name\n          a['year'] = item['1-qid']\n          //a['id'] = item['State'].replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\") + model_name.replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\")\n          a['id'] = \"id_\" + item['State'].replace(/ /g, '').replace(\"+\", \"_\").replace(\".\", \"_\").replace(/[^a-zA-Z0-9_ ]/g, \"\")\n          a['className'] = \"dev_circles \" + model_name.replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\")\n          if (Math.abs(predicted_rank - two_realRank) < threshold) {\n            circ_data.push(a)\n          }\n        })\n      })\n      var my_circs = d3.select(this).selectAll(\".my_circles\").data(circ_data, d => d['id']).join(\n        enter => enter.append(\"circle\").attr('id', d => d['id']).attr(\"cx\", (d2, i) => {\n          d3.select(this).classed(d2['id'], true)\n          if (d2[\"predicted_rank\"] - d2['two_realRank'] == 0) { return sclale1(Math.abs(d2[\"predicted_rank\"] - d2['two_realRank'])) + circle_radius }\n          return sclale1(Math.abs(d2[\"predicted_rank\"] - d2['two_realRank']))\n        })\n        // Update\n        , update => update.transition().duration(anim_config.deviation_animation).delay(anim_config.rank_animation).attr(\"cx\", (d2, i) => {\n          d3.select(this).classed(d2['id'], true)\n          if (d2[\"predicted_rank\"] - d2['two_realRank'] == 0) { return sclale1(Math.abs(d2[\"predicted_rank\"] - d2['two_realRank'])) + circle_radius }\n          return sclale1(Math.abs(d2[\"predicted_rank\"] - d2['two_realRank']))\n        })\n      )\n      my_circs.attr(\"r\", circle_radius).attr('class', d => 'my_circles ' + d['className'])\n        .attr('fill', d => diverginColor(d['two_realRank'])).attr(\"parent_id\", parent_exp_id)\n        .on('click', d => Set_clicked_circles(clicked_circles.includes(d['id']) ? clicked_circles.filter(item => item != d['id']) : [...clicked_circles, d['id']]))\n        .on(\"mouseover\", function (d2) {\n          div.transition().duration(200).style(\"opacity\", .9);\n          div.html(\"Year : \" + d2[\"year\"] + \"<br></br>\" + \"Model: \" + d2[\"model\"] + \"<br></br>\" + \"Deviation: \" + Math.abs(d2[\"predicted_rank\"] - d2['two_realRank']))\n            .style(\"left\", (d3.event.pageX - 140) + \"px\").style(\"top\", (d3.event.pageY - 98) + \"px\");\n        }).on(\"mouseout\", function (d2) {\n          //d3.select(this).classed(d2['id'],true)\n          div.transition()\n            .duration(500)\n            .style(\"opacity\", 0);\n        })\n\n    })\n\n}","/* eslint-disable array-callback-return, no-useless-concat */\nimport * as d3 from 'd3';\nexport function handle_transparency(class_name, clicked_circles, anim_config) {\n    console.log(\"CLicked circles: \", clicked_circles)    \n    d3.selectAll(\".my_circles\").attr(\"stroke\", \"none\")\n    if (clicked_circles.length !== 0) { // If there are no clicked circles make all opacity 1\n        d3.selectAll(\".items\").attr('opacity', 0.3) // Groups\n        d3.selectAll(\".exp_circles\").attr('opacity', 0.3) // Circles\n        d3.selectAll(\".mds_circles\").attr('opacity', 0.3) // Circles\n        d3.selectAll(\".my_circles\").attr('opacity', 0.3)\n        clicked_circles.map(circle_id => {\n            d3.selectAll(\".\" + circle_id).attr('opacity', 1) // Groups\n            d3.selectAll(\"#\" + circle_id).attr('opacity', 1) // Circles\n            //d3.selectAll(\"#\" + circle_id).attr(\"stroke\", \"rgb(227, 26, 28,0.75)\").raise()\n            d3.selectAll(\"#\" + circle_id).attr(\"stroke\", \"rgb(227, 26, 28,0.75)\").raise().style(\"stroke-width\",2.5)\n        })\n    }\n    else {\n        d3.selectAll(\".my_circles\").attr(\"stroke\", \"none\")\n        d3.selectAll(\".\" + \"my_circles\").attr('opacity', 1) // Circles \n        d3.selectAll(\".items\").attr('opacity', 1); // Groups\n    }\n\n}","import React from 'react';\n//import * as $ from 'jquery';\nimport Slider from '@material-ui/core/Slider';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { connect } from \"react-redux\";\nimport TextField from '@material-ui/core/TextField';\nimport Button from \"@material-ui/core/Button\";\nimport './ModelSlider.scss';\nimport * as algo1 from \"../../../Algorithms/algo1\";\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: '100%',\n    },\n    heading: {\n        fontSize: theme.typography.pxToRem(15),\n        flexBasis: '33.33%',\n        flexShrink: 0,\n    },\n    secondaryHeading: {\n        fontSize: theme.typography.pxToRem(15),\n        color: theme.palette.text.secondary,\n    },\n    tRoot: {\n        marginBottom: 35,\n    },\n    rang_input: {\n        marginLeft: 10,\n    },\n}));\nfunction Modes(props) {\n    const classes = useStyles();\n    // states \n    const [sliderRange, set_sliderRange] = React.useState(props.state_range);\n    //-----------------------------------------------------------------\n    var temp_marks = [];\n    var step = (props.slider_max - 1) / (6 - 1);\n    for (var i = 0; i < 6; i++) {\n        temp_marks.push(1 + (step * i));\n    }\n    var marks = temp_marks.map(item => {\n        var myitem = parseInt(item)\n        return { value: myitem, label: myitem }\n    })\n    //console.log(props.marks)\n    //-----------------------------------------------------------------\n    return (\n        <div className=\"Modelslider\" style={{\n            height: 80, width: \"99%\",\n            paddingTop: 30, border: \"2px solid rgb(178, 178, 178,0.5)\"\n        }} >\n            <div className=\"lower\" style={{ padding: \"0px 0px\", marginTop: -20 }}>\n                <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Lower\" value={sliderRange[0]} style={{ width: \"100%\" }}\n                    onChange={event => {\n                        if (isNaN(parseInt(event.target.value))) {\n                            set_sliderRange([\"\", sliderRange[1]])\n                        } set_sliderRange([event.target.value, sliderRange[1]])\n                    }\n                    }\n                />\n            </div>\n            <div className=\"slider\" style={{ width: \"100%\", margin: \"0px 0px\" }}>\n                <Slider value={sliderRange} onChange={(event, newValue) => set_sliderRange(newValue)} onChangeCommitted={(event, newValue) => props.Set_changed(\"range\")}\n                     aria-labelledby=\"range-slider\" valueLabelDisplay=\"on\" min={1} max={props.slider_max} marks={marks}\n                />\n            </div>\n            <div className=\"upper\" style={{ padding: \"0px 0px\", marginTop: -20 }}>\n                <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Upper\" value={sliderRange[1]} style={{ width: \"100%\" }}\n                    onChange={event => {\n                        if (isNaN(parseInt(event.target.value))) {\n                            set_sliderRange([sliderRange[0], \"\"])\n                        } else {\n                            if (parseInt(event.target.value) > props.slider_max) {\n                                //alert(\"Upper range can not exceed maximum\")\n                                set_sliderRange([sliderRange[0], props.slider_max])\n                            }\n                            else {\n                                set_sliderRange([sliderRange[0], parseInt(event.target.value)])\n                            }\n                        }\n                    }\n                    }\n                />\n            </div>\n            <div className=\"button\" item xs=\"2\" style={{ marginTop: -10 }}>\n                <Button className=\"range_button\" style={{ backgroundColor: \"#ededed\", height: 30 }}\n                    onClick={() => {\n                        if (sliderRange[0] > sliderRange[1]) {\n                            alert(\"Lower range can not be larger than the upper range\")\n                        }\n                        else if (sliderRange[1] < sliderRange[0]) {\n                            alert(\"Upper range can not be smaller than the lower range\")\n                        }\n                        else{\n                            var temp_Models = algo1.sort(props.sort_by, sliderRange, props.default_models, props.selected_year, props.grouped_by_year_data)[0];\n                            var default_model_scores = algo1.sort(props.sort_by, sliderRange, props.default_models, props.selected_year, props.grouped_by_year_data)[1];\n                            props.Set_default_model_scores(default_model_scores)\n                            props.Set_default_models([...temp_Models])\n                            props.Set_state_range(sliderRange)    \n                        }\n                    }}\n                >Update range</Button>\n            </div>\n        </div>\n    );\n}\nconst maptstateToprop = (state) => {\n    return {\n        selected_year: state.selected_year,\n        state_range: state.state_range,\n        mode: state.mode, // Model mode model\n        slider_max: state.slider_max,\n        range_mode_model: state.range_mode_model, // Range mode model\n        range_mode_range1: state.range_mode_range1,\n        range_mode_range2: state.range_mode_range2,\n        time_mode_model: state.time_mode_model, // Time mode model\n        time_mode_range: state.time_mode_range,\n        time_mode_year1: state.time_mode_year1,\n        time_mode_year2: state.time_mode_year2,\n        years_for_dropdown: state.years_for_dropdown,\n        dataset: state.dataset,\n        default_models: state.default_models,\n        slider_and_feature_value: state.slider_and_feature_value,\n        sort_by: state.sort_by,\n        grouped_by_year_data: state.grouped_by_year_data\n    }\n}\nconst mapdispatchToprop = (dispatch) => {\n    return {\n        Set_state_range: (val) => dispatch({ type: \"state_range\", value: val }),\n        Set_changed: (val) => dispatch({ type: \"changed\", value: val }),\n        Set_default_models: (val) => dispatch({ type: \"default_models\", value: val }),\n        Set_default_model_scores: (val) => dispatch({ type: \"default_model_scores\", value: val }),\n    }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Modes);","let initialState = {\n   global_config:{max_circle_r:6,min_circle_r:2.5},\n   anim_config: {rank_animation:3000,deviation_animation:3000,feature_animation:3000,circle_animation:3000},\n   appHandleChange: null,\n   sparkline_data: null,\n   sort_by: \"Average Precision\",\n   original_data: null,\n   rank_data: null,\n   lime_data: null,\n   grouped_by_year_data: null,\n   slope_chart_ready_to_vis: null,\n   dataset: \"fiscal\", // change in componentDidmount in app.js too\n   default_models:[\"MART\", \"LambdaMART\"],//, \"RandomFor\"], // Change the pop_over_models as well\n   exp_method: \"lime\",\n   state_range: [1, 30], // Change in handleradioChange\n   deviate_by: 0,\n   show: [\n      \"Slope charts\", \"Rankings\", \"Explanation\" // change in app.js\n   ],\n   years_for_dropdown: [\n      \"2006\"\n   ],\n   selected_year: 2011,\n   slider_min: 1,\n   slider_max: 50,\n   view_data: 1,\n   histogram_data: [],\n   chart_scale_type: \"true\",\n   features_with_score: null,\n   ref_year: null,\n   cmodel: \"MART\",//\"RandomFor\",\n   clicked_items_in_slopechart: [],\n   tracking: false,\n   dummy: null,\n   features_dict: {},\n   features_voted: null,\n   Legend_ready_to_vis: null,\n   legend_model: \"MART\",//\"RandomFor\",\n   legend_show_option: \"Rank\",\n   legend_year: 2012,\n   mode: \"Model\",\n   range_mode_model: \"MART\",\n   range_mode_range1: [1, 25],\n   range_mode_range2: [15, 40],\n   time_mode_model: \"MART\",\n   time_mode_year1: \"Null\",\n   time_mode_year2: \"Null\",\n   time_mode_range: [6, 32],\n   slider_and_feature_value: { 'Rank range': 1, 'Feature': 1 },\n   prev_prop: {},\n   replay: false,\n   changed: \"year\",\n   popup_chart_data: null,\n   pop_over: false,\n   pop_over_models: [\"MART\", \"LambdaMART\"],//,\"RandomFor\"],\n   clicked_features: [],\n   drag_drop_feautre_data: {},\n   dbclicked_features: [],\n   default_model_scores: {},\n   //all_models: [\"MART\", \"RandomFor\", \"LinearReg\", \"CordAscent\", \"LambdaMART\", \"LambdaRank\", \"RankBoost\", \"RankNet\"],\n   all_models: [\"MART\", \"CordAscent\", \"LambdaMART\", \"LambdaRank\", \"RankBoost\", \"RankNet\", \"SVM\"],\n   average_y: false,\n   average_m: false,\n   clicked_circles:[],\n   threshold:100,\n   deviation_array:[], // This is for legend\n   selected_instances:[], // This is for legend\n   dragged_features:{},\n   //url:\"http://0.0.0.0:5000/test\",\n   url:\"http://privacyprofiling.njitvis.com:5000/api/v2/rieval_mds\",\n   label_on:true,\n   \n}\n//---InitialState ends here\nconst reducer = (state = initialState, action) => {\n   if (action.type === \"label_on\") {\n      return { ...state, label_on: action.value }\n   }\n   if (action.type === \"dragged_features\") {\n      return { ...state, dragged_features: action.value }\n   }\n   if (action.type === \"selected_instances\") {\n      return { ...state, selected_instances: action.value }\n   }\n   if (action.type === \"deviation_array\") {\n      return { ...state, deviation_array: action.value }\n   }\n   if (action.type === \"view_data\") {\n      return { ...state, view_data: action.value }\n   }\n   if (action.type === \"threshold\") {\n      return { ...state, threshold: action.value }\n   }\n   if (action.type === \"clicked_circles\") {\n      return { ...state, clicked_circles: action.value }\n   }\n   if (action.type === \"average_y\") {\n      \n      return { ...state, average_y: action.value }\n   }\n   if (action.type === \"average_m\") {\n      \n      return { ...state, average_m: action.value }\n   }\n   if (action.type === \"default_model_scores\") {\n     \n      return { ...state, default_model_scores: action.value }\n   }\n   if (action.type === \"dbclicked_features\") {\n      return { ...state, dbclicked_features: action.value }\n   }\n   if (action.type === \"drag_drop_feautre_data\") {\n      return { ...state, drag_drop_feautre_data: action.value }\n   }\n   if (action.type === \"anim_config\") {\n      return { ...state, config: action.value }\n   }\n   if (action.type === \"show\") {\n      return { ...state, show: action.value }\n   }\n   if (action.type === \"lime_data\") {\n      return { ...state, lime_data: action.value }\n   }\n   if (action.type === \"default_models\") {\n      return { ...state,pop_over_models:action.value, default_models: action.value }\n   }\n   if (action.type === \"rank_data\") {\n\n      return { ...state, rank_data: action.value }\n   }\n   if (action.type === \"original_data\") {\n      return { ...state, original_data: action.value }\n   }\n   if (action.type === \"exp_method\") {\n      return { ...state, exp_method: action.value }\n   }\n   if (action.type === \"years_for_dropdown\") {\n      return { ...state, years_for_dropdown: action.value }\n   }\n   if (action.type === \"appHandleChange\") {\n      return { ...state, appHandleChange: action.value }\n   }\n   if (action.type === \"state_range\") {\n      return { ...state, dragged_features:{},state_range: action.value }\n   }\n   if (action.type === \"selected_year\") {\n      return { ...state,dragged_features:{}, selected_year: action.value}\n   }\n   if (action.type === \"tracking\") {\n      return { ...state, tracking: action.value }\n   }\n   if (action.type === \"grouped_by_year_data\") {\n     \n      return { ...state, grouped_by_year_data: action.value }\n   }\n   if (action.type === \"sort_by\") {\n      return { ...state, sort_by: action.value }\n   }\n   if (action.type === \"deviate_by\") {\n      return { ...state, deviate_by: action.value }\n   }\n   if (action.type === \"mode\") {\n      if(action.value===\"Model\"){\n         return { ...state,pop_over_models:state.default_models, mode: action.value }\n      }\n      if(action.value===\"Ranges\"){\n         return { ...state,pop_over_models:[state.range_mode_model], mode: action.value }\n      }\n      else{\n         return { ...state,pop_over_models:[state.time_mode_model], mode: action.value }\n      }\n   }\n   if (action.type === \"slider_max\") {\n      return { ...state, slider_max: action.value }\n   }\n   if (action.type === \"range_mode_model\") {\n      return { ...state,pop_over_models:[action.value],range_mode_model: action.value }\n   }\n   //----\n   if (action.type === \"range_mode_range1\") {\n      console.log(action.value)\n      return { ...state, range_mode_range1: action.value }\n   }\n   if (action.type === \"range_mode_range2\") {\n      console.log(action.value)\n      return { ...state, range_mode_range2: action.value }\n   }\n   if (action.type === \"time_mode_range\") {\n      return { ...state, time_mode_range: action.value }\n   }\n   if (action.type === \"time_mode_model\") {\n      return { ...state, pop_over_models:[action.value],time_mode_model: action.value }\n   }\n   if (action.type === \"time_mode_year1\") {\n      return { ...state, time_mode_year1: action.value }\n   }\n   if (action.type === \"time_mode_year2\") {\n      return { ...state, time_mode_year2: action.value }\n   }\n   if (action.type === \"clicked_items_in_slopechart\") {\n      return { ...state, clicked_items_in_slopechart: action.value }\n   }\n   if (action.type === \"features_with_score\") {\n      return { ...state, features_with_score: action.value }\n   }\n   if (action.type === \"sparkline_data\") {\n      return { ...state, sparkline_data: action.value }\n   }\n   if (action.type === \"legend_show_option\") {\n      return { ...state, legend_show_option: action.value }\n   }\n   if (action.type === \"legend_model\") {\n      return { ...state, legend_model: action.value }\n   }\n   if (action.type === \"histogram_data\") {\n      return { ...state,dragged_features:{}, histogram_data: action.value }\n   }\n   if (action.type === \"dataset\") {\n      var def_models = state.default_models;\n      var sel_year = state.selected_year;\n      var all_models_local = state.all_models_local;\n      var range_mode_model_local = state.range_mode_model;\n      var time_mode_model_local = state.time_mode_model;\n      var pop_over_models_local = state.pop_over_models;\n      if(action.value === \"airbnb\"){\n         def_models = [\"Brooklyn_SVM\", \"Manhattan_SVM\"];\n         sel_year = \"Brooklyn\";\n         all_models_local = [\"Bronx_SVM\", \"Brooklyn_SVM\", \"Manhattan_SVM\", \"Queens_SVM\", \"Staten_Island_SVM\", \"NYC_SVM\"];\n         range_mode_model_local = \"Brooklyn_SVM\";\n         time_mode_model_local = \"Brooklyn_SVM\";\n         pop_over_models_local = [\"Brooklyn_SVM\", \"Manhattan_SVM\"];\n      }\n      return { ...state, dataset: action.value,clicked_circles: [], default_models: def_models, selected_year: sel_year, all_models:all_models_local, range_mode_model: range_mode_model_local, time_mode_model: time_mode_model_local, pop_over_models: pop_over_models_local}\n   }\n   if (action.type === \"slider_and_feature_value\") {\n      return { ...state, slider_and_feature_value: action.value }\n   }\n   if (action.type === \"legend_year\") {\n      return { ...state, legend_year: action.value }\n   }\n   if (action.type === \"prev_prop\") {\n      return { ...state, prev_prop: action.value }\n   }\n   if (action.type === \"replay\") {\n      return { ...state, replay: action.value }\n   }\n   if (action.type === \"changed\") {\n      return { ...state, changed: action.value }\n   }\n   if (action.type === \"popup_chart_data\") {\n      return { ...state, popup_chart_data: action.value }\n   }\n   if (action.type === \"pop_over\") {\n      return { ...state, pop_over: action.value }\n   }\n   if (action.type === \"pop_over_models\") {\n      var temp = action.value.filter(item => item !== \"ListNet\")\n      return { ...state, pop_over_models: temp }\n   }\n   if (action.type === \"clicked_features\") {\n      return { ...state, clicked_features: action.value }\n   }\n   return state;\n}\nexport default reducer;","/* eslint-disable no-unused-vars, array-callback-return, eqeqeq, no-useless-concat */\nimport * as d3 from \"d3\";\nimport { createStore } from 'redux';\nimport reducer from \"../../../store/reducer\";\nconst store = createStore(reducer);\nconst state = store.getState();\nexport default function CreatexpCircle(d, selection, selected_instances,\n    lime_data, selected_year, default_models, clicked_circles, Set_clicked_circles, diverginColor, anim_config, item_width, item_height,\n    deviation_array, index, threshold, dataset, title_rect_height, label_on,sorted_features) {\n    var margin = { item_top_margin: title_rect_height+6, item_bottom_margin: 8, circ_radius: 5, item_left_margin: 7, item_right_margin: 7 }\n    var div = d3.select(\"body\").selectAll(\".tooltip\").data([0]).join('div').attr(\"class\", \"tooltip\").style(\"opacity\", 0);\n\n    var feature_contrib_name = d[0] + \"_contribution\"\n    //-----------------Get Global range for scaling\n\n    var global_items = []\n    var biggest=0,b_feature=\"\",b_item=\"\"\n    sorted_features.map(feature => {\n        lime_data[default_models[0]].map(item => {\n            if (selected_instances.includes(parseInt(item['two_realRank']))) {\n                global_items.push(parseFloat(item[feature[0] + \"_contribution\"]))\n                if(parseFloat(item[feature[0] + \"_contribution\"])>biggest){\n                    biggest=parseFloat(item[feature[0] + \"_contribution\"])\n                    b_feature=feature\n                    b_item=item['two_realRank']\n                }\n            }\n        })\n    })\n    var global_range=d3.extent(global_items)\n    //-----------------Get Global range for scaling\n    var circ_data = []\n    var sum_data = []\n    default_models.map(model => {\n        lime_data[model].map(item => {\n            // The following line filters out all negative \n            if (item['1-qid'] == selected_year && selected_instances.includes(parseInt(item['two_realRank']))) {\n                if (item['deviation'] < threshold) { sum_data.push(parseFloat(item[feature_contrib_name])) }\n                item['id'] = \"id_\" + item['State'].replace(/ /g, '').replace(\"+\", \"_\").replace(\".\", \"_\").replace(/[^a-zA-Z0-9_ ]/g, \"\")\n                circ_data.push(item)\n            }\n        })\n    })\n    // Draw circle starts here\n    var xScale = d3.scaleLinear().domain(global_range).range([margin.item_left_margin, item_width - margin.item_right_margin])\n    //----------\n    var my_mean = d3.mean(sum_data)\n    //----------\n    selection.selectAll(\".my_mean_line\").data([0]).join(\"line\").attr(\"class\", \"my_mean_line\").attr(\"x1\", xScale(my_mean)).attr(\"x2\", xScale(my_mean)).attr(\"y1\", title_rect_height + 3).attr(\"y2\", item_height).attr('stroke', \"rgb(96, 96, 96,0.5)\").attr('stroke-width', 1)\n    var rScale = d3.scalePow().exponent(0.4).domain(d3.extent(deviation_array)).range([state.global_config.max_circle_r, state.global_config.min_circle_r])\n    console.log(circ_data)\n    var mycircles = selection.selectAll(\".my_circles\").data(circ_data, d => d['id']).join(\n        enter => enter.append('circle')\n            .attr('id', d => d['id'])\n            .attr('class', d => 'my_circles exp_circles')\n            .attr(\"transform\", function (d, i) {\n                var x_transform = xScale(parseFloat(d[feature_contrib_name]))\n                var y_transform = getRandomArbitrary(margin.item_top_margin, item_height - margin.item_bottom_margin, i)\n                if (label_on && clicked_circles.includes(d['id'])) {\n                    selection.selectAll(\".label\" + d['id']).data([0]).join(\"text\").attr(\"x\", x_transform - 3).attr(\"class\", \"label\" + d['id']).attr('dominant-baseline', \"middle\").attr(\"y\", y_transform + 13).text(d[\"two_realRank\"]).attr(\"opacity\", 0.7).attr(\"font-size\", 10)\n                }\n                else {\n                    selection.selectAll(\".label\" + d['id']).remove()\n                }\n                return \"translate(\" + x_transform + \",\" + y_transform + \")\";\n            })\n            .attr(\"r\", d => d['deviation'] > threshold ? 0 : rScale(d['deviation']))\n        // Update\n        , update => update.attr('class', d => d['id'] + ' items exp_circles my_circles')\n            .transition().duration(anim_config.circle_animation).delay(anim_config.rank_animation + anim_config.deviation_animation + anim_config.feature_animation)\n            .attr(\"transform\", function (d, i) {\n                var x_transform = xScale(parseFloat(d[feature_contrib_name]))\n                var y_transform = getRandomArbitrary(margin.item_top_margin, item_height - margin.item_bottom_margin, i)\n                if (label_on && clicked_circles.includes(d['id'])) {\n                    selection.selectAll(\".label\" + d['id']).data([0]).join(\"text\").attr(\"x\", x_transform - 3).attr(\"class\", \"label\" + d['id']).attr('dominant-baseline', \"middle\").attr(\"y\", y_transform + 13).text(d[\"two_realRank\"]).attr(\"opacity\", 0.7).attr(\"font-size\", 10)\n                }\n                else {\n                    selection.selectAll(\".label\" + d['id']).remove()\n                }\n                return \"translate(\" + x_transform + \",\" + y_transform + \")\";\n            })\n            .attr('id', d => d['id'])\n            .attr(\"r\", d => d['deviation'] > threshold ? 0 : rScale(d['deviation']))\n        , exit => exit.remove())\n\n    mycircles.attr(\"myindex\", index).attr('feature_name', d[0])\n        .attr(\"fill\", d => diverginColor(d['two_realRank']).replace(\")\", \",.7)\")).attr(\"stroke\", (d) => {\n            if (clicked_circles.includes(d['id'])) {\n                return \"rgb(227, 26, 28,0.75)\"\n            }\n        })\n        .attr(\"handle_opacity\", function (d) {\n            if (clicked_circles.length == 0) { d3.selectAll(\".my_circles\").attr(\"opacity\", 1) }\n            if (clicked_circles.includes(d['id'])) {\n                d3.select(this).attr(\"opacity\", 1)\n            }\n            else {\n                d3.select(this).attr(\"opacity\", 0.3)\n            }\n        })\n        .on('click', function (d) {\n            Set_clicked_circles(clicked_circles.includes(d['id']) ? clicked_circles.filter(item => item != d['id']) : [...clicked_circles, d['id']])\n        })\n\n        .style(\"stroke-width\", function (d) {\n            if (clicked_circles.includes(d['id'])) {\n                d3.select(this).raise()\n                return 2.5\n            }\n        })\n\n    if (index == 0) {\n        selection.selectAll(\".avg_text\").data(['avg']).join(\"text\").attr(\"x\", xScale(my_mean)).attr(\"class\", \"avg_text\").attr(\"myindex\", index).attr(\"y\", (item_height - margin.item_top_margin - margin.item_bottom_margin) / 2 + margin.item_top_margin -18).text('avg').attr('font-size', 12)\n            .attr('dominant-baseline', \"middle\").attr('text-anchor', 'middle').attr('transform', d => \"rotate(-90,\" + (xScale(my_mean) + 5) + \",\" + ((item_height - margin.item_top_margin - margin.item_bottom_margin) / 2 + margin.item_top_margin) + \")\")\n    }\n    else { selection.selectAll('.avg_text').remove() }\n\n    mycircles.on(\"mouseover\", d => {\n        div.transition().duration(200).style(\"opacity\", .9);\n        div.html(\"<p>Name: \" + d['State'] + \"</p>\" + \"<p>Ground Truth: \" + d['two_realRank'] + \"</p>Model Outcome: \" + d['predicted'] + \"</p>\").style(\"left\", (d3.event.pageX) + \"px\").style(\"top\", (d3.event.pageY + 12) + \"px\")\n    }).on(\"mouseout\", d => div.transition().duration(200).style(\"opacity\", 0))\n    .attr(\"global_range\",global_range)\n    .attr(\"scaled_value\",d=>d[feature_contrib_name]+\"-----\"+xScale(parseFloat(d[feature_contrib_name])))\n\n    // Draw circle ends here\n    function getRandomArbitrary(min, max, seed) {\n        min = min || 0;\n        max = max || 1;\n        var rand;\n        if (typeof seed === \"number\") {\n            seed = (seed * 9301 + 49297) % 233280;\n            var rnd = seed / 233280;\n            var disp = Math.abs(Math.sin(seed));\n            rnd = (rnd + disp) - Math.floor((rnd + disp));\n            rand = Math.floor(min + rnd * (max - min + 1));\n        } else {\n            rand = Math.floor(Math.random() * (max - min + 1)) + min;\n        }\n        return rand;\n    }\n}","/* eslint-disable eqeqeq, array-callback-return, no-redeclare */\nimport React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport { connect } from \"react-redux\";\nimport * as algo1 from \"../../../Algorithms/algo1\";\nimport * as $ from 'jquery';\nimport CreatexpCircle from \"../ExpChart/Create_exp_circles\"\nimport \"../ExpChart/MDS.css\"\nimport * as misc_algo from '../../../Algorithms/misc_algo'\nclass SlopeChart extends Component {\n  constructor(props) {\n    super(props);\n    this.line_color = null;\n    this.exp = React.createRef()\n    this.mds = React.createRef()\n    this.state = { mds_height: 10, mouseX: 0, mouseY: 0, excluded_features: [], sorted_features: null, circle_data: null, indexed_features: null, random: true }\n  }\n  componentDidMount() {\n    this.setState({ width: window.innerHeight })\n  }\n  componentDidUpdate(prev_props) {\n    this.Createsvg(this.props.model_name, null)\n    if (this.props.clicked_circles.length != 0 && JSON.stringify(prev_props.clicked_circles) === JSON.stringify(this.props.clicked_circles)) {\n      misc_algo.handle_transparency(\"None\", this.props.clicked_circles, this.props.anim_config)\n    }\n    else {\n      this.Createsvg(this.props.model_name, null)\n    }\n  }\n  Createsvg = (model_name, indexed_features) => {\n    var self = this\n    var selected_instances = d3.range(this.props.state_range[0], this.props.state_range[1] + 1)\n    if (this.props.histogram_data.length > 0) { selected_instances = this.props.histogram_data }\n\n    //-------------------- Threshold filter\n    var under_threshold_instances = []\n    var year_data = this.props.original_data.filter(item => this.props.selected_year == item['1-qid'])\n    this.props.default_models.map(model_name => {\n      year_data.map(item => {\n        var two_realRank = parseInt(item['two_realRank'])\n        var predicted_rank = parseInt(item[model_name])\n        if (Math.abs(predicted_rank - two_realRank) < this.props.threshold) {\n          under_threshold_instances.push(two_realRank)\n        }\n      })\n    })\n    selected_instances = selected_instances.filter(item => under_threshold_instances.includes(item))\n    var number_of_charts = 8 + self.state.excluded_features.length\n    \n    var indexed_features = algo1.getSortedFeatures(this.props.lime_data[model_name],selected_instances, this.props.selected_year)\n    var temp_sorted_features = indexed_features.filter(item => !this.state.excluded_features.includes(item))// Exclude crossed features \n    var sorted_features = temp_sorted_features.slice(0, number_of_charts).map((item, index) => [item, index])\n\n\n\n\n\n\n    var marginTop = 2,marginBottom = 0, space_for_x_axis = 25,title_rect_height=40\n    var parent_height = parseInt($('.explanation_chart_parent').height()) - this.state.mds_height - parseInt($('.title_p').height())\n    var item_width = parseInt($(\"#\" + model_name).width())\n    var item_height = (parent_height - space_for_x_axis) / sorted_features.length - (marginTop + marginBottom) // 10 is the top margin\n    //console.log(\"Item height \", indexed_features,item_height)\n\n    var feature_containers = d3.select('#' + model_name).attr('height', parent_height)\n      .selectAll(\".feature_items\").data(sorted_features, d => d[0])\n      .join(enter => enter.append(\"svg\").attr(\"y\", (d, i) => marginTop + i * (item_height + marginTop + marginBottom))\n        , update => update.transition().duration(2000).attr(\"y\", (d, i) => marginTop + i * (item_height + marginTop + marginBottom))\n        , exit => exit.remove()\n      )\n    feature_containers.attr(\"class\", d => \"feature_items \" + d[0]).attr(\"myindex\", (d, i) => i).attr('feature_name', d => d[0])\n      .attr(\"height\", function (d) {\n        if (d[1] == sorted_features.length - 1) {\n          var ft_svg_height = 25\n          d3.select(this.parentNode).selectAll(\".ft_svg\").remove()\n          var svg = d3.select(this.parentNode).selectAll(\".ft_svg\").data([Math.random()]).join(\"svg\").attr(\"x\", 0).attr(\"y\", parent_height - ft_svg_height).attr(\"class\", \"ft_svg\").attr(\"width\", item_width).attr(\"height\", ft_svg_height)\n          var markerBoxWidth = 8, markerBoxHeight = 8, refX = markerBoxWidth / 2, refY = markerBoxHeight / 2\n          \n          svg.selectAll('defs').data([0]).join('defs').selectAll('#arrow').data([0]).join('marker').attr('id', 'arrow').attr('viewBox', [0, 0, markerBoxWidth, markerBoxHeight])\n            .attr('refX', refX).attr('refY', refY).attr('markerWidth', markerBoxWidth).attr('markerHeight', markerBoxHeight).attr('orient', 'auto-start-reverse')\n            .append('path').attr('id','path1').attr('d', d3.line()([[0, 0], [0, 7], [7, 3.8]])).attr('stroke', '#777777').attr(\"fill\",\"#777777\");\n          //------------------------------------------------[[x2, y2], [x1, y1]]\n          svg.append('path').attr('d', d3.line()([[item_width / 2 - 65, 15], [50, 15]])).attr('stroke', '#777777').attr('marker-end', 'url(#arrow)').attr('fill', 'none');\n          svg.append('path').attr('d', d3.line()([[item_width - 50, 15], [65 + item_width / 2, 15]])).attr('stroke', '#777777').attr('marker-start', 'url(#arrow)').attr('fill', 'none');\n\n          svg.selectAll(\".myText_low\").data([0]).join(\"text\").attr(\"x\", 30).attr(\"class\", \"myText_low\").attr('dominant-baseline', \"middle\").attr(\"y\", 15).text('Low').attr('text-anchor', 'middle').attr(\"font-size\", 12).attr(\"fill\", \"#2b2828\")\n          svg.selectAll(\".myText\").data([0]).join(\"text\").attr(\"x\", item_width / 2).attr(\"class\", \"myText\").attr('dominant-baseline', \"middle\").attr(\"y\", 15).text('Attribute Importance').attr('text-anchor', 'middle').attr(\"font-size\", 12).attr(\"fill\", \"#2b2828\")\n          svg.selectAll(\".myText_high\").data([0]).join(\"text\").attr(\"x\", item_width-30).attr(\"class\", \"myText_high\").attr('dominant-baseline', \"middle\").attr(\"y\", 15).text('High').attr('text-anchor', 'middle').attr(\"font-size\", 12).attr(\"fill\", \"#2b2828\")\n          return item_height - marginBottom - marginTop\n        }\n        return item_height - marginBottom - marginTop\n      })\n      .attr('width', item_width)\n\n\n    feature_containers.attr(\"add_title_text_and_rect_for_title_text\", function (d, index) {\n      d3.select(this).selectAll(\".title_rect\").data([0]).join('rect').attr(\"class\", \"title_rect\").attr(\"myindex\", index).attr('feature_name', d[0]).attr(\"width\", \"100%\").attr(\"height\", title_rect_height).attr(\"fill\", \"#e2e2e2\").attr(\"y\", 0).attr(\"x\", 0)\n      d3.select(this).selectAll(\".title_text\").data([0]).join('text').attr(\"class\", \"title_text\")\n      .attr(\"myindex\", index).attr('feature_name', d[0]).attr('x', item_width / 2).text(d[0]).attr(\"dominant-baseline\", \"middle\")\n      .attr(\"y\", title_rect_height/2).attr('text-anchor', 'middle').attr('font-size', 14)\n    })\n    feature_containers.attr(\"add_cross_button\", function (d, index) {\n      d3.select(this).selectAll(\".cross_button\").data([0]).join(\"text\").attr('y', title_rect_height/2)\n        .attr('dominant-baseline', 'middle').attr(\"myindex\", index).attr('feature_name', d[0]).raise()\n        .attr('x', item_width - 15).style('cursor', 'pointer').attr('font-size', 14).attr('fill', 'black')\n        .text(\"\\uf410\").attr('class', \"cross_button fa make_cursor\").on('click', () => {\n          d3.event.preventDefault()\n          self.setState({ excluded_features: [...self.state.excluded_features, d[0]] })\n        })\n      //---\n      d3.select(this).selectAll(\".expand_button\").data([0]).join(\"text\").attr('y', title_rect_height/2)\n        .attr('dominant-baseline', 'middle').attr(\"myindex\", index).attr('feature_name', d[0]).raise()\n        .attr('x', item_width - 35).style('cursor', 'pointer').attr('font-size', 12).attr('fill', 'black')\n        .text(\"\\uf31e\").attr('class', \"expand_button fa make_cursor\").on('click', () => {\n          \n          self.props.Set_pop_over_models([self.props.model_name])\n\n          d3.event.preventDefault()\n          var feature = d[0]\n          var year = self.props.selected_year\n          d3.event.preventDefault()\n          var temp = [...self.props.dbclicked_features]\n          if (!temp.includes(feature)) {\n            temp.unshift(feature)\n            d3.selectAll(\".rect\").classed(\"exp_chart_clicked\", true)\n          }\n          self.props.set_dbclicked_features(temp)\n          //self.props.set_dbclicked_features([feature])\n          //----------------------------Data for popup chart\n          var popup_chart_data = {}\n          self.props.default_models.filter(item => item != \"ListNet\").map(model_name => {\n            var data = []\n            if (self.props.histogram_data.length > 0) {\n              if(self.props.dataset === \"airbnb\"){data = self.props.lime_data[model_name].filter(element => { if ((element['1-qid'] == year) && (self.props.histogram_data.includes(parseInt(element['two_realRank'])))) { return element } });}\n              else{data = self.props.lime_data[model_name].filter(element => { if ((parseInt(element['1-qid']) == parseInt(year)) && (self.props.histogram_data.includes(parseInt(element['two_realRank'])))) { return element } });}\n              \n            }\n            else {\n              if(self.props.dataset === \"airbnb\"){data = self.props.lime_data[model_name].filter(element => element['1-qid'] == year && selected_instances.includes(parseInt(element['two_realRank'])))}\n              else{data = self.props.lime_data[model_name].filter(element => parseInt(element['1-qid']) == parseInt(year) && selected_instances.includes(parseInt(element['two_realRank'])))}\n              //data = self.props.lime_data[model_name].filter(element => parseInt(element['1-qid']) == parseInt(year) && selected_instances.includes(parseInt(element['two_realRank'])))\n            }\n            popup_chart_data[model_name] = data\n          })\n          self.props.Set_popup_chart_data([popup_chart_data, feature]) // This is to update the pop when the year or anything changes during the pop up is open\n          //self.props.Set_popup_chart_data([popup_chart_data, feature])\n          self.props.set_pop_over(true)\n        })\n      //---\n    })\n    feature_containers.attr(\"add_rect_for_circle_background_and_handle_clicks\", function (d, index) {\n      d3.select(this).selectAll(\".circ_rect\").data([0]).join('rect').attr(\"class\", \"circ_rect\").attr(\"myindex\", index).attr('feature_name', d[0]).attr(\"width\", \"100%\").attr(\"height\", item_height - title_rect_height).attr(\"fill\", \"#ffffff\").attr(\"y\", title_rect_height)\n        .on('click', () => {\n          if (self.props.clicked_features.includes(d[0])) {\n            self.props.Set_clicked_features(self.props.clicked_features.filter(item => item != d[0]))\n            d3.selectAll(\".\" + d[0]).selectAll(\".border_rect\").remove()\n          }\n          else {\n            self.props.Set_clicked_features([...self.props.clicked_features, d[0]])\n            d3.selectAll(\".\" + d[0]).selectAll(\".border_rect\").data([0]).join('rect').attr(\"class\", \"border_rect\").attr(\"width\", \"100%\").attr(\"height\", \"100%\").style(\"stroke\", \"black\").style(\"fill\", \"none\").style(\"stroke-width\", 5)\n          }\n        })\n    })\n    feature_containers.attr(\"CreatexpCircle\", function (d, index) {\n      CreatexpCircle(d, d3.select(this), selected_instances, self.props.lime_data, self.props.selected_year, [model_name], self.props.clicked_circles,\n        self.props.Set_clicked_circles, self.props.diverginColor, self.props.anim_config, item_width, item_height-(marginTop+marginBottom), self.props.deviation_array, index, self.props.threshold, self.props.dataset,title_rect_height,self.props.label_on,sorted_features)\n    })\n\n    feature_containers.attr('check_clicked_features', d => {\n      if (self.props.clicked_features.includes(d[0])) {\n        d3.selectAll(\".\" + d[0]).selectAll(\".border_rect\").data([0]).join('rect').attr(\"class\", \"border_rect\").attr(\"width\", \"100%\").attr(\"height\", \"100%\").style(\"stroke\", \"black\").style(\"fill\", \"none\").style(\"stroke-width\", 5)\n      }\n    })\n\n  }\n  //------------------------------\n  render() {\n    return (\n      <div key={this.props.model_name} className={\"explanation_chart_parent exp\" + this.props.model_name} style={{ width: '100%', height: '100%', \"border\": this.props.mode == 'Model' ? \"2px solid #e2e2e2\" : 'none', padding: \"2px 5px\" }}>\n        <p className=\"title_p\" style={{ padding: 0, margin: 0 }}>{this.props.model_name}</p>\n        <svg ref={this.exp} id={this.props.model_name} style={{ marginTop: this.state.mds_height, width: \"100%\" }}></svg>\n        <marker id=\"arrow\" markerUnits=\"strokeWidth\" markerWidth=\"12\" markerHeight=\"12\" viewBox=\"0 0 12 12\" refX=\"6\" refY=\"6\" orient=\"auto\">\n          <path d=\"M2,2 L10,6 L2,10 L6,6 L2,2\" style={{ fill: \"black\" }}></path>\n        </marker>\n      </div>\n    )\n  }\n}\nconst maptstateToprop = (state) => {\n  return {\n    deviation_array: state.deviation_array,\n    original_data: state.original_data,\n    time_mode_model: state.time_mode_model,\n    chart_scale_type: state.chart_scale_type,\n    dataset: state.dataset,\n    histogram_data: state.histogram_data,\n    sparkline_data: state.sparkline_data,\n    anim_config: state.anim_config,\n    show: state.show,\n    average_m: state.average_m,\n    average_y: state.average_y,\n    lime_data: state.lime_data,\n    rank_data: state.rank_data,\n    clicked_circles: state.clicked_circles,\n    clicked_features: state.clicked_features,\n    threshold: state.threshold,\n    mode: state.mode,\n    dbclicked_features: state.dbclicked_features,\n    dragged_features: state.dragged_features,\n    url: state.url,\n    default_models: state.default_models,\n    label_on:state.label_on,\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_dragged_features: (val) => dispatch({ type: \"dragged_features\", value: val }),\n    Set_clicked_circles: (val) => dispatch({ type: \"clicked_circles\", value: val }),\n    Set_prev_prop: (val) => dispatch({ type: \"prev_prop\", value: val }),\n    Set_sparkline_data: (val) => dispatch({ type: \"sparkline_data\", value: val }),\n    Set_replay: (val) => dispatch({ type: \"replay\", value: val }),\n    Set_clicked_features: (val) => dispatch({ type: \"clicked_features\", value: val }),\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: val }),\n    set_dbclicked_features: (val) => dispatch({ type: \"dbclicked_features\", value: val }),\n    Set_popup_chart_data: (val) => dispatch({ type: \"popup_chart_data\", value: val }),\n    set_pop_over: (val) => dispatch({ type: \"pop_over\", value: val }),\n    Set_pop_over_models: (val) => dispatch({ type: \"pop_over_models\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(SlopeChart);","/* eslint-disable no-unused-vars, eqeqeq, no-redeclare */\nimport React from 'react';\nimport \"./YearModelSelection.scss\";\nimport { connect } from \"react-redux\";\nimport * as d3 from 'd3';\nimport * as algo1 from \"../../../../Algorithms/algo1\";\nfunction YearModelSelection(props) {\n  var handle_year_click = (year) => {\n    props.Set_selected_year(year)\n    sortModels(year)\n  }\n  var handle_model_click = (model) => {\n    if (props.default_models.includes(model)) {\n      props.Set_default_models(props.default_models.filter(item => item != model))\n    }\n    else {\n      var temp_Models = algo1.sort(props.sort_by, props.state_range, [...props.default_models, model], props.selected_year, props.grouped_by_year_data)[0];\n      var default_model_scores = algo1.sort(props.sort_by, props.state_range, [...props.default_models, model], props.selected_year, props.grouped_by_year_data)[1];\n      props.Set_default_model_scores(default_model_scores)\n      props.Set_default_models([...temp_Models])\n    }\n  }\n  const sortModels = (selected_year) => {\n    var temp_Models = algo1.sort(props.sort_by, props.state_range, props.default_models, selected_year, props.grouped_by_year_data)[0];\n    var default_model_scores = algo1.sort(props.sort_by, props.state_range, props.default_models, selected_year, props.grouped_by_year_data)[1];\n    props.Set_default_model_scores(default_model_scores)\n    props.Set_default_models([...temp_Models])\n    console.log(temp_Models, default_model_scores, 'temp_model')\n  };\n  console.log(props.dataset,\"dataset\")\n  if(props.dataset==\"rur\"){var all_models=[\"MART\",\"RandomFor\"]}\n  if(props.exp_method === \"ice\"){var all_models=props.all_models; all_models = all_models.filter(d => d !== \"RandomFor\"); if(!all_models.includes(\"SVM\")){all_models.push(\"SVM\")}}\n  else{var all_models=props.all_models}\n  return (\n    <div className=\"model_topbar\" style={{ width: \"100%\", marginBottom: 2, display: 'flex', justifyContent: \"center\", margin: 0 }}>\n      <div ><h5 style={{ display: \"inline-block\", marginLeft: 0, marginRight: 3, fontSize: 16, fontWeight: 600 }}>{(props.dataset === \"airbnb\")?\"Boroughs:\":\"Years:\"}</h5>{props.years_for_dropdown.map(item => <p className={props.selected_year == item ? \"years_p_selected years_p\" : \"years_p\"} onClick={() => handle_year_click(item)}>{item}</p>)}</div>\n      <div style={{ marginLeft: 20 }}><h5 style={{ display: \"inline-block\", marginLeft: 0, marginRight: 3, fontSize: 16, fontWeight: 600 }}>Rankers:</h5>{all_models.map(item => <p modelName={item} className={props.default_models.includes(item) ? \"years_p_selected years_p model_p\" : \"years_p model_p\"} onClick={() => handle_model_click(item)}>{item}</p>)}</div>\n    </div>\n  );\n}\nconst maptstateToprop = (state) => {\n  return {\n    state_range: state.state_range,\n    all_models: state.all_models,\n    selected_year: state.selected_year,\n    years_for_dropdown: state.years_for_dropdown,\n    default_models: state.default_models,\n    sort_by: state.sort_by,\n    grouped_by_year_data: state.grouped_by_year_data,\n    dataset:state.dataset,\n    exp_method: state.exp_method,\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: val }),\n    Set_default_models: (val) => dispatch({ type: \"default_models\", value: val }),\n    Set_default_model_scores: (val) => dispatch({ type: \"default_model_scores\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(YearModelSelection);\n\n//https://material-ui.com/api/slider/\n//https://material-ui.com/components/expansion-panels/\n//https://material-ui.com/api/checkbox/\n//https://material-ui.com/components/radio-buttons/","/* eslint-disable no-useless-concat, eqeqeq, array-callback-return, no-redeclare */\nimport * as d3 from 'd3';\nvar CreateCatChart = (data, feature, scatterplot_data,props) => {\n    var rScale = d3.scalePow().exponent(0.4).domain(d3.extent(props.deviation_array)).range([6, 1])\n    var feature_contribute = feature + \"_contribution\"\n    var margin = { top: 0, right: 30, bottom: 85, left: 50, space_for_hist: 0 }, feature_width = 520 - margin.left - margin.right, height = 270 - margin.top - margin.bottom;\n    var barplot_data = {}\n    data = data.filter(d => parseFloat(d[feature_contribute]) > 0)\n    data.map(item => { if (barplot_data[item[feature]] > 0) { barplot_data[item[feature]] += 1 } else { barplot_data[item[feature]] = 1 } })\n\n    var temp_y = Object.keys(barplot_data),\n        temp_x = Object.values(barplot_data),\n        x = d3.scaleLinear().domain([d3.min(temp_x), d3.max(temp_x)]).range([0, feature_width]).nice(); // circles will start from y position 10 and go upto height-10\n\n    var y = d3.scaleBand().domain(temp_y).range([0, height]).padding(0.1);\n\n    // add the x Axis\n    //------------------------------------------------------------- All svgs\n    var parent_svg = d3.select(\"#\" + props.myid).attr(\"width\", feature_width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom + margin.space_for_hist),\n        svg1 = parent_svg.selectAll('.svg11').data([0]).join('svg').attr(\"y\", margin.space_for_hist).attr(\"class\", \"svg11\").selectAll(\".myg\").data([0]).join('g').attr(\"class\", \"myg\").attr(\"transform\",\"translate(\" + margin.left + \",\" + margin.top + \")\")\n    var svg1 = parent_svg.selectAll('.svg11').data([0]).join('svg').attr(\"class\", \"svg11\").selectAll(\".myg\").data([0]).join('g').attr(\"class\", \"myg\").attr(\"transform\",\"translate(\" + margin.left + \",\" + margin.top + \")\")   \n    //------------- Add Y axis\n    svg1.selectAll(\".myYaxis\").data([0]).join('g').attr(\"class\", \"myYaxis\").attr(\"transform\", \"translate(\"+(feature_width+20)+\",20)\").call(d3.axisLeft(y).tickSize(feature_width)).selectAll(\"text\").selectAll(\".tick line\").remove()        \n    svg1.selectAll(\".domain\").remove()\n    svg1.selectAll(\".tick line\").attr(\"stroke\", \"#EBEBEB\")\n    //------------------------------------------------------------------------------------------------------ Scatterplot starts here\n    svg1.selectAll(\".scatterplot_g\").data(scatterplot_data).join('g').attr(\"id\", d => d[0] + \"scatterplot_g_id\").attr(\"class\", \"scatterplot_g\").attr(\"ax\", function (d) {\n        var temp_x = d[1].map(item => parseFloat(item[feature + \"_contribution\"])) // d[1] \n        x = d3.scaleLinear().domain([d3.min(temp_x), d3.max(temp_x)]).range([0, feature_width]).nice();\n        var circle_data=d[1].sort((a,b)=>a['deviation']-b['deviation'])\n        d3.select(this).selectAll('circle').data(circle_data)\n            .join(\"circle\")\n            .attr(\"cy\", (d, i) => {\n                return y(d[feature])+35\n            })\n            .attr(\"cx\", (d, i) => {\n                return x(parseFloat(d[feature_contribute]))\n\n            })\n            \n            .attr(\"r\", d => parseFloat(d[feature_contribute]) <= 0 ? 0 : rScale(d['deviation']))\n            .attr(\"fill\", (d) => {\n                return props.diverginColor(d['two_realRank']).replace(\")\",\",.7)\")\n            })\n\n            .attr('class', d => 'my_circles')\n            .attr(\"id\", d => d['id'])\n            .on('click', d => {\n                props.Set_clicked_circles(props.clicked_circles.includes(d['id']) ? props.clicked_circles.filter(item => item != d['id']) : [...props.clicked_circles, d['id']])\n            })\n    })\n  //---------------------------------------------Feature Importance with Arrow\n  var ft_svg_height = 25\n  parent_svg.selectAll(\".ft_svg\").remove()\n  var ft_svg = parent_svg.selectAll(\".ft_svg\").data([Math.random()]).join(\"svg\").attr(\"x\", 70).attr(\"y\", height+10).attr(\"class\", \"ft_svg\").attr(\"width\", feature_width).attr(\"height\", ft_svg_height)\n  var markerBoxWidth = 8, markerBoxHeight = 8, refX = markerBoxWidth / 2, refY = markerBoxHeight / 2\n  \n  ft_svg.selectAll('defs').data([0]).join('defs').selectAll('#arrow').data([0]).join('marker').attr('id', 'arrow').attr('viewBox', [0, 0, markerBoxWidth, markerBoxHeight])\n    .attr('refX', refX).attr('refY', refY).attr('markerWidth', markerBoxWidth).attr('markerHeight', markerBoxHeight).attr('orient', 'auto-start-reverse')\n    .append('path').attr('id','path1').attr('d', d3.line()([[0, 0], [0, 7], [7, 3.8]])).attr('stroke', '#777777').attr(\"fill\",\"#777777\");\n  //------------------------------------------------[[x2, y2], [x1, y1]]\n  ft_svg.append('path').attr('d', d3.line()([[feature_width / 2 - 65, 15], [50, 15]])).attr('stroke', '#777777').attr('marker-end', 'url(#arrow)').attr('fill', 'none');\n  ft_svg.append('path').attr('d', d3.line()([[feature_width - 50, 15], [65 + feature_width / 2, 15]])).attr('stroke', '#777777').attr('marker-start', 'url(#arrow)').attr('fill', 'none');\n\n  ft_svg.selectAll(\".myText_low\").data([0]).join(\"text\").attr(\"x\", 30).attr(\"class\", \"myText_low\").attr('dominant-baseline', \"middle\").attr(\"y\", 15).text('Low').attr('text-anchor', 'middle').attr(\"font-size\", 12).attr(\"fill\", \"#2b2828\")\n  ft_svg.selectAll(\".myText\").data([0]).join(\"text\").attr(\"x\", feature_width / 2).attr(\"class\", \"myText\").attr('dominant-baseline', \"middle\").attr(\"y\", 15).text('Attribute Importance').attr('text-anchor', 'middle').attr(\"font-size\", 12).attr(\"fill\", \"#2b2828\")\n  ft_svg.selectAll(\".myText_high\").data([0]).join(\"text\").attr(\"x\", feature_width-30).attr(\"class\", \"myText_high\").attr('dominant-baseline', \"middle\").attr(\"y\", 15).text('High').attr('text-anchor', 'middle').attr(\"font-size\", 12).attr(\"fill\", \"#2b2828\")\n  //---------------------------------------------Feature Importance with Arrow\n\n\n\n    // Define the div for the tooltip\n    var div = d3.select(\"body\").append(\"div\")\n        .attr(\"class\", \"tooltip2\")\n        .style(\"opacity\", 0);\n    d3.selectAll('.exp_circles')\n        .on(\"mouseover\", function (d) {\n            div.transition()\n                .duration(200)\n                .style(\"opacity\", .9);\n            div.html(\"<p>\" + d['State'] + \"</p>\" + \"<p>\" + \"Model: \" + d3.select(this).attr('dataset_name') + \"</p>\")\n                //div.html(d['State'])\n                .style(\"left\", (d3.event.pageX) + \"px\")\n                .style(\"top\", (d3.event.pageY - 28) + \"px\");\n        })\n        .on(\"mouseout\", function (d) {\n            d3.selectAll('.tooltip2').transition()\n                .duration(500)\n                .style(\"opacity\", 0);\n        })\n\n    //------------------------------------------------------------------------------------------------------ Scatterplot ends here\n}\nexport default CreateCatChart","/* eslint-disable no-unused-vars, eqeqeq, no-redeclare */\nimport * as d3 from 'd3';\nimport * as _ from \"lodash\";\nimport \"./CreateNumChart.css\"\nvar CreateNumChart = (data, feature, scatterplot_data, props) => {\n  var rScale = d3.scalePow().exponent(0.4).domain(d3.extent(props.deviation_array)).range([6, 1])\n  var feature_contribute = feature + \"_contribution\"\n  var scatterplot_data = scatterplot_data.map(data_arr => {\n    var temp = data_arr[1].filter(item => item['deviation'] < props.threshold && parseFloat(item[feature_contribute]) > 0)\n    return [data_arr[0], temp]\n  })\n  // set the dimensions and margins of the graph\n  var margin = { top: 0, right: 30, bottom: 70, left: 40, space_for_hist: 0 },\n    feature_width = 520 - margin.left - margin.right,\n    height = 250 - margin.top - margin.bottom;\n\n  //-------------------------------------------------------------All svgs\n  var parent_svg = d3.select(\"#\" + props.myid).attr(\"width\", feature_width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom + margin.space_for_hist),\n    svg1 = parent_svg.selectAll('.svg11').data([0]).join('svg').attr(\"y\", margin.space_for_hist).attr(\"class\", \"svg11\").selectAll(\".myg\").data([0]).join('g').attr(\"class\", \"myg\").attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\")\n\n\n  var svg1 = parent_svg.selectAll('.svg11').data([0]).join('svg').attr(\"class\", \"svg11\").selectAll(\".myg\").data([0]).join('g').attr(\"class\", \"myg\").attr(\"transform\",\n    \"translate(\" + margin.left + \",\" + margin.top + \")\")\n  svg1.selectAll(\".myline2\").data([0]).join('line').attr(\"class\", \"myline2\").attr(\"x1\", 0).attr(\"y1\", 0).attr(\"x2\", 0).attr(\"y2\", height).attr(\"stroke\", \"#EBEBEB\");\n  svg1.selectAll(\".myline3\").data([0]).join('line').attr(\"class\", \"myline3\").attr(\"x1\", 0).attr(\"y1\", height).attr(\"x2\", feature_width).attr(\"y2\", height).attr(\"stroke\", \"#EBEBEB\");\n\n  //------------------------------------------------------------------------------------------------------ Draw Circles ends\n\n  svg1.selectAll(\".scatterplot_g\").data(scatterplot_data).join('g').attr(\"id\", d => d[0] + \"scatterplot_g_id\").attr(\"class\", \"scatterplot_g\").attr(\"ax\", function (d) {\n    var data_for_x_axis = d[1].map(item => parseFloat(item[feature_contribute]))\n    var data_for_y_axis = d[1].map(item => parseFloat(item[feature]))\n\n    var xScale = d3.scaleLinear().domain(d3.extent(data_for_x_axis)).range([8, feature_width - 8]).nice() // This scaling is for individual model\n    var yScale = d3.scaleLinear().domain(d3.extent(data_for_y_axis)).range([height, 4]).nice(); // This scaling is for individual model\n    //------------- Y axis\n    console.log(data_for_y_axis,\"data_for_y_axis\")\n\n    svg1.selectAll(\".myYaxis\").data([0]).join('g').attr(\"class\", \"myYaxis\")\n      .attr(\"transform\", \"translate(\" + 0 + \",\" + margin.top + \")\").call(d3.axisLeft(yScale).ticks(5).tickSize(-feature_width).tickFormat(d=> d% 1 !== 0?d3.format(\".2f\")(d):d3.format(\".2s\")(d))).select(\".domain\").remove()\n    svg1.selectAll(\".tick line\").attr(\"stroke\", \"#EBEBEB\")\n\n    d3.select(this).selectAll('circle').data(d[1])\n      .join(\"circle\")\n      .attr(\"cx\", (d, i) => xScale(d[feature_contribute]))\n      .attr(\"cy\", (d, i) => {\n        if (yScale(parseFloat(d[feature])) < 10) {\n          return 10;\n        }\n        else if (yScale(parseFloat(d[feature])) > (height - 10)) {\n          return height - 10;\n        }\n        return yScale(parseFloat(d[feature])) - 0\n\n      })\n      .attr(\"actual_Y_value\", d => d[feature] + \" : x value : \" + d[feature_contribute])\n      //.attr(\"r\", 4)\n      .attr(\"r\", d => parseFloat(d[feature_contribute]) <= 0 ? 0 : rScale(d['deviation']))\n      .attr(\"fill\", (d) => {\n        return props.diverginColor(d['two_realRank']).replace(\")\", \",.6)\")\n      })\n\n      .attr('class', d => 'my_circles')\n      .attr(\"id\", d => d['id'])\n      .on('click', d => {\n        props.Set_clicked_circles(props.clicked_circles.includes(d['id']) ? props.clicked_circles.filter(item => item != d['id']) : [...props.clicked_circles, d['id']])\n      })\n  })\n\n  //--------------------------------------------------------------------------------------------------\n  svg1.selectAll(\".my_temp_rect\").data([0]).join('rect').attr(\"class\", \"my_temp_rect\").attr(\"width\", \"100%\").attr(\"height\", 100).style(\"fill\", \"white\").attr(\"y\", height)\n  svg1.selectAll(\".myXaxis\").raise()\n\n  svg1.selectAll(\".my_line\").raise()\n  svg1.selectAll(\".scatterplot_g\").raise()\n\n  //---------------------------------------------Feature Importance with Arrow\n  var ft_svg_height = 25\n  parent_svg.selectAll(\".ft_svg\").remove()\n  var ft_svg = parent_svg.selectAll(\".ft_svg\").data([Math.random()]).join(\"svg\").attr(\"x\", 40).attr(\"y\", height+10).attr(\"class\", \"ft_svg\").attr(\"width\", feature_width).attr(\"height\", ft_svg_height)\n  var markerBoxWidth = 8, markerBoxHeight = 8, refX = markerBoxWidth / 2, refY = markerBoxHeight / 2\n  \n  ft_svg.selectAll('defs').data([0]).join('defs').selectAll('#arrow').data([0]).join('marker').attr('id', 'arrow').attr('viewBox', [0, 0, markerBoxWidth, markerBoxHeight])\n    .attr('refX', refX).attr('refY', refY).attr('markerWidth', markerBoxWidth).attr('markerHeight', markerBoxHeight).attr('orient', 'auto-start-reverse')\n    .append('path').attr('id','path1').attr('d', d3.line()([[0, 0], [0, 7], [7, 3.8]])).attr('stroke', '#777777').attr(\"fill\",\"#777777\");\n  //------------------------------------------------[[x2, y2], [x1, y1]]\n  ft_svg.append('path').attr('d', d3.line()([[feature_width / 2 - 65, 15], [50, 15]])).attr('stroke', '#777777').attr('marker-end', 'url(#arrow)').attr('fill', 'none');\n  ft_svg.append('path').attr('d', d3.line()([[feature_width - 50, 15], [65 + feature_width / 2, 15]])).attr('stroke', '#777777').attr('marker-start', 'url(#arrow)').attr('fill', 'none');\n\n  ft_svg.selectAll(\".myText_low\").data([0]).join(\"text\").attr(\"x\", 30).attr(\"class\", \"myText_low\").attr('dominant-baseline', \"middle\").attr(\"y\", 15).text('Low').attr('text-anchor', 'middle').attr(\"font-size\", 12).attr(\"fill\", \"#2b2828\")\n  ft_svg.selectAll(\".myText\").data([0]).join(\"text\").attr(\"x\", feature_width / 2).attr(\"class\", \"myText\").attr('dominant-baseline', \"middle\").attr(\"y\", 15).text('Attribute Importance').attr('text-anchor', 'middle').attr(\"font-size\", 12).attr(\"fill\", \"#2b2828\")\n  ft_svg.selectAll(\".myText_high\").data([0]).join(\"text\").attr(\"x\", feature_width-30).attr(\"class\", \"myText_high\").attr('dominant-baseline', \"middle\").attr(\"y\", 15).text('High').attr('text-anchor', 'middle').attr(\"font-size\", 12).attr(\"fill\", \"#2b2828\")\n  //---------------------------------------------Feature Importance with Arrow\n  \n\n  svg1.selectAll(\".myText2\").data([0]).join(\"text\").attr(\"class\", \"myText2\").attr('dominant-baseline', \"middle\").attr('text-anchor', \"middle\").text('attribute value').attr(\"fill\", \"#5b5959\").attr(\"font-size\", 13)\n    .attr('transform', d => \"rotate(-90,\" + 0 + \",\" + height / 2 + \")\").attr(\"x\", 0).attr(\"y\", margin.left + 20)\n  //---------------------------\n}\nexport default CreateNumChart","/* eslint-disable eqeqeq, array-callback-return, no-useless-constructor */\nimport React, { Component } from 'react';\nimport { connect } from \"react-redux\";\nimport * as misc_algo from '../../../Algorithms/misc_algo'\nimport CreateCatChart from './CreateCatChart'\nimport CreateNumChart from './CreateNumChart'\nclass Chart extends Component {\n  constructor(props) {\n    super(props);\n  }\n  componentDidMount() {\n    this.setState({ a: 5 })\n  }\n  componentDidUpdate() {\n    var temp_dict = {}\n    this.props.default_models.filter(item => item != \"ListNet\").map(model => {\n      temp_dict[model] = this.props.popup_chart_data[0][model].filter(item=>item['deviation']<this.props.threshold).map(item=>{\n        //item['id'] = item['State'].replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\") + model.replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\")\n        item['id'] = \"id_\" + item['State'].replace(/ /g, '').replace(\"+\", \"_\").replace(\".\", \"_\").replace(/[^a-zA-Z0-9_ ]/g, \"\")\n        return item\n      })\n    })\n    //console.log(this.props.popup_chart_data)\n    var merged_arr = [].concat.apply([], Object.values(temp_dict))\n    var scatterplot_data = Object.entries(this.props.popup_chart_data[0]).filter(item => this.props.pop_over_models.includes(item[0]))\n    //----------------------------------------------------------------------------------------------------------Call createChart\n    if (merged_arr.length > 0) { // This is to avoid the error caused by the next line\n      if (isNaN(merged_arr[0][this.props.popup_chart_data[1]])) {\n        CreateCatChart(merged_arr, this.props.popup_chart_data[1], scatterplot_data,this.props,this.props.deviation_array)\n      }\n      else {\n        CreateNumChart(merged_arr, this.props.popup_chart_data[1], scatterplot_data,this.props,this.props.deviation_array)\n      }\n    }\n    else {\n      CreateNumChart(merged_arr, this.props.popup_chart_data[1], scatterplot_data,this.props,this.props.deviation_array) // calling the function to set the  graph empty when all models are unselected\n    }\n    misc_algo.handle_transparency(\"None\", this.props.clicked_circles, this.props.anim_config)\n  }\n\n  render() {\n    return (\n      <div key={this.props.popup_chart_data[1]} style={{ margin: 10, padding: 10, border: this.props.index == 0 ? \"3px solid #e5e5e5\" : \"white\" }}>\n        <svg id={this.props.myid} className=\"pop_over\"> </svg>\n        <p style={{ color: \"#4f4c4c\", marginLeft: \"42%\", marginTop: -25, marginBottom: 0 }}>{this.props.popup_chart_data[1]}</p>\n      </div>\n    );\n  }\n}\nconst maptstateToprop = (state) => {\n  return {\n    //popup_chart_data: state.popup_chart_data,\n    pop_over_models: state.pop_over_models,\n    clicked_circles: state.clicked_circles,\n    threshold: state.threshold,\n    anim_config:state.anim_config,\n    deviation_array: state.deviation_array,\n  }\n}\n//item['id'] = item['State'].replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\") + model.replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\")\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_clicked_circles: (val) => dispatch({ type: \"clicked_circles\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Chart);","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Fade from '@material-ui/core/Fade';\nimport { connect } from \"react-redux\";\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nfunction FadeMenu(props) {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const open = Boolean(anchorEl);\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  //------------For list and chckbox\n  const [checked, setChecked] = React.useState([0]);\n  const handleToggle = (value) => () => {\n    const currentIndex = checked.indexOf(value);\n    const newChecked = [...checked];\n    if (currentIndex === -1) {\n      newChecked.push(value);\n    } else {\n      newChecked.splice(currentIndex, 1);\n    }\n    setChecked(newChecked);\n  };\n  //----------------\n  const checkboxChanged = (event) => {\n    let temp_Models=[...props.pop_over_models].filter(item=>item!==\"ListNet\")\n    if (temp_Models.includes(event.target.value)) {\n      temp_Models = props.pop_over_models.filter(item => item !== event.target.value)\n      props.Set_pop_over_models(temp_Models)\n    }\n    else {\n      temp_Models.push(event.target.value)\n      props.Set_pop_over_models(temp_Models)\n    }\n  }\n  return (\n    <div>\n      <Button aria-controls=\"fade-menu\" aria-haspopup=\"true\" onClick={handleClick}>\n        Add More Rankers\n        <ArrowDropDownIcon></ArrowDropDownIcon>\n      </Button>\n      <Menu\n        id=\"fade-menu\"\n        anchorEl={anchorEl}\n        keepMounted\n        open={open}\n        onClose={handleClose}\n        TransitionComponent={Fade}\n      >\n        <div className=\"CheckboxContainer\">\n          <List>\n            {props.default_models.map((value) => {\n              const labelId = `checkbox-list-label-${value}`;\n              return (\n                <ListItem key={value} role={undefined} onClick={handleToggle(value)}>\n                  <Checkbox\n                    checked={props.pop_over_models.includes(value)}\n                    edge=\"start\"\n                    tabIndex={-1}\n                    value={value}\n                    onChange={(event, value) => {\n                      checkboxChanged(event, value)\n                    }\n                    }\n                  />\n                  <p className=\"list_item_label\" id={labelId}>{value}</p>\n                </ListItem>\n              );\n            })}\n          </List>\n        </div>\n      </Menu>\n    </div>\n  );\n}\nconst maptstateToprop = (state) => {\n  return {\n    pop_over_models:state.pop_over_models,\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_pop_over_models: (val) => dispatch({ type: \"pop_over_models\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(FadeMenu);\n//https://material-ui.com/components/menus/\n","/* eslint-disable eqeqeq, no-useless-escape  */\nimport React from 'react';\nimport Button from '@material-ui/core/Button';\nimport { connect } from \"react-redux\";\nimport ChartPop from './02Charts'\nimport Draggable from 'react-draggable';\nimport Grid from \"@material-ui/core/Grid\"\nimport FilterModel from \"./FilterModel\"\nexport function SimplePopover(props) {\n    const handleClose = () => {\n        props.set_pop_over(false)\n        props.set_dbclicked_features([])\n    };\n    return (\n        <div className=\"pop_over\" style={{ position: \"relative\" }}>\n            {props.pop_over == true ?\n                <div style={{ top: \"2%\", left: \"14%\", position: \"fixed\", pointerEvents: \"none\", backgroundColor: \"transparent\" }}>\n                    <Draggable>\n                        <Grid style={{ backgroundColor: \"#ffffff\", boxShadow: \"3px 2px 15px -7px #000000\", pointerEvents: \"auto\" }}>\n                            <Grid container style={{ borderBottom: \"1px solid #e2e2e2\", marginBottom: 20 }}\n                                direction=\"row\"\n                                justify=\"space-between\"\n                                alignItems=\"center\"\n                            >\n                                <FilterModel default_models={props.default_models}></FilterModel>\n                                <Button color=\"secondary\" id=\"draggable-dialog-title\" onClick={handleClose}>close</Button>\n                            </Grid>\n                            {\n                                props.mode == \"Model\" ? <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\" style={{ maxHeight: 700, overflow: \"scroll\", maxWidth: 1600 }}>\n                                    {\n                                        props.dbclicked_features.length > 0 ? props.dbclicked_features.map((item, index) => <ChartPop\n                                            index={index}\n                                            popup_chart_data={[props.popup_chart_data[0], item]} default_models={props.default_models}\n                                            myid={item.replace(/\\s/g, '').replace(/[`~!@#$%^&*()_|+\\-=?;:'\",.<>\\{\\}\\[\\]\\\\\\/]/gi, '')} diverginColor={props.diverginColor}\n                                        ></ChartPop>) : <ChartPop popup_chart_data={props.popup_chart_data} default_models={props.default_models} myid=\"myid1\" diverginColor={props.diverginColor} textClickHandler_original={props.textClickHandler_original}></ChartPop>\n                                    }\n                                </Grid> : null\n                            }\n                            {\n                                props.mode == \"Ranges\" ? <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\" style={{ maxHeight: 700, overflow: \"scroll\", maxWidth: 1600 }}>\n                                    {\n                                        props.dbclicked_features.length > 0 ? props.dbclicked_features.map((item, index) => <ChartPop index={index}\n                                            popup_chart_data={[props.popup_chart_data[0], item]} default_models={props.default_models}\n                                            myid={item.replace(/\\s/g, '').replace(/[`~!@#$%^&*()_|+\\-=?;:'\",.<>\\{\\}\\[\\]\\\\\\/]/gi, '')} diverginColor={props.diverginColor}\n                                        ></ChartPop>) : <ChartPop popup_chart_data={props.popup_chart_data} default_models={props.default_models} myid=\"myid1\" diverginColor={props.diverginColor} textClickHandler_original={props.textClickHandler_original}></ChartPop>\n                                    }\n                                </Grid> : null\n                            }\n                            {\n                                props.mode == \"Time\" ? <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\" style={{ maxHeight: 700, overflow: \"scroll\", maxWidth: 1600 }}>\n                                    {\n                                        props.dbclicked_features.length > 0 ? props.dbclicked_features.map((item, index) => <ChartPop\n                                            index={index}\n                                            popup_chart_data={[props.popup_chart_data[0], item]} default_models={props.default_models}\n                                            myid={item.replace(/\\s/g, '').replace(/[`~!@#$%^&*()_|+\\-=?;:'\",.<>\\{\\}\\[\\]\\\\\\/]/gi, '')} diverginColor={props.diverginColor}\n                                        ></ChartPop>) : <ChartPop popup_chart_data={props.popup_chart_data} default_models={props.default_models} myid=\"myid1\" diverginColor={props.diverginColor} textClickHandler_original={props.textClickHandler_original}></ChartPop>\n                                    }\n                                </Grid> : null\n                            }\n                        </Grid>\n                    </Draggable>\n                </div> : null}\n        </div>\n    );\n}\nconst maptstateToprop = (state) => {\n    return {\n        popup_chart_data: state.popup_chart_data,\n        pop_over: state.pop_over,\n        dbclicked_features: state.dbclicked_features,\n        mode: state.mode,\n    }\n}\nconst mapdispatchToprop = (dispatch) => {\n    return {\n        set_pop_over: (val) => dispatch({ type: \"pop_over\", value: val }),\n        set_dbclicked_features: (val) => dispatch({ type: \"dbclicked_features\", value: val }),\n        set_clicked_features: (val) => dispatch({ type: \"clicked_features\", value: val }),\n    }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(SimplePopover);\n","/* eslint-disable no-unused-vars, eqeqeq, array-callback-return */\nimport React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport { connect } from \"react-redux\";\nimport * as deviation_chart from \"../DevPlot/deviation_chart\"\nimport * as misc_algo from '../../../Algorithms/misc_algo'\nimport * as $ from 'jquery';\nimport ModelSlider from './ModelSlider';\nimport ExpChart from './ExpChartComponent';\nimport './ModelSlider.scss';\nimport YearModelSelection from \"./YearAndModelSelection/YearModelSelection\"\nimport Grid from '@mui/material/Grid';\nimport Popover from '../Popover/01Popover';\nclass SlopeChart extends Component {\n  constructor(props) {\n    super(props);\n    this.line_color = null;\n    this.state = { height_slope_exp_chart: 700, mouseX: 0, mouseY: 0 }\n  }\n  componentDidMount() { this.setState({ width: window.innerHeight }) }\n  shouldComponentUpdate(prevProps, prevState) { return true; }\n  componentDidUpdate(prevProps, prevState) {\n    var self=this\n    var selected_instances = d3.range(this.props.state_range[0], this.props.state_range[1] + 1)\n    if (this.props.histogram_data.length > 0) { selected_instances = this.props.histogram_data }\n\n    //--------------------\n    var min = d3.min(selected_instances), max = d3.max(selected_instances);\n    var d = (max - min) / 8;\n    //var diverginColor = d3.scaleDiverging([max, parseInt((max+min)/2), min], d3.interpolateRgbBasis(['#af8dc3', '#dbd88c', '#7fbf7b']));\n    var diverginColor = d3.scaleDiverging([max, parseInt((max+min)/2), min], d3.interpolateRgbBasis(['#b37cd3', '#d9d58c', '#71ce6c'])); //50% saturation\n    \n    //-------------------- Threshold filter\n    var under_threshold_instances = []\n    var year_data = this.props.original_data.filter(item => this.props.selected_year == item['1-qid'])\n    this.props.default_models.map(model_name => {\n      year_data.map(item => {\n        var two_realRank = parseInt(item['two_realRank'])\n        var predicted_rank = parseInt(item[model_name])\n        if (Math.abs(predicted_rank - two_realRank) < this.props.threshold) {\n          under_threshold_instances.push(two_realRank)\n        }\n      })\n    })\n    selected_instances = selected_instances.filter(item => under_threshold_instances.includes(item))\n    deviation_chart.Create_deviation_chart('dev_plot_container_svg', 'exp', selected_instances, this.props.original_data, this.props.default_models, this.props.anim_config, this.props.selected_year, this.props.average_m, this.props.clicked_circles, this.props.Set_clicked_circles, diverginColor, this.props.sparkline_data, this.props.Set_selected_year, this.props.dataset, this.props.threshold)\n    misc_algo.handle_transparency(\"None\", this.props.clicked_circles, this.props.anim_config)\n    \n    //-------------------------Handle model mousever start here \n    d3.selectAll(\".model_p\").on('mouseover',function(){\n      var selectedModel=d3.select(this).attr('modelName')\n      if(self.props.default_models.includes(selectedModel)){\n        d3.selectAll('.dev_circles').attr('opacity',0.1)\n        d3.selectAll('.'+selectedModel).attr('opacity',1)  \n      }\n    })\n    .on('mouseout',function(){\n      d3.selectAll('.dev_circles').attr('opacity',1)\n    })\n  //-------------------------Handle model mousever start here\n  \n  }\n  render() {\n    var selected_instances = d3.range(this.props.state_range[0], this.props.state_range[1] + 1)\n    if (this.props.histogram_data.length > 0) { selected_instances = this.props.histogram_data }\n    //--------------------\n    var min = d3.min(selected_instances), max = d3.max(selected_instances);\n    var d = (max - min) / 8;\n    //var diverginColor = d3.scaleLinear().domain([min + d * 7, min + d * 6, min + d * 5, min + d * 4, min + d * 3, min + d * 2, min]).interpolate(d3.interpolateRgb).range(['#af8dc3','#b197c1','#dbd88c','#dbd88c', '#dbd88c', '#90bc8d', '#7fbf7b']);\n    //var diverginColor = d3.scaleDiverging([max, parseInt((max+min)/2), min], d3.interpolateRgbBasis(['#af8dc3', '#dbd88c', '#7fbf7b']));\n    //var diverginColor = d3.scaleDiverging([min,(max - min) / 2 , max], d3.interpolateSpectral)\n    var diverginColor = d3.scaleDiverging([max, parseInt((max+min)/2), min], d3.interpolateRgbBasis(['#b37cd3', '#d9d58c', '#71ce6c'])); //50% saturation\n    this.props.Set_selected_instances(selected_instances)\n    //--------------------\n    var deviation_array = []\n    console.log(\"Default Models: \",this.props.default_models, this.props.dataset)\n    this.props.default_models.map(model => {\n      this.props.lime_data[model].map(item => {\n        if (item['1-qid'] == this.props.selected_year && selected_instances.includes(parseInt(item['two_realRank']))) {\n          deviation_array.push(item['deviation'])\n        }\n      })\n    })\n    this.props.Set_deviation_array(deviation_array)\n    //console.log('deviation_array: ', d3.extent(deviation_array))\n    //--------------------\n    return (\n      <Grid className=\"ModelChartParent\" container direction=\"row\" justify=\"flex-start\" alignItems=\"center\" style={{ height: '100%', width: '100%', backgroundColor: 'white', margin: 2, padding: 2, boxShadow: \"-2px 1px 4px -1px white\" }}> {/* This model chart's height and width is the parent*/}\n        <Grid item className=\"left_container\" style={{width:400, backgroundColor: \"#fcfcfc\" }}>\n          {/* The deviation plot container starts below */}\n          <div className=\"year_and_model_selector_and_slider_container\" style={{\"z-index\":1}}> {/* This is used to calculate the deviation plot height */}\n            <YearModelSelection></YearModelSelection><ModelSlider></ModelSlider>\n          </div>\n          {/* The deviation plot container starts below */}\n          <div class=\"deviation_plot_container_div\" style={{ width: \"100%\", height: $('.ModelChartParent').height() - $('.year_and_model_selector_and_slider_container').height(), marginBottom: 0, overflow: 'scroll' }}>\n            <svg id=\"dev_plot_container_svg\" style={{ width: \"100%\", overflow: 'hidden' }}></svg>\n          </div>\n          {/* The deviation plot container ends here */}\n        </Grid>\n        {/* The explanation plot container starts below */}\n        {this.props.rank_data != null ?\n          <Grid className=\"right_container\" item container xs direction=\"row\" columnSpacing={1} style={{ height: '100%'}}>\n              {\n                this.props.default_models.map((model_name, index) => {\n                  return <Grid item xs={12/this.props.default_models.length} style={{height: \"100%\"}}>\n                    <ExpChart diverginColor={diverginColor} exp_id={\"exp\" + index} default_models={this.props.default_models} state_range={this.props.state_range} selected_year={this.props.selected_year} model_name={model_name}></ExpChart>\n                  </Grid>\n                })\n              }\n            \n          </Grid> : null}\n        {/* The explanation plot container ends here */}\n        <Popover diverginColor={diverginColor} default_models={this.props.default_models}></Popover>\n      </Grid>\n    )\n  }\n}\nconst maptstateToprop = (state) => {\n  return {\n    default_models: state.default_models,\n    histogram_data: state.histogram_data,\n    state_range: state.state_range,\n    selected_year: state.selected_year,\n    lime_data: state.lime_data,\n    original_data: state.original_data,\n    dataset: state.dataset,\n    sparkline_data: state.sparkline_data,\n    anim_config: state.anim_config,\n    average_m: state.average_m,\n    rank_data: state.rank_data,\n    clicked_circles: state.clicked_circles,\n    threshold: state.threshold\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_selected_instances: (val) => dispatch({ type: \"selected_instances\", value: val }),\n    Set_deviation_array: (val) => dispatch({ type: \"deviation_array\", value: val }),\n    Set_clicked_circles: (val) => dispatch({ type: \"clicked_circles\", value: val }),\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(SlopeChart);","import React from 'react';\nimport Slider from '@material-ui/core/Slider';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { connect } from \"react-redux\";\nimport TextField from '@material-ui/core/TextField';\nimport Button from \"@material-ui/core/Button\";\nimport './ModelSlider.scss';\n//import * as $ from 'jquery'\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: '100%',\n    },\n    heading: {\n        fontSize: theme.typography.pxToRem(15),\n        flexBasis: '33.33%',\n        flexShrink: 0,\n    },\n    secondaryHeading: {\n        fontSize: theme.typography.pxToRem(15),\n        color: theme.palette.text.secondary,\n    },\n    tRoot: {\n        marginBottom: 35,\n    },\n    rang_input: {\n        marginLeft: 10,\n    },\n}));\nfunction Modes(props) {\n    const classes = useStyles();\n    // states \n    const [sliderRange, set_sliderRange] = React.useState(props.range_mode_range1);\n    //-----------------------------------------------------------------\n    var temp_marks = [];\n    var step = (props.slider_max - 1) / (6 - 1);\n    for (var i = 0; i < 6; i++) {\n        temp_marks.push(1 + (step * i));\n    }\n    var marks = temp_marks.map(item => {\n        var myitem = parseInt(item)\n        return { value: myitem, label: myitem }\n    })\n    //console.log(props.marks)\n    //-----------------------------------------------------------------\n    return (\n        <div className=\"Modelslider\" \n        style={{height: 70, width: '100%',marginBottom:5,padding: 30, border: \"1px solid rgb(178, 178, 178,0.5)\"}}>\n            <div className=\"lower\" style={{ padding: \"0px 0px\", marginTop: -20 }}>\n                <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Lower\" value={sliderRange[0]} style={{ width: \"100%\" }}\n                    onChange={event => {\n                        if (isNaN(parseInt(event.target.value))) {\n                            set_sliderRange([\"\", sliderRange[1]])\n                        } else {\n                                set_sliderRange([event.target.value, sliderRange[1]])\n                        }\n                    }\n                    }\n                />\n            </div>\n            <div className=\"slider\" style={{width: \"100%\", margin: \"0px 0px\" }}>\n                <Slider value={sliderRange} onChange={(event, newValue) => set_sliderRange(newValue)} onChangeCommitted={(event, newValue) => props.Set_changed(\"range\")}\n                     aria-labelledby=\"range-slider\" valueLabelDisplay=\"on\" min={1} max={props.slider_max} marks={marks}\n                />\n            </div>\n            <div className=\"upper\" style={{ padding: \"0px 0px\", marginTop: -20 }}>\n                <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Upper\" value={sliderRange[1]} style={{ width: \"100%\" }}\n                    onChange={event => {\n                        if (isNaN(parseInt(event.target.value))) {\n                            set_sliderRange([sliderRange[0], \"\"])\n                        } else {\n                            if (parseInt(event.target.value) > props.slider_max) {\n                                //alert(\"Upper range can not exceed maximum\")\n                                set_sliderRange([sliderRange[0], props.slider_max])\n                            }\n                            else {\n                                set_sliderRange([sliderRange[0], parseInt(event.target.value)])\n                            }\n                        }\n                    }\n                    }\n                />\n            </div>\n            <div className=\"button\" item xs=\"2\" style={{ marginTop: -10 }}>\n                <Button className=\"range_button\" style={{ backgroundColor: \"#ededed\", height: 30 }}\n                    onClick={() => {\n                        if ( sliderRange[0] > sliderRange[1]) {\n                            alert(\"Lower range can not be larger than the upper range\")\n                        }\n                        else if ( sliderRange[1] < sliderRange[0]) {\n                            alert(\"upper range can not be smaller than the lower range\")\n                        }\n                        else{\n                            props.Set_range_mode_range1(sliderRange)\n                        }\n                    }\n                }\n                >Update range</Button>\n            </div>\n        </div>\n    );\n}\nconst maptstateToprop = (state) => {\n    return {\n        slider_max: state.slider_max,\n        range_mode_range1: state.range_mode_range1,\n    }\n}\nconst mapdispatchToprop = (dispatch) => {\n    return {\n        Set_range_mode_range1: (val) => dispatch({ type: \"range_mode_range1\", value: val }),\n        Set_changed: (val) => dispatch({ type: \"changed\", value: val }),\n    }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Modes);","import React from 'react';\nimport Slider from '@material-ui/core/Slider';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { connect } from \"react-redux\";\nimport TextField from '@material-ui/core/TextField';\nimport Button from \"@material-ui/core/Button\";\nimport './ModelSlider.scss';\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: '100%',\n    },\n    heading: {\n        fontSize: theme.typography.pxToRem(15),\n        flexBasis: '33.33%',\n        flexShrink: 0,\n    },\n    secondaryHeading: {\n        fontSize: theme.typography.pxToRem(15),\n        color: theme.palette.text.secondary,\n    },\n    tRoot: {\n        marginBottom: 35,\n    },\n    rang_input: {\n        marginLeft: 10,\n    },\n}));\nfunction Modes(props) {\n    const classes = useStyles();\n    // states \n    const [sliderRange, set_sliderRange] = React.useState(props.range_mode_range2);\n    //-----------------------------------------------------------------\n    var temp_marks = [];\n    var step = (props.slider_max - 1) / (6 - 1);\n    for (var i = 0; i < 6; i++) {\n        temp_marks.push(1 + (step * i));\n    }\n    var marks = temp_marks.map(item => {\n        var myitem = parseInt(item)\n        return { value: myitem, label: myitem }\n    })\n    //console.log(props.marks)\n    //-----------------------------------------------------------------\n    return (\n        <div className=\"Modelslider\" style={{ height: 70, width: \"100%\", marginBottom: 5, paddingTop: 30, paddingLeft: 15, border: \"1px solid rgb(178, 178, 178,0.5)\" }}>\n            <div className=\"lower\" style={{ padding: \"0px 0px\", marginTop: -20 }}>\n                <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Lower\" value={sliderRange[0]} style={{ width: \"100%\" }}\n                    onChange={event => {\n                        if (isNaN(parseInt(event.target.value))) {\n                            set_sliderRange([\"\", sliderRange[1]])\n                        } else {\n                            set_sliderRange([event.target.value, sliderRange[1]])\n                        }\n                    }\n                    }\n                />\n            </div>\n            <div className=\"slider\" style={{ width: \"100%\", margin: \"0px 0px\" }}>\n                <Slider value={sliderRange} onChange={(event, newValue) => set_sliderRange(newValue)} onChangeCommitted={(event, newValue) => props.Set_changed(\"range\")}\n                     aria-labelledby=\"range-slider\" valueLabelDisplay=\"on\" min={1} max={props.slider_max} marks={marks}\n                />\n            </div>\n            <div className=\"upper\" style={{ padding: \"0px 0px\", marginTop: -20 }}>\n                <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Upper\" value={sliderRange[1]} style={{ width: \"100%\" }}\n                    onChange={event => {\n                        if (isNaN(parseInt(event.target.value))) {\n                            set_sliderRange([sliderRange[0], \"\"])\n                        } else {\n                            if (parseInt(event.target.value) > props.slider_max) {\n                                set_sliderRange([sliderRange[0], props.slider_max])\n                            }\n                            else {\n                                set_sliderRange([sliderRange[0], parseInt(event.target.value)])\n                            }\n                        }\n                    }\n                    }\n                />\n            </div>\n            <div className=\"button\" item xs=\"2\" style={{ marginTop: -10 }}>\n                <Button className=\"range_button\" style={{ backgroundColor: \"#ededed\", height: 30 }}\n                    onClick={() => {\n                        if ( sliderRange[0] > sliderRange[1]) {\n                            alert(\"Lower range can not be larger than the upper range\")\n                        }\n                        else if ( sliderRange[1] < sliderRange[0]) {\n                            alert(\"upper range can not be smaller than the lower range\")\n                        }\n                        else{\n                            props.Set_range_mode_range2(sliderRange)\n                        }\n                    }}\n                >Update range</Button>\n            </div>\n        </div>\n    );\n}\nconst maptstateToprop = (state) => {\n    return {\n        slider_max: state.slider_max,\n        range_mode_range2: state.range_mode_range2,\n    }\n}\nconst mapdispatchToprop = (dispatch) => {\n    return {\n        Set_range_mode_range2: (val) => dispatch({ type: \"range_mode_range2\", value: val }),\n        Set_changed: (val) => dispatch({ type: \"changed\", value: val }),\n    }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Modes);","/* eslint-disable no-redeclare, eqeqeq */\nimport React from 'react';\nimport \"./YearModelSelection.scss\";\nimport { connect } from \"react-redux\";\nfunction YearModelSelection(props) {\n  var handle_year_click = (year) => {\n    props.Set_selected_year(year)\n  }\n  var handle_model_click=(model)=>props.Set_range_mode_model(model)\n  if(props.dataset==\"rur\"){var all_models=[\"MART\",\"RandomFor\"]}else{var all_models=props.all_models}\n  if(props.exp_method === \"ice\"){var all_models=props.all_models; all_models = all_models.filter(d => d !== \"RandomFor\"); if(!all_models.includes(\"SVM\")){all_models.push(\"SVM\")}}\n  else{var all_models=props.all_models}\n  return (\n    <div className=\"range_topbar\" style={{width:\"100%\",marginBottom:2,display:'flex',justifyContent: \"center\",margin:0}}>\n    <div ><h5 style={{ display: \"inline-block\", marginLeft: 0,marginRight:3,fontSize:16,fontWeight:600 }}>{(props.dataset === \"airbnb\")?\"Boroughs:\":\"Years:\"} </h5>{props.years_for_dropdown.map(item => <p className={props.selected_year==item ? \"years_p_selected years_p\" : \"years_p\"} onClick={() => handle_year_click(item)}>{item}</p>)}</div>\n    <div style={{marginLeft:20}}><h5 style={{ display: \"inline-block\", marginLeft: 0,marginRight:3,fontSize:16,fontWeight:600}}>Rankers:</h5>{all_models.map(item => <p className={props.range_mode_model==item ? \"years_p_selected years_p\" : \"years_p\"} onClick={() => handle_model_click(item)}>{item}</p>)}</div>\n    </div>\n  );\n}\nconst maptstateToprop = (state) => {\n  return {\n    all_models:state.all_models,\n    selected_year: state.selected_year,\n    years_for_dropdown: state.years_for_dropdown,\n    default_models: state.default_models,\n    range_mode_model:state.range_mode_model,\n    dataset:state.dataset,\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: val }),\n    Set_range_mode_model: (val) => dispatch({ type: \"range_mode_model\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(YearModelSelection);\n\n//https://material-ui.com/api/slider/\n//https://material-ui.com/components/expansion-panels/\n//https://material-ui.com/api/checkbox/\n//https://material-ui.com/components/radio-buttons/","/* eslint-disable eqeqeq, array-callback-return */\nimport React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport { connect } from \"react-redux\";\nimport * as algo1 from \"../../../Algorithms/algo1\";\nimport * as $ from 'jquery';\nimport CreatexpCircle from \"../ExpChart/Create_exp_circles\"\nimport \"../ExpChart/MDS.css\"\nclass SlopeChart extends Component {\n  constructor(props) {\n    super(props);\n    this.line_color = null;\n    this.exp = React.createRef()\n    this.mds = React.createRef()\n    this.state = { mds_height: 10, mouseX: 0, mouseY: 0, excluded_features: [], sorted_features: null, circle_data: null, indexed_features: null, random: true }\n  }\n  componentDidMount() {\n    this.setState({ width: window.innerHeight })\n  }\n  componentDidUpdate(prevProps, prevState) {\n    this.Createsvg(this.props.model_name, this.props.exp_id, this.props.state_range)\n  }\n  Createsvg = (model_name, exp_id, state_range) => {\n    var self = this\n    var selected_instances = d3.range(state_range[0], state_range[1] + 1)\n    if (this.props.histogram_data.length > 0) { selected_instances = this.props.histogram_data }\n    //-------------------- Threshold filter\n    var under_threshold_instances = []\n    var year_data = this.props.original_data.filter(item => this.props.selected_year == item['1-qid'])\n    this.props.default_models.map(model_name => {\n      year_data.map(item => {\n        var two_realRank = parseInt(item['two_realRank'])\n        var predicted_rank = parseInt(item[model_name])\n        if (Math.abs(predicted_rank - two_realRank) > this.props.threshold) {\n          under_threshold_instances.push(two_realRank)\n        }\n      })\n    })\n    selected_instances = selected_instances.filter(item => !under_threshold_instances.includes(item))\n    //console.log(selected_instances,\"selected_instances2\")\n    //--------------------\n\n    //------------------------------\n    var number_of_charts = 8 + self.state.excluded_features.length\n    \n    var indexed_features = algo1.getSortedFeatures(this.props.lime_data[model_name],selected_instances, this.props.selected_year)\n    var temp_sorted_features = indexed_features.filter(item => !this.state.excluded_features.includes(item))// Exclude crossed features \n    var sorted_features = temp_sorted_features.slice(0, number_of_charts).map((item, index) => [item, index])\n\n    var marginTop = 5,marginBottom = 10\n    var parent_height = parseInt($('.explanation_chart_parent').height()) - this.state.mds_height - parseInt($('.title_p').height())\n    var item_width = parseInt($(\"#\" + this.props.exp_id).width())\n    var item_height = (parent_height - 10) / sorted_features.length - marginTop // 10 is the top margin\n    var feature_containers = d3.select('#' + this.props.exp_id).attr('height', parent_height).selectAll(\".feature_items\").data(sorted_features, d => d[0])\n      .join(enter => enter.append(\"svg\").attr(\"y\", (d, i) => marginTop + i * (item_height + marginTop))\n        , update => update.transition().duration(2000).attr(\"y\", (d, i) => marginTop + i * (item_height + marginTop))\n        , exit => exit.remove()\n      )\n    feature_containers.attr(\"class\", d => \"feature_items \" + d[0]).attr(\"myindex\", (d, i) => i).attr('feature_name', d => d[0])\n\n    feature_containers.attr(\"add_title_text_and_rect_for_title_text\", function (d, index) {\n      d3.select(this).selectAll(\".title_rect\").data([0]).join('rect').attr(\"class\", \"title_rect\").attr(\"myindex\", index).attr('feature_name', d[0]).attr(\"width\", \"100%\").attr(\"height\", 18).attr(\"fill\", \"#e2e2e2\").attr(\"y\", 0).attr(\"x\", 0)\n      d3.select(this).selectAll(\".title_text\").data([0]).join('text').attr(\"class\", \"title_text\").attr(\"myindex\", index).attr('feature_name', d[0]).attr('x', item_width / 2).text(d[0]).attr(\"dominant-baseline\", \"hanging\")\n        .attr(\"y\", 2).attr('text-anchor', 'middle').attr('font-size', 12)\n    })\n    feature_containers.attr(\"add_cross_button\", function (d, index) {\n      d3.select(this).selectAll(\".cross_button\").data([0]).join(\"text\").attr('y', 7.3).attr('dominant-baseline', 'middle').attr(\"myindex\", index).attr('feature_name', d[0]).raise()\n        .attr('x', item_width - 15).style('cursor', 'pointer').attr('font-size', 14).attr('fill', 'black')\n        .text(\"\\uf410\").attr('class', \"cross_button fa make_cursor\").on('click', () => {\n          d3.event.preventDefault()\n          self.setState({ excluded_features: [...self.state.excluded_features, d[0]] })\n        })\n        //---\n        d3.select(this).selectAll(\".expand_button\").data([0]).join(\"text\").attr('y', 7.3)\n        .attr('dominant-baseline', 'middle').attr(\"myindex\", index).attr('feature_name', d[0]).raise()\n        .attr('x', item_width - 35).style('cursor', 'pointer').attr('font-size', 12).attr('fill', 'black')\n        .text(\"\\uf31e\").attr('class', \"expand_button fa make_cursor\").on('click', () => {\n          var feature = d[0]\n          var year = self.props.selected_year\n          d3.event.preventDefault()\n          var temp = [...self.props.dbclicked_features]\n          if (!temp.includes(feature)) {\n            temp.unshift(feature)\n            d3.selectAll(\".rect\").classed(\"exp_chart_clicked\", true)\n          }\n          self.props.set_dbclicked_features(temp)\n          //----------------------------Data for popup chart\n          var popup_chart_data = {}\n          self.props.default_models.filter(item => item != \"ListNet\").map(model_name => {\n            var data = []\n            if (self.props.histogram_data.length > 0) {\n              data = self.props.lime_data[model_name].filter(element => { if ((parseInt(element['1-qid']) == parseInt(year)) && (self.props.histogram_data.includes(parseInt(element['two_realRank'])))) { return element } });\n            }\n            else {\n              data = self.props.lime_data[model_name].filter(element => parseInt(element['1-qid']) == parseInt(year) && selected_instances.includes(parseInt(element['two_realRank'])))\n            }\n            popup_chart_data[model_name] = data\n          })\n          self.props.Set_popup_chart_data([popup_chart_data, feature]) // This is to update the pop when the year or anything changes during the pop up is open\n          //self.props.Set_popup_chart_data([popup_chart_data, feature])\n          self.props.set_pop_over(true)\n        })\n        //---\n    })\n    feature_containers.attr(\"add_rect_for_circle_background_and_handle_clicks\", function (d, index) {\n      d3.select(this).selectAll(\".circ_rect\").data([0]).join('rect').attr(\"class\", \"circ_rect\").attr(\"myindex\", index).attr('feature_name', d[0]).attr(\"width\", \"100%\").attr(\"height\", item_height - 18).attr(\"fill\", \"#f2f2f2\").attr(\"y\", 18).attr(\"x\", 0)\n        .on('click', () => {\n          if (self.props.clicked_features.includes(d[0])) {\n            self.props.Set_clicked_features(self.props.clicked_features.filter(item => item != d[0]))\n            d3.selectAll(\".\" + d[0]).selectAll(\".border_rect\").remove()\n          }\n          else {\n            self.props.Set_clicked_features([...self.props.clicked_features, d[0]])\n            d3.selectAll(\".\" + d[0]).selectAll(\".border_rect\").data([0]).join('rect').attr(\"class\", \"border_rect\").attr(\"width\", \"100%\").attr(\"height\", \"100%\").style(\"stroke\", \"black\").style(\"fill\", \"none\").style(\"stroke-width\", 5)\n          }\n        })\n        \n\n    })\n    feature_containers.attr(\"CreatexpCircle\", function (d, index) {\n      var title_rect_height=16\n      CreatexpCircle(d, d3.select(this), selected_instances, self.props.lime_data, self.props.selected_year, [model_name], self.props.clicked_circles,\n        self.props.Set_clicked_circles, self.props.diverginColor, self.props.anim_config, item_width, item_height-(marginTop+marginBottom), self.props.deviation_array, index, self.props.threshold,self.props.dataset,title_rect_height,'label_on',sorted_features)\n    }).attr(\"height\", function (d) {\n        if (d[1] == sorted_features.length - 1) {\n          var ft_svg_height = 25\n          \n          var svg = d3.select(this.parentNode).selectAll(\".ft_svg\").data([0]).join(\"svg\").attr(\"x\", 0).attr(\"y\", parent_height - ft_svg_height).attr(\"class\", \"ft_svg\").attr(\"width\", item_width).attr(\"height\", ft_svg_height)\n          var markerBoxWidth = 8, markerBoxHeight = 8, refX = markerBoxWidth / 2, refY = markerBoxHeight / 2\n          svg.append('defs').append('marker').attr('id', 'arrow').attr('viewBox', [0, 0, markerBoxWidth, markerBoxHeight])\n            .attr('refX', refX).attr('refY', refY).attr('markerWidth', markerBoxWidth).attr('markerHeight', markerBoxHeight).attr('orient', 'auto-start-reverse')\n            .append('path').attr('d', d3.line()([[0, 0], [0, 7], [7, 3.8]])).attr('stroke', '#777777').attr(\"fill\",\"#777777\");\n          //------------------------------------------------[[x2, y2], [x1, y1]]\n          svg.append('path').attr('d', d3.line()([[item_width / 2 - 65, 15], [50, 15]])).attr('stroke', '#777777').attr('marker-end', 'url(#arrow)').attr('fill', 'none');\n          svg.append('path').attr('d', d3.line()([[item_width - 50, 15], [65 + item_width / 2, 15]])).attr('stroke', '#777777').attr('marker-start', 'url(#arrow)').attr('fill', 'none');\n\n          svg.selectAll(\".myText_low\").data([0]).join(\"text\").attr(\"x\", 30).attr(\"class\", \"myText_low\").attr('dominant-baseline', \"middle\").attr(\"y\", 15).text('Low').attr('text-anchor', 'middle').attr(\"font-size\", 12).attr(\"fill\", \"#2b2828\")\n          svg.selectAll(\".myText\").data([0]).join(\"text\").attr(\"x\", item_width / 2).attr(\"class\", \"myText\").attr('dominant-baseline', \"middle\").attr(\"y\", 15).text('attribute Importance').attr('text-anchor', 'middle').attr(\"font-size\", 12).attr(\"fill\", \"#2b2828\")\n          svg.selectAll(\".myText_high\").data([0]).join(\"text\").attr(\"x\", item_width-30).attr(\"class\", \"myText_high\").attr('dominant-baseline', \"middle\").attr(\"y\", 15).text('High').attr('text-anchor', 'middle').attr(\"font-size\", 12).attr(\"fill\", \"#2b2828\")\n          return item_height - marginBottom - marginTop\n        }\n        return item_height - marginBottom - marginTop\n      }).attr('width', item_width)\n    feature_containers.attr('check_clicked_features', d => {\n      if (self.props.clicked_features.includes(d[0])) {\n        d3.selectAll(\".\" + d[0]).selectAll(\".border_rect\").data([0]).join('rect').attr(\"class\", \"border_rect\").attr(\"width\", \"100%\").attr(\"height\", \"100%\").style(\"stroke\", \"black\").style(\"fill\", \"none\").style(\"stroke-width\", 5)\n      }\n    })\n  }\n  //------------------------------\n  render() {\n    return (\n      <div className={\"explanation_chart_parent exp\" + this.props.model_name} style={{ width: '100%', height: '100%', \"border\": this.props.mode == 'Model' ? \"2px solid #e2e2e2\" : 'none', padding: \"2px 5px\" }}>\n        <p className=\"title_p\" style={{ padding: 0, margin: 0 }}>{this.props.model_name}</p>\n        <svg id={this.props.exp_id} style={{ marginTop: this.state.mds_height, width: \"100%\" }}></svg>\n        <marker id=\"arrow\" markerUnits=\"strokeWidth\" markerWidth=\"12\" markerHeight=\"12\" viewBox=\"0 0 12 12\" refX=\"6\" refY=\"6\" orient=\"auto\">\n          <path d=\"M2,2 L10,6 L2,10 L6,6 L2,2\" style={{ fill: \"black\" }}></path>\n        </marker>\n      </div>\n    )\n  }\n}\nconst maptstateToprop = (state) => {\n  return {\n    deviation_array: state.deviation_array,\n    original_data: state.original_data,\n    time_mode_model: state.time_mode_model,\n    dataset: state.dataset,\n    histogram_data: state.histogram_data,\n    sparkline_data: state.sparkline_data,\n    anim_config: state.anim_config,\n    show: state.show,\n    average_m: state.average_m,\n    average_y: state.average_y,\n    lime_data: state.lime_data,\n    rank_data: state.rank_data,\n    clicked_circles: state.clicked_circles,\n    clicked_features: state.clicked_features,\n    threshold: state.threshold,\n    mode: state.mode,\n    dbclicked_features: state.dbclicked_features,\n    dragged_features: state.dragged_features,\n    url: state.url,\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_dragged_features: (val) => dispatch({ type: \"dragged_features\", value: val }),\n    Set_clicked_circles: (val) => dispatch({ type: \"clicked_circles\", value: val }),\n    Set_prev_prop: (val) => dispatch({ type: \"prev_prop\", value: val }),\n    Set_sparkline_data: (val) => dispatch({ type: \"sparkline_data\", value: val }),\n    Set_replay: (val) => dispatch({ type: \"replay\", value: val }),\n    Set_clicked_features: (val) => dispatch({ type: \"clicked_features\", value: val }),\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: val }),\n    set_dbclicked_features: (val) => dispatch({ type: \"dbclicked_features\", value: val }),\n    Set_popup_chart_data: (val) => dispatch({ type: \"popup_chart_data\", value: val }),\n    set_pop_over: (val) => dispatch({ type: \"pop_over\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(SlopeChart);","/* eslint-disable eqeqeq, no-useless-constructor */\nimport React, { Component } from 'react';\nimport { connect } from \"react-redux\";\nimport * as misc_algo from \"../../../Algorithms/misc_algo\"\nimport CreateCatChart from '../Popover/CreateCatChart'\nimport CreateNumChart from '../Popover/CreateNumChart'\nclass Chart extends Component {\n  constructor(props) {\n    super(props);\n  }\n  componentDidMount() {\n    this.setState({ a: 5 })\n  }\n  componentDidUpdate() {\n    var merged_arr = this.props.popup_chart_data[0] // only data\n    var scatterplot_data = [[this.props.popup_chart_data[1], this.props.popup_chart_data[0]]] // [feature name, data]\n    //----------------------------------------------------------------------------------------------------------Call createChart\n    if (merged_arr.length > 0) { // This is to avoid the error caused by the next line\n      if (isNaN(merged_arr[0][this.props.popup_chart_data[1]])) {\n        CreateCatChart(merged_arr, this.props.popup_chart_data[1], scatterplot_data, this.props, this.props.deviation_array)\n      }\n      else {\n        CreateNumChart(merged_arr, this.props.popup_chart_data[1], scatterplot_data, this.props, this.props.deviation_array)\n      }\n    }\n    else {\n      CreateNumChart(merged_arr, this.props.popup_chart_data[1], scatterplot_data, this.props, this.props.deviation_array) // calling the function to set the  graph empty when all models are unselected\n    }\n    misc_algo.handle_transparency(\"None\", this.props.clicked_circles, this.props.anim_config)\n  }\n\n  render() {\n    return (\n      <div key={this.props.popup_chart_data[1]} style={{ margin: 10, padding: 10, border: this.props.index == 0 ? \"3px solid #e5e5e5\" : \"white\" }}>\n        <p style={{ color: \"#4f4c4c\", marginLeft: \"42%\", marginTop: 0, marginBottom: 5,fontWeight:600 }}>{this.props.group}</p>\n        <svg id={this.props.myid} style={{ marginTop: 10 }}> </svg>\n        <p style={{ color: \"#4f4c4c\", marginLeft: \"42%\", marginTop: -25, marginBottom: 0 }}>{this.props.popup_chart_data[1]}</p>\n      </div>\n    );\n  }\n}\nconst maptstateToprop = (state) => {\n  return {\n    clicked_circles: state.clicked_circles,\n    threshold: state.threshold,\n    anim_config: state.anim_config,\n    deviation_array: state.deviation_array,\n  }\n}\n//item['id'] = item['State'].replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\") + model.replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\")\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_clicked_circles: (val) => dispatch({ type: \"clicked_circles\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Chart);","/* eslint-disable no-unused-vars, eqeqeq, array-callback-return, no-redeclare, no-useless-escape */\nimport React from 'react';\nimport Button from '@material-ui/core/Button';\nimport { connect } from \"react-redux\";\nimport ChartPop from './04PopoverCharts'\nimport Draggable from 'react-draggable';\nimport Grid from '@mui/material/Grid';\nimport * as d3 from 'd3';\nexport function SimplePopover(props) {\n    const handleClose = () => {\n        props.set_pop_over(false)\n        props.set_dbclicked_features([])\n    };\n     //------------------------------\n     var selected_instances = d3.range(d3.min([props.range_mode_range1[0], props.range_mode_range2[0]]), d3.max([props.range_mode_range1[1], props.range_mode_range2[1]]) + 1)\n     var min = d3.min(selected_instances), max = d3.max(selected_instances);\n     var d = (max - min) / 8;\n     var diverginColor = d3.scaleLinear().domain([min + d * 7, min + d * 6, min + d * 5, min + d * 4, min + d * 3, min + d * 2, min]).interpolate(d3.interpolateRgb).range(['#af8dc3','#b197c1','#dbd88c','#dbd88c', '#dbd88c', '#90bc8d', '#7fbf7b']);\n     //------------------------------\n     var selected_instances1 = d3.range(props.range_mode_range1[0], props.range_mode_range1[1] + 1)\n     //-------------------- Threshold filter\n     var under_threshold_instances = []\n     var year_data = props.original_data.filter(item => props.selected_year == item['1-qid'])\n       year_data.map(item => {\n         var two_realRank = parseInt(item['two_realRank'])\n         var predicted_rank = parseInt(item[props.range_mode_model])\n         if (Math.abs(predicted_rank - two_realRank) < props.threshold) {\n           under_threshold_instances.push(two_realRank)\n         }\n       })\n     selected_instances1 = selected_instances1.filter(item => under_threshold_instances.includes(item))\n     var data1 = props.lime_data[props.range_mode_model].filter(element => parseInt(element['1-qid']) == parseInt(props.selected_year) && selected_instances1.includes(parseInt(element['two_realRank'])))\n     //------------------------------\n     var selected_instances2 = d3.range(props.range_mode_range2[0], props.range_mode_range2[1] + 1)\n     var under_threshold_instances = []\n     var year_data = props.original_data.filter(item => props.selected_year == item['1-qid'])\n     year_data.map(item => {\n       var two_realRank = parseInt(item['two_realRank'])\n       var predicted_rank = parseInt(item[props.range_mode_model])\n       if (Math.abs(predicted_rank - two_realRank) < props.threshold) {\n         under_threshold_instances.push(two_realRank)\n       }\n     })\n     selected_instances2 = selected_instances2.filter(item => under_threshold_instances.includes(item))\n     var data2 = props.lime_data[props.range_mode_model].filter(element => parseInt(element['1-qid']) == parseInt(props.selected_year) && selected_instances2.includes(parseInt(element['two_realRank'])))\n    \n    return (\n        <div className=\"pop_over\" style={{ position: \"relative\" }}>\n            {props.pop_over == true ?\n                <div style={{ top: \"2%\", left: \"14%\", position: \"fixed\", pointerEvents: \"none\", backgroundColor: \"transparent\" }}>\n                    <Draggable>\n                        <Grid style={{ backgroundColor: \"#ffffff\", boxShadow: \"3px 2px 15px -7px #000000\", pointerEvents: \"auto\",display:\"relative\",zIndex:6 }}>\n                            <Grid container style={{ borderBottom: \"1px solid #e2e2e2\", marginBottom: 20 }} direction=\"row\" justifyContent=\"flex-end\" alignItems=\"center\" >\n                                <Button color=\"secondary\" id=\"draggable-dialog-title\" onClick={handleClose}>close</Button>\n                            </Grid>\n                            <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\" style={{ maxHeight: 700, overflow: \"scroll\", maxWidth: 1600 }}>\n                                { \n                                    props.dbclicked_features.length > 0 ? props.dbclicked_features.map((item, index) => <Grid item container direction=\"row\" >\n                                        <ChartPop index={index}\n                                        popup_chart_data={[data1, item]} default_models={props.default_models} group=\"Group 1\"\n                                        myid={item.replace(/\\s/g, '').replace(/[`~!@#$%^&*()_|+\\-=?;:'\",.<>\\{\\}\\[\\]\\\\\\/]/gi, '')+\"range1\"} diverginColor={props.diverginColor}>\n                                        </ChartPop>\n                                    <ChartPop index={index} group=\"Group 2\"\n                                        popup_chart_data={[data2, item]} default_models={props.default_models}\n                                        myid={item.replace(/\\s/g, '').replace(/[`~!@#$%^&*()_|+\\-=?;:'\",.<>\\{\\}\\[\\]\\\\\\/]/gi, '')+\"range2\"} diverginColor={props.diverginColor}>\n                                    </ChartPop></Grid>\n                                    ) : <ChartPop popup_chart_data={data1} default_models={props.default_models} myid=\"myid1\" diverginColor={props.diverginColor} textClickHandler_original={props.textClickHandler_original}></ChartPop>\n                                }\n                            </Grid>\n                        </Grid>\n                    </Draggable>\n                </div> : null}\n        </div>\n    );\n}\nconst maptstateToprop = (state) => {\n    return {\n        range_mode_range1: state.range_mode_range1,\n        range_mode_range2: state.range_mode_range2,\n        range_mode_model: state.range_mode_model,    \n        popup_chart_data: state.popup_chart_data,\n        pop_over: state.pop_over,\n        dbclicked_features: state.dbclicked_features,\n        selected_year: state.selected_year,\n        threshold: state.threshold,\n        original_data: state.original_data,\n        lime_data: state.lime_data,\n        histogram_data: state.histogram_data,\n    }\n}\nconst mapdispatchToprop = (dispatch) => {\n    return {\n        set_pop_over: (val) => dispatch({ type: \"pop_over\", value: val }),\n        set_dbclicked_features: (val) => dispatch({ type: \"dbclicked_features\", value: val }),\n        set_clicked_features: (val) => dispatch({ type: \"clicked_features\", value: val }),\n    }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(SimplePopover);\n","/* eslint-disable  eqeqeq, array-callback-return, no-redeclare */\nimport React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport { connect } from \"react-redux\";\nimport Grid from '@material-ui/core/Grid';\nimport * as deviation_chart from \"../DevPlot/deviation_chart\"\nimport * as misc_algo from '../../../Algorithms/misc_algo'\nimport * as $ from 'jquery';\nimport SliderGroup1 from './SliderGroup1';\nimport SliderGroup2 from './SliderGroup2';\nimport YearModelSelection from \"./YearAndModelSelection/YearModelSelection\"\nimport ExpChart from './02RangeExpChart';\nimport Popover from './03RangePopover';\n\nclass SlopeChart extends Component {\n  constructor(props) {\n    super(props);\n    this.line_color = null;\n    this.state = { height_slope_exp_chart: 700, mouseX: 0, mouseY: 0 }\n  }\n  componentDidMount() {\n    this.setState({ width: window.innerHeight })\n  }\n  shouldComponentUpdate(prevProps, prevState) {\n    return true;\n  }\n  componentDidUpdate(prevProps, prevState) {\n    //------------------------------\n    var selected_instances = d3.range(d3.min([this.props.range_mode_range1[0], this.props.range_mode_range2[0]]), d3.max([this.props.range_mode_range1[1], this.props.range_mode_range2[1]]) + 1)\n    var min = d3.min(selected_instances), max = d3.max(selected_instances);\n    var d = (max - min) / 8;\n    var diverginColor = d3.scaleLinear().domain([min + d * 7, min + d * 6, min + d * 5, min + d * 4, min + d * 3, min + d * 2, min]).interpolate(d3.interpolateRgb).range(['#af8dc3','#b197c1','#dbd88c','#dbd88c', '#dbd88c', '#90bc8d', '#7fbf7b']);\n    //var diverginColor = d3.scaleDiverging([min,(max - min) / 2 , max], d3.interpolateSpectral)\n    //------------------------------\n    var selected_instances1 = d3.range(this.props.range_mode_range1[0], this.props.range_mode_range1[1] + 1)\n    //-------------------- Threshold filter\n    var under_threshold_instances = []\n    var year_data = this.props.original_data.filter(item => this.props.selected_year == item['1-qid'])\n      year_data.map(item => {\n        var two_realRank = parseInt(item['two_realRank'])\n        var predicted_rank = parseInt(item[this.props.range_mode_model])\n        if (Math.abs(predicted_rank - two_realRank) < this.props.threshold) {\n          under_threshold_instances.push(two_realRank)\n        }\n      })\n    \n    //console.log(\"Checking\", selected_instances1, under_threshold_instances)\n    selected_instances1 = selected_instances1.filter(item => under_threshold_instances.includes(item))\n    deviation_chart.Create_deviation_chart('r1d', 'r1exp', selected_instances1, this.props.original_data, [this.props.range_mode_model], this.props.anim_config, this.props.selected_year, this.props.average_m, this.props.clicked_circles, this.props.Set_clicked_circles, diverginColor, this.props.sparkline_data, this.props.Set_selected_year, this.props.dataset, this.props.threshold)\n    //------------------------------\n    var selected_instances2 = d3.range(this.props.range_mode_range2[0], this.props.range_mode_range2[1] + 1)\n    var under_threshold_instances = []\n    var year_data = this.props.original_data.filter(item => this.props.selected_year == item['1-qid'])\n    year_data.map(item => {\n      var two_realRank = parseInt(item['two_realRank'])\n      var predicted_rank = parseInt(item[this.props.range_mode_model])\n      if (Math.abs(predicted_rank - two_realRank) < this.props.threshold) {\n        under_threshold_instances.push(two_realRank)\n      }\n    })\n    selected_instances2 = selected_instances2.filter(item => under_threshold_instances.includes(item))\n\n    deviation_chart.Create_deviation_chart('r2d', 'r2exp', selected_instances2, this.props.original_data, [this.props.range_mode_model], this.props.anim_config, this.props.selected_year, this.props.average_m, this.props.clicked_circles, this.props.Set_clicked_circles, diverginColor, this.props.sparkline_data, this.props.Set_selected_year, this.props.dataset, this.props.threshold)\n    //------------------------------\n    misc_algo.handle_transparency(\"None\", this.props.clicked_circles, this.props.anim_config)\n\n  }\n  render() {\n    //------------------------------\n    var selected_instances = d3.range(d3.min([this.props.range_mode_range1[0], this.props.range_mode_range2[0]]), d3.max([this.props.range_mode_range1[1], this.props.range_mode_range2[1]]) + 1)\n    var min = d3.min(selected_instances), max = d3.max(selected_instances);\n    var d = (max - min) / 8;\n    var diverginColor = d3.scaleLinear().domain([min + d * 7, min + d * 6, min + d * 5, min + d * 4, min + d * 3, min + d * 2, min]).interpolate(d3.interpolateRgb).range(['#af8dc3','#b197c1','#dbd88c','#dbd88c', '#dbd88c', '#90bc8d', '#7fbf7b']);\n    //var diverginColor = d3.scaleDiverging([min,(max - min) / 2 , max], d3.interpolateSpectral)\n    this.props.Set_selected_instances(selected_instances)\n    //--------------------\n    var deviation_array = []\n\n    this.props.lime_data[this.props.range_mode_model].map(item => {\n      if (item['1-qid'] == this.props.selected_year && selected_instances.includes(parseInt(item['two_realRank']))) {\n        deviation_array.push(item['deviation'])\n      }\n    })\n    this.props.Set_deviation_array(deviation_array)\n    //--------------------\n    return (\n      <Grid key={this.props.mode} className=\"RangeChartParent slope_chart_exp\" container direction=\"row\" justifyContent=\"space-between\"\n        style={{ width: \"100%\", height: '100%', backgroundColor: 'white', padding: \"0px 0px\", overflow: 'hidden' }}>\n        <div className=\"year_and_model_selector_and_slider_container\" style={{ width: \"100%\" }}> {/* This is used to calculate the deviation plot height */}\n          <YearModelSelection></YearModelSelection>\n        </div>\n        {/* Group 1 */}\n        <Grid className=\"Group1_container\" style={{ height: \"100%\", width: \"49.4%\", paddingRight: 0, border: \"2px solid #eaeaea\", overflow: 'hidden' }} container item direction=\"column\" justifyContent=\"space-between\">\n          <p className=\"title_p1\" style={{ margin: 0, paddingLeft: \"45%\", backgroundColor: \"rgb(232, 232, 232,0.4)\", fontWeight: \"bolder\", borderBottom: \"1px solid #cecece\" }}>Group 1</p>\n          <Grid className=\"slidergroup1\" item style={{ backgroundColor: \"rgb(232, 232, 232,0.4)\" }}><SliderGroup1></SliderGroup1></Grid>\n          <Grid className=\"dev_plot_and_exp_container\" style={{ width: '100%', height: $('.Group1_container').height() - ($('.title_p1').height() + $('.slidergroup1').height() + $('.year_and_model_selector_and_slider_container').height() + 5) }} container direction=\"row\" justify=\"center\" alignItems=\"center\">\n            <Grid className=\"deviation_plot_container_div\" item style={{ width: '49%', height: $('.Group1_container').height() - ($('.title_p1').height() + $('.slidergroup1').height() + $('.year_and_model_selector_and_slider_container').height() + 5), overflow: 'scroll', borderRight: '1px solid #dbdbdb' }}>\n              <svg id=\"r1d\" style={{ width: \"100%\", padding: 5 }}></svg>\n            </Grid>\n            {\n              this.props.rank_data != null ? <Grid className=\"explanation_plot_container\" item style={{ width: '49%', height: '100%' }}>\n                <ExpChart diverginColor={diverginColor} exp_data={[[\"r1exp\", this.props.range_mode_range1], [\"r2exp\", this.props.range_mode_range2]]} exp_id=\"r1exp\" state_range={this.props.range_mode_range1} selected_year={this.props.selected_year} model_name={this.props.range_mode_model} default_models={[this.props.range_mode_model]}></ExpChart>\n              </Grid> : null\n            }\n          </Grid>\n        </Grid>\n        {/* Group 2 */}\n        <Grid className=\"Group2_container\" style={{ height: \"100%\", width: \"49.4%\", marginLeft: '0.5%', paddingRight: 0, border: \"2px solid #eaeaea\", overflow: 'hidden' }} container item direction=\"column\" justifyContent=\"space-between\">\n          <p className=\"title_p2\" style={{ margin: 0, paddingLeft: \"45%\", backgroundColor: \"rgb(232, 232, 232,0.4)\", fontWeight: \"bolder\", borderBottom: \"1px solid #cecece\" }}>Group 2</p>\n          <Grid className=\"slidergroup2\" item style={{ backgroundColor: \"rgb(232, 232, 232,0.4)\" }}><SliderGroup2></SliderGroup2></Grid>\n          <Grid className=\"dev_plot_and_exp_container\" style={{ width: '100%', height: $('.Group2_container').height() - ($('.title_p2').height() + $('.slidergroup2').height() + $('.year_and_model_selector_and_slider_container').height() + 5) }} container direction=\"row\" justify=\"center\" alignItems=\"center\">\n            <Grid className=\"deviation_plot_container_div\" item style={{ width: '49%', height: $('.Group1_container').height() - ($('.title_p2').height() + $('.slidergroup2').height() + $('.year_and_model_selector_and_slider_container').height() + 5), overflow: 'scroll', borderRight: '1px solid #dbdbdb' }}>\n              <svg id=\"r2d\" style={{ width: \"100%\", padding: 5 }}></svg>\n            </Grid>\n            {\n              this.props.rank_data != null ? <Grid className=\"explanation_plot_container\" item style={{ width: '49%', height: '100%' }}>\n                <ExpChart diverginColor={diverginColor} exp_data={[[\"r1exp\", this.props.range_mode_range1], [\"r2exp\", this.props.range_mode_range2]]} exp_id=\"r2exp\" state_range={this.props.range_mode_range2} selected_year={this.props.selected_year} model_name={this.props.range_mode_model} default_models={[this.props.range_mode_model]}></ExpChart>\n              </Grid> : null\n            }\n          </Grid>\n        </Grid>\n        <Popover diverginColor={diverginColor} default_models={[this.props.range_mode_model]}></Popover>\n      </Grid>\n    )\n  }\n}\nconst maptstateToprop = (state) => {\n  return {\n    mode: state.mode,\n    range_mode_range1: state.range_mode_range1,\n    range_mode_range2: state.range_mode_range2,\n    range_mode_model: state.range_mode_model,\n    lime_data: state.lime_data,\n    selected_year: state.selected_year,\n    original_data: state.original_data,\n    dataset: state.dataset,\n    sparkline_data: state.sparkline_data,\n    anim_config: state.anim_config,\n    average_m: state.average_m,\n    rank_data: state.rank_data,\n    clicked_circles: state.clicked_circles,\n    threshold: state.threshold,\n    histogram_data: state.histogram_data,\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_selected_instances: (val) => dispatch({ type: \"selected_instances\", value: val }),\n    Set_deviation_array: (val) => dispatch({ type: \"deviation_array\", value: val }),\n    Set_clicked_circles: (val) => dispatch({ type: \"clicked_circles\", value: val }),\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(SlopeChart);","import React from 'react';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport TextField from '@material-ui/core/TextField';\nimport { connect } from \"react-redux\";\n//import * as themes from '../../themes'\nfunction FadeMenu(props) {\n    return (\n            <div className=\"year_drop_down_container1\">\n                <p style={{ margin: 0, marginTop: 3, fontSize: 16, fontWeight: 600 }}>{(props.dataset === \"airbnb\")?\"Borough 1 :\":\"Year 1 :\"}</p>\n                <Autocomplete style={{width:(props.dataset === \"airbnb\")?160:100}} disableClearable\n                    defaultValue={props.time_mode_year1.toString()}\n                    id=\"debug\"\n                    debug\n                    options={props.years_for_dropdown.map((option) => option)}\n                    renderInput={(params) => (\n                        <TextField {...params} margin=\"normal\" fullWidth={true} InputProps={{ ...params.InputProps, disableUnderline: true }} />\n                    )}\n                    onChange={(event, value) => {\n                        props.Set_time_mode_year1(value)\n                    }}\n                />\n            </div>\n        \n    );\n}\nconst maptstateToprop = (state) => {\n    return {\n        time_mode_year1: state.time_mode_year1,\n        years_for_dropdown: state.years_for_dropdown,\n        dataset: state.dataset,\n    }\n}\nconst mapdispatchToprop = (dispatch) => {\n    return {\n        Set_time_mode_year1: (val) => dispatch({ type: \"time_mode_year1\", value: val }),\n    }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(FadeMenu);","import React from 'react';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport TextField from '@material-ui/core/TextField';\nimport { connect } from \"react-redux\";\nfunction FadeMenu(props) {\n    return (\n        <div className=\"year_drop_down_container1\">\n            <p style={{margin:0,marginTop:3,fontSize:16,fontWeight:600}}>{(props.dataset === \"airbnb\")?\"Borough 2 :\":\"Year 2 :\"}</p>\n            <Autocomplete style={{width:(props.dataset === \"airbnb\")?160:100}} disableClearable\n                defaultValue={props.time_mode_year2.toString()}\n                id=\"debug\"\n                debug\n                options={props.years_for_dropdown.map((option) => option)}\n                renderInput={(params) => (\n                    <TextField {...params} margin=\"normal\" fullWidth={true} InputProps={{ ...params.InputProps, disableUnderline: true }} />\n                )}\n                onChange={(event, value) => {\n                    props.Set_time_mode_year2(value)\n                }}\n            />\n        </div>\n    );\n}\nconst maptstateToprop = (state) => {\n    return {\n        time_mode_year2: state.time_mode_year2,\n        years_for_dropdown: state.years_for_dropdown,\n        dataset: state.dataset,\n    }\n}\nconst mapdispatchToprop = (dispatch) => {\n    return {\n        Set_time_mode_year2: (val) => dispatch({ type: \"time_mode_year2\", value: val }),\n    }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(FadeMenu);","import React from 'react';\nimport Slider from '@material-ui/core/Slider';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { connect } from \"react-redux\";\nimport TextField from '@material-ui/core/TextField';\nimport Button from \"@material-ui/core/Button\";\nimport './Slider.scss';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: '100%',\n    },\n    heading: {\n        fontSize: theme.typography.pxToRem(15),\n        flexBasis: '33.33%',\n        flexShrink: 0,\n    },\n    secondaryHeading: {\n        fontSize: theme.typography.pxToRem(15),\n        color: theme.palette.text.secondary,\n    },\n    tRoot: {\n        marginBottom: 35,\n    },\n    rang_input: {\n        marginLeft: 10,\n    },\n}));\nfunction Modes(props) {\n    const classes = useStyles();\n    // states \n    const [sliderRange, set_sliderRange] = React.useState(props.time_mode_range);\n    //-----------------------------------------------------------------\n    var temp_marks = [];\n    var step = (props.slider_max - 1) / (6 - 1);\n    for (var i = 0; i < 6; i++) {\n        temp_marks.push(1 + (step * i));\n    }\n    var marks = temp_marks.map(item => {\n        var myitem = parseInt(item)\n        return { value: myitem, label: myitem }\n    })\n    //console.log(props.marks)\n    //-----------------------------------------------------------------\n    return (\n        <div className=\"YearSlider\"\n            style={{ height: 70, width: '100%', padding: 30 }}>\n            <div className=\"lower\" style={{ padding: \"0px 0px\", marginTop: -20 }}>\n                <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Lower\" value={sliderRange[0]} style={{ width: \"100%\" }}\n                    onChange={event => {\n                        if (isNaN(parseInt(event.target.value))) {\n                            set_sliderRange([\"\", sliderRange[1]])\n                        } else\n                            set_sliderRange([event.target.value, sliderRange[1]])\n                    }\n                    }\n                />\n            </div>\n            <div className=\"slider\" style={{ width: \"100%\", margin: \"0px 0px\" }}>\n                <Slider value={sliderRange} onChange={(event, newValue) => set_sliderRange(newValue)} onChangeCommitted={(event, newValue) => props.Set_changed(\"range\")}\n                     aria-labelledby=\"range-slider\" valueLabelDisplay=\"on\" min={1} max={props.slider_max} marks={marks}\n                />\n            </div>\n            <div className=\"upper\" style={{ padding: \"0px 0px\", marginTop: -20 }}>\n                <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Upper\" value={sliderRange[1]} style={{ width: \"100%\" }}\n                    onChange={event => {\n                        if (isNaN(parseInt(event.target.value))) {\n                            set_sliderRange([sliderRange[0], \"\"])\n                        } else {\n                            if (parseInt(event.target.value) > props.slider_max) {\n                                //alert(\"Upper range can not exceed maximum\")\n                                set_sliderRange([sliderRange[0], props.slider_max])\n                            }\n                            else {\n                                set_sliderRange([sliderRange[0], parseInt(event.target.value)])\n                            }\n                        }\n                    }\n                    }\n                />\n            </div>\n            <div className=\"button\" item style={{ marginTop: -10 }}>\n                <Button className=\"range_button\" style={{ backgroundColor: \"#ededed\", height: 30, fontWeight: 600, fontSize: 18 }}\n                    onClick={() => {\n                        console.log(sliderRange[0],'-----',sliderRange[1],'cons')\n                        if (sliderRange[0] > sliderRange[1]) {\n                            alert(\"Lower range can not be larger than the upper range\")\n                        }\n                        else if (sliderRange[1] < sliderRange[0]) {\n                            alert(\"upper range can not be smaller than the lower range\")\n                        }\n                        else {\n                            props.Set_time_mode_range(sliderRange)\n                        }\n                    }}\n                >Update range</Button>\n            </div>\n        </div>\n    );\n}\nconst maptstateToprop = (state) => {\n    return {\n        slider_max: state.slider_max,\n        time_mode_range: state.time_mode_range,\n    }\n}\nconst mapdispatchToprop = (dispatch) => {\n    return {\n        Set_time_mode_range: (val) => dispatch({ type: \"time_mode_range\", value: val }),\n        Set_changed: (val) => dispatch({ type: \"changed\", value: val }),\n    }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Modes);","/* eslint-disable no-unused-vars, eqeqeq, no-redeclare */\nimport React from 'react';\nimport \"./YearModelSelection.scss\";\nimport { connect } from \"react-redux\";\nimport Slider from './Slider'\nimport Grid from '@material-ui/core/Grid'\nfunction YearModelSelection(props) {\n  var handle_year_click = (year) => {\n    props.Set_selected_year(year)\n  }\n  var handle_model_click = (model) => props.Set_time_mode_model(model)\n  if(props.dataset==\"rur\"){var all_models=[\"MART\",\"RandomFor\"]}else{var all_models=props.all_models}\n  if(props.exp_method === \"ice\"){var all_models=props.all_models; all_models = all_models.filter(d => d !== \"RandomFor\"); if(!all_models.includes(\"SVM\")){all_models.push(\"SVM\")}}\n  else{var all_models=props.all_models}\n  return (\n    <Grid container direction=\"row\" justifyContent=\"center\" alignItems=\"center\" style={{width:'100%',height:76,padding:3}}>\n      <Grid item xs={4} style={{marginTop:5, marginLeft: 5,verticalAlign:'baseline' }}><h5 style={{ display: \"inline-block\", marginRight: 5,marginTop:-4, fontSize: 20,fontWeight:600 }}>Rankers:</h5>{all_models.map(item => <p className={props.time_mode_model == item ? \"years_p_selected years_p\" : \"years_p\"} onClick={() => handle_model_click(item)}>{item}</p>)}</Grid>\n      <Grid item xs={6} style={{marginLeft:15,overflow:'scroll'}}><Slider></Slider></Grid>\n    </Grid>\n  );\n}\nconst maptstateToprop = (state) => {\n  return {\n    all_models: state.all_models,\n    selected_year: state.selected_year,\n    years_for_dropdown: state.years_for_dropdown,\n    default_models: state.default_models,\n    time_mode_model: state.time_mode_model,\n    dataset:state.dataset\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: val }),\n    Set_time_mode_model: (val) => dispatch({ type: \"time_mode_model\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(YearModelSelection);\n\n//https://material-ui.com/api/slider/\n//https://material-ui.com/components/expansion-panels/\n//https://material-ui.com/api/checkbox/\n//https://material-ui.com/components/radio-buttons/","/* eslint-disable eqeqeq, array-callback-return */\nimport React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport { connect } from \"react-redux\";\nimport * as algo1 from \"../../../Algorithms/algo1\";\nimport * as $ from 'jquery';\nimport CreatexpCircle from \"../ExpChart/Create_exp_circles\"\nimport \"../ExpChart/MDS.css\"\nclass SlopeChart extends Component {\n  constructor(props) {\n    super(props);\n    this.mds = React.createRef()\n    this.state = { mds_height: 10, mouseX: 0, mouseY: 0, excluded_features: [], sorted_features: null, circle_data: null, indexed_features: null, random: true }\n  }\n  componentDidMount() {\n    this.setState({ width: window.innerHeight })\n  }\n  componentDidUpdate(prevProps, prevState) {\n    this.Createsvg(this.props.model_name,this.props.exp_id,this.props.state_range,this.props.selected_year)\n  }\n  Createsvg = (model_name,exp_id,state_range,selected_year) => {\n    var self = this\n    var selected_instances = d3.range(state_range[0], state_range[1] + 1)\n    if (this.props.histogram_data.length > 0) { selected_instances = this.props.histogram_data }\n    //-------------------- Threshold filter\n    var under_threshold_instances = []\n    var year_data = this.props.original_data.filter(item => this.props.selected_year == item['1-qid'])\n    this.props.default_models.map(model_name => {\n      year_data.map(item => {\n        var two_realRank = parseInt(item['two_realRank'])\n        var predicted_rank = parseInt(item[model_name])\n        if (Math.abs(predicted_rank - two_realRank) > this.props.threshold) {\n          under_threshold_instances.push(two_realRank)\n        }\n      })\n    })\n    selected_instances = selected_instances.filter(item => !under_threshold_instances.includes(item))\n    //--------------------\n\n    //------------------------------\n    var number_of_charts = 8 + self.state.excluded_features.length\n   \n    var indexed_features = algo1.getSortedFeatures(this.props.lime_data[model_name],selected_instances, this.props.selected_year)\n    var temp_sorted_features = indexed_features.filter(item => !this.state.excluded_features.includes(item))// Exclude crossed features \n    var sorted_features = temp_sorted_features.slice(0, number_of_charts).map((item, index) => [item, index])\n    \n    var marginTop = 5,marginBottom = 10\n    var parent_height = parseInt($('.explanation_chart_parent').height()) - this.state.mds_height - parseInt($('.title_p').height())\n    var item_width = parseInt($(\"#\" + this.props.exp_id).width())\n    var item_height = (parent_height - 10) / sorted_features.length - marginTop // 10 is the top margin\n    var feature_containers = d3.select('#' + this.props.exp_id).attr('height', parent_height).selectAll(\".feature_items\").data(sorted_features, d => d[0])\n      .join(enter => enter.append(\"svg\").attr(\"y\", (d, i) => marginTop + i * (item_height + marginTop))\n        , update => update.transition().duration(2000).attr(\"y\", (d, i) => marginTop + i * (item_height + marginTop))\n        , exit => exit.remove()\n      )\n    feature_containers.attr(\"class\", d => \"feature_items \" + d[0]).attr(\"myindex\", (d, i) => i).attr('feature_name', d => d[0])\n    feature_containers.attr(\"add_title_text_and_rect_for_title_text\", function (d, index) {\n      d3.select(this).selectAll(\".title_rect\").data([0]).join('rect').attr(\"class\", \"title_rect\").attr(\"myindex\", index).attr('feature_name', d[0]).attr(\"width\", \"100%\").attr(\"height\", 18).attr(\"fill\", \"#e2e2e2\").attr(\"y\", 0).attr(\"x\", 0)\n      d3.select(this).selectAll(\".title_text\").data([0]).join('text').attr(\"class\", \"title_text\").attr(\"myindex\", index).attr('feature_name', d[0]).attr('x', item_width / 2).text(d[0]).attr(\"dominant-baseline\", \"hanging\")\n        .attr(\"y\", 2).attr('text-anchor', 'middle').attr('font-size', 12)\n    })\n    feature_containers.attr(\"add_cross_button\", function (d, index) {\n      d3.select(this).selectAll(\".cross_button\").data([0]).join(\"text\").attr('y', 7.3).attr('dominant-baseline', 'middle').attr(\"myindex\", index).attr('feature_name', d[0]).raise()\n        .attr('x', item_width - 15).style('cursor', 'pointer').attr('font-size', 14).attr('fill', 'black')\n        .text(\"\\uf410\").attr('class', \"cross_button fa make_cursor\").on('click', () => {\n          //alert(\"clicked!\")\n          d3.event.preventDefault()\n          self.setState({ excluded_features: [...self.state.excluded_features, d[0]] })\n        })\n        //---\n        d3.select(this).selectAll(\".expand_button\").data([0]).join(\"text\").attr('y', 7.3)\n        .attr('dominant-baseline', 'middle').attr(\"myindex\", index).attr('feature_name', d[0]).raise()\n        .attr('x', item_width - 35).style('cursor', 'pointer').attr('font-size', 12).attr('fill', 'black')\n        .text(\"\\uf31e\").attr('class', \"expand_button fa make_cursor\").on('click', () => {\n          var feature = d[0]\n          var year = selected_year\n          d3.event.preventDefault()\n          var temp = [...self.props.dbclicked_features]\n          if (!temp.includes(feature)) {\n            temp.unshift(feature)\n            d3.selectAll(\".rect\").classed(\"exp_chart_clicked\", true)\n          }\n          self.props.set_dbclicked_features(temp)\n          //self.props.set_dbclicked_features([feature])\n          //----------------------------Data for popup chart\n          var popup_chart_data = {}\n          self.props.default_models.filter(item => item != \"ListNet\").map(model_name => {\n            var data = []\n            if (self.props.histogram_data.length > 0) {\n              data = self.props.lime_data[model_name].filter(element => { if ((parseInt(element['1-qid']) == parseInt(year)) && (self.props.histogram_data.includes(parseInt(element['two_realRank'])))) { return element } });\n            }\n            else {\n              data = self.props.lime_data[model_name].filter(element => parseInt(element['1-qid']) == parseInt(year) && selected_instances.includes(parseInt(element['two_realRank'])))\n            }\n            popup_chart_data[model_name] = data\n          })\n          self.props.Set_popup_chart_data([popup_chart_data, feature]) // This is to update the pop when the year or anything changes during the pop up is open\n          //self.props.Set_popup_chart_data([popup_chart_data, feature])\n          self.props.set_pop_over(true)\n        })\n        //---\n    })\n    feature_containers.attr(\"add_rect_for_circle_background_and_handle_clicks\", function (d, index) {\n      d3.select(this).selectAll(\".circ_rect\").data([0]).join('rect').attr(\"class\", \"circ_rect\").attr(\"myindex\", index).attr('feature_name', d[0]).attr(\"width\", \"100%\").attr(\"height\", item_height - 18).attr(\"fill\", \"#f2f2f2\").attr(\"y\", 18).attr(\"x\", 0)\n        .on('click', () => {\n          if (self.props.clicked_features.includes(d[0])) {\n            self.props.Set_clicked_features(self.props.clicked_features.filter(item => item != d[0]))\n            d3.selectAll(\".\" + d[0]).selectAll(\".border_rect\").remove()\n          }\n          else {\n            self.props.Set_clicked_features([...self.props.clicked_features, d[0]])\n            d3.selectAll(\".\" + d[0]).selectAll(\".border_rect\").data([0]).join('rect').attr(\"class\", \"border_rect\").attr(\"width\", \"100%\").attr(\"height\", \"100%\").style(\"stroke\", \"black\").style(\"fill\", \"none\").style(\"stroke-width\", 5)\n          }\n        })\n    })\n    feature_containers.attr(\"CreatexpCircle\", function (d, index) {\n      var title_rect_height=16\n      CreatexpCircle(d, d3.select(this), selected_instances, self.props.lime_data, selected_year, [model_name], self.props.clicked_circles,\n        self.props.Set_clicked_circles, self.props.diverginColor, self.props.anim_config, item_width, item_height-(marginTop+marginBottom), self.props.deviation_array, index,self.props.threshold,self.props.dataset,title_rect_height,'label_on',sorted_features)\n    })\n    .attr(\"height\", function (d) {\n      if (d[1] == sorted_features.length - 1) {\n        var ft_svg_height = 25\n        var svg = d3.select(this.parentNode).selectAll(\".ft_svg\").data([0]).join(\"svg\").attr(\"x\", 0).attr(\"y\", parent_height - ft_svg_height).attr(\"class\", \"ft_svg\").attr(\"width\", item_width).attr(\"height\", ft_svg_height)\n        var markerBoxWidth = 8, markerBoxHeight = 8, refX = markerBoxWidth / 2, refY = markerBoxHeight / 2\n        svg.append('defs').append('marker').attr('id', 'arrow').attr('viewBox', [0, 0, markerBoxWidth, markerBoxHeight])\n          .attr('refX', refX).attr('refY', refY).attr('markerWidth', markerBoxWidth).attr('markerHeight', markerBoxHeight).attr('orient', 'auto-start-reverse')\n          .append('path').attr('d', d3.line()([[0, 0], [0, 7], [7, 3.8]])).attr('stroke', '#777777').attr(\"fill\",\"#777777\");\n        //------------------------------------------------[[x2, y2], [x1, y1]]\n        svg.append('path').attr('d', d3.line()([[item_width / 2 - 65, 15], [50, 15]])).attr('stroke', '#777777').attr('marker-end', 'url(#arrow)').attr('fill', 'none');\n        svg.append('path').attr('d', d3.line()([[item_width - 50, 15], [65 + item_width / 2, 15]])).attr('stroke', '#777777').attr('marker-start', 'url(#arrow)').attr('fill', 'none');\n\n        svg.selectAll(\".myText_low\").data([0]).join(\"text\").attr(\"x\", 30).attr(\"class\", \"myText_low\").attr('dominant-baseline', \"middle\").attr(\"y\", 15).text('Low').attr('text-anchor', 'middle').attr(\"font-size\", 12).attr(\"fill\", \"#2b2828\")\n        svg.selectAll(\".myText\").data([0]).join(\"text\").attr(\"x\", item_width / 2).attr(\"class\", \"myText\").attr('dominant-baseline', \"middle\").attr(\"y\", 15).text('attribute Importance').attr('text-anchor', 'middle').attr(\"font-size\", 12).attr(\"fill\", \"#2b2828\")\n        svg.selectAll(\".myText_high\").data([0]).join(\"text\").attr(\"x\", item_width-30).attr(\"class\", \"myText_high\").attr('dominant-baseline', \"middle\").attr(\"y\", 15).text('High').attr('text-anchor', 'middle').attr(\"font-size\", 12).attr(\"fill\", \"#2b2828\")\n        return item_height - marginBottom - marginTop\n      }\n      return item_height - marginBottom - marginTop\n    })\n    .attr('width', item_width)\n    feature_containers.attr('check_clicked_features', d => {\n      if (self.props.clicked_features.includes(d[0])) {\n        d3.selectAll(\".\" + d[0]).selectAll(\".border_rect\").data([0]).join('rect').attr(\"class\", \"border_rect\").attr(\"width\", \"100%\").attr(\"height\", \"100%\").style(\"stroke\", \"black\").style(\"fill\", \"none\").style(\"stroke-width\", 5)\n      }\n    })\n  }\n  //------------------------------\n  render() {\n    return (\n      <div className={\"explanation_chart_parent exp\" + this.props.model_name} style={{ width: '100%', height: '100%', \"border\": this.props.mode == 'Model' ? \"2px solid #e2e2e2\" : 'none', padding: \"2px 5px\" }}>\n        <p className=\"title_p\" style={{ padding: 0, margin: 0 }}>{this.props.model_name}</p>\n        <svg id={this.props.exp_id} style={{ marginTop: this.state.mds_height, width: \"100%\" }}></svg>\n        <marker id=\"arrow\" markerUnits=\"strokeWidth\" markerWidth=\"12\" markerHeight=\"12\" viewBox=\"0 0 12 12\" refX=\"6\" refY=\"6\" orient=\"auto\">\n          <path d=\"M2,2 L10,6 L2,10 L6,6 L2,2\" style={{ fill: \"black\" }}></path>\n        </marker>\n      </div>\n    )\n  }\n}\nconst maptstateToprop = (state) => {\n  return {\n    deviation_array: state.deviation_array,\n    original_data: state.original_data,\n    time_mode_model: state.time_mode_model,\n    chart_scale_type: state.chart_scale_type,\n    dataset: state.dataset,\n    histogram_data: state.histogram_data,\n    sparkline_data: state.sparkline_data,\n    anim_config: state.anim_config,\n    show: state.show,\n    average_m: state.average_m,\n    average_y: state.average_y,\n    lime_data: state.lime_data,\n    rank_data: state.rank_data,\n    clicked_circles: state.clicked_circles,\n    clicked_features: state.clicked_features,\n    threshold: state.threshold,\n    mode: state.mode,\n    dbclicked_features: state.dbclicked_features,\n    dragged_features: state.dragged_features,\n    url: state.url,\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_dragged_features: (val) => dispatch({ type: \"dragged_features\", value: val }),\n    Set_clicked_circles: (val) => dispatch({ type: \"clicked_circles\", value: val }),\n    Set_prev_prop: (val) => dispatch({ type: \"prev_prop\", value: val }),\n    Set_sparkline_data: (val) => dispatch({ type: \"sparkline_data\", value: val }),\n    Set_replay: (val) => dispatch({ type: \"replay\", value: val }),\n    Set_clicked_features: (val) => dispatch({ type: \"clicked_features\", value: val }),\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: val }),\n    set_dbclicked_features: (val) => dispatch({ type: \"dbclicked_features\", value: val }),\n    Set_popup_chart_data: (val) => dispatch({ type: \"popup_chart_data\", value: val }),\n    set_pop_over: (val) => dispatch({ type: \"pop_over\", value: val }),\n    Set_deviation_array: (val) => dispatch({ type: \"deviation_array\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(SlopeChart);","/* eslint-disable eqeqeq, no-useless-constructor */\nimport React, { Component } from 'react';\nimport { connect } from \"react-redux\";\nimport * as misc_algo from '../../../Algorithms/misc_algo'\nimport CreateCatChart from '../Popover/CreateCatChart'\nimport CreateNumChart from '../Popover/CreateNumChart'\nclass Chart extends Component {\n  constructor(props) {\n    super(props);\n  }\n  componentDidMount() {\n    this.setState({ a: 5 })\n  }\n  componentDidUpdate() {\n    var merged_arr = this.props.popup_chart_data[0] // only data\n    var scatterplot_data = [[this.props.popup_chart_data[1],this.props.popup_chart_data[0]]] // [feature name, data]\n    //----------------------------------------------------------------------------------------------------------Call createChart\n    if (merged_arr.length > 0) { // This is to avoid the error caused by the next line\n      if (isNaN(merged_arr[0][this.props.popup_chart_data[1]])) {\n        CreateCatChart(merged_arr, this.props.popup_chart_data[1], scatterplot_data,this.props,this.props.deviation_array)\n      }\n      else {\n        CreateNumChart(merged_arr, this.props.popup_chart_data[1], scatterplot_data,this.props,this.props.deviation_array)\n      }\n    }\n    else {\n      CreateNumChart(merged_arr, this.props.popup_chart_data[1], scatterplot_data,this.props,this.props.deviation_array) // calling the function to set the  graph empty when all models are unselected\n    }\n    misc_algo.handle_transparency(\"None\", this.props.clicked_circles, this.props.anim_config)\n  }\n\n  render() {\n    return (\n      <div key={this.props.popup_chart_data[1]} style={{ margin: 10, padding: 10, border: this.props.index == 0 ? \"3px solid #e5e5e5\" : \"white\" }}>\n        <p style={{ color: \"#4f4c4c\", marginLeft: \"42%\", marginTop: 0, marginBottom: 5,fontWeight:600 }}>{this.props.group}</p>\n        <svg id={this.props.myid}> </svg>\n        <p style={{ color: \"#4f4c4c\", marginLeft: \"42%\", marginTop: -25, marginBottom: 0 }}>{this.props.popup_chart_data[1]}</p>\n      </div>\n    );\n  }\n}\nconst maptstateToprop = (state) => {\n  return {\n    clicked_circles: state.clicked_circles,\n    threshold: state.threshold,\n    anim_config:state.anim_config,\n    deviation_array: state.deviation_array,\n  }\n}\n//item['id'] = item['State'].replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\") + model.replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\")\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_clicked_circles: (val) => dispatch({ type: \"clicked_circles\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Chart);","/* eslint-disable no-unused-vars, eqeqeq, array-callback-return, no-redeclare, no-useless-escape */\nimport React from 'react';\nimport Button from '@material-ui/core/Button';\nimport { connect } from \"react-redux\";\nimport ChartPop from './04PopoverCharts'\nimport Draggable from 'react-draggable';\nimport Grid from '@mui/material/Grid';\nimport * as d3 from 'd3';\nexport function SimplePopover(props) {\n    const handleClose = () => {\n        props.set_pop_over(false)\n        props.set_dbclicked_features([])\n    };\n    //------------------------------\n    var selected_instances = d3.range(props.time_mode_range[0], props.time_mode_range[1] + 1)\n    var min = d3.min(selected_instances), max = d3.max(selected_instances);\n    var d = (max - min) / 8;\n    var diverginColor = d3.scaleLinear().domain([min + d * 7, min + d * 6, min + d * 5, min + d * 4, min + d * 3, min + d * 2, min]).interpolate(d3.interpolateRgb).range(['#af8dc3','#b197c1','#dbd88c','#dbd88c', '#dbd88c', '#90bc8d', '#7fbf7b']);\n\n    //----------\n    var under_threshold_instances = []\n    var year_data = props.original_data.filter(item => props.time_mode_year1 == item['1-qid'])\n    year_data.map(item => {\n        var two_realRank = parseInt(item['two_realRank'])\n        var predicted_rank = parseInt(item[props.time_mode_model])\n        if (Math.abs(predicted_rank - two_realRank) < props.threshold) {\n            under_threshold_instances.push(two_realRank)\n        }\n    })\n    var selected_instances1 = selected_instances.filter(item => under_threshold_instances.includes(item))\n    var data1 = props.lime_data[props.time_mode_model].filter(element => parseInt(element['1-qid']) == parseInt(props.time_mode_year1) && selected_instances1.includes(parseInt(element['two_realRank'])))\n    //------------------------------\n    var under_threshold_instances = []\n    var year_data = props.original_data.filter(item => props.time_mode_year2 == item['1-qid'])\n    year_data.map(item => {\n        var two_realRank = parseInt(item['two_realRank'])\n        var predicted_rank = parseInt(item[props.time_mode_model])\n        if (Math.abs(predicted_rank - two_realRank) < props.threshold) {\n            under_threshold_instances.push(two_realRank)\n        }\n    })\n    var selected_instances2 = selected_instances.filter(item => under_threshold_instances.includes(item))\n    var data2 = props.lime_data[props.time_mode_model].filter(element => parseInt(element['1-qid']) == parseInt(props.time_mode_year2) && selected_instances2.includes(parseInt(element['two_realRank'])))\n\n    return (\n        <div className=\"pop_over\" style={{ position: \"relative\" }}>\n            {props.pop_over == true ?\n                <div style={{ top: \"2%\", left: \"14%\", position: \"fixed\", pointerEvents: \"none\", backgroundColor: \"transparent\" }}>\n                    <Draggable>\n                        <Grid style={{ backgroundColor: \"#ffffff\", boxShadow: \"3px 2px 15px -7px #000000\", pointerEvents: \"auto\", display: \"relative\", zIndex: 6 }}>\n                            <Grid container style={{ borderBottom: \"1px solid #e2e2e2\", marginBottom: 20 }} direction=\"row\" justifyContent=\"flex-end\" alignItems=\"center\" >\n                                <Button color=\"secondary\" id=\"draggable-dialog-title\" onClick={handleClose}>close</Button>\n                            </Grid>\n                            <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\" style={{ maxHeight: 700, overflow: \"scroll\", maxWidth: 1600 }}>\n                                {\n                                    props.dbclicked_features.length > 0 ? props.dbclicked_features.map((item, index) => <Grid item container direction=\"row\" ><ChartPop\n                                        index={index} group={\"Year 1 : \"+props.time_mode_year1}\n                                        popup_chart_data={[data1, item]} default_models={props.default_models}\n                                        myid={item.replace(/\\s/g, '').replace(/[`~!@#$%^&*()_|+\\-=?;:'\",.<>\\{\\}\\[\\]\\\\\\/]/gi, '') + \"range1\"} diverginColor={props.diverginColor}\n                                    ></ChartPop>\n                                        <ChartPop\n                                            index={index} group={\"Year 2 : \"+props.time_mode_year2}\n                                            popup_chart_data={[data2, item]} default_models={props.default_models}\n                                            myid={item.replace(/\\s/g, '').replace(/[`~!@#$%^&*()_|+\\-=?;:'\",.<>\\{\\}\\[\\]\\\\\\/]/gi, '') + \"range2\"} diverginColor={props.diverginColor}\n                                        ></ChartPop></Grid>\n                                    ) : <ChartPop popup_chart_data={data1} default_models={props.default_models} myid=\"myid1\" diverginColor={props.diverginColor} textClickHandler_original={props.textClickHandler_original}></ChartPop>\n                                }\n                            </Grid>\n                        </Grid>\n                    </Draggable>\n                </div> : null}\n        </div>\n    );\n}\nconst maptstateToprop = (state) => {\n    return {\n        time_mode_year1: state.time_mode_year1,\n        time_mode_year2: state.time_mode_year2,\n        time_mode_model: state.time_mode_model,\n        time_mode_range: state.time_mode_range,\n        popup_chart_data: state.popup_chart_data,\n        pop_over: state.pop_over,\n        dbclicked_features: state.dbclicked_features,\n        selected_year: state.selected_year,\n        threshold: state.threshold,\n        original_data: state.original_data,\n        lime_data: state.lime_data,\n        histogram_data: state.histogram_data,\n    }\n}\nconst mapdispatchToprop = (dispatch) => {\n    return {\n        set_pop_over: (val) => dispatch({ type: \"pop_over\", value: val }),\n        set_dbclicked_features: (val) => dispatch({ type: \"dbclicked_features\", value: val }),\n        set_clicked_features: (val) => dispatch({ type: \"clicked_features\", value: val }),\n    }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(SimplePopover);\n","/* eslint-disable eqeqeq, array-callback-return, no-redeclare */\nimport React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport './YearModeComponent.scss';\nimport { connect } from \"react-redux\";\nimport * as deviation_chart from \"../DevPlot/deviation_chart\"\nimport * as misc_algo from '../../../Algorithms/misc_algo'\nimport * as $ from 'jquery';\nimport Year1DropDown from './Year1DropDown';\nimport Year2DropDown from './Year2DropDown';\nimport YearModelSelection from \"./YearAndModelSelection/YearModelSelection\"\nimport ExpChart from './02ExpChartComponentTime';\nimport Popover from './03TimePopover';\nimport Box from '@mui/material/Box';\nimport Grid from '@mui/material/Grid';\n\nclass SlopeChart extends Component {\n  constructor(props) {\n    super(props);\n    this.line_color = null;\n    this.state = { height_slope_exp_chart: 700, mouseX: 0, mouseY: 0 }\n  }\n  componentDidMount() {\n    this.setState({ width: window.innerHeight })\n  }\n  shouldComponentUpdate(prevProps, prevState) {\n    return true;\n  }\n  componentDidUpdate(prevProps, prevState) {\n    //------------------------------\n    var selected_instances = d3.range(this.props.time_mode_range[0], this.props.time_mode_range[1] + 1)\n    var min = d3.min(selected_instances), max = d3.max(selected_instances);\n    var d = (max - min) / 8;\n    var diverginColor = d3.scaleLinear().domain([min + d * 7, min + d * 6, min + d * 5, min + d * 4, min + d * 3, min + d * 2, min]).interpolate(d3.interpolateRgb).range(['#af8dc3', '#b197c1', '#dbd88c', '#dbd88c', '#dbd88c', '#90bc8d', '#7fbf7b']);\n\n    //----------\n    var under_threshold_instances = []\n    var year_data = this.props.original_data.filter(item => this.props.time_mode_year1 == item['1-qid'])\n    year_data.map(item => {\n      var two_realRank = parseInt(item['two_realRank'])\n      var predicted_rank = parseInt(item[this.props.time_mode_model])\n      if (Math.abs(predicted_rank - two_realRank) < this.props.threshold) {\n        under_threshold_instances.push(two_realRank)\n      }\n    })\n    var selected_instances1 = selected_instances.filter(item => under_threshold_instances.includes(item))\n    deviation_chart.Create_deviation_chart('r1d', 'r1exp', selected_instances1, this.props.original_data, [this.props.time_mode_model], this.props.anim_config, this.props.time_mode_year1, this.props.average_m, this.props.clicked_circles, this.props.Set_clicked_circles, diverginColor, this.props.sparkline_data, this.props.Set_time_mode_year1, this.props.dataset, this.props.threshold)\n    //------------------------------\n    var under_threshold_instances = []\n    var year_data = this.props.original_data.filter(item => this.props.time_mode_year2 == item['1-qid'])\n    year_data.map(item => {\n      var two_realRank = parseInt(item['two_realRank'])\n      var predicted_rank = parseInt(item[this.props.time_mode_model])\n      if (Math.abs(predicted_rank - two_realRank) < this.props.threshold) {\n        under_threshold_instances.push(two_realRank)\n      }\n    })\n    var selected_instances2 = selected_instances.filter(item => under_threshold_instances.includes(item))\n\n    deviation_chart.Create_deviation_chart('r2d', 'r2exp', selected_instances2, this.props.original_data, [this.props.time_mode_model], this.props.anim_config, this.props.time_mode_year2, this.props.average_m, this.props.clicked_circles, this.props.Set_clicked_circles, diverginColor, this.props.sparkline_data, this.props.Set_time_mode_year2, this.props.dataset, this.props.threshold)\n    //------------------------------\n    misc_algo.handle_transparency(\"None\", this.props.clicked_circles, this.props.anim_config)\n\n  }\n  render() {\n    var selected_instances = d3.range(this.props.time_mode_range[0], this.props.time_mode_range[1] + 1)\n    //--------------------\n    var deviation_array = []\n    this.props.lime_data[this.props.time_mode_model].map(item => {\n      if ((item['1-qid'] == this.props.time_mode_year1 || item['1-qid'] == this.props.time_mode_year2) && selected_instances.includes(parseInt(item['two_realRank']))) {\n        deviation_array.push(item['deviation'])\n      }\n    })\n    console.log(deviation_array,\"deviation_array\")\n    this.props.Set_deviation_array(deviation_array)\n    //--------------------\n    var min = d3.min(selected_instances), max = d3.max(selected_instances);\n    var d = (max - min) / 8;\n    var diverginColor = d3.scaleLinear().domain([min + d * 7, min + d * 6, min + d * 5, min + d * 4, min + d * 3, min + d * 2, min]).interpolate(d3.interpolateRgb).range(['#af8dc3', '#b197c1', '#dbd88c', '#dbd88c', '#dbd88c', '#90bc8d', '#7fbf7b']);\n    this.props.Set_selected_instances(selected_instances)\n    return (\n      <Box className=\"box_root\" sx={{ width: '100%', height: '100%', padding: 0.5 }}>\n        <Grid container justifyContent=\"space-between\">\n          <Grid item xs={12}>\n            <div className=\"year_and_model_selector_and_slider_container\" style={{ width: '100%' }}><YearModelSelection></YearModelSelection></div>\n          </Grid>\n          {/* Group 1 */}\n          <Grid item xs={5.9} className=\"Group1_container\" style={{ borderTop: '2px solid #eaeaea', borderLeft: '2px solid #eaeaea', borderRight: '2px solid #eaeaea' }}>\n            <Grid container>\n              <Grid item xs={12} style={{ padding: 0 }}>\n                <div className=\"slidergroup1\" style={{ width: '100%', height: 30 }}><Year1DropDown></Year1DropDown></div>\n              </Grid>\n              <Grid className=\"dev_plot_and_exp_container\" item xs={6}>\n                <div className=\"deviation_plot_container_div\" style={{ width: '100%', height: $('.box_root').height() - ($('.year_and_model_selector_and_slider_container').height() + $('.slidergroup1').height()), overflow: 'scroll' }}><svg id=\"r1d\" style={{ width: \"100%\" }}></svg></div>\n              </Grid>\n              <Grid item xs={6}>\n                {\n                  this.props.rank_data != null ? <div className=\"explanation_plot_container\" style={{ width: '100%', height: '100%', }}>\n                    <ExpChart exp_data={[[\"r1exp\", this.props.time_mode_year1], [\"r2exp\", this.props.time_mode_year2]]} diverginColor={diverginColor} exp_id=\"r1exp\" default_models={[this.props.time_mode_model]} state_range={this.props.time_mode_range} selected_year={this.props.time_mode_year1} model_name={this.props.time_mode_model}></ExpChart>\n                  </div> : null\n                }\n              </Grid>\n            </Grid>\n          </Grid>\n          {/* Group 2 */}\n          <Grid item xs={5.9} style={{ borderTop: '2px solid #eaeaea', borderLeft: '2px solid #eaeaea', borderRight: '2px solid #eaeaea' }}>\n            <Grid container>\n              <Grid item xs={12} style={{ padding: 0 }}>\n                <div className=\"slidergroup2\" style={{ width: '100%', height: 30 }}><Year2DropDown></Year2DropDown></div>\n              </Grid>\n              <Grid item xs={6}>\n                <div className=\"deviation_plot_container_div\" style={{ width: '100%', height: $('.box_root').height() - ($('.year_and_model_selector_and_slider_container').height() + $('.slidergroup2').height()), overflow: 'scroll' }}><svg id=\"r2d\" style={{ width: \"100%\" }}></svg></div>\n              </Grid>\n              <Grid item xs={6}>\n                {\n                  this.props.rank_data != null ? <div className=\"explanation_plot_container\" style={{ width: '100%', height: 500, }}>\n                    <ExpChart exp_data={[[\"r1exp\", this.props.time_mode_year1], [\"r2exp\", this.props.time_mode_year2]]} diverginColor={diverginColor} exp_id=\"r2exp\" default_models={[this.props.time_mode_model]} state_range={this.props.time_mode_range} selected_year={this.props.time_mode_year2} model_name={this.props.time_mode_model}></ExpChart>\n                  </div> : null\n                }\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n        <Popover diverginColor={diverginColor} default_models={[this.props.time_mode_model]}></Popover>\n      </Box>\n    )\n  }\n}\nconst maptstateToprop = (state) => {\n  return {\n    time_mode_year1: state.time_mode_year1,\n    time_mode_year2: state.time_mode_year2,\n    mode: state.mode,\n    time_mode_range: state.time_mode_range,\n    time_mode_model: state.time_mode_model,\n    default_models: state.default_models,\n    original_data: state.original_data,\n    dataset: state.dataset,\n    sparkline_data: state.sparkline_data,\n    anim_config: state.anim_config,\n    average_m: state.average_m,\n    rank_data: state.rank_data,\n    clicked_circles: state.clicked_circles,\n    threshold: state.threshold,\n    histogram_data: state.histogram_data,\n    lime_data: state.lime_data,\n    \n\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_selected_instances: (val) => dispatch({ type: \"selected_instances\", value: val }),\n    Set_clicked_circles: (val) => dispatch({ type: \"clicked_circles\", value: val }),\n    Set_time_mode_year1: (val) => dispatch({ type: \"time_mode_year1\", value: val }),\n    Set_time_mode_year2: (val) => dispatch({ type: \"time_mode_year2\", value: val }),\n    Set_deviation_array: (val) => dispatch({ type: \"deviation_array\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(SlopeChart);","/* eslint-disable no-unused-vars, eqeqeq, array-callback-return */\nimport React, { Component } from 'react';\nimport { connect } from \"react-redux\";\nimport * as d3 from 'd3';\nimport exp_fiscal_CordAscent from \"../../../Data/data/fiscal/lime/chart1_data.csv\";\nimport exp_school_CordAscent from \"../../../Data/data/school/lime/chart1_data.csv\";\nimport exp_house_CordAscent from \"../../../Data/data/house/lime/chart1_data.csv\";\nimport rur_histogram_data from \"../../../Data/RUR/RUR_histogram_data.csv\";\nimport exp_airbnb_histogram_data from \"../../../Data/data/airbnb/lime/chart1_data.csv\"\nimport CreateHistogram from './CreateHistogram'\nimport CreateBarChart from './CreateBarChart';\nimport Button from '@material-ui/core/Button';\nclass FeatureHistograms extends Component {\n    constructor(props) {\n        super(props);\n        this.state = { feature_data: [] };\n    }\n    componentDidMount() {\n        var filename; if (this.props.dataset == \"fiscal\") { filename = exp_fiscal_CordAscent } else if (this.props.dataset == \"school\") { filename = exp_school_CordAscent } else if (this.props.dataset == \"house\") { filename = exp_house_CordAscent } else if (this.props.dataset == \"rur\") { filename = rur_histogram_data } else if (this.props.dataset == \"airbnb\") { filename = exp_airbnb_histogram_data }\n        d3.csv(filename).then(feature_data => {\n            this.setState({ feature_data: feature_data,all_instances:{} })\n        })\n    }\n    store_instances=(feature_name,instances)=>{\n        var temp={...this.state.all_instances}\n        temp[feature_name]=instances\n        this.setState({all_instances:temp})\n    }\n    shouldComponentUpdate(nextProps, nextState) {\n        if(typeof(this.state.all_instances)!=\"undefined\" && JSON.stringify(nextState.all_instances)!==JSON.stringify(this.state.all_instances)){\n            return false\n        }\n        return true    \n    }\n    componentDidUpdate() {\n        var self = this\n        var filename;\n        var selected_instances = d3.range(this.props.state_range[0], this.props.state_range[1] + 1)\n       \n        //-------------------- Get the features and sort them\n        var number_of_charts = 9\n        //var filtered_rank_data = this.props.rank_data[this.props.default_models[0]].filter(element => { if (parseInt(element['1-qid']) == parseInt(this.props.selected_year)) { return element } })\n        var filtered_rank_data = this.props.rank_data[this.props.default_models[0]].filter(element => { if (element['1-qid'] == this.props.selected_year) { return element } })\n        var data = selected_instances.map(index => filtered_rank_data[index])\n        var my_features_rank_col=Object.keys(data[0]).filter(item=>item.includes(\"_feature_rank\"))\n        var sorted_features = my_features_rank_col.map((element) => element.replace(\"_feature_rank\", \"\")).sort((a, b) => a.localeCompare(b))\n        console.log(sorted_features,\"dddd\")\n        //--------------------\n\n\n        if (this.props.dataset == \"fiscal\") { filename = exp_fiscal_CordAscent } else if (this.props.dataset == \"school\") { filename = exp_school_CordAscent } else if (this.props.dataset == \"rur\") { filename = rur_histogram_data } else if (this.props.dataset == \"airbnb\") { filename = exp_airbnb_histogram_data }\n        //--------------------------------Iterate through each features\n        \n        \n        d3.select(\".feature_histograms_container\").selectAll(\".feature\").data(sorted_features, d => d).join(\"svg\").attr(\"class\", 'feature')\n            .attr(\"add_histogram\", function (d, feature_index) {\n                var histogram_data = []\n                if (!isNaN(self.state.feature_data[0][d])) {\n                    self.state.feature_data.forEach(element => {\n                        if (element[\"1-qid\"] == self.props.selected_year) {\n                            var temp_dict = {}\n                            temp_dict[\"x\"] = parseInt(element['two_realRank'])\n                            temp_dict[\"y\"] = parseFloat(element[d])\n                            histogram_data.push(temp_dict)\n                        }\n                    });\n                    CreateHistogram(histogram_data, d3.select(this), d, feature_index, sorted_features.length,self.store_instances)\n                }\n                else {\n                    self.state.feature_data.forEach(element => {\n                        if (element[\"1-qid\"] == self.props.selected_year) {\n                            var temp_dict = {}\n                            temp_dict[\"x\"] = parseInt(element['two_realRank'])\n                            temp_dict[\"y\"] = element[d]\n                            histogram_data.push(temp_dict)\n                        }})\n                    CreateBarChart(histogram_data, d3.select(this), d, feature_index, sorted_features.length,self.store_instances,self.state.all_instances)\n                }\n                if(d==\"UAAL_pension_risk_free\"){\n                    console.log(d,self.state.feature_data,\"dddd\")\n                }\n            })\n            .attr('id',d=>d)\n            //.call(d3.brush().extent([[0, margin.top], [400, 65]]))\n        //--------------------------------Iterate through each features\n    }\n    render() {\n        return (\n            this.props.original_data != null ? <div style={{display:'relative', width: 400,marginTop:-8 }}>\n                <Button fullWidth style={{margin:0,position:'sticky',top:0,backgroundColor:\"gray\",borderRadius:0}} onClick={()=>{\n                    var selected_instances=[...new Set([].concat(...Object.values(this.state.all_instances)))]\n                    var filtered_instances=selected_instances.filter(item => item>=this.props.state_range[0] && item<=this.props.state_range[1])\n                    this.props.handleClose() // This will close the select menu\n                    if(filtered_instances.length==0){alert(\"No instance is available withing the selected range!\")}\n                    this.props.Set_histogram_data([...filtered_instances])\n                }}> Update </Button>\n                <div className=\"feature_histograms_container_div\" style={{display:'relative', width: 400, height: window.innerHeight, overflow: \"scroll\",marginTop:-8 }}>\n                <svg className=\"feature_histograms_container\" style={{ width: \"100%\", padding: 10 }}> </svg>\n                </div>\n            </div> : null\n        );\n    }\n}\nconst maptstateToprop = (state) => {\n    return {\n        dataset: state.dataset,\n        deviate_by: state.deviate_by,\n        state_range: state.state_range,\n        default_models: state.default_models,\n        selected_year: state.selected_year,\n        sparkline_data: state.sparkline_data,\n        show: state.show,\n        mode: state.mode,\n        original_data: state.original_data,\n        rank_data: state.rank_data,\n    }\n}\nconst mapdispatchToprop = (dispatch) => {\n    return {\n        Set_slider_max: (val) => dispatch({ type: \"slider_max\", value: val }),\n        Set_state_range: (val) => dispatch({ type: \"state_range\", value: val }),\n        Set_histogram_data: (val) => dispatch({ type: \"histogram_data\", value: val }),\n    }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(FeatureHistograms);\n\n//https://material-ui.com/api/slider/\n//https://material-ui.com/components/expansion-panels/\n//https://material-ui.com/api/checkbox/\n//https://material-ui.com/components/radio-buttons/","/* eslint-disable no-unused-vars, eqeqeq, array-callback-return */\nimport * as d3 from 'd3';\nimport * as $ from \"jquery\"\nexport default function CreateChart(histogram_data, svg, feature_name, feature_index, number_of_features,store_instances,all_instances) {\n  console.log(feature_name,histogram_data,\"feature_name\")  \n  var parent_width = $(\".feature_histograms_container\").width()\n  var parent_height = $(\".feature_histograms_container\").height()\n  var feature_width = $(\".feature_histograms_container\").width()\n  var feature_height = 120\n  const margin = { top: 10, right: 5, bottom: 40, left: 5 }\n  d3.select(\".feature_histograms_container\").attr('height', feature_height * number_of_features + 20)\n  svg.attr('y', feature_height * feature_index).attr('width', parent_width).attr('height', feature_height)\n  //-----------------------------------------------------------\n  var occur = {}\n  histogram_data.map(item => {\n    if (item.y in occur) occur[item.y] = occur[item.y] + 1\n    else { occur[item.y] = 1 }\n  })\n  var items = Object.entries(occur).sort((first, second) => second[1] - first[1]);\n  var x = items.map(element => element[1]);\n  var sum_x = d3.sum(x)\n  svg.selectAll('.item_svg').data(items).join(\"svg\").attr(\"class\", 'item_svg').attr(\"x\", (d, i) => (d3.sum(x.slice(0, i)) / sum_x) * feature_width).attr('y',margin.top).attr('width', (d, i) => ((d[1] / sum_x) * feature_width) - .2).attr('height', feature_height - margin.bottom)\n    .attr('add_rectangle', function (d) {\n      d3.select(this).selectAll(\".my_rect\").data([0]).join('rect').attr(\"class\", \"my_rect\").attr(\"width\", \"100%\").attr(\"height\", feature_height - margin.bottom).style(\"fill\", \"gray\")\n      .attr(\"check\",function(){\n        if(feature_name+d[0] in all_instances){ if(all_instances[feature_name+d[0]].length>0){d3.select(this).classed('feature_clicked',true) }} // if the feature and the category exists we check the length and decide that it is clicked item. In categorical items if something is clicked it can not have empty instances\n      })\n      .on('click', function(){\n        if(!d3.select(this).classed('feature_clicked')){ // if not classed we add the class and the data\n          d3.select(this).classed('feature_clicked',true)\n          store_instances(feature_name+d[0],histogram_data.filter(item=>item['y']==d[0]).map(item=>item.x))\n        }\n        else{ // if claassed we already have it so we set it empty\n          d3.select(this).classed('feature_clicked',false)\n          store_instances(feature_name+d[0],[])\n        }\n      })\n      \n    \n    })\n    .attr('add_text', function (d) {\n      //if(d3.select(this).attr(\"width\")>9)\n      d3.select(this).selectAll(\"text\").data([0]).join(\"text\").text(d[0]).attr('x', \"50%\").attr(\"y\", '50%').attr('dominant-baseline', 'middle').style(\"font-size\", d3.select(this).attr(\"width\") > 11 ? 10 : d3.select(this).attr(\"width\") - 2).style(\"writing-mode\", \"tb\").style(\"text-anchor\", \"middle\").style('cursor', 'pointer')\n    })\n  //----------------------------------------------------------- Histogram creation ends here\n  svg.selectAll(\".hist_title\").data([0]).join(\"text\").attr(\"class\", \"hist_title\").attr(\"y\", feature_height-10).attr(\"x\", feature_width / 2).attr(\"text-anchor\", \"middle\").attr('font-size', 14).text(feature_name).style('text-transform','capitalize')\n}","/* eslint-disable no-unused-vars */\nimport * as d3 from \"d3\"\nimport * as $ from \"jquery\"\nexport default function CreateHistogram(histogram_data, svg, feature_name, feature_index, number_of_features, store_instances) {\n  const margin = { top: 10, right: 5, bottom: 50, left: 5 };\n  var parent_width = $(\".feature_histograms_container\").width()\n  var feature_height = 120\n  var feature_width = parent_width\n  d3.select(\".feature_histograms_container\").attr('height', feature_height * number_of_features + 20)\n  svg.attr('y', feature_height * feature_index).attr('width', parent_width).attr('height', feature_height)\n  var item_data = histogram_data.map(item => item['y'])\n  var area_chart_height = feature_height - margin.top - margin.bottom;\n  var area_chart_width = feature_width - margin.left - margin.right\n  const y = d3.scaleLinear().domain(d3.extent(item_data)).range([margin.top, area_chart_height])\n\n  var myticks = y.ticks(25)\n  var binned_data = d3.histogram().value(d => d).domain(y.domain()).thresholds(myticks)(item_data)\n  //--------- Create the areaChart\n  var area_chart_data = []\n  binned_data.map((item, i) => area_chart_data.push([item.x1, item.length]))\n  console.log(feature_name,histogram_data)\n  var xScale = d3.scaleLinear().domain(d3.extent(area_chart_data.map(item => item[0]))).range([margin.left, feature_width - margin.right]) // 20 is the baseline\n  var yScale = d3.scaleLinear().domain([0, d3.max(area_chart_data.map(item => item[1]))]).range([area_chart_height, 0])\n  const areaGenerator = d3.area().curve(d3.curveMonotoneX).x(d => xScale(d[0])).y0(yScale(0)).y1(d => yScale(d[1]))\n\n  svg.append(\"path\").attr('transform', 'translate(0,' + margin.top + ')')\n    .attr(\"d\", areaGenerator(area_chart_data))\n    .style(\"fill\", \"gray\");\n//--------------------------------\n  svg.selectAll(\".xAxis_g\").data([0]).join('g').attr('class', 'xAxis_g').attr(\"transform\", \"translate(0,\" + (feature_height - margin.bottom) + \")\")\n    .call(d3.axisBottom(xScale).ticks(5).tickFormat(d3.format(\".2s\")));\n  //.call(d3.axisBottom(xScale).ticks(5));\n  svg.selectAll('.domain').attr('stroke', '#dddddd')\n  svg.call(d3.brushX().extent([[0, margin.top], [400, area_chart_height + margin.top]]).on(\"end\", () => {\n    var extent = d3.event.selection\n    if (extent != null) {\n      var lower = xScale.invert(extent[0]), upper = xScale.invert(extent[1])\n      var instances = histogram_data.filter(item => item['y'] >= lower && item['y'] <= upper).map(item => item['x']) // x contains the ranking and y contains the value\n      store_instances(feature_name, instances)\n    }\n    else{store_instances(feature_name, [])}\n  }))\n  svg.selectAll(\".title\").data([0]).join('text').attr(\"class\",\"title\").attr('x', feature_width / 2).attr('y', feature_height - 28).attr('dominant-baseline', 'hanging')\n  .attr('text-anchor', 'middle').text(feature_name).attr('font-size', 14).style('text-transform', 'capitalize')\n  .attr(\"fill\",\"#3d3b3b\")\n}\n//https://stackoverflow.com/questions/54236051/how-to-draw-a-vertical-area-chart","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport FeatureHistograms from \"./FeatureHistograms/FeatureHistograms\"\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\n\nexport default function SimpleMenu() {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  return (\n    <div style={{marginTop:-2}}>\n      <Button aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleClick}>Select Attributes<ArrowDropDownIcon></ArrowDropDownIcon></Button>\n      <Menu id=\"simple-menu\" anchorEl={anchorEl} keepMounted open={Boolean(anchorEl)} onClose={handleClose} style={{marginTop:0}}>\n       {anchorEl?<FeatureHistograms handleClose={handleClose}></FeatureHistograms>:null}\n      </Menu>\n    </div>\n  );\n}\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport { connect } from 'react-redux';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormLabel from '@material-ui/core/FormLabel';\n\nexport function SimpleMenu(props) {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  return (\n    <div style={{marginTop:-2}}>\n      <Button aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleClick}>Select Mode<ArrowDropDownIcon></ArrowDropDownIcon></Button>\n      <Menu id=\"simple-menu\" anchorEl={anchorEl} keepMounted open={Boolean(anchorEl)} onClose={handleClose} style={{marginTop:0}}>\n       {anchorEl?<div style={{paddingLeft:10}}><form onSubmit={() => this.buttonclickHandler(1, \"form\")}>\n                <FormControl component=\"fieldset\">\n                  <FormLabel component=\"legend\"></FormLabel>\n                  <RadioGroup aria-label=\"gender\" name=\"gender1\" onChange={(event, val) => {handleClose();props.Set_histogram_data([]);props.Set_mode(val)}}>\n                    {['Model', 'Ranges', 'Time'].map((value) => {\n                      return <FormControlLabel value={value} control={<Radio />} label={value===\"Model\"?\"Ranker\":value} />\n                    })}\n                  </RadioGroup>\n                </FormControl>\n              </form></div>:null}\n      </Menu>\n    </div>\n  );\n}\nconst maptstateToprop = (state) => {\n  return {\n    state_range: state.state_range,\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_mode: (val) => dispatch({ type: \"mode\", value: val }),\n    Set_histogram_data: (val) => dispatch({ type: \"histogram_data\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(SimpleMenu);\n","/* eslint-disable eqeqeq, array-callback-return */\nimport React from 'react';\nimport * as d3 from 'd3';\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport { connect } from 'react-redux';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormLabel from '@material-ui/core/FormLabel';\n\nimport fiscal_ice from \"../../Data/data/fiscal/ice/fiscal_ice_may25.csv\";\nimport fiscal_lime from \"../../Data/data/fiscal/lime/fiscal_lime_may25.csv\";\n\nimport school_lime from \"../../Data/data/school/lime/school_lime_may25.csv\";\nimport school_ice from \"../../Data/data/school/ice/school_ice_may25.csv\";\n\nimport airbnb_lime from \"../../Data/data/airbnb/lime/airbnb_lime.csv\";\nimport airbnb_shap from \"../../Data/data/airbnb/shap/airbnb_shap.csv\";\n\nexport function SelectExpMethod(props) {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const process_data_mini = (dataset,val, Set_lime_data) => {\n    var lime_data_filename = \"\";\n    if(dataset===\"fiscal\"){\n      lime_data_filename = (val === \"lime\")?fiscal_lime:fiscal_ice;\n    }\n    if(dataset===\"school\"){\n      lime_data_filename = (val === \"lime\")?school_lime:school_ice;\n    }\n    if(dataset===\"airbnb\"){\n      lime_data_filename = (val === \"lime\")?airbnb_lime:airbnb_shap;\n    }\n    d3.csv(lime_data_filename).then(temp_data => {\n      var temp_data2 = temp_data.map(d=>{\n        var d1 = {};\n        for(var key of Object.keys(d)){\n          d1[key] = (d[key] === \"\")?\"0\":d[key]\n        }\n        return d1;\n      })\n      var data=temp_data2.map(item=>{\n        item['predicted']=parseInt(item['predicted'])\n        item['two_realRank']=parseInt(item['two_realRank'])\n        item['deviation']=Math.abs(item['predicted']-item['two_realRank'])\n        return item\n      })\n      \n    var nested_data = {}\n    d3.nest().key(function (d) { return d.model; }).entries(data).map(item => {\n      nested_data[item.key] = item.values\n    })\n    Set_lime_data(nested_data)\n  })\n  }; //ending process_data_mini\n\n\n  return (\n    <div style={{marginTop:-2}}>\n      <Button aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleClick}>Select Explanation Method<ArrowDropDownIcon></ArrowDropDownIcon></Button>\n      <Menu id=\"simple-menu\" anchorEl={anchorEl} keepMounted open={Boolean(anchorEl)} onClose={handleClose} style={{marginTop:0}}>\n       {anchorEl?<div style={{paddingLeft:10}}><form onSubmit={() => this.buttonclickHandler(1, \"form\")}>\n                <FormControl component=\"fieldset\">\n                  <FormLabel component=\"legend\"></FormLabel>\n                  <RadioGroup aria-label=\"gender\" name=\"gender1\" onChange={(event, val) => {\n                    handleClose();\n                    process_data_mini(props.dataset, val, props.Set_lime_data);\n                    if(val === \"ice\"){props.Set_default_models(props.default_models.filter(item => item != \"RandomFor\"))}\n                    //if(val === \"lime\"){props.Set_default_models(props.default_models.filter(item => item != \"SVM\"))}\n                    console.log(val);\n                    props.Set_exp_method(val)\n                    }}>\n                    {((props.dataset === \"airbnb\")?['LIME', 'SHAP']:['LIME', 'ICE']).map((value) => {\n                      return <FormControlLabel value={value.toLowerCase()} control={<Radio />} label={value} checked={props.exp_method === value.toLowerCase()} />\n                    })}\n                  </RadioGroup>\n                </FormControl>\n              </form></div>:null}\n      </Menu>\n    </div>\n  );\n}\nconst maptstateToprop = (state) => {\n  return {\n    state_range: state.state_range,\n    dataset: state.dataset,\n    exp_method: state.exp_method,\n    default_models: state.default_models,\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_exp_method: (val) => dispatch({ type: \"exp_method\", value: val }),\n    Set_histogram_data: (val) => dispatch({ type: \"histogram_data\", value: val }),\n    Set_default_models: (val) => dispatch({ type: \"default_models\", value: val }),\n    Set_lime_data: (val) => dispatch({ type: \"lime_data\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(SelectExpMethod);\n","/* eslint-disable no-unused-vars, no-dupe-keys */\nimport { createMuiTheme } from \"@material-ui/core/styles\";\n\n// Create a theme instance.\nconst outerTheme1 = createMuiTheme({\n  palette: {\n    primary: {\n      main: \"#0069d9\"\n    },\n    secondary: {\n      main: \"#0069d9\"\n    }\n  }\n})\n\n\n\nconst outerTheme = createMuiTheme({\n  spacing: 2,\n  overrides: { // This is the place we override classes applied to a component\n    MuiFilledInput: { // This is the name of the component\n      root: { // This is the class we want to edit\n        backgroundColor: \"none\",\n        padding:0,\n      }\n    },\n    MuiInputLabel: {\n      root: {\n        backgroundColor: \"yellow\"\n      }\n    },\n    MuiTextField: {\n      root: {}\n    },\n    MuiButton: {\n      root: {\n        textTransform: \"none\",\n        padding: \"15px\"\n      },\n      fullWidth: {\n        maxWidth: \"100%\"\n      }\n    },\n    MuiFilledInput:{\n      root:{\n        padding:0,\n        backgroundColor:\"yellow\"\n      }\n    },\n    MuiAutocomplete:{\n      Root:{\n        padding:0\n      }\n    }\n\n  },\n  props: { // This is the place where we define props\n    MuiButton: {\n      disableRipple: true,\n      variant: \"contained\",\n      color: \"primary\"\n    },\n    MuiCheckbox: {\n      disableRipple: true\n    },\n    MuiTextField: {\n      variant: \"filled\",\n      InputLabelProps: {\n        shrink: true\n      }\n    },\n  }\n});\n\nexport default outerTheme","/* eslint-disable no-unused-vars */\nimport React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Input from '@material-ui/core/Input';\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\nimport outerTheme from './theme'\nimport { connect } from \"react-redux\";\nimport Button from '@material-ui/core/Button';\nimport { useState } from 'react';\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        '& > *': {\n            margin: theme.spacing(1),\n        },\n    },\n}));\nfunction Inputs(props) {\n    const [threshold,set_threshold]=useState(props.threshold)\n    const classes = useStyles();\n    return (\n        <ThemeProvider theme={outerTheme}>\n            <form className={classes.root} noValidate autoComplete=\"off\">\n                <span style={{fontSize:14}}>Deviation threshold:</span>\n                <Input style={{width:30}} defaultValue={threshold} inputProps={{ 'aria-label': 'description' }} \n                onChange={(event=>set_threshold(event.target.value))}\n                />\n                <Button style={{height:20,color:\"black\",fontSize:16,backgroundColor:'#f2f2f2'}} variant='string'\n                onClick={()=>props.Set_threshold(threshold)}\n                >Update</Button>\n            </form>\n        </ThemeProvider>\n\n    );\n}\nconst maptstateToprop = (state) => {\n    return {\n        threshold:state.threshold\n    }\n}\nconst mapdispatchToprop = (dispatch) => {\n    return {\n        Set_threshold: (val) => dispatch({ type: \"threshold\", value: val }),\n    }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Inputs);\n/*\nimport React from 'react';\nimport \"./Sliders.scss\";\nimport Slider from '@material-ui/core/Slider';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { connect } from \"react-redux\";\nimport Typography from '@material-ui/core/Typography';\nimport TextField from '@material/TextField';\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: '100%',\n    },\n    heading: {\n        fontSize: theme.typography.pxToRem(15),\n        flexBasis: '33.33%',\n        flexShrink: 0,\n    },\n    secondaryHeading: {\n        fontSize: theme.typography.pxToRem(15),\n        color: theme.palette.text.secondary,\n    },\n    tRoot: {\n        marginBottom: 35,\n    },\n    rang_input: {\n        marginLeft: 10,\n    },\n}));\nfunction Modes(props) {\n    const classes = useStyles();\n    // states\n    const [threshold, set_threshold] = React.useState(props.threshold);\n    //-----------------------------------------------------------------\n    var temp_marks = [];\n    var min=0\n    var max=20\n    var number_marks=10\n    var step = (max - 1) / (number_marks - 1);\n    for (var i = 0; i < number_marks; i++) {\n        temp_marks.push(1 + (step * i));\n    }\n    var marks = temp_marks.map(item => {\n        var myitem = parseInt(item)\n        return { value: myitem, label: myitem }\n    })\n    //console.log(props.marks)\n    //-----------------------------------------------------------------\n    return (\n        <div className=\"rangeslider2\" style={{ marginLeft: 60,marginTop:-28, width: \"100%\", paddingTop: 0 }} >\n            <Typography>\n                Threshold\n            </Typography>\n\n        </div>\n    );\n}\nconst maptstateToprop = (state) => {\n    return {\n        threshold:state.threshold\n    }\n}\nconst mapdispatchToprop = (dispatch) => {\n    return {\n        Set_threshold: (val) => dispatch({ type: \"threshold\", value: val }),\n    }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Modes);\n*/","/* eslint-disable no-redeclare */\nimport React from 'react';\nimport { connect } from \"react-redux\";\nimport Button from '@material-ui/core/Button';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport Radio from '@material-ui/core/Radio';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport Menu from '@material-ui/core/Menu';\nimport Fade from '@material-ui/core/Fade';\nimport * as algo1 from \"../../Algorithms/algo1\";\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport Threshold from './Threshold';\n/*\nChange in year,model selection and state range selection as well \n*/\nfunction Sort(props) {\n    const [anchorEl1, setAnchorEl1] = React.useState(null);\n    const [anchorEl2, setAnchorEl2] = React.useState(null);\n\n    const [sort_by, set_sort_by] = React.useState(props.sort_by);\n    const open1 = Boolean(anchorEl1);\n    const open2 = Boolean(anchorEl2);\n\n    const sortModels = (event) => {\n        set_sort_by(event.target.value)\n        if (event.target.value === \"None\") { var val = \"Alphabetically\" }\n        else { var val = event.target.value }\n        props.Set_sort_by(val)\n        var temp_Models = algo1.sort(val, props.state_range, props.default_models, props.selected_year, props.grouped_by_year_data)[0];\n        var default_model_scores = algo1.sort(val, props.state_range, props.default_models, props.selected_year, props.grouped_by_year_data)[1];\n        props.Set_default_model_scores(default_model_scores)\n        props.Set_default_models([...temp_Models])\n        setAnchorEl2(null)\n    };\n    return (\n        <div className=\"sort\" style={{ borderRight: \"1px dashed #eaeaea\", paddingLeft: 5}}>\n            <Button aria-controls=\"fade-menu\" aria-haspopup=\"true\" onClick={(event)=>setAnchorEl1(event.currentTarget)}>Advanced <ArrowDropDownIcon></ArrowDropDownIcon></Button>\n            <Menu id=\"fade-menu\" anchorEl={anchorEl1} keepMounted open={open1}  onClose={()=>setAnchorEl1(null)} TransitionComponent={Fade}>\n            <div style={{padding:\"0px 14px\"}}><Threshold></Threshold></div>\n                <div style={{ padding:\"0px 10px\"}}>\n                    <Button aria-controls=\"fade-menu\" aria-haspopup=\"true\" onClick={(event)=>setAnchorEl2(event.currentTarget)}>Select Metrics <ArrowDropDownIcon></ArrowDropDownIcon></Button>\n                    <Menu id=\"fade-menu\" anchorEl={anchorEl2} keepMounted open={open2} onClose={()=>setAnchorEl2(null)} TransitionComponent={Fade}>\n                        <div style={{padding:\"0px 10px\"}}>\n                            <FormControl component=\"fieldset\">\n                                <FormLabel component=\"legend\"></FormLabel>\n                                <RadioGroup aria-label=\"gender\" name=\"gender1\" value={sort_by} onChange={sortModels}>\n                                    {['Discounted Cumulative Gain', 'Average Precision', 'None'].map((value) => {\n                                        return <FormControlLabel value={value} control={<Radio />} label={value} />\n                                    })}\n                                </RadioGroup>\n                            </FormControl>\n                        </div>\n                    </Menu>\n                </div>\n            </Menu>\n        </div>\n    );\n}\nconst maptstateToprop = (state) => {\n    return {\n        default_models: state.default_models,\n        sort_by: state.sort_by,\n        state_range: state.state_range,\n        selected_year: state.selected_year,\n        grouped_by_year_data: state.grouped_by_year_data,\n    }\n}\nconst mapdispatchToprop = (dispatch) => {\n    return {\n        Set_sort_by: (val) => dispatch({ type: \"sort_by\", value: val }),\n        Set_default_models: (val) => dispatch({ type: \"default_models\", value: val }),\n        Set_default_model_scores: (val) => dispatch({ type: \"default_model_scores\", value: val }),\n    }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Sort);\n//https://material-ui.com/components/menus/","import * as React from 'react';\nimport FormGroup from '@mui/material/FormGroup';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport Checkbox from '@mui/material/Checkbox';\nimport { Typography } from '@material-ui/core';\nimport { connect } from \"react-redux\";\nfunction CheckboxLabels(props) {\n  return (\n    <div style={{ marginTop: 7 }}>\n      <FormGroup>\n        <FormControlLabel sx={{ margin: 0, padding: 0 }} control={<Checkbox size=\"small\" sx={{\n          marginTop: 0, padding: 0,\n          color: \"gray\", '&.Mui-checked': {\n            color: \"gray\",\n          },\n        }} checked={props.label_on}\n          onClick={() => props.Set_label_on(!props.label_on)} />} label={<Typography style={{fontSize:14,fontFamily:\"Open Sans\",marginLeft:3}}>Rank Label On</Typography>} />\n      </FormGroup>\n    </div>\n\n  );\n}\nconst maptstateToprop = (state) => {\n  return {\n    label_on: state.label_on\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_label_on: (val) => dispatch({ type: \"label_on\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(CheckboxLabels);","/* eslint-disable no-unused-vars, eqeqeq */\nimport React, { Component } from 'react';\n//------------------------------------------------All datasets imports ends here\nimport { Row, Col } from 'reactstrap';\nimport Button from '@material-ui/core/Button';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport { connect } from \"react-redux\";\nimport Grid from '@material-ui/core/Grid';\nimport FeaturesDropdown from \"./FeaturesDropdown\"\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport SelectMode from './SelectMode';\nimport SelectExpMethod from './SelectExpMethod';\nimport Advance from './Advance';\nimport LabelOn from './LabelOn';\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    // mydata is original data\n    this.state = {\n      random: 10,\n      original_data: null, grouped_by_year_data: null, show: [\"Slope charts\", \"Rankings\", \"Explanation\"], view_data: 1,\n      histogram_data: [], ref_year: null, features_dict: {}, features_voted: null, Legend_ready_to_vis: null, legend_model: \"CordAscent\",\n    };\n  }\n  buttonclickHandler = (value, type) => {\n    console.log(value)\n    setTimeout(() => { this.setState({ random: Math.random() }) }, 500);\n    type = \"button\" ? this.props.Set_view_data(value) : null\n    type = \"form\" ? this.setState({ view_data: value }) : null\n  }\n  shouldComponentUpdate() {\n    return true;\n  }\n  render() {\n    return (\n      <div>\n        <Grid container style={{position:\"relative\"}}>\n          <ButtonGroup aria-label=\"outlined button group\" style={{marginRight:150,border:'none'}}>\n          <Button style={{borderRadius:0,border:'none',borderRight:'1px solid #bfbfbf'}} onClick={() => this.buttonclickHandler(1, \"button\")}>View Data</Button>\n          <Button style={{borderRadius:0,border:'none', borderRight:'1px solid #bfbfbf'}} onClick={() => this.buttonclickHandler(0, \"button\")}>Load Data</Button>\n          </ButtonGroup>\n          <SelectMode></SelectMode>\n          {this.props.mode===\"Model\"?<FeaturesDropdown></FeaturesDropdown>:null}\n          <SelectExpMethod></SelectExpMethod>\n          <LabelOn></LabelOn>\n          {this.props.mode===\"Model\"?<div style={{position:\"absolute\",right:\"20px\"}}><Advance></Advance></div>:null}\n        </Grid>\n        {this.props.view_data == false ?\n          <Row className=\"Topbar_container\">\n            <div className=\"load\">\n              <form onSubmit={() => this.buttonclickHandler(1, \"form\")}>\n                <FormControl component=\"fieldset\">\n                  <FormLabel component=\"legend\"></FormLabel>\n                  <RadioGroup aria-label=\"gender\" name=\"gender1\" onChange={(event, val) => this.props.handleradioChange(val)}>\n                    {['Fiscal Dataset', 'School Dataset (World)','Airbnb Dataset','School Dataset (USA)'].map((value) => {\n                      return <FormControlLabel value={value} control={<Radio />} label={value} />\n                    })}\n                  </RadioGroup>\n                  <Button type=\"submit\" variant=\"outlined\" color=\"primary\">Load</Button>\n                </FormControl>\n              </form>\n            </div></Row>\n          : null}\n      </div>\n    );\n  }\n}\nconst maptstateToprop = (state) => {\n  return {\n    view_data: state.view_data,\n    mode:state.mode,\n    \n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_view_data: (val) => dispatch({ type: \"view_data\", value: val }),\n  \n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(App);","/* eslint-disable no-unused-vars, eqeqeq, no-redeclare */\nimport React, { Component, PureComponent } from 'react';\nimport * as d3 from 'd3';\nimport * as $ from 'jquery';\nimport { connect } from \"react-redux\";\nimport Grid from '@mui/material/Grid';\nimport './legend.scss'\nclass Legend extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {} // This is the default height\n  }\n  componentDidMount() { this.setState({ rand: 10 }) }\n  componentDidUpdate() {\n    var legend_container_width = $('.legend_container').width()\n    var legend_container_height = $('.legend_container').height()\n    //--------------------------- Legend 1\n    var legend1_height = 100\n    var legend1_rScale = d3.scaleLinear().domain(d3.extent(this.props.deviation_array)).range([this.props.global_config.max_circle_r, this.props.global_config.min_circle_r])\n    var legend1_yScale = d3.scaleLinear().domain(d3.extent(this.props.deviation_array)).range([this.props.global_config.max_circle_r, legend1_height - 5])\n    if(this.props.deviation_array.length>3){\n      var legend1_ticks = [d3.min(this.props.deviation_array),Math.ceil(d3.max(this.props.deviation_array)*.33),Math.ceil(d3.max(this.props.deviation_array)*.66),d3.max(this.props.deviation_array)]\n    }\n    else{\n      var legend1_ticks = this.props.deviation_array\n    }\n    \n    legend1_ticks=legend1_ticks.filter(item=>item % 1 === 0)\n    //console.log(legend1_ticks,\"legend1_ticks\")\n    var legend1_svg = d3.select('#legend1').attr('width', legend_container_width).attr('height', legend1_height)\n    legend1_svg.selectAll('.legend1_circles').data(legend1_ticks).join('circle').attr('class', 'legend1_circles').attr('cx', 10).attr('cy', d => legend1_yScale(d)).attr('r', d => legend1_rScale(d)).attr('fill', 'grey')\n    legend1_svg.selectAll('.legend1_text').data(legend1_ticks).join('text').attr('class', 'legend1_text').attr('x', 23).attr('y', d => legend1_yScale(d)).attr('dominant-baseline', 'middle').attr('font-size', 10)\n    .text(d =>{\n      if(d==d3.min(legend1_ticks)){return d+\" (Most Precise)\" }\n      if(d==d3.max(legend1_ticks)){return d+\" (Least Precise)\" }\n      return d\n    })\n    //--------------------------- Legend 2\n    var min = d3.min(this.props.selected_instances), max = d3.max(this.props.selected_instances);\n    var d = (max - min) / 8;\n    //var diverginColor = d3.scaleLinear().domain([min + d * 7, min + d * 6, min + d * 5, min + d * 4, min + d * 3, min + d * 2, min]).interpolate(d3.interpolateRgb).range(['#af8dc3','#b197c1','#dbd88c','#dbd88c', '#dbd88c', '#90bc8d', '#7fbf7b']);\n    //var diverginColor = d3.scaleDiverging([min,(max - min) / 2 , max], d3.interpolateSpectral)\n    //var diverginColor = d3.scaleDiverging([max, parseInt((max+min)/2), min], d3.interpolateRgbBasis(['#af8dc3', '#dbd88c', '#7fbf7b']));\n    var diverginColor = d3.scaleDiverging([max, parseInt((max+min)/2), min], d3.interpolateRgbBasis(['#b37cd3', '#d9d58c', '#71ce6c'])); //50% saturation\n    var legend2_svg_height = legend_container_height / 2 - 50\n\n    var legend2_yScale = d3.scaleLinear().domain([min, max]).range([5, legend2_svg_height - 10])\n    var legend2_ticks = d3.range(min, max + 1, max / 10)\n    var rect_height = legend2_svg_height / legend2_ticks.length\n    var rect_width = 12\n    \n    var legend2_svg = d3.select('#legend2').attr('width', legend_container_width).attr('height', legend2_svg_height)\n    legend2_svg.selectAll('.legend2_rects').data(legend2_ticks).join('rect').attr('class', 'legend2_rects').attr('x', 10)\n    .attr('y', (d, i) => rect_height*i).attr('width', rect_width).attr('height', rect_height).attr('fill', d => diverginColor(d))\n    legend2_svg.selectAll(\".legend2_labels\").data([min, parseInt(max / 2), max]).join(\"text\").attr(\"x\", 10 + rect_width + 2).attr(\"class\", \"legend2_labels\").attr('dominant-baseline', \"middle\").attr('y', (d, i) => i == 0 ? legend2_yScale(d) + rect_height / 2 : legend2_yScale(d)).text(d => d).attr('font-size', 12)\n  }\n\n  render() {\n    return (\n      <Grid className=\"legend_container\" container direction=\"column\" justifyContent=\"center\" alignItems=\"flex-start\" style={{ width: \"100%\", height: \"100%\" }}>\n        <Grid item style={{width:this.props.legend_width}}>\n          <div item style={{ backgroundColor: 'rgb(211, 211, 211,0.5)', padding: 5, marginBottom: 5 }}>\n            <p className=\"title\" style={{ marginBottom: 10 }}> Rank Deviation</p>\n            <svg id=\"legend1\"> </svg>\n          </div>\n        </Grid>\n        <Grid item container direction=\"column\" alignItems=\"center\" style={{width:this.props.legend_width,backgroundColor: 'rgb(211, 211, 211,0.5)', padding: 5 }}>\n            <p className=\"title\" style={{ marginBottom: 10 }}> Rank Range</p>\n            <p style={{ margin:0,fontSize:12,display:\"block\" }}>High</p>\n            <Grid item><svg id=\"legend2\" style={{marginTop:3,marginBottom:0}} transform=\"translate(40,0)\"></svg></Grid>\n            <p style={{ margin:0,fontSize:12 }}>Low</p>\n        </Grid>\n      </Grid>\n    );\n  }\n}\nconst maptstateToprop = (state) => {\n  return {\n    selected_instances: state.selected_instances,\n    deviation_array: state.deviation_array,\n    global_config:state.global_config\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_legend_year: (val) => dispatch({ type: \"legend_year\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Legend);","/* eslint-disable no-unused-vars, eqeqeq, array-callback-return */\nimport React, { Component } from 'react';\n//------------------------------------------------All datasets imports\nimport fiscal from \"./Data/fiscal.csv\";\nimport school from \"./Data/school.csv\";\nimport house from \"./Data/house.csv\";\nimport rur from \"./Data/RUR/RUR.csv\";\nimport airbnb from \"./Data/airbnb.csv\";\n\n/** Also update SelectExpMethod.js */\nimport fiscal_rank from \"./Data/data/fiscal/lime/fiscal_rank.csv\";\nimport fiscal_lime from \"./Data/data/fiscal/lime/fiscal_lime_may25.csv\";\nimport fiscal_ice from \"./Data/data/fiscal/ice/fiscal_ice_may25.csv\";\n\nimport school_rank from \"./Data/data/school/lime/school_rank.csv\";\nimport school_lime from \"./Data/data/school/lime/school_lime_may25.csv\";\nimport school_ice from \"./Data/data/school/ice/school_ice_may25.csv\";\n\nimport airbnb_rank from \"./Data/data/airbnb/lime/airbnb_rank.csv\";\nimport airbnb_lime from \"./Data/data/airbnb/lime/airbnb_lime.csv\";\nimport airbnb_shap from \"./Data/data/airbnb/shap/airbnb_shap.csv\";\n\nimport rur_rank from \"./Data/RUR/RUR_rank.csv\";\nimport rur_lime from \"./Data/RUR/RUR_lime.csv\";\n\n\nimport house_rank from \"./Data/data/house/lime/house_rank.csv\";\nimport house_lime from \"./Data/data/house/lime/house_lime.csv\";\n\n//------------------------------------------------All datasets imports ends here\nimport \"./App.scss\";\nimport * as d3 from 'd3';\nimport * as algo1 from \"./Algorithms/algo1\";\nimport ModelChart from \"./components/Charts/Model/ModelChartComponent\"\nimport RangeChart from \"./components/Charts/Range/01RangeChartComponent\"\nimport YearChart from \"./components/Charts/Time/01YearChartComponent\"\nimport { Row, Col } from 'reactstrap';\nimport * as $ from 'jquery';\nimport { connect } from \"react-redux\";\nimport Grid from '@mui/material/Grid';\nimport Top from './components/Top/Top';\nimport Legend from '../src/components/Legend/Legend'\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    // mydata is original data\n    this.state = {\n      random: 10,\n      original_data: null, grouped_by_year_data: null, show: [\"Slope charts\", \"Rankings\", \"Explanation\"], view_data: 1,\n      histogram_data: [], ref_year: null, features_dict: {}, features_voted: null, Legend_ready_to_vis: null, legend_model: \"CordAscent\",width:window.innerWidth\n    };\n  }\n  componentDidMount() { \n    var self=this\n    this.dataprocessor(this.props.dataset, this.props.exp_method) \n    $(document).keyup(function(e) {\n      if (e.key === \"Escape\") {\n        self.props.Set_clicked_circles([])\n        self.props.Set_clicked_features([])\n     }\n });\n  }\n\n  //-------------------------------------------------------------------------------------------------------------------- data processor processes data for initial render\n  dataprocessor = (dataset_name, exp_method) => {\n    if (dataset_name == \"school\") { this.process_data(school, school_rank, (exp_method===\"lime\")?school_lime:school_ice, dataset_name) }\n    if (dataset_name == \"fiscal\") { this.process_data(fiscal, fiscal_rank, (exp_method===\"lime\")?fiscal_lime:fiscal_ice, dataset_name) }\n    if (dataset_name == \"airbnb\") { this.process_data(airbnb, airbnb_rank, (exp_method===\"lime\")?airbnb_lime:airbnb_lime, dataset_name) }\n    if (dataset_name == \"house\") { this.process_data(house, house_rank, house_lime, dataset_name) }\n    if (dataset_name == \"rur\") { this.process_data(rur, rur_rank, rur_lime, dataset_name) }\n  }\n  process_data = (slopechart_data_filename, rank_data_filename, lime_data_filename, dataset_name) => {\n    var self = this\n    //-------------\n    d3.csv(slopechart_data_filename).then(original_data => {\n      var grouped_by_year_data = algo1.groupby_year(original_data).years\n      var sparkline_data = algo1.groupby_year(original_data).sparkline_data\n      var years_for_dropdown = Object.keys(grouped_by_year_data)\n      //console.log(grouped_by_year_data,sparkline_data,years_for_dropdown,'selected_year')\n      self.props.Set_sparkline_data(sparkline_data)\n      self.props.Set_slider_max(grouped_by_year_data[years_for_dropdown[0]].length)\n      self.setState({ years_for_dropdown: years_for_dropdown })\n      self.props.Set_years_for_dropdown(years_for_dropdown)\n      self.props.Set_time_mode_year1(years_for_dropdown[0])\n      self.props.Set_time_mode_year2(years_for_dropdown[1])\n      self.props.Set_legend_year(years_for_dropdown[0])\n      self.setState({ ref_year: years_for_dropdown[0] })\n      self.props.Set_grouped_by_year_data(grouped_by_year_data)\n      self.setState({ grouped_by_year_data: grouped_by_year_data })\n      self.setState({ original_data: original_data })\n      self.props.Set_original_data(original_data)\n      //self.props.Set_selected_year(years_for_dropdown[0])\n    })\n    //-------------\n    d3.csv(rank_data_filename).then(data => {\n      var nested_data = {}\n      d3.nest().key(function (d) { return d.model; }).entries(data).map(item => {\n        nested_data[item.key] = item.values\n      })\n      self.props.Set_rank_data(nested_data)\n    })\n    //-------------\n    d3.csv(lime_data_filename).then(temp_data => {\n        var temp_data2 = temp_data.map(d=>{\n          var d1 = {};\n          for(var key of Object.keys(d)){\n            d1[key] = (d[key] === \"\")?\"0\":d[key]\n          }\n          return d1;\n        })\n        var data=temp_data2.map(item=>{\n          item['predicted']=parseInt(item['predicted'])\n          item['two_realRank']=parseInt(item['two_realRank'])\n          item['deviation']=Math.abs(item['predicted']-item['two_realRank'])\n          return item\n        })\n        \n      var nested_data = {}\n      d3.nest().key(function (d) { return d.model; }).entries(data).map(item => {\n        nested_data[item.key] = item.values\n      })\n      self.props.Set_lime_data(nested_data)\n    })\n  }\n  //-------------------------------------------------------------------------------------------------------------------- data processor processes data for initial render\n\n  handleradioChange = (selected_dataset) => {\n    this.props.Set_rank_data(null)\n    this.props.Set_clicked_items_in_slopechart([])\n    this.props.Set_state_range([1, 25])\n    this.props.Set_histogram_data([])\n    this.props.Set_mode(\"Model\")\n    this.props.Set_range_mode_range1([1, 25])\n    this.props.Set_range_mode_range2([15, 40])\n    this.props.Set_time_mode_range([5, 35])\n    if (selected_dataset == 'Fiscal Dataset') {\n      this.setState({ dataset: 'fiscal' })\n      this.props.Set_dataset('fiscal')\n      this.dataprocessor(\"fiscal\", this.props.exp_method)\n    }\n    else if (selected_dataset == 'Airbnb Dataset') {\n      this.setState({ dataset: 'airbnb' })\n      this.props.Set_dataset('airbnb')\n      this.dataprocessor(\"airbnb\")\n    }\n    else if (selected_dataset == 'House Dataset') {\n      this.setState({ dataset: 'house' })\n      this.props.Set_dataset('house')\n      this.dataprocessor(\"house\")\n    }\n    else if (selected_dataset == 'School Dataset (USA)') {\n      this.setState({ dataset: 'rur' })\n      this.props.Set_dataset('rur')\n      this.dataprocessor(\"rur\")\n      this.props.Set_selected_year(2012)\n    }\n    else {\n      this.setState({ dataset: 'school' })\n      this.props.Set_dataset('school')\n      this.dataprocessor(\"school\", this.props.exp_method)\n    }\n  };\n  render() {\n    var legend_width = 120\n    return (\n      <div className=\"root_container\" style={{ height: window.innerHeight, width: window.innerWidth}}>\n        <div className=\"topBar_root\" style={{ height: 35, width: window.innerWidth}}>\n          <Top handleradioChange={this.handleradioChange}></Top>\n        </div>\n        {this.props.view_data ? <Row>\n          <div style={{ width: window.innerWidth, height: window.innerHeight - $('.topBar_root').height(), padding: \"2px 0px\" }} key={this.props.view_data}>\n            {this.state.view_data == true ?\n              <Grid className=\"charts_and_legend_container\" style={{ height: '100%', width: window.innerWidth, border: \"2px solid grey\"}} container direction=\"row\" justify=\"flex-start\" alignItems=\"center\" >\n                <Grid className=\"charts_container\" style={{ height: '100%', width: window.innerWidth - legend_width }} container spacing={0} direction=\"row\" justify=\"space-evenly\" >\n                  {this.props.mode == \"Model\" && this.state.grouped_by_year_data != null && this.props.original_data != null && this.props.lime_data != null ? <ModelChart></ModelChart> : null}\n                  {this.props.mode == \"Ranges\" && this.state.grouped_by_year_data != null && this.props.original_data != null && this.props.lime_data != null ? <RangeChart></RangeChart> : null}\n                  {this.props.mode == \"Time\" && this.state.grouped_by_year_data != null && this.props.original_data != null && this.props.lime_data != null ? <YearChart></YearChart> : null}\n                </Grid>\n                <div style={{ padding: 0,marginTop:5, height: '100%', width: legend_width-10 }}><Legend legend_width={legend_width}></Legend></div>\n              </Grid> : null}\n          </div>\n        </Row> : null}\n      </div>\n    );\n  }\n}\nconst maptstateToprop = (state) => {\n  return {\n    tracking: state.tracking,\n    state_range: state.state_range,\n    deviate_by: state.deviate_by,\n    default_models: state.default_models,\n    sparkline_data: state.sparkline_data,\n    selected_year: state.selected_year,\n    mode: state.mode,\n    range_mode_model: state.range_mode_model,\n    original_data: state.original_data,\n    time_mode_model: state.time_mode_model,\n    chart_scale_type: state.chart_scale_type,\n    dataset: state.dataset,\n    histogram_data: state.histogram_data,\n    sort_by: state.sort_by,\n    time_mode_year1: state.time_mode_year1,\n    time_mode_year2: state.time_mode_year2,\n    popup_chart_data: state.popup_chart_data,\n    clicked_items_in_slopechart: state.clicked_items_in_slopechart,\n    config: state.config,\n    lime_data: state.lime_data,\n    view_data: state.view_data,\n    exp_method: state.exp_method,\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_dataset: (val) => dispatch({ type: \"dataset\", value: val }),\n    Set_default_models: (val) => dispatch({ type: \"default_models\", value: val }),\n    Set_sparkline_data: (val) => dispatch({ type: \"sparkline_data\", value: val }),\n    Set_slider_max: (val) => dispatch({ type: \"slider_max\", value: val }),\n    Set_years_for_dropdown: (val) => dispatch({ type: \"years_for_dropdown\", value: val }),\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: parseInt(val) }),\n    Set_ref_year: (val) => dispatch({ type: \"ref_year\", value: val }),\n    Set_original_data: (val) => dispatch({ type: \"original_data\", value: val }),\n    Set_grouped_by_year_data: (val) => dispatch({ type: \"grouped_by_year_data\", value: val }),\n    Set_slider_and_feature_value: (val) => dispatch({ type: \"slider_and_feature_value\", value: val }),\n    Set_clicked_items_in_slopechart: (val) => dispatch({ type: \"clicked_items_in_slopechart\", value: val }),\n    Set_histogram_data: (val) => dispatch({ type: \"histogram_data\", value: val }),\n    Set_state_range: (val) => dispatch({ type: \"state_range\", value: val }),\n    Set_legend_year: (val) => dispatch({ type: \"legend_year\", value: val }),\n\n    Set_mode: (val) => dispatch({ type: \"mode\", value: val }),\n    Set_range_mode_range1: (val) => dispatch({ type: \"range_mode_range1\", value: val }),\n    Set_range_mode_range2: (val) => dispatch({ type: \"range_mode_range2\", value: val }),\n    Set_time_mode_range: (val) => dispatch({ type: \"time_mode_range\", value: val }),\n    Set_time_mode_year1: (val) => dispatch({ type: \"time_mode_year1\", value: val }),\n    Set_time_mode_year2: (val) => dispatch({ type: \"time_mode_year2\", value: val }),\n\n    Set_rank_data: (val) => dispatch({ type: \"rank_data\", value: val }),\n    Set_lime_data: (val) => dispatch({ type: \"lime_data\", value: val }),\n    Set_pop_over_models: (val) => dispatch({ type: \"pop_over_models\", value: val }),\n    Set_default_model_scores: (val) => dispatch({ type: \"default_model_scores\", value: val }),\n    Set_clicked_circles: (val) => dispatch({ type: \"clicked_circles\", value: val }),\n    Set_clicked_features: (val) => dispatch({ type: \"clicked_features\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(App);","import { createMuiTheme } from '@material-ui/core/styles';\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: \"#7f7f7f\"\n    },\n    secondary: {\n      main: \"#7f7f7f\"\n    }\n  },\n  spacing:3,      \n  typography: {\n    button: {\n      textTransform: 'none'\n    }\n  },\n  overrides:{\n    MuiGrid:{\n      root:{\n        margin:0,\n        padding:0\n      },\n    }\n  }\n});\nexport default theme;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { createStore } from 'redux';\nimport {Provider} from 'react-redux';\nimport reducer from './store/reducer';\nimport theme from './Themes'; \nimport { ThemeProvider } from '@material-ui/styles';\nconst store=createStore(reducer);\nReactDOM.render( <ThemeProvider theme={theme}><Provider store={store}><App /></Provider></ThemeProvider>,document.getElementById('root'));\n\n\n","module.exports = __webpack_public_path__ + \"static/media/airbnb_lime.60f608cc.csv\";","module.exports = __webpack_public_path__ + \"static/media/fiscal_lime_may25.c7da8bee.csv\";","module.exports = __webpack_public_path__ + \"static/media/fiscal_ice_may25.fdc31ac9.csv\";","module.exports = __webpack_public_path__ + \"static/media/school_lime_may25.d3117c82.csv\";","module.exports = __webpack_public_path__ + \"static/media/school_ice_may25.c13bd244.csv\";"],"sourceRoot":""}