(this.webpackJsonp03_2slopechart=this.webpackJsonp03_2slopechart||[]).push([[0],{114:function(e,t,a){},115:function(e,t,a){e.exports=a.p+"static/media/fiscal.977bae2d.csv"},116:function(e,t,a){e.exports=a.p+"static/media/school.2d2c77ef.csv"},117:function(e,t,a){e.exports=a.p+"static/media/house.88979d03.csv"},118:function(e,t,a){e.exports=a.p+"static/media/fiscal_rank.6e0a824e.csv"},119:function(e,t,a){e.exports=a.p+"static/media/fiscal_lime.7992abf1.csv"},120:function(e,t,a){e.exports=a.p+"static/media/school_rank.edf0b9e3.csv"},121:function(e,t,a){e.exports=a.p+"static/media/school_lime.644683c6.csv"},122:function(e,t,a){e.exports=a.p+"static/media/house_rank.f85c2352.csv"},123:function(e,t,a){e.exports=a.p+"static/media/house_lime.b31dfb61.csv"},130:function(e,t,a){e.exports=a.p+"static/media/chart1_data.45acbae8.csv"},192:function(e,t,a){e.exports=a(212)},197:function(e,t,a){},202:function(e,t,a){},208:function(e,t,a){},209:function(e,t,a){},210:function(e,t,a){},212:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(15),o=a.n(i),l=a(16),s=a(22),c=a(23),u=a(39),d=a(25),p=a(26),_=a(115),m=a.n(_),f=a(116),g=a.n(f),y=a(117),h=a.n(y),v=a(118),k=a.n(v),b=a(119),x=a.n(b),S=a(120),w=a.n(S),j=a(121),E=a.n(j),O=a(122),A=a.n(O),C=a(123),R=a.n(C),N=(a(197),a(1));function I(e){var t={},a={};return e.forEach((function(e){t[e["1-qid"]]=[],a[e.State.replace(/ /g,"").replace(/[^\w\s]/gi,"")]=[]})),e.forEach((function(e){var r={year:parseInt(e["1-qid"]),rank:parseInt(e.two_realRank)};a[e.State.replace(/ /g,"").replace(/[^\w\s]/gi,"")].push(r),t[e["1-qid"]].push(e)})),{years:t,sparkline_data:a}}function L(e,t,a,r,n){if("Discounted Cumulative Gain"==e){for(var i={ndcg_term_CordAscent:0,ndcg_term_LambdaMART:0,ndcg_term_LambdaRank:0,ndcg_term_LinearReg:0,ndcg_term_ListNet:0,ndcg_term_MART:0,ndcg_term_RandomFor:0,ndcg_term_RankBoost:0,ndcg_term_RankNet:0},o=t[0];o<t[1];o++)Object.keys(i).forEach((function(e){i[e]=i[e]+parseFloat(n[r][o][e])}));(c=Object.keys(i).map((function(e){return[e.substring(10),i[e]]}))).sort((function(e,t){return t[1]-e[1]}));var l=[];for(o=0;o<c.length;o++)a.includes(c[o][0])&&l.push(c[o][0]);var s={};return c.map((function(e){s[e[0]]=e[1]})),console.log(c),[l,s]}if("Average Precision"==e){var c,u={};a.forEach((function(e){for(var a=1,i=t[0];i<t[1];i++)a+=Math.pow(n[r][i].two_realRank-n[r][i][e],2);u[e]=(t[1]-t[0]+1)/Math.sqrt(a)})),(c=Object.keys(u).map((function(e){return[e,u[e]]}))).sort((function(e,t){return t[1]-e[1]}));var d=[];for(o=0;o<c.length;o++)a.includes(c[o][0])&&d.push(c[o][0]);return[d,u]}if("Alphabetically"==e)return[a.sort(),[0]]}function B(e,t,a,r,n,i){var o={},l={};for(var s in t.map((function(t){var l={},s=n,c=T(e,t,a,r,i);c.length<n&&(s=c.length,n=c.length);for(var u=0;u<n;u++)l[c[u]]=s,s-=1;o[t]=l})),o)for(var c in o[s])l[c]>0?l[c]=l[c]+o[s][c]:l[c]=o[s][c];return l}function T(e,t,a,r,n){if(!a.length>0)return[];a=a.map((function(e){return e-1}));var i,o,l,s={};if("ListNet"==t)return[];var c=n[t].filter((function(e){if(parseInt(e["1-qid"])==parseInt(r))return e}));o=a.map((function(e){return c[e]})),l=Object.keys(o[0]),o.map((function(e){l.forEach((function(t){s[t]>=0||s[t]<0?s[t]=s[t]+parseFloat(e[t]):s[t]=parseFloat(e[t])}))})),(i=Object.keys(s).map((function(e){return[e,s[e]]}))).sort((function(e,t){return e[1]-t[1]}));var u=i.map((function(e){return e[0].replace("_feature_rank","")}));return u=u.filter((function(e){return"1-qid"!=e&&"model"!=e}))}var H=a(9),M=a(7);function F(e,t,a,r,n,i,o){var s=15,c=5,u=25,d=3,p=M("#exp_container").width()-u,_=M("#exp_container").height()-2*s,m=p/t.length-d,f=_,g=N.x("#exp_container");g.selectAll(".ylabels").data([[.125,"++"],[.375,"+"],[.5,"0"],[.625,"-"],[.875,"--"]]).join("text").attr("class","ylabels").attr("y",(function(e){return e[0]*f})).attr("x",u-5).attr("text-anchor","end").attr("dominant-baseline","hanging").text((function(e){return e[1]})).attr("font-size",14).attr("fill","#636363"),g.selectAll(".title_rect").data(t).join("rect").attr("class","title_rect").attr("width",m+2).attr("height",s).attr("x",(function(e,t){return u+m*t+(d*t-1)})).attr("fill","#d1d1d1"),g.selectAll(".title_text").data(t).join("text").attr("class","title_text").text((function(e){return e[0]})).attr("y",0).attr("dominant-baseline","hanging").attr("font-size",12).attr("x",(function(e,t){return u+d*t+m*t+m/2})).attr("text-anchor","middle"),g.selectAll(".item_rect").data(t).join("rect").attr("class","item_rect").attr("width",m).attr("height",f).attr("x",(function(e,t){return u+m*t+d*t})).attr("y",s).attr("fill","#d1d1d1").attr("fill-opacity",0).attr("stroke","#b2b0b0").attr("add_circle_rect_line",(function(t,p){g.selectAll(".mylines"+p).data([[.25],[.5],[.75]]).join("line").attr("class","mylines"+p).attr("x1",u+m*p+d*p).attr("x2",u+m*p+(d*p+m)).attr("y1",(function(e){return e*(f+s)})).attr("y2",(function(e){return e*(f+s)})).attr("stroke-width",1).attr("stroke","#bababa");var _=t[0],y=t[0]+"_contribution",h=[];n.map((function(t){a[t].map((function(a){a["1-qid"]==r&&e.includes(parseInt(a.two_realRank))&&(a.id=a.State.replace(/\s/g,"")+a["1-qid"]+t.replace(/\s/g,""),h.push(a))}))}));var v=N.u().domain([N.p(h.map((function(e){return parseFloat(e[t[0]])}))),N.n(h.map((function(e){return parseFloat(e[t[0]])})))]).range([u+2*c,m-2*c]),k=N.u().domain([N.p(h.map((function(e){return parseFloat(e[y])}))),N.n(h.map((function(e){return parseFloat(e[y])})))]).range([s+c,f-c]);N.x(this.parentNode).selectAll(".my_circles"+p).data(h).join("circle").attr("class","circle2 my_circles"+p).attr("cx",(function(e,t){return m*p+u+c/2+v(parseFloat(e[_]))})).attr("cy",(function(e){return c/2+k(parseFloat(e[y]))})).attr("r",c).attr("fill","grey").attr("id",(function(e){return e.id})).on("click",(function(e){var t=[];if(i.includes(e.id))N.y("#"+e.id).filter(N.m("path")).remove(),t=i.filter((function(t){return t!=e.id})),o(t);else{t=[].concat(Object(l.a)(i),[e.id]),o(t);var a=[];N.x("#exp_container").selectAll("#"+e.id).each((function(e){a.push([N.x(this).attr("cx"),N.x(this).attr("cy")])})),N.x(this.parentNode).append("path").datum(a).attr("id",e.id).attr("class","active").attr("fill","none").attr("stroke","grey").attr("stroke-width",2).attr("d",N.l().x((function(e){return e[0]})).y((function(e){return e[1]})))}!function(e,t,a){0==t.length?N.y("."+e).attr("opacity",1):(N.y("."+e).attr("opacity",.5),t.map((function(e){return N.y("#"+e).attr("opacity",1)})))}("circle2",t)}))}))}var Y=a(14),z=a(245);function D(e,t,a){var r=Object.entries(a),n=M("."+e).width(),i=M("."+e).height(),o=N.x("."+e).select("svg").attr("width",n).attr("height",i),l=i/r.length;o.selectAll(".leg_rect").data(r).join("rect").attr("class","leg_rect").attr("x",2).attr("y",(function(e,t){return l*t})).attr("width",15).attr("height",l).attr("fill",(function(e){return e[1]})),o.selectAll(".leg_text").data([[10,t[0]],[i/2,parseInt((t[1]+t[0])/2)],[i-5,t[1]]]).join("text").attr("class","leg_text").attr("x",20).attr("y",(function(e){return e[0]})).text((function(e){return e[1]})).attr("font-size",12)}var U=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).line_color=null,r.state={height_slope_exp_chart:700,mouseX:0,mouseY:0},r}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.setState({width:window.innerHeight})}},{key:"shouldComponentUpdate",value:function(e,t){return!0}},{key:"componentDidUpdate",value:function(e,t){var a=N.s(this.props.state_range[0],this.props.state_range[1]+1);console.log(a),function(e,t,a,r,n,i){var o=N.x("body").append("div").attr("class","tooltip").style("opacity",0),l=M("#dev_plot_container").width(),s=t.filter((function(t){return n.includes(t["1-qid"])&&e.includes(parseInt(t.two_realRank))}));console.log(s);var c=[];s.map((function(e){a.map((function(t){return c.push(Math.abs(parseInt(e[t])-parseInt(e.two_realRank)))}))}));var u=12,d=-6,p=4,_=10,m=0,f=100,g=_+2,y=_/2;N.x("#dev_plot_container").style("background-color","#ededed").attr("height",g+s.length*g).selectAll(".parent_g").data([0]).join("g").attr("class","parent_g").attr("transform","translate(0,20)").selectAll(".items").data(s).join("g").attr("class","items").attr("transform",(function(e,t){return"translate("+f+","+t*g+")"})).attr("add_state",(function(e){N.x(this).selectAll("text").data([e]).join("text").text(e.State+" ("+e.two_realRank+")").attr("fill","#494949").attr("dominant-baseline","hanging").attr("font-size",u).attr("x",0).attr("text-anchor","end").attr("dy",d)})).attr("add_lines_and_circles",(function(e){var t=s.filter((function(t){return e.two_realRank==parseInt(t.two_realRank)})),r=[];a.map((function(e){t.map((function(t){var a={};a.two_realRank=parseInt(t.two_realRank),a.predicted_rank=parseInt(t[e]),a.model=e,a.year=t["1-qid"],r.push(a)}))}));var n=[];s.map((function(e){a.map((function(t){return n.push(Math.abs(parseInt(e[t])-parseInt(e.two_realRank)))}))}));var c=N.u().domain([0,N.n(n)]).range([p,l-(f+y)]);N.x(this).selectAll("line").data([e]).join("line").attr("x1",p).attr("y1",(function(e,t){return g*t})).attr("y2",(function(e,t){return g*t})).attr("stroke-width",_).attr("stroke","#cecece").transition().duration(m).attr("x2",(function(e){var t=[];return r.map((function(e){return t.push(Math.abs(e.predicted_rank-e.two_realRank))})),c(N.n(t))}));t=s.filter((function(t){return e.two_realRank==parseInt(t.two_realRank)}));var u=[];if(a.map((function(e){t.map((function(t){var a={};a.two_realRank=parseInt(t.two_realRank),a.predicted_rank=parseInt(t[e]),a.model=e,a.year=t["1-qid"],u.push(a)}))})),i){var d=N.o(u.map((function(e){return e.predicted_rank})));u=u.map((function(e){return e.predicted_rank=d,e.model="Average",e.year="Average",e}))}N.x(this).selectAll("circle").data(u).join("circle").attr("r",y).attr("fill","#7c7b7b").attr("cx",(function(e,t){return e.predicted_rank-e.two_realRank==0?c(Math.abs(e.predicted_rank-e.two_realRank))+y:c(Math.abs(e.predicted_rank-e.two_realRank))})).on("mouseover",(function(e){o.transition().duration(200).style("opacity",.9),o.html("Year : "+e.year+"<br></br>"+e.model+" : "+Math.abs(e.predicted_rank-e.two_realRank)).style("left",N.f.pageX-130+"px").style("top",N.f.pageY-68+"px")})).on("mouseout",(function(e){o.transition().duration(500).style("opacity",0)}))}))}(a,this.props.original_data,this.props.defualt_models,this.props.config,this.props.selected_years,this.props.average_m);var r=B(this.props.dataset,this.props.defualt_models,this.props.state_range,this.props.selected_year,9,this.props.rank_data);F(a,Object.entries(r).sort((function(e,t){return e[1]-t[1]})).slice(0,8),this.props.lime_data,this.props.selected_year,this.props.defualt_models,this.props.clicked_circles,this.props.Set_clicked_circles)}},{key:"render",value:function(){return n.a.createElement(z.a,{container:!0,className:"slope_chart_exp",style:{padding:"0px 0px",border:"1px solid #eaeaea",width:"99%",boxShadow:"-2px 1px 4px -1px white"}},n.a.createElement("svg",{id:"dev_plot_container",style:{width:"100%",height:"50%",marginBottom:10}}),n.a.createElement("svg",{id:"exp_container",style:{width:"100%",height:"50%"}}))}}]),a}(r.Component),G=Object(Y.b)((function(e){var t;return t={state_range:e.state_range,selected_year:e.selected_year,selected_years:e.selected_years,deviate_by:e.deviate_by,clicked_items_in_slopechart:e.clicked_items_in_slopechart,tracking:e.tracking,defualt_models:e.defualt_models,original_data:e.original_data,time_mode_model:e.time_mode_model,chart_scale_type:e.chart_scale_type,features_with_score:e.features_with_score,dataset:e.dataset,histogram_data:e.histogram_data,sparkline_data:e.sparkline_data},Object(H.a)(t,"dataset",e.dataset),Object(H.a)(t,"config",e.config),Object(H.a)(t,"show",e.show),Object(H.a)(t,"default_model_scores",e.default_model_scores),Object(H.a)(t,"sort_by",e.sort_by),Object(H.a)(t,"average_m",e.average_m),Object(H.a)(t,"average_y",e.average_y),Object(H.a)(t,"lime_data",e.lime_data),Object(H.a)(t,"features_with_score",e.features_with_score),Object(H.a)(t,"rank_data",e.rank_data),Object(H.a)(t,"clicked_circles",e.clicked_circles),t}),(function(e){return{Set_clicked_circles:function(t){return e({type:"clicked_circles",value:t})},Set_prev_prop:function(t){return e({type:"prev_prop",value:t})},Set_defualt_models:function(t){return e({type:"defualt_models",value:t})},Set_sparkline_data:function(t){return e({type:"sparkline_data",value:t})},Set_clicked_items_in_slopechart:function(t){return e({type:"clicked_items_in_slopechart",value:t})},Set_replay:function(t){return e({type:"replay",value:t})}}}))(U);function P(e,t,a,r,n,i,o,l,s){var c=0,u=0,d=0,p=4,_=55/2-5,m=20-2,f=N.x("."+e).attr("width",_+p+u).attr("height",m+c+d),g=t[a],y=N.u().domain(N.g(g,(function(e){return e.year}))).range([0,_]);f.select("path").datum(g,(function(e){return e})).attr("id","A"+s).attr("opacity",1).attr("fill",l).attr("stroke",l).attr("stroke-width",(function(e){return 1.5})).attr("d",N.a().x((function(e){return y(e.year)})).y0((function(){return N.u().domain([0,N.n(g,(function(e){return+e.rank}))]).range([m,0])(0)})).y1((function(e){return N.u().domain([0,N.n(g,(function(e){return+e.rank}))]).range([0,m])(e.rank)}))),f.selectAll("circle").data(g).join("circle").attr("cx",(function(e,t){return y(e.year)})).attr("cy",m-2).attr("class","myid"+o).on("mouseover",(function(e){N.x(this).style("fill","black"),N.x(this).attr("r",3)})).style("fill",(function(e){return e.year!=n?"transparent":"black"})).attr("class",(function(e){return e.year!=n?"transparent_class":"red_class"})).attr("r",2).on("dblclick",(function(e,t){N.f.preventDefault(),i(e.year,"year_changed")})).on("mouseout",(function(t){N.x(this).style("fill","transparent");var a="#div"+e;N.y(a).remove()})).on("click",(function(t){N.x("body").append("div").attr("id","div"+e).attr("class","tooltip").style("opacity",0).html("<p>Year: "+t.year+"</p><p>Rank: "+t.rank+"</p>").style("left",(function(e){return M(".Sidebar_parent").width()-125+"px"})).style("top",N.f.pageY-40+"px").transition().duration(200).style("opacity",.97)}))}function X(e,t,a,r,n,i,o,l,s,c,u){var d=[];n.forEach((function(e){e.State==i&&e[r]&&d.push({year:parseInt(e["1-qid"]),rank:parseInt(e[r])})}));var p=0,_=0,m=0,f=5,g=55/2,y=20-2,h=N.y("."+e).attr("width",g+f+_).attr("height",y+p+m),v=d,k=N.u().domain(N.g(v,(function(e){return e.year}))).range([0,g]);h.select("path").datum(v,(function(e){return e})).attr("id","A"+u).attr("fill",c).attr("stroke",c).attr("stroke-width",(function(e){return 1.5})).attr("d",N.a().x((function(e){return k(e.year)})).y0((function(){return N.u().domain([0,N.n(v,(function(e){return+e.rank}))]).range([y,0])(0)})).y1((function(e){return N.u().domain([0,N.n(v,(function(e){return+e.rank}))]).range([0,y])(e.rank)})));N.x("body").append("div").attr("class","tooltip").style("opacity",0);h.selectAll("circle").data(v).enter().append("circle").attr("cx",(function(e,t){return k(e.year)})).attr("cy",y-2).attr("class","myid"+s).on("mouseover",(function(e){N.x(this).style("fill","black"),N.x(this).attr("r",2)})).on("mouseout",(function(t){N.x(this).style("fill","transparent");var a="#div"+e;N.y(a).remove()})).style("fill",(function(e){return e.year!=o?"transparent":"black"})).attr("class",(function(e){return e.year!=o?"transparent_class":"red_class"})).attr("r",2).on("dblclick",(function(e,t){N.f.preventDefault(),l(e.year,"year_changed")})).on("click",(function(t){N.x("body").append("div").attr("id","div"+e).attr("class","tooltip").style("opacity",0).html("<p>Year: "+t.year+"</p><p>Rank: "+t.rank+"</p>").style("left",(function(e){return M(".Sidebar_parent").width()-125+"px"})).style("top",N.f.pageY-40+"px").transition().duration(200).style("opacity",.97)}))}var q=a(8),V=(a(202),function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).CreateChart=function(e,t,a,n,i,o,s){var c=r.props.config.animation4,u=r.props.config.animation1+r.props.config.animation2+r.props.config.animation3,d=(a=a-i.left2-i.right2,n-i.space_for_feature_title-i.bottom2),p=o.props.selected_year,_=o.props.state_range[0],m=o.props.state_range[1],f=o.props.histogram_data,g=null;(g=f.length>0?o.props.lime_data[o.props.model_name].filter((function(e){if(parseInt(e["1-qid"])==parseInt(p)&&f.includes(parseInt(e.two_realRank)))return e})):o.props.lime_data[o.props.model_name].filter((function(e){if(parseInt(e["1-qid"])==parseInt(p)&&parseInt(e.two_realRank)>=parseInt(_)&&parseInt(e.two_realRank)<=parseInt(m))return e}))).map((function(e){return parseInt(e.two_realRank)})).sort((function(e,t){return e-t}));var y=N.x("#feature_container"+o.props.model_name2.replace(/\s/g,"").replace(/[`~!@#$%^&*()_|+\-=?;:'",.<>\{\}\[\]\\\/]/gi,"")).select("."+e).attr("width",a+i.left2+i.right2).attr("height",d+i.space_for_feature_title+i.bottom2).attr("class","svg1");y.selectAll("rect").data([0]).join("rect").attr("width",a+i.left2+i.right2).attr("height",d+i.bottom2).attr("y",i.space_for_feature_title).attr("fill","#f7f7f7").attr("class",(function(a){return o.props.clicked_features.includes(t)?"exp_chart_clicked rect"+e:"rect"+e})).attr("myindex",s).on("click",(function(a,r){if(!a.defaultPrevented){var n=Object(l.a)(o.props.clicked_features);1==N.y(".rect"+e).classed("exp_chart_clicked")?(n=o.props.clicked_features.filter((function(e){return e!=t})),N.y(".rect"+e).classed("exp_chart_clicked",!1)):(n.push(t),N.y(".rect"+e).classed("exp_chart_clicked",!0)),o.props.set_clicked_features(n)}})).on("dblclick",(function(a){N.f.preventDefault();var r=Object(l.a)(o.props.dbclicked_features);r.includes(t)||(r.unshift(t),N.y(".rect"+e).classed("exp_chart_clicked",!0)),o.props.set_dbclicked_features(r);var n={};o.props.defualt_models.filter((function(e){return"ListNet"!=e})).map((function(e){g=f.length>0?o.props.lime_data[e].filter((function(e){if(parseInt(e["1-qid"])==parseInt(p)&&f.includes(parseInt(e.two_realRank)))return e})):o.props.lime_data[e].filter((function(e){if(parseInt(e["1-qid"])==parseInt(p)&&parseInt(e.two_realRank)>=parseInt(_)&&parseInt(e.two_realRank)<=parseInt(m))return e})),n[e]=g})),o.props.Set_popup_chart_data([n,t]),o.props.set_pop_over(!0)}));var h=y.selectAll(".svg2").data([0]).join("svg").attr("class","svg2").attr("width",a+i.left2+i.right2).attr("height",d+i.space_for_feature_title+i.bottom2).attr("x",i.left2).attr("y",i.space_for_feature_title);y.selectAll("text").data([t]).join("text").attr("class","features").attr("x",10).attr("y",d/2).text((function(e){return e})).attr("font-size",12).style("text-anchor","middle").style("writing-mode","tb"),h.selectAll("line").data([4,2,1.3]).join("line").attr("x1",2).attr("x2",a).attr("y1",(function(e){return d/e})).attr("y2",(function(e){return d/e})).style("stroke","#a5a5a5");var v=g.map((function(e){return parseFloat(e[t])})),k=N.u().domain([N.p(v),N.n(v)]).range([0,a]).nice(),b=g.map((function(e){return parseFloat(e[t+"_contribution"])})),x=N.u().domain([N.p(b),N.n(b)]).range([d,0]).nice();if(g.length>0&&isNaN(g[0][t]))v=g.map((function(e){return e[t]})),k=N.v().domain(v).range([0,a]);h.selectAll("circle").data(g,(function(e){return e[t+"_contribution"]})).join((function(e){return e.append("circle").attr("cx",(function(e,a){return k(e[t])<10?10:k(e[t])})).attr("cy",(function(e,a){return x(parseFloat(e[t+"_contribution"]))<10?10:x(parseFloat(e[t+"_contribution"]))>d-10?d-10:x(parseFloat(e[t+"_contribution"]))-0})).attr("actual_Y_valu",(function(e){return e[t+"_contribution"]})).attr("r",4).attr("opacity",(function(e){return o.props.clicked_items_in_slopechart.length>0&&o.props.clicked_items_in_slopechart.includes("A"+String(e.State).replace(/ +/g,""))||0==o.props.clicked_items_in_slopechart.length?1:o.props.config.reduced_opacity})).attr("fill",(function(e){return o.props.color_gen(e.State)})).attr("id",(function(e){return"A"+String(e.State).replace(/ +/g,"")})).attr("class",(function(e){return"bar myid"+String(e.two_realRank)+" exp_circles"})).attr("myindex",s).on("click",(function(e){return o.props.textClickHandler_original("A"+e.State)}))}),(function(e){return e.attr("cx",(function(e,a){return k(e[t])<10?10:k(e[t])-5})).attr("opacity",(function(e){return o.props.clicked_items_in_slopechart.length>0&&o.props.clicked_items_in_slopechart.includes("A"+String(e.State).replace(/ +/g,""))||0==o.props.clicked_items_in_slopechart.length?1:o.props.config.reduced_opacity})).on("click",(function(e){o.props.textClickHandler_original("A"+e.State)})).transition().duration(c).delay(u).attr("cy",(function(e,a){return x(parseFloat(e[t+"_contribution"]))<10?10:x(parseFloat(e[t+"_contribution"]))>d-10?d-10:x(parseFloat(e[t+"_contribution"]))-0})).attr("actual_Y_valu",(function(e){return e[t+"_contribution"]})).attr("r",4).attr("fill",(function(e){return o.props.color_gen(e.State)})).attr("id",(function(e){return"A"+String(e.State).replace(/ +/g,"")})).attr("myindex",s).attr("class",(function(e){return"bar myid"+String(e.two_realRank)+" exp_circles"}))}));var S=N.x("body").append("div").attr("class","tooltip2").style("opacity",0);N.y(".exp_circles").on("mouseover",(function(e){S.transition().duration(200).style("opacity",.9),S.html(e.State).style("left",N.f.pageX+"px").style("top",N.f.pageY-28+"px")})).on("mouseout",(function(e){N.y(".tooltip2").transition().duration(500).style("opacity",0)}))},r.state={sorted_features_dragged:null},r}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.setState({sorted_features:null})}},{key:"componentDidUpdate",value:function(){var e=this,t=this,a=this.props.config.animation3,r=this.props.config.animation1+this.props.config.animation2,n={top:0,right:20,bottom:0,space_for_contribution_text:40,space_for_feature_title:0,right2:5,bottom2:0,left2:18,vertical_space_between_features:4,horizontal_space_between_features:4},i=M("#root_container"+this.props.model_name2.replace(/\s/g,"").replace(/[`~!@#$%^&*()_|+\-=?;:'",.<>\{\}\[\]\\\/]/gi,"")).width()-2*n.space_for_contribution_text,o=M("#root_container"+this.props.model_name2.replace(/\s/g,"").replace(/[`~!@#$%^&*()_|+\-=?;:'",.<>\{\}\[\]\\\/]/gi,"")).height(),s=Math.floor(i/70),c=Math.floor(o/150),u=i/s,d=o/c-n.top-n.bottom,p=s*c,_=p,m=T(this.props.dataset,this.props.model_name,N.s(this.props.state_range[0],this.props.state_range[1]),this.props.selected_year,this.props.rank_data);Object.keys(this.props.drag_drop_feautre_data).length>0&&Object.keys(this.props.drag_drop_feautre_data).map((function(t){var a=e.props.drag_drop_feautre_data[t],r=m.indexOf(t)+a;(m=m.filter((function(e){return e!=t}))).splice(r,0,t)})),m.length<p&&(c=Math.ceil(m.length/s),_=m.length);var f,g,y,h=m.slice(0,_).map((function(e){return[e.replace(/\s/g,"").replace(/[`~!@#$%^&*()_|+\-=?;:'",.<>\{\}\[\]\\\/]/gi,""),e]})),v=N.y("#feature_container"+this.props.model_name2.replace(/\s/g,"").replace(/[`~!@#$%^&*()_|+\-=?;:'",.<>\{\}\[\]\\\/]/gi,"")).attr("width",i).attr("height",o).attr("x",n.space_for_contribution_text);v.selectAll(".svg1").data(h,(function(e){return e[0]})).join((function(e){return e.append("svg").attr("class",(function(e){return e[0]+" svg1"})).attr("x",(function(e,t){return t%s*u})).attr("y",(function(e,t){return parseInt(t/s)*d})).attr("myindex",(function(e,t){return t}))}),(function(e){return e.transition().duration(a).delay(r).attr("class",(function(e){return e[0]+" svg1"})).attr("x",(function(e,t){return t%s*u})).attr("y",(function(e,t){return parseInt(t/s)*d})).attr("myindex",(function(e,t){return t}))})).attr("feature_name",(function(e){return e[1]})).call(N.e().on("start",(function(e){f=N.x(this).attr("x")-N.f.x,g=N.x(this).attr("y")-N.f.y})).on("drag",(function(e){y=!0,N.x(this).raise(),N.x(this).attr("x",N.f.x+f).attr("y",N.f.y+g)})).on("end",(function(e,a){if(y){var r=parseInt(N.x(this).attr("myindex"));N.x(this).lower(),N.x(this).select("rect").classed("exp_chart_clicked",!0);var n=parseInt(N.x(document.elementFromPoint(N.f.sourceEvent.clientX,N.f.sourceEvent.clientY)).attr("myindex")),i=N.x(this).attr("feature_name");N.x(this).raise(),t.props.set_config(Object(q.a)({},t.props.config,{animation1:0,animation2:0}));var o=n-r;if(isNaN(n))alert("Please drop again");else{var s=Object(q.a)({},t.props.drag_drop_feautre_data);i in t.props.drag_drop_feautre_data&&(o+=t.props.drag_drop_feautre_data[i]),s[i]=o,t.props.set_drag_drop_feautre_data(s)}t.props.set_config(Object(q.a)({},t.props.config,{animation1:4e3,animation2:2e3})),t.props.clicked_features.includes(i)||t.props.set_clicked_features([].concat(Object(l.a)(t.props.clicked_features),[i]))}else t.props.clicked_features.includes(i)?t.props.set_clicked_features(t.props.clicked_features.filter((function(e){return e!=i}))):void 0!=i&&t.props.set_clicked_features([].concat(Object(l.a)(t.props.clicked_features),[i]))}))),v.selectAll(".svg1").data(h,(function(e){return e[0]})).join("svg").attr("class",(function(e){return"feat"+e[0]+" svg1"})).attr("a",(function(a,r){return e.CreateChart("feat"+a[0],a[1],u-n.horizontal_space_between_features,d-n.vertical_space_between_features,n,t,r),r})),N.x("#root_container"+this.props.model_name2.replace(/\s/g,"").replace(/[`~!@#$%^&*()_|+\-=?;:'",.<>\{\}\[\]\\\/]/gi,"")).selectAll(".contribution_container").data(N.s(c).concat(N.s(c))).join("svg").attr("class","contribution_container").attr("width",n.space_for_contribution_text).attr("height",d-n.vertical_space_between_features).attr("y",(function(e,t){return d*Math.floor(t/2)})).attr("add_rect",(function(){N.x(this).selectAll("rect").data([0]).join("rect").attr("width",n.space_for_contribution_text).attr("height",d-n.space_for_feature_title).attr("fill","#ededed")})).attr("x",(function(e,t){return t%2==0?0:n.space_for_contribution_text+i-n.horizontal_space_between_features})).attr("add_text",(function(e,t){N.x(this).selectAll("text").data([[8,"++ ve"],[2.6,"+ ve"],[1.977,"0"],[1.6,"- ve"],[1.15,"-- ve"]]).join("text").attr("x",t%2==0?n.space_for_contribution_text-5:5).attr("y",(function(e,t){return d/e[0]+1})).text((function(e){return e[1]})).attr("font-size",13).attr("text-anchor",t%2==0?"end":"start")})).attr("add_horizontal_lines",(function(){N.x(this).selectAll("line").data([3.9,1.31]).join("line").attr("x1",4).attr("x2",n.space_for_contribution_text).attr("y1",(function(e){return d/e-2})).attr("y2",(function(e){return d/e-2})).style("stroke","#a5a5a5")})).attr("add_0horizontal_line",(function(e,t){N.x(this).selectAll(".line0").data([0]).join("line").attr("class","line0").attr("x1",t%2==0?4:15).attr("x2",t%2==0?n.space_for_contribution_text-15:n.space_for_contribution_text).attr("y1",(function(e){return d/2-2})).attr("y2",(function(e){return d/2-2})).style("stroke","#a5a5a5")}))}},{key:"render",value:function(){return n.a.createElement("svg",{id:"root_container"+this.props.model_name2.replace(/\s/g,"").replace(/[`~!@#$%^&*()_|+\-=?;:'",.<>\{\}\[\]\\\/]/gi,""),style:{width:"100%",height:"100%"}},n.a.createElement("svg",{id:"feature_container"+this.props.model_name2.replace(/\s/g,"").replace(/[`~!@#$%^&*()_|+\-=?;:'",.<>\{\}\[\]\\\/]/gi,"")}," "))}}]),a}(r.Component)),W=Object(Y.b)((function(e){return{clicked_items_in_slopechart:e.clicked_items_in_slopechart,original_data:e.original_data,chart_scale_type:e.chart_scale_type,features_with_score:e.features_with_score,dataset:e.dataset,histogram_data:e.histogram_data,deviate_by:e.deviate_by,prev_prop:e.prev_prop,clicked_features:e.clicked_features,config:e.config,rank_data:e.rank_data,lime_data:e.lime_data,defualt_models:e.defualt_models,drag_drop_feautre_data:e.drag_drop_feautre_data,dbclicked_features:e.dbclicked_features}}),(function(e){return{Set_defualt_models:function(t){return e({type:"defualt_models",value:t})},Set_clicked_items_in_slopechart:function(t){return e({type:"clicked_items_in_slopechart",value:t})},Set_popup_chart_data:function(t){return e({type:"popup_chart_data",value:t})},set_pop_over:function(t){return e({type:"pop_over",value:t})},set_clicked_features:function(t){return e({type:"clicked_features",value:t})},set_config:function(t){return e({type:"config",value:t})},set_drag_drop_feautre_data:function(t){return e({type:"drag_drop_feautre_data",value:t})},set_dbclicked_features:function(t){return e({type:"dbclicked_features",value:t})}}}))(V),K=a(249),J=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).CreateChart=function(e,t,a){console.log(a);var n=Object(u.a)(r),i=t+"_contribution",o=0,l=30,s=45,c=50,d=50,p=520-c-l,_=250-o-s,m=e.map((function(e){return parseFloat(e[t])})),f=e.map((function(e){return parseFloat(e[i])})),g=N.u().domain([N.p(m),N.n(m)]).range([0,p]).nice(),y=N.u().domain([N.p(f),N.n(f)]).range([_,0]).nice(),h=N.x("#"+n.props.myid).attr("width",p+c+l).attr("height",_+o+s+d),v=h.selectAll(".svg11").data([0]).join("svg").attr("y",d).attr("class","svg11").selectAll(".myg").data([0]).join("g").attr("class","myg").attr("transform","translate("+c+","+o+")"),k=d,b=N.i().value((function(e){return e})).domain(g.domain())(m),x=N.u().range([k,0]);x.domain([0,N.n(b,(function(e){return e.length}))]);var S=h.selectAll(".svg0").data([0]).join("svg").attr("class","svg0").selectAll(".myg0").data([0]).join("g").attr("class","myg0").attr("transform","translate("+c+","+o+")");S.selectAll(".myline").data([0]).join("line").attr("class","myline").attr("x1",0).attr("y1",d).attr("x2",p).attr("y2",d).attr("stroke","#EBEBEB"),S.selectAll("rect").data(b).join("rect").attr("x",1).attr("fill","#b7b7b7").attr("transform",(function(e){return e.x0==e.x1?"translate(0,"+x(e.length)+")":"translate("+g(e.x0)+","+x(e.length)+")"})).attr("width",(function(e){return e.x0==e.x1?p:g(e.x1)-g(e.x0)-.2})).attr("height",(function(e){return k-x(e.length)})),(v=h.selectAll(".svg11").data([0]).join("svg").attr("class","svg11").selectAll(".myg").data([0]).join("g").attr("class","myg").attr("transform","translate("+c+","+o+")")).selectAll(".myline2").data([0]).join("line").attr("class","myline2").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",_).attr("stroke","#EBEBEB");var w=N.v().domain([".","0",".."]).range([_/4,_/2,3*_/4]);v.selectAll(".myYaxis").data([0]).join("g").attr("class","myYaxis").call(N.c(w).tickSize(1*-p).ticks(3).tickValues([",","0",".."]).tickFormat((function(e){return e}))).select(".domain").remove(),v.selectAll(".myYaxis").selectAll("text").remove(),N.y(".svg11").selectAll(".myYtext").data([["++ ve",_/8],["+ ve",3*_/8],["0",_/2],["- ve",5*_/8],["-- ve",7*_/8]]).join("text").attr("class","myYtext").attr("x",45).attr("y",(function(e,t){return e[1]+4})).text((function(e){return e[0]})).attr("font-size",14).attr("text-anchor","end"),N.y(".svg11").attr("add_horizontal_lines",(function(){N.x(this).selectAll(".horiz_line").data([3.85,1.31]).join("line").attr("class","horiz_line").attr("x1",11).attr("x2",50).attr("y1",(function(e){return _/e-2})).attr("y2",(function(e){return _/e-2})).style("stroke","#EBEBEB")})),N.y(".svg11").selectAll(".line0").data([0]).join("line").attr("class","line0").attr("x1",11).attr("x2",35).attr("y1",(function(e){return _/2})).attr("y2",(function(e){return _/2})).style("stroke","#EBEBEB"),N.n(N.n(b))>1e3?v.selectAll(".myXaxis").data([0]).join("g").attr("class","myXaxis").attr("transform","translate(0,"+_+")").call(N.b(g).tickSize(1.3*-_).tickValues(b.map((function(e){return e.x1}))).tickFormat(N.h(".2s"))).select(".domain").remove():v.selectAll(".myXaxis").data([0]).join("g").attr("class","myXaxis").attr("transform","translate(0,"+_+")").call(N.b(g).tickSize(1.3*-_).tickValues(b.map((function(e){return e.x1})))).select(".domain").remove(),v.selectAll(".tick line").attr("stroke","#EBEBEB"),v.selectAll(".scatterplot_g").data(a).join("g").attr("id",(function(e){return e[0]+"scatterplot_g_id"})).attr("class","scatterplot_g").attr("ax",(function(e){m=e[1].map((function(e){return parseFloat(e[t])})),f=e[1].map((function(e){return parseFloat(e[i])})),g=N.u().domain([N.p(m),N.n(m)]).range([0,p]).nice(),y=N.u().domain([N.p(f),N.n(f)]).range([_,0]).nice(),N.x(this).selectAll("circle").data(e[1]).join("circle").attr("cx",(function(e,a){return g(parseFloat(e[t]))<10?10:g(parseFloat(e[t]))>p-10?p-10:g(e[t])+2})).attr("cy",(function(e,t){return y(parseFloat(e[i]))<10?10:y(parseFloat(e[i]))>_-10?_-10:y(parseFloat(e[i]))-0})).attr("actual_Y_valu",(function(e){return e[i]})).attr("r",4).attr("class","random").attr("fill",(function(e){return n.props.color_gen(e.State)})).attr("id",(function(e){return"A"+String(e.State).replace(/ +/g,"")})).attr("class",(function(e){return"bar myid"+String(e.two_realRank)+" exp_circles"})).attr("dataset_name",e[0]).on("click",(function(e){n.props.textClickHandler_original("A"+e.State)}))}));var j=N.x("body").append("div").attr("class","tooltip2").style("opacity",0);N.y(".exp_circles").on("mouseover",(function(e){j.transition().duration(200).style("opacity",.9),j.html("<p>"+e.State+"</p><p>Model: "+N.x(this).attr("dataset_name")+"</p>").style("left",N.f.pageX+"px").style("top",N.f.pageY-28+"px")})).on("mouseout",(function(e){N.y(".tooltip2").transition().duration(500).style("opacity",0)}))},r.CreateChart_cat=function(e,t,a){var n=Object(u.a)(r),i=t+"_contribution",o=0,l=30,s=75,c=50,d=50,p=520-c-l,_=270-o-s,m={};e.map((function(e){m[e[t]]>0?m[e[t]]+=1:m[e[t]]=1}));var f=Object.keys(m),g=Object.values(m),y=N.u().domain([N.p(g),N.n(g)]).range([_,0]).nice(),h=N.t().domain(f).range([0,p]).padding(.1),v=N.x("#"+n.props.myid).attr("width",p+c+l).attr("height",_+o+s+d),k=v.selectAll(".svg11").data([0]).join("svg").attr("y",d).attr("class","svg11").selectAll(".myg").data([0]).join("g").attr("class","myg").attr("transform","translate("+c+","+o+")"),b=d;y=N.u().domain([0,N.n(g)]).range([b,0]).nice();var x=v.selectAll(".svg0").data([0]).join("svg").attr("class","svg0").selectAll(".myg0").data([0]).join("g").attr("class","myg0").attr("transform","translate("+c+","+o+")");x.selectAll(".myline").data([0]).join("line").attr("class","myline").attr("x1",0).attr("y1",d).attr("x2",p).attr("y2",d).attr("stroke","#EBEBEB"),x.selectAll("rect").data(Object.entries(m)).join("rect").attr("x",(function(e){return h(e[0])})).attr("fill","#b7b7b7").attr("width",h.bandwidth()).attr("y",(function(e){return y(e[1])})).attr("height",(function(e){return b-y(e[1])})),(k=v.selectAll(".svg11").data([0]).join("svg").attr("class","svg11").selectAll(".myg").data([0]).join("g").attr("class","myg").attr("transform","translate("+c+","+o+")")).selectAll(".myline2").data([0]).join("line").attr("class","myline2").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",_).attr("stroke","#EBEBEB"),k.selectAll(".myline3").data([0]).join("line").attr("class","myline3").attr("x1",0).attr("y1",_).attr("x2",p).attr("y2",_).attr("stroke","#EBEBEB");var S=N.v().domain([".","0",".."]).range([_/4,_/2,3*_/4]);k.selectAll(".myYaxis").data([0]).join("g").attr("class","myYaxis").call(N.c(S).tickSize(1*-p).ticks(3).tickValues([",","0",".."]).tickFormat((function(e){return e}))).select(".domain").remove(),k.selectAll(".myYaxis").selectAll("text").remove(),N.y(".svg11").selectAll(".myYtext").data([["++ve",_/8],["+ve",3*_/8],["0",_/2],["-ve",5*_/8],["--ve",7*_/8]]).join("text").attr("class","myYtext").attr("x",45).attr("y",(function(e,t){return e[1]+4})).text((function(e){return e[0]})).attr("font-size",14).attr("text-anchor","end"),N.y(".svg11").attr("add_horizontal_lines",(function(){N.x(this).selectAll(".horiz_line").data([3.85,1.31]).join("line").attr("class","horiz_line").attr("x1",11).attr("x2",50).attr("y1",(function(e){return _/e-2})).attr("y2",(function(e){return _/e-2})).style("stroke","#EBEBEB")})),N.y(".svg11").selectAll(".line0").data([0]).join("line").attr("class","line0").attr("x1",11).attr("x2",35).attr("y1",(function(e){return _/2})).attr("y2",(function(e){return _/2})).style("stroke","#EBEBEB"),k.selectAll(".myXaxis").data([0]).join("g").attr("class","myXaxis").attr("transform","translate(0,"+_+")").call(N.b(h).tickSize(1.3*-_)).selectAll("text").style("text-anchor","end").attr("dx","-.8em").attr("dy","0em").attr("transform","rotate(-90)").selectAll(".tick line").remove(),k.selectAll(".domain").remove(),k.selectAll(".tick line").attr("stroke","#EBEBEB"),k.selectAll(".scatterplot_g").data(a).join("g").attr("id",(function(e){return e[0]+"scatterplot_g_id"})).attr("class","scatterplot_g").attr("ax",(function(e){var a=e[1].map((function(e){return parseFloat(e[t+"_contribution"])}));y=N.u().domain([N.p(a),N.n(a)]).range([_,0]).nice(),N.x(this).selectAll("circle").data(e[1]).join("circle").attr("cx",(function(e,a){return h(e[t])+h.bandwidth()/2})).attr("cy",(function(e,t){return y(parseFloat(e[i]))<10?10:y(parseFloat(e[i]))>_-10?_-10:y(parseFloat(e[i]))-0})).attr("actual_Y_valu",(function(e){return e[i]})).attr("r",4).attr("class","random").attr("fill",(function(e){return n.props.color_gen(e.State)})).attr("id",(function(e){return"A"+String(e.State).replace(/ +/g,"")})).attr("class",(function(e){return"bar myid"+String(e.two_realRank)+" exp_circles"})).attr("dataset_name",e[0]).on("click",(function(e){n.props.textClickHandler_original("A"+e.State)}))}));var w=N.x("body").append("div").attr("class","tooltip2").style("opacity",0);N.y(".exp_circles").on("mouseover",(function(e){w.transition().duration(200).style("opacity",.9),w.html("<p>"+e.State+"</p><p>Model: "+N.x(this).attr("dataset_name")+"</p>").style("left",N.f.pageX+"px").style("top",N.f.pageY-28+"px")})).on("mouseout",(function(e){N.y(".tooltip2").transition().duration(500).style("opacity",0)}))},r.state={a:10},r}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.setState({a:5})}},{key:"componentDidUpdate",value:function(){var e=this,t={};this.props.defualt_models.filter((function(e){return"ListNet"!=e})).map((function(a){t[a]=e.props.popup_chart_data[0][a]}));var a=[].concat.apply([],Object.values(t)),r=Object.entries(this.props.popup_chart_data[0]).filter((function(t){return e.props.pop_over_models.includes(t[0])}));a.length>0&&isNaN(a[0][this.props.popup_chart_data[1]])?this.CreateChart_cat(a,this.props.popup_chart_data[1],r):this.CreateChart(a,this.props.popup_chart_data[1],r),this.props.clicked_items_in_slopechart.length>0&&N.y("circle,.datapoint").attr("opacity",this.props.config.reduced_opacity),this.props.clicked_items_in_slopechart.map((function(e){return N.y("#"+e).attr("opacity",1)}))}},{key:"render",value:function(){return n.a.createElement("div",{style:{margin:10,padding:10,border:0==this.props.index?"3px solid #e5e5e5":"white"}},n.a.createElement("svg",{id:this.props.myid}," "),n.a.createElement("p",{style:{color:"#4f4c4c",marginLeft:"42%",marginTop:-25,marginBottom:0}},this.props.popup_chart_data[1]))}}]),a}(r.Component),$=Object(Y.b)((function(e){return{pop_over_models:e.pop_over_models,clicked_items_in_slopechart:e.clicked_items_in_slopechart,config:e.config,mode:e.mode,range_mode_model:e.range_mode_model,time_mode_model:e.time_mode_model}}),(function(e){return{Set_clicked_items_in_slopechart:function(t){return e({type:"clicked_items_in_slopechart",value:t})}}}))(J),Q=a(128),Z=a.n(Q),ee=a(17),te=a(133),ae=a(252),re=a(254),ne=a(266),ie=a(253),oe=a(49),le=a.n(oe);var se=Object(Y.b)((function(e){return{pop_over_models:e.pop_over_models}}),(function(e){return{Set_defualt_models:function(t){return e({type:"defualt_models",value:t})},Set_pop_over_models:function(t){return e({type:"pop_over_models",value:t})}}}))((function(e){var t=n.a.useState(null),a=Object(ee.a)(t,2),r=a[0],i=a[1],o=Boolean(r),s=n.a.useState([0]),c=Object(ee.a)(s,2),u=c[0],d=c[1],p=function(e){return function(){var t=u.indexOf(e),a=Object(l.a)(u);-1===t?a.push(e):a.splice(t,1),d(a)}};return n.a.createElement("div",null,n.a.createElement(K.a,{"aria-controls":"fade-menu","aria-haspopup":"true",onClick:function(e){i(e.currentTarget)}},"Filter Models",n.a.createElement(le.a,null)),n.a.createElement(te.a,{id:"fade-menu",anchorEl:r,keepMounted:!0,open:o,onClose:function(){i(null)},TransitionComponent:ie.a},n.a.createElement("div",{className:"CheckboxContainer"},n.a.createElement(ae.a,null,e.defualt_models.map((function(t){var a="checkbox-list-label-".concat(t);return n.a.createElement(re.a,{key:t,role:void 0,onClick:p(t)},n.a.createElement(ne.a,{checked:e.pop_over_models.includes(t),edge:"start",tabIndex:-1,value:t,onChange:function(t,a){!function(t){var a=Object(l.a)(e.pop_over_models).filter((function(e){return"ListNet"!=e}));a.includes(t.target.value)?(a=e.pop_over_models.filter((function(e){return e!=t.target.value})),e.Set_pop_over_models(a)):(a.push(t.target.value),e.Set_pop_over_models(a))}(t)}}),n.a.createElement("p",{className:"list_item_label",id:a},t))}))))))}));var ce=Object(Y.b)((function(e){return{popup_chart_data:e.popup_chart_data,pop_over:e.pop_over,dbclicked_features:e.dbclicked_features}}),(function(e){return{set_pop_over:function(t){return e({type:"pop_over",value:t})},set_dbclicked_features:function(t){return e({type:"dbclicked_features",value:t})},set_clicked_features:function(t){return e({type:"clicked_features",value:t})}}}))((function(e){return console.log(e.dbclicked_features),n.a.createElement("div",{style:{position:"relative"}},1==e.pop_over?n.a.createElement("div",{style:{top:"2%",left:"14%",position:"fixed",pointerEvents:"none",backgroundColor:"transparent"}},n.a.createElement(Z.a,null,n.a.createElement(z.a,{style:{backgroundColor:"#ffffff",boxShadow:"3px 2px 15px -7px #000000",pointerEvents:"auto"}},n.a.createElement(z.a,{container:!0,style:{borderBottom:"1px solid #e2e2e2",marginBottom:20},direction:"row",justify:"space-between",alignItems:"center"},n.a.createElement(se,{defualt_models:e.defualt_models}),n.a.createElement(K.a,{color:"secondary",id:"draggable-dialog-title",onClick:function(){e.set_pop_over(!1),e.set_dbclicked_features([])}},"close")),n.a.createElement(z.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{maxHeight:700,overflow:"scroll",maxWidth:1600}},e.dbclicked_features.length>0?e.dbclicked_features.map((function(t,a){return n.a.createElement($,{index:a,popup_chart_data:[e.popup_chart_data[0],t],defualt_models:e.defualt_models,myid:t.replace(/\s/g,"").replace(/[`~!@#$%^&*()_|+\-=?;:'",.<>\{\}\[\]\\\/]/gi,""),color_gen:e.color_gen,textClickHandler_original:e.textClickHandler_original})})):n.a.createElement($,{popup_chart_data:e.popup_chart_data,defualt_models:e.defualt_models,myid:"myid1",color_gen:e.color_gen,textClickHandler_original:e.textClickHandler_original}))))):null)})),ue=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).CreateCharts=function(e){var t;t="Range1"==r.props.model_name?r.props.range_mode_range1:r.props.range_mode_range2;var a={A:[],B:[]},n=r.props.deviate_by,i=r.props.grouped_by_year_data[r.props.selected_year],o=i.length,l=r.props.range_mode_model,s=null!=t?t[0]:10;s>0&&(s-=1),s<0&&(s=0),s<n&&(n=s),(s-=n)<0&&(s=0,n=0);var c=s+n+1;n=r.props.deviate_by;var u=null!=t?t[1]:25,d=u;(u+=n)>o&&(d=u-n,u=o);for(var p=s;p<u;p++){var _={},m={};_.Model=l,_.name=i[p].State,_.rank=i[p].two_realRank,m.name=i[p].State,m.rank=i[p][l],a.A.push(_),a.B.push(m)}!function(e,t,a,r,n,i,o,l,s,c,u,d,p,_,m,f,g){var y=g.animation1,h=g.animation2,v=r-a,k=[];t.A.forEach((function(e){k.push(e)})),t.B.forEach((function(e){k.push(e)}));var b=N.r().key((function(e){return e.name})).entries(k),x=10,S=70,w=10,j=160;if("Range1"==o){var E=M(".slopechart_container").height(),O=M(".range_chart_col_range1").width()-j-S;(C=E/v)<18&&(C=18);var A=v*C-10;N.y(".range_chart_col_range1").style("height",A+"px"),N.y(".exp_chart_range1").style("height",A+"px!important")}else{var C,R=M(".slopechart_container").height();O=M(".range_chart_col_range2").width()-j-S;(C=R/v)<18&&(C=18);A=v*C-10;N.y(".range_chart_col_range2").style("height",A+"px"),N.y(".slopechart_col").style("height",A+"px"),N.y(".exp_chart").style("height",A+"px"),N.y(".exp_chart_range2").style("height",A+"px!important")}g={yOffset:0,width:O,height:A-=45,labelGroupOffset:1,labelKeyOffset:55,radius:3,sparkline_height:C};var I=N.u().range([0,A]).domain([a,r]),L=I(b[0].values[0].rank),B=N.x("#"+o).attr("width",O+j+S).attr("height",A+x+w).select("#myg").attr("transform","translate(150,10)"),T=B.selectAll(".border-lines").data([0]).join("g").attr("class","border-lines");T.selectAll(".line1").data([0]).join("line").attr("class","line1").attr("fill","black").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",g.height),T.selectAll(".line2").data([0]).join("line").attr("class","line2").attr("fill","black").attr("x1",O).attr("y1",0).attr("x2",O).attr("y2",g.height),B.selectAll(".datapoint").data(b,(function(e){if(void 0!==e)return e.key})).join((function(e){return e.append("g").attr("class","datapoint").attr("id",(function(e){return"A"+e.key.replace(/ +/g,"")})).call((function(e){e.append("text").attr("x",(function(e){return-g.labelGroupOffset})).attr("y",(function(e){return I(e.values[0].rank)-L})).attr("dx",-g.labelKeyOffset).attr("dy",3).attr("id",(function(e){return"A"+e.key.replace(/ +/g,"")})).attr("class",(function(e){return"myid"+e.values[0].rank+" state_name slopechart_text"})).attr("text-anchor","end").on("mouseover",(function(e){var t=N.x("body").append("div").attr("id","div"+e.key.replace(/ +/g,"")).attr("class","tooltip").style("opacity",0);t.transition().duration(200).style("opacity",.97),t.html("<p>"+e.key+"</p><p>Predicted rank: "+e.values[1].rank+"</p>").style("left",(function(e){return M(".Sidebar_parent").width()-125+"px"})).style("top",N.f.pageY-40+"px")})).on("mouseout",(function(e){e.key.replace(/ +/g,"");N.x("body").selectAll(".tooltip").transition().duration(500).style("opacity",0).remove()})).on("click",(function(e){return p("A"+e.key)})).text((function(e){var t=e.key;return t.length>15&&(t=t.replace("University","U")),t.length>15?t.substring(0,15):t})).attr("fill",(function(e){return e.values[0].rank<n||e.values[0].rank>i?"rgb(110, 112, 112,.5)":_(e.key)})),e.append("svg").attr("class",(function(e){return"svg1 "+o+e.values[1].name.replace(/ /g,"").replace(/[^\w\s]/gi,"")+"original"})).attr("x",(function(e){return-g.labelGroupOffset-g.labelKeyOffset+3})).attr("id",(function(e){return"A"+e.key.replace(/ +/g,"")})).attr("y",(function(e){return I(e.values[0].rank)-L-14})).append("path").attr("class","mypath").attr("opacity",(function(e){var t=o+e.values[1].name.replace(/ /g,"").replace(/[^\w\s]/gi,"")+"original";if(e.values[0].rank<n||e.values[0].rank>i)var a="grey";else a=_(e.key);return P(t,c,e.key.replace(/ /g,"").replace(/[^\w\s]/gi,""),e.key,l,s,e.values[0].rank,a,e.key.replace(/ +/g,"")),1})),e.append("text").attr("id",(function(e){return"A"+e.key.replace(/ +/g,"")})).attr("class",(function(e){return"myid"+e.values[0].rank+" left_rank_text slopechart_text"})).attr("x",(function(e){return-g.labelGroupOffset})).attr("y",(function(e){return I(e.values[0].rank)-L})).attr("dx",-10).attr("dy",3).attr("text-anchor","end").text((function(e){return e.values[0].rank})).attr("fill",(function(e){return e.values[0].rank<n||e.values[0].rank>i?"rgb(110, 112, 112,.5)":_(e.key)})),e.append("circle").attr("id",(function(e){return"A"+e.key.replace(/ +/g,"")})).attr("r",(function(e){return e.values[0].rank<n||e.values[0].rank>i?0:g.radius})).attr("cy",(function(e){return I(e.values[0].rank)-L})).attr("class",(function(e){return e.values[0].name.replace(/ /g,"").replace(/[^\w\s]/gi,"")+" myid"+e.values[0].rank+" left_circle"})).attr("fill",(function(e){return e.values[0].rank<n||e.values[0].rank>i?"rgb(110, 112, 112,.5)":_(e.key)})),e.append("line").attr("id",(function(e){return"A"+e.key.replace(/ +/g,"")})).attr("class",(function(e){return"slope-line myid"+e.values[0].rank})).attr("x1",0).attr("x2",g.width).on("click",(function(e){return p("A"+e.key)})).attr("y1",(function(e){return I(e.values[0].rank)-L})).attr("y2",(function(e){return I(e.values[1].rank)-L})).attr("stroke",(function(e){return e.values[0].rank<n||e.values[0].rank>i?"transparent":_(e.key)})),e.append("circle").attr("id",(function(e){return"A"+e.key.replace(/ +/g,"")})).attr("cy",(function(e){return I(e.values[1].rank)-L})).attr("class",(function(e){return e.values[0].name.replace(/ /g,"").replace(/[^\w\s]/gi,"")+" right_circle myid"+e.values[0].rank})).attr("r",(function(e){return e.values[0].rank<n||e.values[0].rank>i?0:g.radius})).attr("cx",g.width).attr("fill",(function(e){if(!(e.values[0].rank<n|e.values[0].rank>i))return _(e.key)})),e.append("text").attr("id",(function(e){return"A"+e.key.replace(/ +/g,"")})).attr("class",(function(e){return"slopechart_text right_rank_text myid"+e.values[0].rank})).attr("x",(function(e){return O+g.labelGroupOffset})).attr("y",(function(e){return I(e.values[1].rank)-L})).attr("dx",10).attr("dy",3).attr("text-anchor","start").text((function(e){return e.values[0].rank<n||e.values[0].rank>i?"":e.values[1].rank})).attr("fill",(function(e){return e.values[0].rank<n||e.values[0].rank>i?"":_(e.key)})).on("click",(function(e){return p("A"+e.key)})),e.append("svg").attr("class",(function(e){return"svg2 "+o.replace(".","stupid")+e.values[1].name.replace(/ /g,"").replace(/[^\w\s]/gi,"").split(".").join(" ")})).attr("x",(function(e){return O+g.labelGroupOffset+25})).attr("y",(function(e){return I(e.values[1].rank)-L-14})).attr("width",(function(e){if(e.values[0].rank<n||e.values[0].rank>i)return 0})).append("path").attr("class","mypath2").attr("opacity",(function(e){if(!(e.values[0].rank<n||e.values[0].rank>i))return X(o.replace(".","stupid")+e.values[1].name.replace(/ /g,"").replace(/[^\w\s]/gi,"").split(".").join(" "),0,e.key.replace(/ /g,"").replace(/[^\w\s]/gi,""),f,u,e.key,l,s,e.values[0].rank,_(e.key),e.key.replace(/ +/g,"")),1}))}))}),(function(e){e.select(".state_name").attr("x",-g.labelGroupOffset).attr("dx",-g.labelKeyOffset).attr("dy",3).attr("id",(function(e){return"A"+e.key.replace(/ +/g,"")})).attr("class",(function(e){return"slopechart_text myid"+e.values[0].rank+" state_name"})).attr("text-anchor","end").on("mouseover",(function(e){var t=N.x("body").append("div").attr("id","div"+e.key.replace(/ +/g,"")).attr("class","tooltip").style("opacity",0);t.transition().duration(100).style("opacity",.97),t.html("<p>"+e.key+"</p><p>Predicted rank: "+e.values[1].rank+"</p>").style("left",(function(e){return M(".Sidebar_parent").width()-125+"px"})).style("top",N.f.pageY-40+"px")})).on("mouseout",(function(e){e.key.replace(/ +/g,"");N.x("body").selectAll(".tooltip").transition().duration(500).style("opacity",0).remove()})).on("click",(function(e){return p("A"+e.key)})).text((function(e){var t=e.key;return t.length>15&&(t=t.replace("University","U")),t.length>15?t.substring(0,15):t})).attr("fill",(function(e){return e.values[0].rank,e.values[0].rank<n||e.values[0].rank>i?"rgb(110, 112, 112,.5)":_(e.key)})).transition().duration((function(e){return"animate"==m?y:0})).attr("y",(function(e){return I(e.values[0].rank)-L})),e.select(".svg1").attr("class",(function(e){return"svg1 "+o+e.values[1].name.replace(/ /g,"").replace(/[^\w\s]/gi,"")+"original"})).attr("x",(function(e){var t=o+e.values[1].name.replace(/ /g,"").replace(/[^\w\s]/gi,"")+"original";if(e.values[0].rank<n||e.values[0].rank>i)var a="grey";else a=_(e.key);return P(t,c,e.key.replace(/ /g,"").replace(/[^\w\s]/gi,""),e.key,l,s,e.values[0].rank,a,e.key.replace(/ +/g,"")),-g.labelGroupOffset-g.labelKeyOffset+3})).transition().duration((function(e){return"animate"==m?y:0})).attr("y",(function(e){return I(e.values[0].rank)-L-14})).attr("opacity",1),e.select(".left_rank_text").attr("id",(function(e){return"A"+e.key.replace(/ +/g,"")})).attr("class",(function(e){return"slopechart_text myid"+e.values[0].rank+" left_rank_text"})).attr("x",(function(e){return-g.labelGroupOffset})).attr("dx",-10).attr("dy",3).attr("text-anchor","end").text((function(e){return e.values[0].rank})).attr("fill",(function(e){return e.values[0].rank<n||e.values[0].rank>i?"rgb(110, 112, 112,.5)":_(e.key)})).transition().duration((function(e){return"animate"==m?y:0})).attr("y",(function(e){return I(e.values[0].rank)-L})),e.select(".left_circle").attr("id",(function(e){return"A"+e.key.replace(/ +/g,"")})).attr("r",(function(e){return e.values[0].rank<n||e.values[0].rank>i?0:g.radius})).attr("class",(function(e){return e.values[0].name.replace(/ /g,"").replace(/[^\w\s]/gi,"")+" myid"+e.values[0].rank+" left_circle"})).attr("fill",(function(e){return e.values[0].rank<n||e.values[0].rank>i?"rgb(110, 112, 112,.5)":_(e.key)})).transition().duration((function(e){return"animate"==m?y:0})).attr("cy",(function(e){return I(e.values[0].rank)-L})),e.select(".slope-line").attr("id",(function(e){return"A"+e.key.replace(/ +/g,"")})).attr("class",(function(e){return"slope-line myid"+e.values[0].rank})).attr("x1",0).attr("x2",g.width).on("click",(function(e){return p("A"+e.key)})).attr("stroke",(function(e){return e.values[0].rank<n||e.values[0].rank>i?"transparent":_(e.key)})).transition().duration((function(e){return"animate"==m?y:0})).attr("y1",(function(e){return I(e.values[0].rank)-L})).transition().duration((function(e){return"animate"==m?h:0})).attr("y2",(function(e){return I(e.values[1].rank)})),e.select(".right_circle").attr("id",(function(e){return"A"+e.key.replace(/ +/g,"")})).attr("class",(function(e){return e.values[0].name.replace(/ /g,"").replace(/[^\w\s]/gi,"")+" right_circle myid"+e.values[0].rank})).attr("r",(function(e){return e.values[0].rank<n||e.values[0].rank>i?0:g.radius})).attr("cx",g.width).attr("cy",(function(e){return I(e.values[1].rank)-L})).attr("fill",(function(e){if(!(e.values[0].rank<n|e.values[0].rank>i))return _(e.key)})),e.select(".right_rank_text").attr("class",(function(e){return"slopechart_text right_rank_text myid"+e.values[0].rank})).attr("x",(function(e){return O+g.labelGroupOffset})).attr("y",(function(e){return I(e.values[1].rank)-L})).attr("dx",10).attr("dy",3).attr("text-anchor","start").text((function(e){return e.values[0].rank<n||e.values[0].rank>i?"":e.values[1].rank})).attr("fill",(function(e){return e.values[0].rank<n||e.values[0].rank>i?"":_(e.key)})).on("click",(function(e){return p("A"+e.key)})),e.select(".svg2").attr("class",(function(e){return"svg2 "+o.replace(".","stupid")+e.values[1].name.replace(/ /g,"").replace(/[^\w\s]/gi,"").split(".").join(" ")})).attr("x",(function(e){return X(o.replace(".","stupid")+e.values[1].name.replace(/ /g,"").replace(/[^\w\s]/gi,"").split(".").join(" "),0,e.key.replace(/ /g,"").replace(/[^\w\s]/gi,""),f,u,e.key,l,s,e.values[0].rank,_(e.key),e.key.replace(/ +/g,"")),O+g.labelGroupOffset+27})).attr("y",(function(e){return I(e.values[1].rank)-L-14})).attr("width",(function(e){if(e.values[0].rank<n||e.values[0].rank>i)return 0}))}),(function(e){e.remove()}))}(r.node,a,s+1,u,c,d,r.props.model_name,r.props.selected_year,r.props.appHandleChange,r.props.sparkline_data,r.props.original_data,r.props.histogram_data,r.props.textClickHandler_original,r.color_gen(),e,r.props.range_mode_model,r.props.config)},r.color_gen=function(){var e=[N.p([r.props.range_mode_range1[0],r.props.range_mode_range2[0]]),N.n([r.props.range_mode_range1[1],r.props.range_mode_range2[1]])],t=r.props.deviate_by,a=r.props.grouped_by_year_data[r.props.selected_year].length,n=null!=e?e[0]:10;n>0&&(n-=1),n<0&&(n=0),n<t&&(t=n),(n-=t)<0&&(n=0,t=0);var i=n+t+1;t=r.props.deviate_by;var o=null!=e?e[1]:25,l=o;(o+=t)>a&&(l=o-t,o=a);var s=r.props.ref_year,c={};if(r.props.tracking){for(var u=r.props.grouped_by_year_data[s],d=i,p=l,_=i-1;_<l;_++)c[u[_].State]=u[_].two_realRank;var m=(p-d)/8,f=N.u().domain([d+7*m,d+6*m,d+5*m,d+4*m,d+3*m,d+2*m,d]).interpolate(N.k).range(["#00429d","#4771b2","#73a2c6","#a5d5d8","#ffbcaf","#f4777f","#cf3759","#93003a"]),g={};for(var y in c)g[y]=f(c[y]);r.line_color=N.v().domain(Object.keys(g)).range(Object.values(g)),console.log(c,d,p,g,r.line_color.range())}else{for(u=r.props.grouped_by_year_data[r.props.selected_year],c={},_=i-1;_<l;_++)c[u[_].State]=u[_].two_realRank;m=((p=l)-(d=i))/8,f=N.u().domain([d+7*m,d+6*m,d+5*m,d+4*m,d+3*m,d+2*m,d]).interpolate(N.k).range(["#00429d","#4771b2","#73a2c6","#a5d5d8","#ffbcaf","#f4777f","#cf3759","#93003a"]),g={};for(var y in c)g[y]=f(c[y]);r.line_color=N.v().domain(Object.keys(g)).range(Object.values(g))}return D("legend",[d,p],g),r.line_color},r.line_color=null,r.state={height_slope_exp_chart:700},r}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("resize",(function(){e.setState({width:window.innerWidth}),e.setState({width:window.innerHeight})})),this.CreateCharts(),this.setState({width:window.innerHeight})}},{key:"shouldComponentUpdate",value:function(){return!0}},{key:"componentDidUpdate",value:function(e,t){JSON.stringify(this.props.range_mode_range1)!=JSON.stringify(e.range_mode_range1)&&this.props.Set_prev_prop(e),this.props.selected_year!==e.selected_year&&this.props.Set_prev_prop(e),this.props.replay?this.CreateCharts("dont_animate"):this.props.selected_year!=e.selected_year?this.CreateCharts("animate"):this.CreateCharts("dont_animate"),this.props.task2()}},{key:"render",value:function(){var e=this;return this.props.show.includes("Explanation")?n.a.createElement(z.a,{container:!0,style:{width:"49.5%",marginRight:"0.5%",marginTop:"0.5%",paddingRight:0,border:"1px solid #eaeaea"},key:JSON.stringify(this.props.range_mode_range1)+JSON.stringify(this.props.range_mode_range2),className:"Grid_container"},n.a.createElement(z.a,{item:!0,xs:"6",className:"Range1"==this.props.model_name?"slopechart range_chart_col range_chart_col_range1":"slopechart range_chart_col range_chart_col_range2",style:{width:"100%"}},n.a.createElement("div",{className:"slope_chart_title"},n.a.createElement("p",null,"True Rank"),n.a.createElement("p",{className:"model_title"},"Range1"==this.props.model_name?"Group 1":"Group 2"),n.a.createElement("p",null,"Predicted Rank")),n.a.createElement("div",{className:"mysvg",ref:function(t){return e.node=t}},n.a.createElement("svg",{id:this.props.model_name},n.a.createElement("g",{id:"myg"})))),n.a.createElement(z.a,{item:!0,xs:"6",className:"Range1"==this.props.model_name?"exp_chart exp_chart_range1":"exp_chart exp_chart_range2"},"ListNet"!=this.props.range_mode_model?n.a.createElement(W,{task2:this.props.task2,textClickHandler_original:this.props.textClickHandler_original,color_gen:this.color_gen(),model_name:this.props.range_mode_model,model_name2:this.props.model_name,state_range:"Range1"==this.props.model_name?this.props.range_mode_range1:this.props.range_mode_range2,selected_year:this.props.selected_year,grouped_by_year_data:this.props.grouped_by_year_data,defualt_models:[this.props.range_mode_model]}):n.a.createElement("div",{className:"not_avail"},n.a.createElement("h3",null,"NOT AVAILABLE")),null!=this.props.popup_chart_data&&0==this.props.myindex?n.a.createElement(ce,{defualt_models:[this.props.range_mode_model],color_gen:this.color_gen(),textClickHandler_original:this.props.textClickHandler_original}):null)):n.a.createElement(z.a,{item:!0,className:"Range1"==this.props.model_name?"range_chart_col range_chart_col_range1":"range_chart_col range_chart_col_range2",style:{marginTop:5,border:"1px solid #eaeaea",width:"48%",marginRight:"1%",height:window.innerHeight-M(".uploader_topbar").height()}},n.a.createElement("div",{className:"slope_chart_title"},n.a.createElement("p",null,"True Rank"),n.a.createElement("p",{className:"model_title"},this.props.range_mode_model),n.a.createElement("p",null,"Predicted Rank")),n.a.createElement("div",{className:"mysvg",ref:function(t){return e.node=t}},n.a.createElement("svg",{id:this.props.model_name},n.a.createElement("g",{id:"myg"}))))}}]),a}(r.Component),de=Object(Y.b)((function(e){return{deviate_by:e.deviate_by,selected_year:e.selected_year,range_mode_model:e.range_mode_model,range_mode_range1:e.range_mode_range1,range_mode_range2:e.range_mode_range2,clicked_items_in_slopechart:e.clicked_items_in_slopechart,replay:e.replay,changed:e.changed,popup_chart_data:e.popup_chart_data,config:e.config,show:e.show}}),(function(e){return{Set_defualt_models:function(t){return e({type:"defualt_models",value:t})},Set_sparkline_data:function(t){return e({type:"sparkline_data",value:t})},Set_clicked_items_in_slopechart:function(t){return e({type:"clicked_items_in_slopechart",value:t})},Set_replay:function(t){return e({type:"replay",value:t})},Set_prev_prop:function(t){return e({type:"prev_prop",value:t})}}}))(ue);function pe(e,t,a,r,n,i,o,l,s){var c=0,u=0,d=0,p=4,_=55/2-5,m=20-2,f=N.x("."+e).attr("width",_+p+u).attr("height",m+c+d),g=t[a],y=N.u().domain(N.g(g,(function(e){return e.year}))).range([0,_]);f.select("path").datum(g,(function(e){return e})).attr("id","A"+s).attr("opacity",1).attr("fill",l).attr("stroke",l).attr("stroke-width",(function(e){return 1.5})).attr("d",N.a().x((function(e){return y(e.year)})).y0((function(){return N.u().domain([0,N.n(g,(function(e){return+e.rank}))]).range([m,0])(0)})).y1((function(e){return N.u().domain([0,N.n(g,(function(e){return+e.rank}))]).range([0,m])(e.rank)}))),f.selectAll("circle").data(g).join("circle").attr("cx",(function(e,t){return y(e.year)})).attr("cy",m-2).attr("class","myid"+o).on("mouseover",(function(e){N.x(this).style("fill","black"),N.x(this).attr("r",3)})).style("fill",(function(e){return e.year!=n?"transparent":"black"})).attr("class",(function(e){return e.year!=n?"transparent_class":"red_class"})).attr("r",2).on("dblclick",(function(e,t){N.f.preventDefault(),i(e.year,"year_changed")})).on("mouseout",(function(t){N.x(this).style("fill","transparent");var a="#div"+e;N.y(a).remove()})).on("click",(function(t){N.x("body").append("div").attr("id","div"+e).attr("class","tooltip").style("opacity",0).html("<p>Year: "+t.year+"</p><p>Rank: "+t.rank+"</p>").style("left",(function(e){return M(".Sidebar_parent").width()-125+"px"})).style("top",N.f.pageY-40+"px").transition().duration(200).style("opacity",.97)}))}function _e(e,t,a,r,n,i,o,l,s,c,u){var d=[];n.forEach((function(e){e.State==i&&e[r]&&d.push({year:parseInt(e["1-qid"]),rank:parseInt(e[r])})}));var p=0,_=0,m=0,f=5,g=55/2,y=20-2,h=N.y("."+e).attr("width",g+f+_).attr("height",y+p+m),v=d,k=N.u().domain(N.g(v,(function(e){return e.year}))).range([0,g]);h.select("path").datum(v,(function(e){return e})).attr("id","A"+u).attr("fill",c).attr("stroke",c).attr("stroke-width",(function(e){return 1.5})).attr("d",N.a().x((function(e){return k(e.year)})).y0((function(){return N.u().domain([0,N.n(v,(function(e){return+e.rank}))]).range([y,0])(0)})).y1((function(e){return N.u().domain([0,N.n(v,(function(e){return+e.rank}))]).range([0,y])(e.rank)})));N.x("body").append("div").attr("class","tooltip").style("opacity",0);h.selectAll("circle").data(v).enter().append("circle").attr("cx",(function(e,t){return k(e.year)})).attr("cy",y-2).attr("class","myid"+s).on("mouseover",(function(e){N.x(this).style("fill","black"),N.x(this).attr("r",2)})).on("mouseout",(function(t){N.x(this).style("fill","transparent");var a="#div"+e;N.y(a).remove()})).style("fill",(function(e){return e.year!=o?"transparent":"black"})).attr("class",(function(e){return e.year!=o?"transparent_class":"red_class"})).attr("r",2).on("dblclick",(function(e,t){N.f.preventDefault(),l(e.year,"year_changed")})).on("click",(function(t){N.x("body").append("div").attr("id","div"+e).attr("class","tooltip").style("opacity",0).html("<p>Year: "+t.year+"</p><p>Rank: "+t.rank+"</p>").style("left",(function(e){return M(".Sidebar_parent").width()-125+"px"})).style("top",N.f.pageY-40+"px").transition().duration(200).style("opacity",.97)}))}var me=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).task1=function(e){var t;t="Year1"==r.props.model_name?r.props.time_mode_year1:r.props.time_mode_year2;var a=r.props.time_mode_range,n={A:[],B:[]},i=r.props.deviate_by,o=r.props.grouped_by_year_data[t],l=o.length,s=r.props.time_mode_model,c=(r.props.cmodel,null!=a?a[0]:10);c>0&&(c-=1),c<0&&(c=0),c<i&&(i=c),(c-=i)<0&&(c=0,i=0);var u=c+i+1;i=r.props.deviate_by;var d=null!=a?a[1]:25,p=d;(d+=i)>l&&(p=d-i,d=l);for(var _=c;_<d;_++){var m={},f={};m.Model=s,m.name=o[_].State,m.rank=o[_].two_realRank,f.name=o[_].State,f.rank=o[_][s],n.A.push(m),n.B.push(f)}!function(e,t,a,r,n,i,o,l,s,c,u,d,p,_,m,f,g){var y=g.animation1,h=g.animation2,v=r-a,k=[];t.A.forEach((function(e){k.push(e)})),t.B.forEach((function(e){k.push(e)}));var b=N.r().key((function(e){return e.name})).entries(k),x=10,S=70,w=10,j=160,E=M(".slopechart_container").height(),O=M(".slopechart_col").width()-j-S,A=E/v;A<18&&(A=18);var C=v*A-10;N.y(".slopechart_col").style("height",C+"px"),N.y(".exp_chart").style("height",C+"px"),g={yOffset:0,width:O,height:C-=45,labelGroupOffset:1,labelKeyOffset:55,radius:3,sparkline_height:A};var R=N.u().range([0,C]).domain([a,r]),I=R(b[0].values[0].rank),L=N.x("#"+o).attr("width",O+j+S).attr("height",C+x+w).select("#myg").attr("transform","translate(150,10)"),B=L.selectAll(".border-lines").data([0]).join("g").attr("class","border-lines");B.selectAll(".line1").data([0]).join("line").attr("class","line1").attr("fill","black").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",g.height),B.selectAll(".line2").data([0]).join("line").attr("class","line2").attr("fill","black").attr("x1",O).attr("y1",0).attr("x2",O).attr("y2",g.height),L.selectAll(".datapoint").data(b,(function(e){if(void 0!==e)return e.key})).join((function(e){return e.append("g").attr("class","datapoint").attr("id",(function(e){return"A"+e.key.replace(/ +/g,"")})).call((function(e){e.append("text").attr("x",(function(e){return-g.labelGroupOffset})).attr("y",(function(e){return R(e.values[0].rank)-I})).attr("dx",-g.labelKeyOffset).attr("dy",3).attr("id",(function(e){return"A"+e.key.replace(/ +/g,"")})).attr("class",(function(e){return"myid"+e.values[0].rank+" state_name slopechart_text"})).attr("text-anchor","end").on("mouseover",(function(e){var t=N.x("body").append("div").attr("id","div"+e.key.replace(/ +/g,"")).attr("class","tooltip").style("opacity",0);t.transition().duration(200).style("opacity",.97),t.html("<p>"+e.key+"</p><p>Predicted rank: "+e.values[1].rank+"</p>").style("left",(function(e){return M(".Sidebar_parent").width()-125+"px"})).style("top",N.f.pageY-40+"px")})).on("mouseout",(function(e){e.key.replace(/ +/g,"");N.x("body").selectAll(".tooltip").transition().duration(500).style("opacity",0).remove()})).on("click",(function(e){return p("A"+e.key)})).text((function(e){var t=e.key;return t.length>15&&(t=t.replace("University","U")),t.length>15?t.substring(0,15):t})).attr("fill",(function(e){return e.values[0].rank<n||e.values[0].rank>i?"rgb(110, 112, 112,.5)":_(e.key)})),e.append("svg").attr("class",(function(e){return"svg1 "+o+e.values[1].name.replace(/ /g,"").replace(/[^\w\s]/gi,"")+"original"})).attr("x",(function(e){return-g.labelGroupOffset-g.labelKeyOffset+3})).attr("id",(function(e){return"A"+e.key.replace(/ +/g,"")})).attr("y",(function(e){return R(e.values[0].rank)-I-14})).append("path").attr("class","mypath").attr("opacity",(function(e){var t=o+e.values[1].name.replace(/ /g,"").replace(/[^\w\s]/gi,"")+"original";if(e.values[0].rank<n||e.values[0].rank>i)var a="grey";else a=_(e.key);return pe(t,c,e.key.replace(/ /g,"").replace(/[^\w\s]/gi,""),e.key,l,s,e.values[0].rank,a,e.key.replace(/ +/g,"")),1})),e.append("text").attr("id",(function(e){return"A"+e.key.replace(/ +/g,"")})).attr("class",(function(e){return"myid"+e.values[0].rank+" left_rank_text slopechart_text"})).attr("x",(function(e){return-g.labelGroupOffset})).attr("y",(function(e){return R(e.values[0].rank)-I})).attr("dx",-10).attr("dy",3).attr("text-anchor","end").text((function(e){return e.values[0].rank})).attr("fill",(function(e){return e.values[0].rank<n||e.values[0].rank>i?"rgb(110, 112, 112,.5)":_(e.key)})),e.append("circle").attr("id",(function(e){return"A"+e.key.replace(/ +/g,"")})).attr("r",(function(e){return e.values[0].rank<n||e.values[0].rank>i?0:g.radius})).attr("cy",(function(e){return R(e.values[0].rank)-I})).attr("class",(function(e){return e.values[0].name.replace(/ /g,"").replace(/[^\w\s]/gi,"")+" myid"+e.values[0].rank+" left_circle"})).attr("fill",(function(e){return e.values[0].rank<n||e.values[0].rank>i?"rgb(110, 112, 112,.5)":_(e.key)})),e.append("line").attr("id",(function(e){return"A"+e.key.replace(/ +/g,"")})).attr("class",(function(e){return"slope-line myid"+e.values[0].rank})).attr("x1",0).attr("x2",g.width).on("click",(function(e){return p("A"+e.key)})).attr("y1",(function(e){return R(e.values[0].rank)-I})).attr("y2",(function(e){return R(e.values[1].rank)-I})).attr("stroke",(function(e){return e.values[0].rank<n||e.values[0].rank>i?"transparent":_(e.key)})),e.append("circle").attr("id",(function(e){return"A"+e.key.replace(/ +/g,"")})).attr("cy",(function(e){return R(e.values[1].rank)-I})).attr("class",(function(e){return e.values[0].name.replace(/ /g,"").replace(/[^\w\s]/gi,"")+" right_circle myid"+e.values[0].rank})).attr("r",(function(e){return e.values[0].rank<n||e.values[0].rank>i?0:g.radius})).attr("cx",g.width).attr("fill",(function(e){if(!(e.values[0].rank<n|e.values[0].rank>i))return _(e.key)})),e.append("text").attr("id",(function(e){return"A"+e.key.replace(/ +/g,"")})).attr("class",(function(e){return"slopechart_text right_rank_text myid"+e.values[0].rank})).attr("x",(function(e){return O+g.labelGroupOffset})).attr("y",(function(e){return R(e.values[1].rank)-I})).attr("dx",10).attr("dy",3).attr("text-anchor","start").text((function(e){return e.values[0].rank<n||e.values[0].rank>i?"":e.values[1].rank})).attr("fill",(function(e){return e.values[0].rank<n||e.values[0].rank>i?"":_(e.key)})).on("click",(function(e){return p("A"+e.key)})),e.append("svg").attr("class",(function(e){return"svg2 "+o.replace(".","stupid")+e.values[1].name.replace(/ /g,"").replace(/[^\w\s]/gi,"").split(".").join(" ")})).attr("x",(function(e){return O+g.labelGroupOffset+25})).attr("y",(function(e){return R(e.values[1].rank)-I-14})).attr("width",(function(e){if(e.values[0].rank<n||e.values[0].rank>i)return 0})).append("path").attr("class","mypath2").attr("opacity",(function(e){if(!(e.values[0].rank<n||e.values[0].rank>i))return _e(o.replace(".","stupid")+e.values[1].name.replace(/ /g,"").replace(/[^\w\s]/gi,"").split(".").join(" "),0,e.key.replace(/ /g,"").replace(/[^\w\s]/gi,""),f,u,e.key,l,s,e.values[0].rank,_(e.key),e.key.replace(/ +/g,"")),1}))}))}),(function(e){e.select(".state_name").attr("x",-g.labelGroupOffset).attr("dx",-g.labelKeyOffset).attr("dy",3).attr("id",(function(e){return"A"+e.key.replace(/ +/g,"")})).attr("class",(function(e){return"slopechart_text myid"+e.values[0].rank+" state_name"})).attr("text-anchor","end").on("mouseover",(function(e){var t=N.x("body").append("div").attr("id","div"+e.key.replace(/ +/g,"")).attr("class","tooltip").style("opacity",0);t.transition().duration(100).style("opacity",.97),t.html("<p>"+e.key+"</p><p>Predicted rank: "+e.values[1].rank+"</p>").style("left",(function(e){return M(".Sidebar_parent").width()-125+"px"})).style("top",N.f.pageY-40+"px")})).on("mouseout",(function(e){e.key.replace(/ +/g,"");N.x("body").selectAll(".tooltip").transition().duration(500).style("opacity",0).remove()})).on("click",(function(e){return p("A"+e.key)})).text((function(e){var t=e.key;return t.length>15&&(t=t.replace("University","U")),t.length>15?t.substring(0,15):t})).attr("fill",(function(e){return e.values[0].rank,e.values[0].rank<n||e.values[0].rank>i?"rgb(110, 112, 112,.5)":_(e.key)})).transition().duration((function(e){return"animate"==m?y:0})).attr("y",(function(e){return R(e.values[0].rank)-I})),e.select(".svg1").attr("class",(function(e){return"svg1 "+o+e.values[1].name.replace(/ /g,"").replace(/[^\w\s]/gi,"")+"original"})).attr("x",(function(e){var t=o+e.values[1].name.replace(/ /g,"").replace(/[^\w\s]/gi,"")+"original";if(e.values[0].rank<n||e.values[0].rank>i)var a="grey";else a=_(e.key);return pe(t,c,e.key.replace(/ /g,"").replace(/[^\w\s]/gi,""),e.key,l,s,e.values[0].rank,a,e.key.replace(/ +/g,"")),-g.labelGroupOffset-g.labelKeyOffset+3})).transition().duration((function(e){return"animate"==m?y:0})).attr("y",(function(e){return R(e.values[0].rank)-I-14})).attr("opacity",1),e.select(".left_rank_text").attr("id",(function(e){return"A"+e.key.replace(/ +/g,"")})).attr("class",(function(e){return"slopechart_text myid"+e.values[0].rank+" left_rank_text"})).attr("x",(function(e){return-g.labelGroupOffset})).attr("dx",-10).attr("dy",3).attr("text-anchor","end").text((function(e){return e.values[0].rank})).attr("fill",(function(e){return e.values[0].rank<n||e.values[0].rank>i?"rgb(110, 112, 112,.5)":_(e.key)})).transition().duration((function(e){return"animate"==m?y:0})).attr("y",(function(e){return R(e.values[0].rank)-I})),e.select(".left_circle").attr("id",(function(e){return"A"+e.key.replace(/ +/g,"")})).attr("r",(function(e){return e.values[0].rank<n||e.values[0].rank>i?0:g.radius})).attr("class",(function(e){return e.values[0].name.replace(/ /g,"").replace(/[^\w\s]/gi,"")+" myid"+e.values[0].rank+" left_circle"})).attr("fill",(function(e){return e.values[0].rank<n||e.values[0].rank>i?"rgb(110, 112, 112,.5)":_(e.key)})).transition().duration((function(e){return"animate"==m?y:0})).attr("cy",(function(e){return R(e.values[0].rank)-I})),e.select(".slope-line").attr("id",(function(e){return"A"+e.key.replace(/ +/g,"")})).attr("class",(function(e){return"slope-line myid"+e.values[0].rank})).attr("x1",0).attr("x2",g.width).on("click",(function(e){return p("A"+e.key)})).attr("stroke",(function(e){return e.values[0].rank<n||e.values[0].rank>i?"transparent":_(e.key)})).transition().duration((function(e){return"animate"==m?y:0})).attr("y1",(function(e){return R(e.values[0].rank)-I})).transition().duration((function(e){return"animate"==m?h:0})).attr("y2",(function(e){return R(e.values[1].rank)})),e.select(".right_circle").attr("id",(function(e){return"A"+e.key.replace(/ +/g,"")})).attr("class",(function(e){return e.values[0].name.replace(/ /g,"").replace(/[^\w\s]/gi,"")+" right_circle myid"+e.values[0].rank})).attr("r",(function(e){return e.values[0].rank<n||e.values[0].rank>i?0:g.radius})).attr("cx",g.width).attr("cy",(function(e){return R(e.values[1].rank)-I})).attr("fill",(function(e){if(!(e.values[0].rank<n|e.values[0].rank>i))return _(e.key)})),e.select(".right_rank_text").attr("class",(function(e){return"slopechart_text right_rank_text myid"+e.values[0].rank})).attr("x",(function(e){return O+g.labelGroupOffset})).attr("y",(function(e){return R(e.values[1].rank)-I})).attr("dx",10).attr("dy",3).attr("text-anchor","start").text((function(e){return e.values[0].rank<n||e.values[0].rank>i?"":e.values[1].rank})).attr("fill",(function(e){return e.values[0].rank<n||e.values[0].rank>i?"":_(e.key)})).on("click",(function(e){return p("A"+e.key)})),e.select(".svg2").attr("class",(function(e){return"svg2 "+o.replace(".","stupid")+e.values[1].name.replace(/ /g,"").replace(/[^\w\s]/gi,"").split(".").join(" ")})).attr("x",(function(e){return _e(o.replace(".","stupid")+e.values[1].name.replace(/ /g,"").replace(/[^\w\s]/gi,"").split(".").join(" "),0,e.key.replace(/ /g,"").replace(/[^\w\s]/gi,""),f,u,e.key,l,s,e.values[0].rank,_(e.key),e.key.replace(/ +/g,"")),O+g.labelGroupOffset+27})).attr("y",(function(e){return R(e.values[1].rank)-I-14})).attr("width",(function(e){if(e.values[0].rank<n||e.values[0].rank>i)return 0}))}),(function(e){e.remove()}))}(r.node,n,c+1,d,u,p,r.props.model_name,t,r.props.appHandleChange,r.props.sparkline_data,r.props.original_data,r.props.histogram_data,r.props.textClickHandler_original,r.color_gen(),e,r.props.time_mode_model,r.props.config)},r.color_gen=function(){var e;e="Year1"==r.props.model_name?r.props.time_mode_year1:r.props.time_mode_year2;var t=r.props.deviate_by,a=r.props.grouped_by_year_data[e].length,n=null!=r.props.time_mode_range?r.props.time_mode_range[0]:10;n>0&&(n-=1),n<0&&(n=0),n<t&&(t=n),(n-=t)<0&&(n=0,t=0);var i=n+t+1;t=r.props.deviate_by;var o=null!=r.props.time_mode_range?r.props.time_mode_range[1]:25,l=o;(o+=t)>a&&(l=o-t,o=a);for(var s={},c=r.props.grouped_by_year_data[e],u=(s={},i-1);u<l;u++)s[c[u].State]=c[u].two_realRank;var d=i,p=l,_=(p-d)/8,m=N.u().domain([d+7*_,d+6*_,d+5*_,d+4*_,d+3*_,d+2*_,d]).interpolate(N.k).range(["#00429d","#4771b2","#73a2c6","#a5d5d8","#ffbcaf","#f4777f","#cf3759","#93003a"]),f={};for(var g in s)f[g]=m(s[g]);return r.line_color=N.v().domain(Object.keys(f)).range(Object.values(f)),D("legend",[d,p],f),r.line_color},r.myRef=n.a.createRef(),r}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.setState({random:0})}},{key:"componentDidUpdate",value:function(e,t){JSON.stringify(this.props.time_mode_range)!=JSON.stringify(e.time_mode_range)&&this.props.Set_prev_prop(e),this.props.time_mode_year1!==e.time_mode_year1&&this.props.Set_prev_prop(e),this.props.time_mode_year2!==e.time_mode_year2&&this.props.Set_prev_prop(e),this.props.replay||this.props.time_mode_range[0]!=e.time_mode_range[0]?this.task1("dont_animate"):this.task1("animate"),this.props.task2()}},{key:"render",value:function(){var e=this;return this.props.show.includes("Explanation")?n.a.createElement(z.a,{container:!0,style:{width:"49.5%",marginRight:"0.5%",marginTop:"0.5%",paddingRight:0,border:"1px solid #eaeaea"},className:"slopechart"},n.a.createElement(z.a,{item:!0,xs:"6",className:"slopechart_col"},n.a.createElement("div",{className:"slope_chart_title"},n.a.createElement("p",null,"True Rank"),n.a.createElement("p",{className:"model_title"},"Year1"==this.props.model_name?"Year 1":"Year 2"),n.a.createElement("p",null,"Predicted Rank")),n.a.createElement("div",{className:"mysvg",ref:function(t){return e.node=t}},n.a.createElement("svg",{id:this.props.model_name},n.a.createElement("g",{id:"myg"})))),n.a.createElement(z.a,{item:!0,xs:"6",className:"exp_chart"},"ListNet"!=this.props.time_mode_model?n.a.createElement(W,{textClickHandler_original:this.props.textClickHandler_original,color_gen:this.color_gen(),model_name:this.props.time_mode_model,model_name2:this.props.model_name,state_range:this.props.time_mode_range,selected_year:"Year1"==this.props.model_name?this.props.time_mode_year1:this.props.time_mode_year2,grouped_by_year_data:this.props.grouped_by_year_data,defualt_models:[this.props.time_mode_model]}):n.a.createElement("div",{className:"not_avail"},n.a.createElement("h3",null,"NOT AVAILABLE")),null!=this.props.popup_chart_data&&0==this.props.myindex?n.a.createElement(ce,{defualt_models:[this.props.time_mode_model],color_gen:this.color_gen(),textClickHandler_original:this.props.textClickHandler_original}):null)):n.a.createElement(z.a,{item:!0,className:"slopechart_col",style:{marginTop:5,border:"1px solid #eaeaea",width:"48%",marginRight:"1%"}},n.a.createElement("div",{className:"slope_chart_title"},n.a.createElement("p",null,"True Rank"),n.a.createElement("p",{className:"model_title"},this.props.time_mode_model," (","Year1"==this.props.model_name?this.props.time_mode_year1:this.props.time_mode_year2,")"),n.a.createElement("p",null,"Predicted Rank")),n.a.createElement("div",{className:"mysvg",ref:function(t){return e.node=t}},n.a.createElement("svg",{id:this.props.model_name},n.a.createElement("g",{id:"myg"}))))}}]),a}(r.Component),fe=Object(Y.b)((function(e){return{selected_year:e.selected_year,time_mode_model:e.time_mode_model,time_mode_range:e.time_mode_range,deviate_by:e.deviate_by,time_mode_year1:e.time_mode_year1,time_mode_year2:e.time_mode_year2,clicked_items_in_slopechart:e.clicked_items_in_slopechart,replay:e.replay,popup_chart_data:e.popup_chart_data,config:e.config,show:e.show}}),(function(e){return{Set_prev_prop:function(t){return e({type:"prev_prop",value:t})},Set_defualt_models:function(t){return e({type:"defualt_models",value:t})},Set_sparkline_data:function(t){return e({type:"sparkline_data",value:t})},Set_clicked_items_in_slopechart:function(t){return e({type:"clicked_items_in_slopechart",value:t})}}}))(me),ge=a(258);a(208);Object(Y.b)((function(e){return{defualt_models:e.defualt_models,sort_by:e.sort_by,state_range:e.state_range,selected_year:e.selected_year,grouped_by_year_data:e.grouped_by_year_data}}),(function(e){return{Set_defualt_models:function(t){return e({type:"defualt_models",value:t})},Set_pop_over_models:function(t){return e({type:"pop_over_models",value:t})}}}))((function(e){var t=n.a.useState(null),a=Object(ee.a)(t,2),r=a[0],i=a[1],o=Boolean(r),s=n.a.useState([0]),c=Object(ee.a)(s,2),u=c[0],d=c[1],p=n.a.useState([]),_=Object(ee.a)(p,2),m=(_[0],_[1],function(e){return function(){var t=u.indexOf(e),a=Object(l.a)(u);-1===t?a.push(e):a.splice(t,1),d(a)}});return n.a.createElement("div",{style:{borderRight:"1px dashed #eaeaea"}},n.a.createElement(K.a,{"aria-controls":"fade-menu","aria-haspopup":"true",onClick:function(e){i(e.currentTarget)}},"Select Model",n.a.createElement(le.a,null)),n.a.createElement(te.a,{id:"fade-menu",anchorEl:r,keepMounted:!0,open:o,onClose:function(){i(null)},TransitionComponent:ie.a},n.a.createElement("div",{className:"CheckboxContainer"},n.a.createElement(ae.a,null,["MART","RandomFor","LinearReg","CordAscent","LambdaMART","LambdaRank","RankBoost","RankNet"].map((function(t){var a="checkbox-list-label-".concat(t);return n.a.createElement(re.a,{key:t,role:void 0,onClick:m(t)},n.a.createElement(ne.a,{checked:e.defualt_models.includes(t),edge:"start",tabIndex:-1,value:t,onChange:function(t,a){!function(t){var a;e.defualt_models.includes(t.target.value)?(a=e.defualt_models.filter((function(e){if(e!=t.target.value)return e})),a=L(e.sort_by,e.state_range,a,e.selected_year,e.grouped_by_year_data)[0],e.Set_defualt_models(a),e.Set_pop_over_models(a)):((a=e.defualt_models).push(t.target.value),a=L(e.sort_by,e.state_range,a,e.selected_year,e.grouped_by_year_data)[0],e.Set_defualt_models(a),e.Set_pop_over_models(a)),(0,e.appHandleChange)(t.target.value,"clicked_model")}(t)}}),n.a.createElement("p",{className:"list_item_label",id:a},t))}))))))}));var ye=a(257),he=a(255),ve=a(267),ke=a(264),be=a(256);Object(Y.b)((function(e){return{defualt_models:e.defualt_models,sort_by:e.sort_by,state_range:e.state_range,selected_year:e.selected_year,grouped_by_year_data:e.grouped_by_year_data}}),(function(e){return{Set_sort_by:function(t){return e({type:"sort_by",value:t})},Set_defualt_models:function(t){return e({type:"defualt_models",value:t})},Set_default_model_scores:function(t){return e({type:"default_model_scores",value:t})}}}))((function(e){var t=n.a.useState(null),a=Object(ee.a)(t,2),r=a[0],i=a[1],o=n.a.useState(e.sort_by),l=Object(ee.a)(o,2),s=l[0],c=l[1],u=Boolean(r);return n.a.createElement("div",{className:"sort",style:{borderRight:"1px dashed #eaeaea"}},n.a.createElement(K.a,{"aria-controls":"fade-menu","aria-haspopup":"true",onClick:function(e){i(e.currentTarget)}},"Select Metrics ",n.a.createElement(le.a,null)),n.a.createElement(te.a,{id:"fade-menu",anchorEl:r,keepMounted:!0,open:u,onClose:function(){i(null)},TransitionComponent:ie.a},n.a.createElement(he.a,{component:"fieldset"},n.a.createElement(be.a,{component:"legend"}),n.a.createElement(ve.a,{"aria-label":"gender",name:"gender1",value:s,onChange:function(t){if(c(t.target.value),"None"==t.target.value)var a="Alphabetically";else a=t.target.value;e.Set_sort_by(a);var r=L(a,e.state_range,e.defualt_models,e.selected_year,e.grouped_by_year_data)[0],n=L(a,e.state_range,e.defualt_models,e.selected_year,e.grouped_by_year_data)[1];e.Set_default_model_scores(n),e.Set_defualt_models(r)}},["Discounted Cumulative Gain","Average Precision","None"].map((function(e){return n.a.createElement(ye.a,{value:e,control:n.a.createElement(ke.a,null),label:e})}))))))}));var xe=Object(ge.a)((function(e){return{MuiAutocompleteroot:{marginTop:0},root:{width:"100%"},listroot:{width:"100%",maxWidth:360},paper:{},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular}}}));var Se=Object(Y.b)((function(e){var t;return t={all_models:e.all_models,selected_years:e.selected_years,tracking:e.tracking,selected_year:e.selected_year,years_for_dropdown:e.years_for_dropdown,defualt_models:e.defualt_models,mode:e.mode,prev_prop:e.prev_prop,state_range:e.state_range,replay:e.replay,grouped_by_year_data:e.grouped_by_year_data,clicked_items_in_slopechart:e.clicked_items_in_slopechart,range_mode_range1:e.range_mode_range1,range_mode_range2:e.range_mode_range2,time_mode_range:e.time_mode_range},Object(H.a)(t,"mode",e.mode),Object(H.a)(t,"sort_by",e.sort_by),Object(H.a)(t,"average_m",e.average_m),t}),(function(e){return{add:function(t){return e({type:"add",value:t})},Set_selected_years:function(t){return e({type:"selected_years",value:t})},Set_selected_year:function(t){return e({type:"selected_year",value:t})},set_tracking:function(t){return e({type:"tracking",value:t})},Set_histogram_data:function(t){return e({type:"histogram_data",value:t})},Set_changed:function(t){return e({type:"changed",value:t})},Set_state_range:function(t){return e({type:"state_range",value:t})},Set_slider_max:function(t){return e({type:"slider_max",value:t})},Set_range_mode_range1:function(t){return e({type:"range_mode_range1",value:t})},Set_range_mode_range2:function(t){return e({type:"range_mode_range2",value:t})},Set_time_mode_range:function(t){return e({type:"time_mode_range",value:t})},Set_pop_over_models:function(t){return e({type:"pop_over_models",value:t})},Set_defualt_models:function(t){return e({type:"defualt_models",value:t})},Set_default_model_scores:function(t){return e({type:"default_model_scores",value:t})},Set_average_m:function(t){return e({type:"average_m",value:t})}}}))((function(e){xe();var t=function(t){"All"==t?e.Set_selected_years(Object(l.a)(e.years_for_dropdown)):e.selected_years.includes(t)?e.Set_selected_years(e.selected_years.filter((function(e){return e!=t}))):e.Set_selected_years([].concat(Object(l.a)(e.selected_years),[t]))},a=function(t){"All"==t?e.Set_defualt_models(Object(l.a)(e.all_models)):"Average"==t?e.Set_average_m(!e.average_m):e.defualt_models.includes(t)?e.Set_defualt_models(e.defualt_models.filter((function(e){return e!=t}))):e.Set_defualt_models([].concat(Object(l.a)(e.defualt_models),[t]))};return n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement("h5",{style:{display:"inline-block",marginLeft:30}},"Years:"),e.years_for_dropdown.map((function(a){return n.a.createElement("p",{className:e.selected_years.includes(a)?"years_p_selected years_p":"years_p",onClick:function(){return t(a)}},a)})),n.a.createElement("p",{className:"years_p",style:{display:"inline-block"},onClick:function(){return t("All")}},"All")," ",n.a.createElement("p",{className:"years_p",style:{display:"inline-block"}},"Average")),n.a.createElement("div",null,n.a.createElement("h5",{style:{display:"inline-block",marginLeft:30}},"Models:"),e.all_models.map((function(t){return n.a.createElement("p",{className:e.defualt_models.includes(t)?"years_p_selected years_p":"years_p",onClick:function(){return a(t)}},t)})),n.a.createElement("p",{className:"years_p",style:{display:"inline-block"},onClick:function(){return a("All")}},"All")," ",n.a.createElement("p",{className:e.average_m?"years_p_selected years_p":"years_p",style:{display:"inline-block"},onClick:function(){return a("Average")}},"Average")))})),we=a(259),je=a(260),Ee=(a(114),a(262)),Oe=a(268);a(209);function Ae(e,t,a,r,n,i,o){var l=M(".Sidebar_parent").width(),s=N.x(a),c=30,u=7,d=l-u-15,p=r-c-20;if(isNaN(t[0].y)){var _={};t.map((function(e){e.y in _?_[e.y]=_[e.y]+1:_[e.y]=1}));var m=Object.keys(_).map((function(e){return[e,_[e]]}));m.sort((function(e,t){return t[1]-e[1]}));var f=m.map((function(e){return e[0]})),g=m.map((function(e){return e[1]})),y=N.z(g),h=N.w().interpolator(N.j("#999999b3","#999999b3")).domain([0,g.length]);s.selectAll(".hist_title").data([0]).join("text").attr("class","hist_title").attr("y",15).attr("x",d/2).attr("text-anchor","middle").text(e);var v=s.selectAll(".g1").data([0]).join("g").attr("class","g1").attr("transform","translate("+u+","+c+")").selectAll(".svg1").data([0]).join("svg").attr("class","svg1").attr("width",d).attr("height",p);v.selectAll("rect").data(g).join("rect").style("fill",(function(e,t){return h(t)})).attr("height",p).attr("width",(function(e,t){return e/y*d-.2})).attr("x",(function(e,t){return N.z(g.slice(0,t))/y*d})).attr("id",(function(e,t){return f[t]})).on("click",(function(e,t){N.x("#"+f[t]).classed("cat_item_clicked",(function(){if(N.x("#"+f[t]).classed("cat_item_clicked"))return!1;var e=function(e,t,a){var r=[];return e.forEach((function(e){e["1-qid"]==t&&e.country==a&&r.push(parseInt(e.two_realRank))})),r}(o,n,f[t]);return i(e,"histogram_data"),!0}))})),v.selectAll("text").data(f,(function(e){return e})).join("text").text((function(e,t){return g[t]/y*d>12?e:""})).attr("x",(function(e,t){return N.z(g.slice(0,t))/y*d+8})).attr("y",p/2).style("font-size",9).style("writing-mode","tb").style("text-anchor","middle")}else{s.selectAll(".hist_title").data([e],(function(e){return e})).join("text").attr("class","hist_title").attr("y",15).attr("x",d/2).attr("text-anchor","middle").text(e.replace(/_/g," "));var k=t.map((function(e){return parseFloat(e.y)})),b=(g=N.u().domain([N.p(k),N.n(k)]).range([0,d]).nice()).ticks(4),x=p,S=N.i().value((function(e){return e})).domain(g.domain()).thresholds(4)(k),w=N.u().range([x,0]);w.domain([0,N.n(S,(function(e){return e.length}))]);var j=s.selectAll(".svg0").data([0]).join("svg").attr("class","svg0").selectAll(".myg0").data([0]).join("g").attr("class","myg0").attr("transform","translate("+u+","+c+")");j.selectAll("rect").data(S).join("rect").attr("x",1).attr("fill","#999999b3").attr("transform",(function(e){return e.x0==e.x1?"translate(0,"+w(e.length)+")":"translate("+g(e.x0)+","+w(e.length)+")"})).attr("width",(function(e){return e.x0==e.x1?d:g(e.x1)-g(e.x0)-.2})).attr("height",(function(e){return x-w(e.length)})),j.selectAll(".mylabel").data(S).join("text").attr("class","mylabel").attr("x",(function(e){return g(e.x0)+(g(e.x1)-g(e.x0))/3})).text((function(e){return e.length})).attr("y",(function(e){return w(e.length)-2})).attr("font-size",10),N.n(b)>1e3?j.selectAll(".myXaxis").data([0]).join("g").attr("class","myXaxis").attr("transform","translate(0,"+x+")").call(N.b(g).tickValues(b).tickFormat(N.h(".2s"))):j.selectAll(".myXaxis").data([0]).join("g").attr("class","myXaxis").attr("transform","translate(0,"+x+")").call(N.b(g).tickValues(b)),j.selectAll(".tick line,.domain").attr("stroke","#adadad");var E={element:null,previousElement:null,currentY:0,currentX:0,originX:0,originY:0,setElement:function(e){this.previousElement=this.element,this.element=e},getNewAttributes:function(){return{x:this.currentX<this.originX?this.currentX:this.originX,y:this.currentY<this.originY?this.currentY:this.originY,width:Math.abs(this.currentX-this.originX),height:Math.abs(this.currentY-this.originY)}},getCurrentAttributes:function(){var e=+this.element.attr("x"),t=+this.element.attr("y");return{x1:e,y1:t,x2:e+ +this.element.attr("width"),y2:t+ +this.element.attr("height")}},getCurrentAttributesAsText:function(){var e=this.getCurrentAttributes();return"x1: "+e.x1+" x2: "+e.x2+" y1: "+e.y1+" y2: "+e.y2},init:function(e,t){var a=s.append("rect").attr("rx",1).attr("ry",1).attr("x",0).attr("y",0).attr("width",0).attr("height",0).classed("selection",!0);this.setElement(a),this.originX=e,this.originY=t,this.update(e,t)},update:function(e,t){this.currentX=e,this.currentY=t;var a=this.getNewAttributes();this.element.attr("x",a.x).attr("y",a.y).attr("width",a.width).attr("height",a.height)},focus:function(){this.element.style("stroke","").style("stroke-width","1")},remove:function(){this.element.remove(),this.element=null},removePrevious:function(){this.previousElement&&this.previousElement.remove()}};var O=N.e().on("start",(function(){var e=N.q(this);E.init(e[0],e[1]),E.removePrevious()})).on("drag",(function(){var e=N.q(this);E.update(e[0],e[1])})).on("end",(function(){var t=E.getCurrentAttributes();if(t.x1!=t.x2){var a=t.x1-u,r=t.x2-u,l=[g.invert(a).toFixed(4),g.invert(r).toFixed(4)],s=function(e,t,a,r){var n=[];return e.forEach((function(e){e["1-qid"]==a&&parseFloat(e[r])>=t[0]&&parseFloat(e[r])<=t[1]&&n.push(parseInt(e.two_realRank))})),n}(o,l,n,e);i(s,"histogram_data")}t.x2-t.x1>1&&t.y2-t.y1>1?(N.f.sourceEvent.preventDefault(),E.focus()):E.remove()}));s.call(O)}}var Ce=a(89),Re=a.n(Ce),Ne=a(90),Ie=a.n(Ne),Le=a(130),Be=a.n(Le),Te=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).handleHistogramselection=function(e,t){var a=r.state.selected_states;e.forEach((function(e){a.includes(e)||a.push(e)})),r.setState({selected_states:a})},r.update_histogram_data=function(){if(N.y(".cat_item_clicked").classed("cat_item_clicked",!1),N.y(".selection").remove(),r.state.selected_states.length<1)alert("Empty selection!");else{var e=r.props.appHandleChange,t=r.state.selected_states.filter((function(e){if(e>=r.props.state_range[0]&&e<=r.props.state_range[1])return e}));t.length<1&&alert("Empty Selection"),1==r.props.slider_and_feature_value.Feature&&1==r.props.slider_and_feature_value["Rank range"]?(r.props.Set_histogram_data(t),e(t,"histogram_data")):(r.props.Set_histogram_data(r.state.selected_states),e(r.state.selected_states,"histogram_data")),r.setState({selected_states:[]})}},r.makeArr=function(e){for(var t=e[0],a=e[1],r=[],n=t;n<=a;n++)r.push(n);return r},r.myRef=n.a.createRef(),r.state={feaures_dict:{},features_voted:null,feature_data:null,selected_states:[]},r}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e,t=this;"fiscal"==this.props.dataset?e=Re.a:"school"==this.props.dataset?e=Ie.a:"house"==this.props.dataset&&(e=Be.a),N.d(e).then((function(e){t.setState({feature_data:e})}))}},{key:"shouldComponentUpdate",value:function(){return!0}},{key:"componentDidUpdate",value:function(){var e=this,t=this,a=this.makeArr(this.props.state_range),r=20,n=260,i=this.props.state_range[1]-this.props.state_range[0]+2*this.props.deviate_by;i*r<700&&(r=700/i);var o=i*r,l=3*Math.floor(o/n);l<9&&(l=9);var s=B(this.props.dataset,this.props.defualt_models,a,this.props.selected_year,l,this.props.rank_data),c=Object.keys(s).map((function(e){return[e,s[e]]}));if(c.sort((function(e,t){return t[1]-e[1]})),c=c.map((function(e){return e[0]})),"fiscal"==this.props.dataset?Re.a:"school"==this.props.dataset&&Ie.a,null!=this.state.feature_data){var u=M(".Sidebar_parent").width();n=150;c.forEach((function(a,r){var i="feature"+a.replace(/[^\w\s]/gi,""),o=[];e.state.feature_data.forEach((function(e){if(e["1-qid"]==t.props.selected_year){var r={};r.x=parseInt(e.two_realRank),r.y=e[a],o.push(r)}})),N.x("#histogram_container").attr("height",c.length*n).selectAll("#"+i).data([i],(function(e){return e})).join("svg").attr("id",i).attr("width",u).attr("x",(function(e){return Ae(a,o,"#"+i,n,t.props.selected_year,t.handleHistogramselection,t.state.feature_data),0})).attr("y",(function(e,t){return n*r}))}))}}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement(K.a,{className:"update",style:{marginLeft:0,padding:0,width:197},onClick:function(){var t=e;e.props.slider_and_feature_value["Rank range"]||(N.p(e.state.selected_states)<e.props.state_range[0]&&e.props.Set_state_range([N.p(e.state.selected_states),e.props.state_range[1]]),N.n(e.state.selected_states)>e.props.state_range[1]&&e.props.Set_state_range([e.props.state_range[0],N.n(e.state.selected_states)])),setTimeout((function(){t.update_histogram_data()}),500)}},"Update"),n.a.createElement("div",{className:"hitograms_container"},n.a.createElement("svg",{id:"histogram_container",style:{width:this.props.width}})))}}]),a}(r.Component),He=Object(Y.b)((function(e){return{state_range:e.state_range,defualt_models:e.defualt_models,dataset:e.dataset,selected_year:e.selected_year,slider_and_feature_value:e.slider_and_feature_value,deviate_by:e.deviate_by,rank_data:e.rank_data}}),(function(e){return{Set_defualt_models:function(t){return e({type:"defualt_models",value:t})},Set_sparkline_data:function(t){return e({type:"sparkline_data",value:t})},Set_histogram_data:function(t){return e({type:"histogram_data",value:t})},Set_state_range:function(t){return e({type:"state_range",value:t})},Set_clicked_items_in_slopechart:function(t){return e({type:"clicked_items_in_slopechart",value:t})}}}))(Te),Me=a(263),Fe=a(214);var Ye=Object(Y.b)((function(e){return{tracking:e.tracking}}),(function(e){return{set_tracking:function(t){return e({type:"tracking",value:t})}}}))((function(e){return n.a.createElement(z.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"baseline"},n.a.createElement(ye.a,{labelPlacement:"start",control:n.a.createElement(ne.a,{checked:e.tracking,onChange:function(t){return e.set_tracking(t.target.checked)},name:"checkedB",color:"primary"}),label:"Tracking"}))})),ze=Object(ge.a)((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},tRoot:{marginBottom:35},rang_input:{marginLeft:10}}}));var De=Object(Y.b)((function(e){return{selected_year:e.selected_year,state_range:e.state_range,mode:e.mode,slider_max:e.slider_max,range_mode_model:e.range_mode_model,range_mode_range1:e.range_mode_range1,range_mode_range2:e.range_mode_range2,time_mode_model:e.time_mode_model,time_mode_range:e.time_mode_range,time_mode_year1:e.time_mode_year1,time_mode_year2:e.time_mode_year2,years_for_dropdown:e.years_for_dropdown,dataset:e.dataset,defualt_models:e.defualt_models,slider_and_feature_value:e.slider_and_feature_value,sort_by:e.sort_by,grouped_by_year_data:e.grouped_by_year_data}}),(function(e){return{Set_slider_max:function(t){return e({type:"slider_max",value:t})},Set_years_for_dropdown:function(t){return e({type:"years_for_dropdown",value:t})},Set_state_range:function(t){return e({type:"state_range",value:t})},Set_mode:function(t){return e({type:"mode",value:t})},Set_range_mode_model:function(t){return e({type:"range_mode_model",value:t})},Set_time_mode_model:function(t){return e({type:"time_mode_model",value:t})},Set_range_mode_range1:function(t){return e({type:"range_mode_range1",value:t})},Set_range_mode_range2:function(t){return e({type:"range_mode_range2",value:t})},Set_time_mode_range:function(t){return e({type:"time_mode_range",value:t})},Set_time_mode_year1:function(t){return e({type:"time_mode_year1",value:t})},Set_time_mode_year2:function(t){return e({type:"time_mode_year2",value:t})},Set_histogram_data:function(t){return e({type:"histogram_data",value:t})},Set_slider_and_feature_value:function(t){return e({type:"slider_and_feature_value",value:t})},Set_clicked_items_in_slopechart:function(t){return e({type:"clicked_items_in_slopechart",value:t})},Set_changed:function(t){return e({type:"changed",value:t})},Set_pop_over_models:function(t){return e({type:"pop_over_models",value:t})},Set_defualt_models:function(t){return e({type:"defualt_models",value:t})},Set_default_model_scores:function(t){return e({type:"default_model_scores",value:t})}}}))((function(e){for(var t,a,r,i,o=ze(),s=n.a.useState(e.state_range),c=Object(ee.a)(s,2),u=c[0],d=c[1],p=n.a.useState(e.range_mode_range1),_=Object(ee.a)(p,2),m=_[0],f=_[1],g=n.a.useState(e.range_mode_range2),y=Object(ee.a)(g,2),h=y[0],v=y[1],k=n.a.useState(e.time_mode_range),b=Object(ee.a)(k,2),x=b[0],S=b[1],w=n.a.useState(0),j=Object(ee.a)(w,2),E=(j[0],j[1]),O=[],A=(e.slider_max-1)/5,C=0;C<6;C++)O.push(1+A*C);var R=O.map((function(e){var t=parseInt(e);return{value:t,label:t}}));return n.a.createElement("div",{style:{borderTop:"1px solid #eaeaea"}},n.a.createElement("p",{className:"title_show",style:{marginBottom:8}},"Compare:"),n.a.createElement(Me.a,{className:"autocomplete_mode",style:{border:"1px solid grey",borderRadius:0,paddingTop:0,paddingBottom:0,marginLeft:5,marginRight:30,width:M(".Sidebar").width()-10},defaultValue:"Models",id:"debug",debug:!0,options:["Models","Ranges","Time"],renderInput:function(e){return n.a.createElement(Ee.a,Object.assign({},e,{label:"",margin:"normal",fullWidth:!0,InputProps:Object(q.a)({},e.InputProps,{disableUnderline:!0})}))},onChange:function(t,a){var r=a.replace("s","");e.Set_mode(r),e.Set_clicked_items_in_slopechart([])}}),"Model"==e.mode?n.a.createElement("div",{style:{marginTop:10,paddingLeft:5,width:M(".Sidebar").width()}},n.a.createElement("p",{style:{marginLeft:0,marginBottom:-5,marginTop:15,marginRight:12,paddingLeft:5,backgroundColor:"#f7f7f7",fontSize:16}},"fiscal"==e.dataset?"Select states":"Select "+e.dataset+"s"),n.a.createElement("div",{key:e.slider_and_feature_value,className:"slider_feature_container"},n.a.createElement(ae.a,{className:o.listroot},["Rank range","Feature"].map((function(t){var a="checkbox-list-label-".concat(t);return n.a.createElement("div",{className:"listItem"},n.a.createElement(re.a,{key:t,role:void 0},n.a.createElement(ne.a,{checked:e.slider_and_feature_value[t],edge:"start",tabIndex:-1,value:t,onChange:function(t){var a=e.slider_and_feature_value;e.slider_and_feature_value[t.target.value]?a[t.target.value]=0:a[t.target.value]=1,E(JSON.stringify(a)),e.Set_slider_and_feature_value(a)}}),n.a.createElement("p",{className:"list_item_label",id:a},t)))})))),1==e.slider_and_feature_value["Rank range"]?n.a.createElement("div",{className:"rangeslider",style:{width:M(".Sidebar").width()-12}},n.a.createElement(Oe.a,(t={value:u,onChange:function(e,t){return d(t)},onChangeCommitted:function(t,a){return e.Set_changed("range")},valueLabelDisplay:"auto","aria-labelledby":"range-slider"},Object(H.a)(t,"valueLabelDisplay","on"),Object(H.a)(t,"min",1),Object(H.a)(t,"max",e.slider_max),Object(H.a)(t,"marks",R),t)),n.a.createElement(z.a,{style:{marginBottom:15},container:!0,direction:"row",justify:"space-around",alignItems:"center"},n.a.createElement(Ee.a,{classes:{input:o.rang_input},id:"standard-basic",label:"Lower",value:u[0],style:{width:40},onChange:function(e){isNaN(parseInt(e.target.value))?d(["",u[1]]):e.target.value>u[1]?alert("Lower range can not be larger than the upper range"):d([e.target.value,u[1]])}}),n.a.createElement(Ee.a,{classes:{input:o.rang_input},id:"standard-basic",label:"Upper",value:u[1],style:{width:40},onChange:function(t){isNaN(parseInt(t.target.value))?d([u[0],""]):parseInt(t.target.value)>e.slider_max?(alert("Upper range can not exceed maximum"),d([u[0],e.slider_max])):d([u[0],parseInt(t.target.value)])}})),n.a.createElement(Ye,null),n.a.createElement(K.a,{className:"range_button",style:{width:M(".Sidebar").width()-11,backgroundColor:"#ededed",height:30,marginBottom:5,marginLeft:-3},onClick:function(){e.Set_state_range(u);var t=L(e.sort_by,u,e.defualt_models,e.selected_year,e.grouped_by_year_data)[0],a=L(e.sort_by,u,e.defualt_models,e.selected_year,e.grouped_by_year_data)[1];e.Set_default_model_scores(a),e.Set_defualt_models(Object(l.a)(t))}},"Update range")):null,1==e.slider_and_feature_value.Feature?n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement(He,{year:e.selected_year.toString(),state_range:e.state_range,Sidebar_width:M(".Sidebar").width(),appHandleChange:e.appHandleChange}))):null):null,"Range"==e.mode?n.a.createElement("div",{style:{marginTop:10,paddingLeft:5,width:M(".Sidebar").width()}},n.a.createElement("div",{className:"range_model"},n.a.createElement(Me.a,{defaultValue:e.range_mode_model,id:"debug",debug:!0,options:["CordAscent","LambdaMART","LambdaRank","LinearReg","ListNet","MART","RandomFor","RankBoost","RankNet"].map((function(e){return e})),renderInput:function(e){return n.a.createElement(Ee.a,Object.assign({},e,{label:"Model",margin:"normal",InputProps:Object(q.a)({},e.InputProps,{disableUnderline:!0})}))},onChange:function(t,a){return e.Set_range_mode_model(a)}}),n.a.createElement("p",{style:{marginLeft:0,marginBottom:-5,marginTop:15,marginRight:12,paddingLeft:5,backgroundColor:"#f7f7f7",fontSize:16}},"fiscal"==e.dataset?"Select states":"Select "+e.dataset+"s")),n.a.createElement("div",{className:"rangeslider",style:{width:M(".Sidebar").width()-12}},n.a.createElement(Fe.a,{classes:{root:o.tRoot}},"Group 1"),n.a.createElement(Oe.a,(a={value:m,onChange:function(e,t){return f(t)},onChangeCommitted:function(t,a){return e.Set_changed("range")},valueLabelDisplay:"auto","aria-labelledby":"range-slider"},Object(H.a)(a,"valueLabelDisplay","on"),Object(H.a)(a,"min",1),Object(H.a)(a,"max",e.slider_max),Object(H.a)(a,"marks",R),a)),n.a.createElement(z.a,{style:{marginBottom:15},container:!0,direction:"row",justify:"space-around",alignItems:"center"},n.a.createElement(Ee.a,{classes:{input:o.rang_input},id:"standard-basic",label:"Lower",value:m[0],style:{width:40},onChange:function(e){isNaN(parseInt(e.target.value))?f(["",m[1]]):e.target.value>m[1]?alert("Lower range can not be larger than the upper range"):f([e.target.value,m[1]])}}),n.a.createElement(Ee.a,{classes:{input:o.rang_input},id:"standard-basic",label:"Upper",value:m[1],style:{width:40},onChange:function(t){isNaN(parseInt(t.target.value))?f([m[0],""]):parseInt(t.target.value)>e.slider_max?(alert("Upper range can not exceed maximum"),f([m[0],e.slider_max])):f([m[0],parseInt(t.target.value)])}})),n.a.createElement(K.a,{className:"range_button",style:{width:M(".Sidebar").width()-11,backgroundColor:"#ededed",height:30,marginBottom:5,marginLeft:-3},onClick:function(){return e.Set_range_mode_range1(m)}},"Update range")),n.a.createElement("div",{className:"rangeslider",style:{width:M(".Sidebar").width()-12}},n.a.createElement(Fe.a,{classes:{root:o.tRoot}},"Group 2"),n.a.createElement(Oe.a,(r={value:h,onChange:function(e,t){return v(t)},onChangeCommitted:function(t,a){e.Set_changed("range")},valueLabelDisplay:"auto","aria-labelledby":"range-slider"},Object(H.a)(r,"valueLabelDisplay","on"),Object(H.a)(r,"min",1),Object(H.a)(r,"max",e.slider_max),Object(H.a)(r,"marks",R),r))),n.a.createElement(z.a,{style:{marginBottom:15},container:!0,direction:"row",justify:"space-around",alignItems:"center"},n.a.createElement(Ee.a,{classes:{input:o.rang_input},id:"standard-basic",label:"Lower",value:h[0],style:{width:40},onChange:function(e){isNaN(parseInt(e.target.value))?v(["",h[1]]):e.target.value>h[1]?alert("Lower range can not be larger than the upper range"):v([e.target.value,h[1]])}}),n.a.createElement(Ee.a,{classes:{input:o.rang_input},id:"standard-basic",label:"Upper",value:h[1],style:{width:40},onChange:function(t){isNaN(parseInt(t.target.value))?v([h[0],""]):parseInt(t.target.value)>e.slider_max?(alert("Upper range can not exceed maximum"),v([h[0],e.slider_max])):v([h[0],parseInt(t.target.value)])}})),n.a.createElement(K.a,{className:"range_button",style:{width:M(".Sidebar").width()-11,backgroundColor:"#ededed",height:30,marginBottom:5,marginLeft:0},onClick:function(){return e.Set_range_mode_range2(h)}},"Update range")):null,"Time"==e.mode?n.a.createElement("div",{style:{marginTop:10,paddingLeft:5,marginBottom:10,width:M(".Sidebar").width()}},n.a.createElement("div",{className:"model"},n.a.createElement(Me.a,{defaultValue:e.time_mode_model,id:"debug",debug:!0,options:["CordAscent","LambdaMART","LambdaRank","LinearReg","ListNet","MART","RandomFor","RankBoost","RankNet"].map((function(e){return e})),renderInput:function(e){return n.a.createElement(Ee.a,Object.assign({},e,{label:"Model",margin:"normal",InputProps:Object(q.a)({},e.InputProps,{disableUnderline:!0})}))},onChange:function(t,a){return e.Set_time_mode_model(a)}}),n.a.createElement("p",{style:{marginLeft:0,marginBottom:-5,marginTop:15,marginRight:12,paddingLeft:5,backgroundColor:"#f7f7f7",fontSize:16}},"fiscal"==e.dataset?"Select states":"Select "+e.dataset+"s"),n.a.createElement("div",{className:"rangeslider",style:{width:M(".Sidebar").width()-12}},n.a.createElement(Oe.a,(i={value:x,onChange:function(e,t){return S(t)},onChangeCommitted:function(t,a){return e.Set_changed("range")},valueLabelDisplay:"auto","aria-labelledby":"range-slider"},Object(H.a)(i,"valueLabelDisplay","on"),Object(H.a)(i,"min",1),Object(H.a)(i,"max",e.slider_max),Object(H.a)(i,"marks",R),i)),n.a.createElement(z.a,{style:{marginBottom:15},container:!0,direction:"row",justify:"space-around",alignItems:"center"},n.a.createElement(Ee.a,{classes:{input:o.rang_input},id:"standard-basic",label:"Lower",value:x[0],style:{width:40},onChange:function(e){isNaN(parseInt(e.target.value))?S(["",x[1]]):e.target.value>x[1]?alert("Lower range can not be larger than the upper range"):S([e.target.value,x[1]])}}),n.a.createElement(Ee.a,{classes:{input:o.rang_input},id:"standard-basic",label:"Upper",value:x[1],style:{width:40},onChange:function(t){isNaN(parseInt(t.target.value))?S([x[0],""]):parseInt(t.target.value)>e.slider_max?(alert("Upper range can not exceed maximum"),S([x[0],e.slider_max])):S([x[0],parseInt(t.target.value)])}})),n.a.createElement(K.a,{className:"range_button",style:{width:M(".Sidebar").width()-11,backgroundColor:"#ededed",height:30,marginBottom:5,marginLeft:-3},onClick:function(){return e.Set_time_mode_range(x)}},"Update range")),n.a.createElement("div",{className:"year"},n.a.createElement(Me.a,{className:{root:o.MuiAutocompleteroot},defaultValue:e.time_mode_year1.toString(),id:"debug",debug:!0,options:e.years_for_dropdown.map((function(e){return e})),renderInput:function(e){return n.a.createElement(Ee.a,Object.assign({},e,{label:"Year 1",margin:"normal",fullWidth:!0,InputProps:Object(q.a)({},e.InputProps,{disableUnderline:!0})}))},onChange:function(t,a){e.Set_time_mode_year1(a),e.Set_changed("year")}})),n.a.createElement("div",{className:"year"},n.a.createElement(Me.a,{className:{root:o.MuiAutocompleteroot},defaultValue:e.time_mode_year2.toString(),id:"debug",debug:!0,options:e.years_for_dropdown.map((function(e){return e})),renderInput:function(e){return n.a.createElement(Ee.a,Object.assign({},e,{label:"Year 2",margin:"normal",fullWidth:!0,InputProps:Object(q.a)({},e.InputProps,{disableUnderline:!0})}))},onChange:function(t,a){e.Set_time_mode_year2(a),e.Set_changed("year")}})))):null)})),Ue=Object(ge.a)((function(e){return{root:{width:"100%"},listroot:{width:"100%",maxWidth:360},paper:{},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular}}}));var Ge=Object(Y.b)((function(e){return{deviate_by:e.deviate_by,state_range:e.state_range,defualt_models:e.defualt_models,selected_year:e.selected_year,sparkline_data:e.sparkline_data,show:e.show}}),(function(e){return{Set_defualt_models:function(t){return e({type:"defualt_models",value:t})},Set_sparkline_data:function(t){return e({type:"sparkline_data",value:t})},Set_slider_max:function(t){return e({type:"slider_max",value:t})},Set_years_for_dropdown:function(t){return e({type:"years_for_dropdown",value:t})},Set_selected_year:function(t){return e({type:"selected_year",value:t})},Set_ref_year:function(t){return e({type:"ref_year",value:t})},Set_original_data:function(t){return e({type:"original_data",value:t})},Set_state_range:function(t){return e({type:"state_range",value:t})},Set_deviate_by:function(t){return e({type:"deviate_by",value:t})},Set_show:function(t){return e({type:"show",value:t})}}}))((function(e){var t=Ue(),a=n.a.useState([0]),r=Object(ee.a)(a,2),i=r[0],o=r[1],s=function(e){return function(){var t=i.indexOf(e),a=Object(l.a)(i);-1===t?a.push(e):a.splice(t,1),o(a)}};return n.a.createElement("div",{className:"Sidebar_parent",style:{height:window.innerHeight}},n.a.createElement("h4",{className:"app_title"},"RIEVAL "),1==e.view_data?n.a.createElement("div",{className:"rangeSlidercontainer"},n.a.createElement(De,{appHandleChange:e.appHandleChange}),n.a.createElement("div",{className:"deviation",style:{marginLeft:5,borderTop:"0px solid #eaeaea"}},n.a.createElement("p",{className:"title_show"},"Margin:"),n.a.createElement(Ee.a,{id:"outlined-size-normal",defaultValue:e.deviate_by,variant:"filled",color:"primary",onChange:function(t){return function(t){var a=parseInt(t.target.value);a>-1&&setTimeout((function(){e.Set_deviate_by(a)}),100)}(t)},fullWidth:!1,style:{height:24}})),n.a.createElement("div",{className:"show"},n.a.createElement("p",{className:"title_show"},"Show:"),n.a.createElement(ae.a,{className:t.listroot},["Rankings","Explanation"].map((function(t){var a="checkbox-list-label-".concat(t);return n.a.createElement(re.a,{key:t,role:void 0,onClick:s(t)},n.a.createElement(ne.a,{checked:e.show.includes(t),edge:"start",tabIndex:-1,value:t,onChange:function(t,a){var r=Object(l.a)(e.show);r.includes(t.target.value)&&"Rankings"!=t.target.value?r=r.filter((function(e){return e!=t.target.value})):r.push(t.target.value),e.Set_show(r)}}),n.a.createElement("p",{className:"list_item_label",id:a},t))}))))):null)})),Pe=(a(210),a(265)),Xe=Object(ge.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));var qe,Ve=Object(Y.b)((function(e){return{replay:e.replay,prev_prop:e.prev_prop,state_range:e.state_range,changed:e.changed,selected_year:e.selected_year,range_mode_range1:e.range_mode_range1,range_mode_range2:e.range_mode_range2,time_mode_range:e.time_mode_range,time_mode_year1:e.time_mode_year1,time_mode_year2:e.time_mode_year2}}),(function(e){return{Set_replay:function(t){return e({type:"replay",value:t})},Set_state_range:function(t){return e({type:"state_range",value:t})},Set_selected_year:function(t){return e({type:"selected_year",value:t})},Set_range_mode_range1:function(t){return e({type:"range_mode_range1",value:t})},Set_range_mode_range2:function(t){return e({type:"range_mode_range2",value:t})},Set_time_mode_range:function(t){return e({type:"time_mode_range",value:t})},Set_time_mode_year1:function(t){return e({type:"time_mode_year1",value:t})},Set_time_mode_year2:function(t){return e({type:"time_mode_year2",value:t})}}}))((function e(t){var a=Xe(),i=n.a.useState(!1),o=Object(ee.a)(i,2),l=o[0],s=o[1],c=n.a.useState(0),u=Object(ee.a)(c,2),d=u[0],p=u[1],_=n.a.useState(0),m=Object(ee.a)(_,2),f=m[0],g=m[1];Object(r.useEffect)((function(){M(".slopechart_container").on("contextmen",(function(e){e.preventDefault(),s(!0),p(e.pageX),g(e.pageY),"undefined"!=typeof t.Set_replay&&t.Set_replay(!0)}))}));var y=function(){s(!1),t.Set_replay(!1)},h=n.a.createElement("div",{style:{left:d,top:f},className:a.paper},n.a.createElement("h2",{id:"simple-modal-title",style:{marginBottom:15}},"Animation Replay"),n.a.createElement(K.a,{onClick:function(){s(!1),setTimeout((function(){t.Set_replay(!1)}),24e3),"range"==t.changed?"state_range"in t.prev_prop&&(t.Set_state_range(t.prev_prop.state_range),setTimeout((function(){t.Set_state_range(t.state_range)}),12e3)):"selected_year"in t.prev_prop&&(t.Set_selected_year(t.prev_prop.selected_year),setTimeout((function(){t.Set_selected_year(t.selected_year)}),12e3)),"range"==t.changed?("range_mode_range1"in t.prev_prop&&(t.Set_range_mode_range1(t.prev_prop.range_mode_range1),setTimeout((function(){t.Set_range_mode_range1(t.range_mode_range1)}),12e3)),"range_mode_range2"in t.prev_prop&&(t.Set_range_mode_range2(t.prev_prop.range_mode_range2),setTimeout((function(){t.Set_range_mode_range2(t.range_mode_range2)}),12e3))):"selected_year"in t.prev_prop&&(t.Set_selected_year(t.prev_prop.selected_year),setTimeout((function(){t.Set_selected_year(t.selected_year)}),12e3)),"range"==t.changed?"time_mode_range"in t.prev_prop&&(t.Set_time_mode_range(t.prev_prop.time_mode_range),setTimeout((function(){t.Set_time_mode_range(t.time_mode_range)}),12e3)):("time_mode_year1"in t.prev_prop&&(t.Set_time_mode_year1(t.prev_prop.time_mode_year1),setTimeout((function(){t.Set_time_mode_year1(t.time_mode_year1)}),12e3)),"time_mode_year2"in t.prev_prop&&(t.Set_time_mode_year2(t.prev_prop.time_mode_year2),setTimeout((function(){t.Set_time_mode_year2(t.time_mode_year2)}),12e3)))},variant:"outlined",color:"primary"},"Replay"),n.a.createElement(K.a,{onClick:y,variant:"outlined",color:"primary",style:{marginLeft:12}},"Cancel"),n.a.createElement(e,null));return n.a.createElement("div",null,n.a.createElement(Pe.a,{open:l,onClose:y,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},h))})),We=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).handleradioChange=function(e){r.setState({show:["Slope charts","Rankings","Explanation"]}),r.props.Set_slider_and_feature_value({"Rank range":1,Feature:0}),r.props.Set_clicked_items_in_slopechart([]),r.props.Set_state_range([1,15]),r.props.Set_histogram_data([]),r.props.Set_mode("Model"),r.props.Set_range_mode_range1([5,35]),r.props.Set_range_mode_range2([15,35]),r.props.Set_time_mode_range([5,35]),"Fiscal Dataset"==e.target.value?(r.setState({dataset:"fiscal"}),r.props.Set_dataset("fiscal"),r.dataprocessor("fiscal")):"House Dataset"==e.target.value?(r.setState({dataset:"house"}),r.props.Set_dataset("house"),r.dataprocessor("house")):(r.setState({dataset:"school"}),r.props.Set_dataset("school"),r.dataprocessor("school"))},r.task2=function(){r.props.clicked_items_in_slopechart.length>0&&N.y("circle,.datapoint").attr("opacity",r.props.config.reduced_opacity),r.props.clicked_items_in_slopechart.map((function(e){return N.y("#"+e).attr("opacity",1)}))},r.textClickHandler_original=function(e){var t=e.replace(/ +/g,"");N.y("#"+t).filter(N.m("line")).style("stroke-width",1);var a=Object(l.a)(r.props.clicked_items_in_slopechart);a.includes(t)?a=a.filter((function(e){return e!=t})):a.push(t),r.props.Set_clicked_items_in_slopechart(a),a.length>0?(N.y("circle,.datapoint").attr("opacity",r.props.config.reduced_opacity),r.props.clicked_items_in_slopechart.map((function(e){N.y("#"+e).attr("opacity",1),N.y("#"+e).filter(N.m("line")).style("stroke-width",3)}))):N.y("circle,.datapoint").attr("opacity",1)},r.dataprocessor=function(e){"school"==e&&r.process_data(g.a,w.a,E.a,e),"fiscal"==e&&r.process_data(m.a,k.a,x.a,e),"house"==e&&r.process_data(h.a,A.a,R.a,e)},r.process_data=function(e,t,a,n){var i=Object(u.a)(r);N.d(e).then((function(e){var t=I(e).years,a=I(e).sparkline_data,o=Object.keys(t);if(i.props.Set_sparkline_data(a),i.props.Set_slider_max(t[o[0]].length),i.setState({years_for_dropdown:o}),i.props.Set_years_for_dropdown(o),i.props.Set_time_mode_year1(o[0]),i.props.Set_time_mode_year2(o[1]),i.props.Set_legend_year(o[0]),i.setState({ref_year:o[0]}),i.props.Set_grouped_by_year_data(t),i.setState({grouped_by_year_data:t},(function(){i.appHandleChange(e,"original")})),i.setState({original_data:e}),i.props.Set_original_data(e),"fiscal"==n){i.props.Set_selected_year("2011");var l=["MART","RandomFor","LinearReg","CordAscent","LambdaMART","LambdaRank","ListNet","RankBoost","RankNet"],s=L(r.props.sort_by,r.props.state_range,l,"2011",t)[0],c=L(r.props.sort_by,r.props.state_range,l,"2011",t)[1]}else{i.props.Set_selected_year("2016");l=["MART","RandomFor","LinearReg","CordAscent","LambdaMART","LambdaRank","ListNet","RankBoost","RankNet"],s=L(r.props.sort_by,r.props.state_range,l,"2016",t)[0],c=L(r.props.sort_by,r.props.state_range,l,"2016",t)[1]}r.props.Set_default_model_scores(c),r.props.Set_defualt_models(s.slice(1,3)),r.props.Set_pop_over_models(s.slice(1,3))})),N.d(t).then((function(e){var t={};N.r().key((function(e){return e.model})).entries(e).map((function(e){t[e.key]=e.values})),i.props.Set_rank_data(t)})),N.d(a).then((function(e){var t={};N.r().key((function(e){return e.model})).entries(e).map((function(e){t[e.key]=e.values})),i.props.Set_lime_data(t)}))},r.appHandleChange=function(e,t){r.setState({features_dict:{}});var a=r.props.defualt_models,n=r.state.show,i=r.props.selected_year;if("year_changed"==t&&r.props.Set_selected_year(e),"original"==t);else r.props.original_data;"show_checkboxChanged"==t&&(n.includes(e)?n=n.filter((function(t){return t!=e})):n.push(e),r.setState({show:n})),a=L(r.props.sort_by,r.props.state_range,a,r.props.selected_year,r.state.grouped_by_year_data)[0],r.setState({defualt_models:a}),parseInt(i)==r.state.years_for_dropdown[0]?parseInt(i):parseInt(i)},r.buttonclickHandler=function(e,t){setTimeout((function(){r.setState({random:Math.random()})}),500),r.setState({view_data:e}),r.setState({view_data:e})},r.makeArr=function(){for(var e=r.props.state_range[0],t=r.props.state_range[1],a=[],n=e;n<=t;n++)a.push(n);return a},r.state={random:10,original_data:null,grouped_by_year_data:null,show:["Slope charts","Rankings","Explanation"],view_data:1,histogram_data:[],ref_year:null,features_dict:{},features_voted:null,Legend_ready_to_vis:null,legend_model:"CordAscent"},r}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.dataprocessor("fiscal")}},{key:"shouldComponentUpdate",value:function(){return!0}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{key:this.state.random},n.a.createElement(Ve,{key:Math.random()}),n.a.createElement(we.a,null,n.a.createElement("div",{style:{width:207},className:"Sidebar"},null!=this.props.selected_year?n.a.createElement(Ge,{view_data:this.state.view_data,appHandleChange:this.appHandleChange,dataset:this.props.dataset,sort_by:this.props.sort_by,chart_scale_type:this.props.chart_scale_type}):null),n.a.createElement(je.a,{style:{width:window.innerWidth-200,minHeight:window.innerHeight},className:"container_header_and_components"},n.a.createElement("div",{className:"uploader_topbar"},n.a.createElement(z.a,{container:!0,spacing:0,className:"myheader",style:{left:M(".Sidebar").width()}},n.a.createElement(z.a,{item:!0,style:{borderRight:"1px dashed #eaeaea",width:100}},n.a.createElement(K.a,{onClick:function(){return e.buttonclickHandler(1,"button")}},"View Data")),n.a.createElement(z.a,{item:!0,style:{borderRight:"1px dashed #eaeaea",width:120}},n.a.createElement(K.a,{onClick:function(){return e.buttonclickHandler(0,"button")}},"Load Data"))),0==this.state.view_data?n.a.createElement(we.a,{className:"Topbar_container"},n.a.createElement("div",{className:"load"},n.a.createElement("form",{onSubmit:function(){return e.buttonclickHandler(1,"form")}},n.a.createElement(he.a,{component:"fieldset"},n.a.createElement(be.a,{component:"legend"}),n.a.createElement(ve.a,{"aria-label":"gender",name:"gender1",onChange:this.handleradioChange},["Fiscal Dataset","School Dataset"].map((function(e){return n.a.createElement(ye.a,{value:e,control:n.a.createElement(ke.a,null),label:e})}))),n.a.createElement(K.a,{type:"submit",variant:"outlined",color:"primary"},"Load"))))):null,1==this.state.view_data?n.a.createElement(we.a,{className:"Topbar_container"},n.a.createElement(Se,{key:this.props.selected_year,appHandleChange:this.appHandleChange,tracking:this.props.tracking})):null),1==this.state.view_data?n.a.createElement(z.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"},n.a.createElement(z.a,{container:!0,spacing:0,direction:"row",justify:"space-evenly",className:"slopechart_container",key:this.props.defualt_models.length,style:{height:"Time"==this.props.mode?window.innerHeight-M(".myheader").height()-5:window.innerHeight-M(".uploader_topbar").height()-5,marginLeft:5,width:window.innerWidth-(M(".Sidebar_parent").width()+M(".legend").width()+15)}},"Model"==this.props.mode&&null!=this.state.grouped_by_year_data&&null!=this.props.original_data&&null!=this.props.lime_data?n.a.createElement(G,{task2:this.task2,textClickHandler_original:this.textClickHandler_original,appHandleChange:this.appHandleChange,model_name:"RandomFor",grouped_by_year_data:this.state.grouped_by_year_data,cmodel:this.state.cmodel,ref_year:this.state.ref_year}):null,"Range"==this.props.mode?["Range1","Range2"].map((function(t,a){return null!=e.state.grouped_by_year_data&&null!=e.props.original_data?n.a.createElement(de,{task2:e.task2,textClickHandler_original:e.textClickHandler_original,myindex:a,key:t+"slopechart"+e.state.show[2]+e.props.mode,chart_scale_type:e.props.chart_scale_type,histogram_data:e.state.histogram_data,original_data:e.props.original_data,sparkline_data:e.props.sparkline_data,appHandleChange:e.appHandleChange,deviate_by:e.props.deviate_by,model_name:t,grouped_by_year_data:e.state.grouped_by_year_data,cmodel:e.state.cmodel,ref_year:e.state.ref_year,tracking:e.props.tracking}):null})):null,"Time"==this.props.mode&&"Null"!=this.props.time_mode_year1&&"Null"!=this.props.time_mode_year2?["Year1","Year2"].map((function(t,a){return null!=e.state.grouped_by_year_data&&null!=e.props.original_data?n.a.createElement(fe,{task2:e.task2,textClickHandler_original:e.textClickHandler_original,myindex:a,key:t+"slopechart"+e.state.show[2],chart_scale_type:e.props.chart_scale_type,histogram_data:e.state.histogram_data,original_data:e.props.original_data,sparkline_data:e.props.sparkline_data,appHandleChange:e.appHandleChange,deviate_by:e.props.deviate_by,model_name:t,grouped_by_year_data:e.state.grouped_by_year_data,cmodel:e.state.cmodel,ref_year:e.state.ref_year,tracking:e.props.tracking}):null})):null)):null)))}}]),a}(r.Component),Ke=Object(Y.b)((function(e){return{tracking:e.tracking,state_range:e.state_range,deviate_by:e.deviate_by,defualt_models:e.defualt_models,sparkline_data:e.sparkline_data,selected_year:e.selected_year,mode:e.mode,range_mode_model:e.range_mode_model,original_data:e.original_data,time_mode_model:e.time_mode_model,chart_scale_type:e.chart_scale_type,dataset:e.dataset,histogram_data:e.histogram_data,sort_by:e.sort_by,time_mode_year1:e.time_mode_year1,time_mode_year2:e.time_mode_year2,popup_chart_data:e.popup_chart_data,clicked_items_in_slopechart:e.clicked_items_in_slopechart,config:e.config,lime_data:e.lime_data,rank_data:e.rank_data}}),(function(e){return{Set_dataset:function(t){return e({type:"dataset",value:t})},Set_defualt_models:function(t){return e({type:"defualt_models",value:t})},Set_sparkline_data:function(t){return e({type:"sparkline_data",value:t})},Set_slider_max:function(t){return e({type:"slider_max",value:t})},Set_years_for_dropdown:function(t){return e({type:"years_for_dropdown",value:t})},Set_selected_year:function(t){return e({type:"selected_year",value:parseInt(t)})},Set_ref_year:function(t){return e({type:"ref_year",value:t})},Set_original_data:function(t){return e({type:"original_data",value:t})},Set_grouped_by_year_data:function(t){return e({type:"grouped_by_year_data",value:t})},Set_slider_and_feature_value:function(t){return e({type:"slider_and_feature_value",value:t})},Set_clicked_items_in_slopechart:function(t){return e({type:"clicked_items_in_slopechart",value:t})},Set_histogram_data:function(t){return e({type:"histogram_data",value:t})},Set_state_range:function(t){return e({type:"state_range",value:t})},Set_legend_year:function(t){return e({type:"legend_year",value:t})},Set_mode:function(t){return e({type:"mode",value:t})},Set_range_mode_range1:function(t){return e({type:"range_mode_range1",value:t})},Set_range_mode_range2:function(t){return e({type:"range_mode_range2",value:t})},Set_time_mode_range:function(t){return e({type:"time_mode_range",value:t})},Set_time_mode_year1:function(t){return e({type:"time_mode_year1",value:t})},Set_time_mode_year2:function(t){return e({type:"time_mode_year2",value:t})},Set_rank_data:function(t){return e({type:"rank_data",value:t})},Set_lime_data:function(t){return e({type:"lime_data",value:t})},Set_pop_over_models:function(t){return e({type:"pop_over_models",value:t})},Set_default_model_scores:function(t){return e({type:"default_model_scores",value:t})}}}))(We),Je=(a(211),a(67)),$e=(qe={config:{reduced_opacity:.2,animation1:4e3,animation2:2e3,animation3:4e3,animation4:2500},appHandleChange:null,sparkline_data:null,sort_by:"Average Precision",original_data:null,rank_data:null,lime_data:null,grouped_by_year_data:null,slope_chart_ready_to_vis:null,defualt_models:["MART","LinearReg"],state_range:[1,25],deviate_by:0,show:["Slope charts","Rankings","Explanation"],years_for_dropdown:["2006"],selected_year:2006,selected_years:["2006"],slider_min:1,slider_max:50,view_data:1,dataset:"fiscal",histogram_data:[],chart_scale_type:"true",features_with_score:null,ref_year:null,cmodel:"CordAscent",clicked_items_in_slopechart:[],tracking:!1,dummy:null,features_dict:{},features_voted:null,Legend_ready_to_vis:null,legend_model:"CordAscent",legend_show_option:"Rank",legend_year:2012,mode:"Model",range_mode_model:"CordAscent",range_mode_range1:[1,10],range_mode_range2:[20,30],time_mode_model:"CordAscent",time_mode_year1:"Null",time_mode_year2:"Null",time_mode_range:[6,32]},Object(H.a)(qe,"chart_scale_type","true"),Object(H.a)(qe,"slider_and_feature_value",{"Rank range":1,Feature:0}),Object(H.a)(qe,"prev_prop",{}),Object(H.a)(qe,"replay",!1),Object(H.a)(qe,"changed","year"),Object(H.a)(qe,"popup_chart_data",null),Object(H.a)(qe,"pop_over",!0),Object(H.a)(qe,"pop_over_models",["MART","LinearReg"]),Object(H.a)(qe,"clicked_features",[]),Object(H.a)(qe,"drag_drop_feautre_data",{}),Object(H.a)(qe,"dbclicked_features",[]),Object(H.a)(qe,"default_model_scores",{}),Object(H.a)(qe,"all_models",["MART","RandomFor","LinearReg","CordAscent","LambdaMART","LambdaRank","RankBoost","RankNet"]),Object(H.a)(qe,"average_y",!1),Object(H.a)(qe,"average_m",!1),Object(H.a)(qe,"clicked_circles",[]),qe),Qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,t=arguments.length>1?arguments[1]:void 0;if("clicked_circles"===t.type)return Object(q.a)({},e,{clicked_circles:t.value});if("average_y"===t.type)return console.log(t.value),Object(q.a)({},e,{average_y:t.value});if("average_m"===t.type)return console.log(t.value),Object(q.a)({},e,{average_m:t.value});if("selected_years"===t.type)return console.log(t.value),Object(q.a)({},e,{selected_years:t.value[t.value.length-1],selected_year:t.value[t.value.length-1]});if("default_model_scores"===t.type)return Object(q.a)({},e,{default_model_scores:t.value});if("dbclicked_features"===t.type)return Object(q.a)({},e,{dbclicked_features:t.value});if("drag_drop_feautre_data"===t.type)return Object(q.a)({},e,{drag_drop_feautre_data:t.value});if("config"===t.type)return Object(q.a)({},e,{config:t.value});if("show"===t.type)return Object(q.a)({},e,{show:t.value});if("lime_data"===t.type)return Object(q.a)({},e,{lime_data:t.value});if("defualt_models"===t.type)return Object(q.a)({},e,{defualt_models:t.value});if("rank_data"===t.type)return Object(q.a)({},e,{rank_data:t.value});if("original_data"===t.type)return Object(q.a)({},e,{original_data:t.value});if("years_for_dropdown"===t.type)return Object(q.a)({},e,{years_for_dropdown:t.value});if("appHandleChange"===t.type)return Object(q.a)({},e,{appHandleChange:t.value});if("state_range"===t.type)return Object(q.a)({},e,{state_range:t.value});if("selected_year"===t.type)return Object(q.a)({},e,{selected_year:t.value});if("tracking"===t.type)return Object(q.a)({},e,{tracking:t.value});if("grouped_by_year_data"===t.type)return Object(q.a)({},e,{grouped_by_year_data:t.value});if("sort_by"===t.type)return Object(q.a)({},e,{sort_by:t.value});if("deviate_by"===t.type)return Object(q.a)({},e,{deviate_by:t.value});if("mode"===t.type)return Object(q.a)({},e,{mode:t.value});if("slider_max"===t.type)return Object(q.a)({},e,{slider_max:t.value});if("range_mode_model"===t.type)return Object(q.a)({},e,{range_mode_model:t.value});if("range_mode_range1"===t.type)return Object(q.a)({},e,{range_mode_range1:t.value});if("range_mode_range2"===t.type)return Object(q.a)({},e,{range_mode_range2:t.value});if("time_mode_range"===t.type)return Object(q.a)({},e,{time_mode_range:t.value});if("time_mode_model"===t.type)return Object(q.a)({},e,{time_mode_model:t.value});if("time_mode_year1"===t.type)return Object(q.a)({},e,{time_mode_year1:t.value});if("time_mode_year2"===t.type)return Object(q.a)({},e,{time_mode_year2:t.value});if("clicked_items_in_slopechart"===t.type)return Object(q.a)({},e,{clicked_items_in_slopechart:t.value});if("features_with_score"===t.type)return Object(q.a)({},e,{features_with_score:t.value});if("sparkline_data"===t.type)return Object(q.a)({},e,{sparkline_data:t.value});if("legend_show_option"===t.type)return Object(q.a)({},e,{legend_show_option:t.value});if("legend_model"===t.type)return Object(q.a)({},e,{legend_model:t.value});if("histogram_data"===t.type)return Object(q.a)({},e,{histogram_data:t.value});if("dataset"===t.type)return Object(q.a)({},e,{dataset:t.value});if("slider_and_feature_value"===t.type)return Object(q.a)({},e,{slider_and_feature_value:t.value});if("legend_year"===t.type)return Object(q.a)({},e,{legend_year:t.value});if("prev_prop"===t.type)return Object(q.a)({},e,{prev_prop:t.value});if("replay"===t.type)return Object(q.a)({},e,{replay:t.value});if("changed"===t.type)return Object(q.a)({},e,{changed:t.value});if("popup_chart_data"===t.type)return Object(q.a)({},e,{popup_chart_data:t.value});if("pop_over"===t.type)return Object(q.a)({},e,{pop_over:t.value});if("pop_over_models"===t.type){var a=t.value.filter((function(e){return"ListNet"!=e}));return Object(q.a)({},e,{pop_over_models:a})}return"clicked_features"===t.type?Object(q.a)({},e,{clicked_features:t.value}):e},Ze=a(132),et=Object(Ze.a)({typography:{button:{textTransform:"none"}}}),tt=a(261),at=Object(Je.b)(Qe);o.a.render(n.a.createElement(tt.a,{theme:et},n.a.createElement(Y.a,{store:at},n.a.createElement(Ke,null))),document.getElementById("root"))},89:function(e,t,a){e.exports=a.p+"static/media/chart1_data.d3b20544.csv"},90:function(e,t,a){e.exports=a.p+"static/media/chart1_data.cca71c9e.csv"}},[[192,1,2]]]);
//# sourceMappingURL=main.cf2a99ff.chunk.js.map