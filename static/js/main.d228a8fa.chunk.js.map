{"version":3,"sources":["Data/data/fiscal/lime/chart1_data.csv","Data/data/school/lime/chart1_data.csv","Data/fiscal.csv","Data/school.csv","Data/house.csv","Data/data/fiscal/lime/fiscal_rank.csv","Data/data/fiscal/lime/fiscal_lime.csv","Data/data/school/lime/school_rank.csv","Data/data/school/lime/school_lime.csv","Data/data/house/lime/house_rank.csv","Data/data/house/lime/house_lime.csv","Data/data/house/lime/chart1_data.csv","Algorithms/algo1.js","components/Charts/DevPlot/deviation_chart.js","components/Charts/DevPlot/Sparkline.js","components/Charts/misc_algo.js","components/Charts/Model/ModelSlider.js","components/Charts/ExpChart/Create_exp_circles.js","components/Charts/ExpChart/MDS.js","components/Charts/Model/ExpChartComponent.js","components/Charts/Model/YearAndModelSelection/YearModelSelection.js","components/Charts/Popover/chart_pop.js","components/Charts/Popover/FilterModel.js","components/Charts/Popover/Popover.js","components/Charts/Model/ModelChartComponent.js","components/Charts/Range/SliderGroup1.js","components/Charts/Range/SliderGroup2.js","components/Charts/Range/YearAndModelSelection/YearModelSelection.js","components/Charts/Range/ExpChartComponent.js","components/Charts/Range/RangeChartComponent.js","components/themes.js","components/Charts/Time/Year1DropDown.js","components/Charts/Time/Year2DropDown.js","components/Charts/Time/YearAndModelSelection/Slider.js","components/Charts/Time/YearAndModelSelection/YearModelSelection.js","components/Charts/Time/ExpChartComponent.js","components/Charts/Time/YearChart.js","components/Top/FeatureHistograms/FeatureHistograms.js","components/Top/FeatureHistograms/CreateBarChart.js","components/Top/FeatureHistograms/CreateHistogram.js","components/Top/FeaturesDropdown.js","components/Top/SelectMode.js","components/Top/theme.js","components/Top/Threshold.js","components/Top/Top.js","components/BrushTest/BrushTest.js","components/Legend/Legend.js","App.js","store/reducer.js","Themes.js","index.js"],"names":["module","exports","groupby_year","original_data","years","sparkline_data","forEach","element","replace","temp_dict","year","parseInt","rank","push","features_with_score","dataset","models","selected_instances","selected_year","number_of_charts","rank_data","temp1","temp_final","key","map","model","temp2","v","top_nine","length","items","data","feautures","tempvoted_data_with_score","data2","filter","index","Object","keys","item","feauture","parseFloat","sort","first","second","items2","sorted_features","i","key2","Create_deviation_chart","parent_id","parent_exp_id","default_models","anim_config","average","clicked_circles","Set_clicked_circles","diverginColor","Set_selected_year","threshold","div","d3","selectAll","join","attr","style","parent_width","$","width","parent_height","height","includes","temp_scale_data","Math","abs","config","space_for_state_name","fontSize","font_dy","sparkline_width","font_line_gap","line_stroke_width","animation_duration","container_height","my_svg_top_margin","myg_top_margin","y_distance","circle_radius","t","textures","lines","size","strokeWidth","stroke","background","call","d","enter","append","update","transition","duration","rank_animation","exit","remove","this","text","dd","val","substring","parent","s_margin","s_width","s_height","s_svg","x","domain","range","datum","y0","y","y1","raise","on","preventDefault","Create_sparkline","data_for_all_years","line_data","model_name","a","two_realRank","predicted_rank","temp_max","sclale1","url","d2","temp","deviation_animation","delay","circ_data","classed","html","pageX","pageY","handle_transparency","class_name","circle_id","useStyles","makeStyles","theme","root","heading","typography","pxToRem","flexBasis","flexShrink","secondaryHeading","color","palette","secondary","tRoot","marginBottom","rang_input","marginLeft","connect","state","state_range","mode","slider_max","range_mode_model","range_mode_range1","range_mode_range2","time_mode_model","time_mode_range","time_mode_year1","time_mode_year2","years_for_dropdown","slider_and_feature_value","sort_by","grouped_by_year_data","dispatch","Set_state_range","type","value","Set_changed","props","classes","React","useState","sliderRange","set_sliderRange","temp_marks","step","marks","myitem","label","className","paddingTop","border","padding","marginTop","TextField","input","id","onChange","event","isNaN","target","alert","margin","Slider","newValue","onChangeCommitted","valueLabelDisplay","aria-labelledby","xs","Button","backgroundColor","onClick","CreatexpCircle","selection","lime_data","item_width","item_height","deviation_array","feature_name","feature_contrib_name","sum_data","xScale","my_mean","rScale","getRandomArbitrary","min","max","seed","rand","rnd","disp","sin","floor","random","circle_animation","feature_animation","getMdsData","myurl","fetch","method","body","JSON","stringify","headers","then","res","json","response","console","log","catch","error","Create_MDS","mds_ref","circle_data","mds_id","w","h","r","yScale","svg","current","circles","lasso","d3lasso","closePathSelect","closePathDistance","targetArea","possibleItems","notPossibleItems","selected_ids","selectedItems","each","notSelectedItems","SlopeChart","Createsvg","dragged_features","indexed_features","self","histogram_data","under_threshold_instances","year_data","excluded_features","algo1","entries","b","slice","mds_height","feature_containers","setState","clicked_features","Set_clicked_features","feature","dbclicked_features","unshift","set_dbclicked_features","popup_chart_data","Set_popup_chart_data","set_pop_over","deltaY","parentNode","origin_index","lower","difference","document","elementFromPoint","sourceEvent","clientX","clientY","origin_feature","dest_index","indexOf","dest_feature","Set_dragged_features","container","feature_contrib_data_for_mds","MDS_response","parse","mds","line_color","exp","createRef","mouseX","mouseY","window","innerHeight","prevProps","prevState","ref","Component","chart_scale_type","show","average_m","average_y","Set_prev_prop","Set_sparkline_data","Set_replay","all_models","Set_default_models","display","justifyContent","marginRight","fontWeight","Chart","CreateChart","scatterplot_data","feature_contribute","temp_x","temp_y","nice","parent_svg","myid","svg1","hist_height","bins","histogram","y_hist","svg0","x0","x1","y2","tickSize","ticks","tickValues","tickFormat","select","CreateChart_cat","barplot_data","values","bandwidth","merged_arr","concat","apply","pop_over_models","data_arr","clicked_items_in_slopechart","reduced_opacity","idName","Set_clicked_items_in_slopechart","Set_pop_over_models","anchorEl","setAnchorEl","open","Boolean","checked","setChecked","handleToggle","currentIndex","newChecked","splice","aria-controls","aria-haspopup","currentTarget","Menu","keepMounted","onClose","TransitionComponent","Fade","List","labelId","ListItem","role","undefined","Checkbox","edge","tabIndex","temp_Models","checkboxChanged","pop_over","set_clicked_features","position","top","left","pointerEvents","Grid","boxShadow","borderBottom","direction","justify","alignItems","FilterModel","maxHeight","overflow","maxWidth","textClickHandler_original","height_slope_exp_chart","interpolate","deviation_chart","misc_algo","Set_selected_instances","Set_deviation_array","class","spacing","exp_id","Popover","Set_range_mode_range1","Set_range_mode_range2","paddingLeft","Set_range_mode_model","exp_data","selected_instances1","selected_instances2","paddingRight","SliderGroup1","borderRight","SliderGroup2","createMuiTheme","primary","main","overrides","MuiAutocomplete","MuiFilledInput","MuiInputLabel","MuiTextField","MuiButton","textTransform","fullWidth","Root","disableRipple","variant","MuiCheckbox","InputLabelProps","shrink","MuiPaper","elevation","MuiCard","Set_time_mode_year1","Autocomplete","disableClearable","defaultValue","toString","debug","options","option","renderInput","params","InputProps","disableUnderline","Set_time_mode_year2","Set_time_mode_range","Set_time_mode_model","verticalAlign","Box","sx","rowSpacing","columnSpacing","borderTop","borderLeft","Year1DropDown","Year2DropDown","FeatureHistograms","store_instances","instances","all_instances","feature_data","filename","exp_fiscal_CordAscent","exp_school_CordAscent","exp_house_CordAscent","nextProps","nextState","features_dict","feature_index","number_of_features","feature_width","occur","sum_x","feature_height","CreateBarChart","item_data","area_chart_height","myticks","binned_data","thresholds","area_chart_data","areaGenerator","curve","extent","invert","upper","CreateHistogram","borderRadius","filtered_instances","Set","handleClose","Set_histogram_data","deviate_by","Set_slider_max","SimpleMenu","Set_mode","onSubmit","buttonclickHandler","FormControl","component","FormLabel","RadioGroup","aria-label","name","FormControlLabel","control","Radio","outerTheme","Set_threshold","set_threshold","ThemeProvider","noValidate","autoComplete","Input","inputProps","App","setTimeout","Set_view_data","view_data","ref_year","features_voted","Legend_ready_to_vis","legend_model","ButtonGroup","SelectMode","Threshold","Row","handleradioChange","innerWidth","Legend","legend_container_width","legend_container_height","legend1_rScale","legend1_yScale","legend1_height","legend1_ticks","legend1_svg","legend2_svg_height","legend2_height","legend2_yScale","legend2_ticks","rect_height","legend2_svg","Set_legend_year","dataprocessor","dataset_name","process_data","school","school_rank","school_lime","fiscal","fiscal_rank","fiscal_lime","house","house_rank","house_lime","slopechart_data_filename","rank_data_filename","lime_data_filename","Set_years_for_dropdown","Set_grouped_by_year_data","Set_original_data","nested_data","Set_rank_data","temp_data","Set_lime_data","selected_dataset","Set_dataset","Top","YearChart","legend_width","tracking","Set_ref_year","Set_slider_and_feature_value","Set_default_model_scores","initialState","appHandleChange","slope_chart_ready_to_vis","slider_min","cmodel","dummy","legend_show_option","legend_year","reducer","action","default_model_scores","drag_drop_feautre_data","prev_prop","replay","changed","button","MuiGrid","store","createStore","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.d228a8fa.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/chart1_data.d3b20544.csv\";","module.exports = __webpack_public_path__ + \"static/media/chart1_data.cca71c9e.csv\";","module.exports = __webpack_public_path__ + \"static/media/fiscal.977bae2d.csv\";","module.exports = __webpack_public_path__ + \"static/media/school.2d2c77ef.csv\";","module.exports = __webpack_public_path__ + \"static/media/house.88979d03.csv\";","module.exports = __webpack_public_path__ + \"static/media/fiscal_rank.6e0a824e.csv\";","module.exports = __webpack_public_path__ + \"static/media/fiscal_lime.312a4eb2.csv\";","module.exports = __webpack_public_path__ + \"static/media/school_rank.edf0b9e3.csv\";","module.exports = __webpack_public_path__ + \"static/media/school_lime.2c25b5ee.csv\";","module.exports = __webpack_public_path__ + \"static/media/house_rank.f85c2352.csv\";","module.exports = __webpack_public_path__ + \"static/media/house_lime.b31dfb61.csv\";","module.exports = __webpack_public_path__ + \"static/media/chart1_data.45acbae8.csv\";","export function groupby_year(original_data) {\n  var years = {}\n  var sparkline_data = {}\n  original_data.forEach(element => {\n    years[element['1-qid']] = []\n    sparkline_data[element['State'].replace(/ /g, '').replace(/[^\\w\\s]/gi, '')] = []\n  });\n\n  original_data.forEach(element => {\n    var temp_dict = { year: parseInt(element['1-qid']), rank: parseInt(element['two_realRank']) }\n    sparkline_data[element['State'].replace(/ /g, '').replace(/[^\\w\\s]/gi, '')].push(temp_dict)\n    years[element['1-qid']].push(element)\n  });\n  return { years: years, sparkline_data: sparkline_data };\n}\nexport function features_with_score(dataset, models, selected_instances, selected_year, number_of_charts, rank_data) {\n  var temp1 = {}\n  var temp_final = {}\n  models.map(model => {\n    var temp2 = {}\n    var v = number_of_charts;\n    var top_nine = sorted_features(dataset, model, selected_instances, selected_year,rank_data)\n    if (top_nine.length < number_of_charts) { v = top_nine.length;; number_of_charts = top_nine.length } // This is because number of charts is calculated based on space but there are cases when we don't have that many features\n    for (var i = 0; i < number_of_charts; i++) {\n      temp2[top_nine[i]] = v;\n      v = v - 1\n    }\n    temp1[model] = temp2\n  });\n\n  for (var key in temp1) {\n    for (var key2 in temp1[key]) {\n      if (temp_final[key2] > 0) {\n\n        temp_final[key2] = temp_final[key2] + temp1[key][key2]\n      }\n      else {\n        temp_final[key2] = temp1[key][key2]\n      }\n    }\n  }\n  return temp_final;\n}\n\n\nexport function sorted_features(dataset, model, selected_instances, selected_year,rank_data) { // Uses feature rank to rank and return features name by removing the feature_rank string\n //return Object.keys(rank_data[model][0]).filter(item=>!['1-qid','model'].includes(item)).map(item=>item.replace(\"_feature_rank\", \"\"))\n  if (!selected_instances.length > 0) { return [] }\n  selected_instances = selected_instances.map(element => element - 1)\n  var tempvoted_data_with_score = {},items,data,feautures;\n\n  if (model == \"ListNet\") { return [] }\n  var data2 = rank_data[model].filter(element => { if (parseInt(element['1-qid']) == parseInt(selected_year)) { return element } })\n  data = selected_instances.map(index => data2[index])\n  feautures = Object.keys(data[0])\n  data.map(item => {\n    feautures.forEach(feauture => {\n      if (tempvoted_data_with_score[feauture] >= 0 || tempvoted_data_with_score[feauture] < 0) {\n        tempvoted_data_with_score[feauture] = tempvoted_data_with_score[feauture] + (parseFloat(item[feauture]))\n      }\n      else { tempvoted_data_with_score[feauture] = parseFloat(item[feauture]) }\n    })\n  })\n  //-----------------------------------------------------------------\n  // Create items array\n  items = Object.keys(tempvoted_data_with_score).map(function (key) {\n    return [key, tempvoted_data_with_score[key]];\n  });\n  // Sort the array based on the second element\n  items.sort(function (first, second) {\n    return first[1] - second[1];\n  });\n  var items2 = items.map((element) => element[0].replace(\"_feature_rank\", \"\"))\n  items2 = items2.filter(item => item != \"1-qid\" && item!=\"model\")\n  return items2;\n  //-----------------------------------------------------------------\n}\n","import * as d3 from 'd3';\nimport * as $ from 'jquery';\nimport textures from 'textures';\nimport Create_sparkline from \"./Sparkline\"\n\nexport function Create_deviation_chart(parent_id,parent_exp_id, selected_instances, original_data, default_models, anim_config, selected_year, average, clicked_circles, Set_clicked_circles, diverginColor,sparkline_data,Set_selected_year,dataset,threshold) {\n  var div = d3.select(\"body\").selectAll('.tooltip').data([0]).join(\"div\").attr(\"class\", \"tooltip\").style(\"opacity\", 0);\n  var parent_width = $(\"#\" + parent_id).width() - 5\n  var parent_height = $(\".\" + 'deviation_plot_container_div').height() // deviation_plot_container_div is the div that contains the deviation plot for all modes\n  var data = original_data.filter(item => selected_year==item['1-qid'] && selected_instances.includes(parseInt(item['two_realRank'])))\n  var temp_scale_data = []\n  data.map(item => { default_models.map(model => temp_scale_data.push(Math.abs(parseInt(item[model]) - parseInt(item['two_realRank'])))) })\n  // font_line_gap=sparkline_width+4\n  var config = { space_for_state_name: 120,fontSize: 12, font_dy: -6, sparkline_width:20,font_line_gap: 24, line_stroke_width: 10, animation_duration: 0, container_height: 100, my_svg_top_margin: 10, myg_top_margin: 10 }\n  var y_distance = parent_height/selected_instances.length\n  if(y_distance<15){var y_distance=15}\n  d3.select(\"#\" + parent_id).attr(\"height\",y_distance*selected_instances)\n\n  var circle_radius = config.line_stroke_width / 2\n  var t = textures.lines().size(5).strokeWidth(2).stroke(\"#cccccc\").background(\"gray\");\n  var svg=d3.select(\"#\" + parent_id).attr('height', y_distance + data.length * y_distance).call(t)\n  var parent_g = svg.selectAll(\".parent_g\").data([0]).join('g').attr('class', 'parent_g').attr('transform', \"translate(\" + 0 + \",13)\")\n  var items_g = parent_g.selectAll(\".items\").data(data, d => d['State']).join(enter => enter.append(\"g\").attr(\"class\", \"items\")\n    .attr('transform', (d, i) => \"translate(\" + config.space_for_state_name + \",\" + i * y_distance + \")\")\n    , update => update.transition().duration(anim_config.rank_animation).attr('transform', (d, i) => \"translate(\" + config.space_for_state_name + \",\" + i * y_distance + \")\")\n    , exit => exit.remove()\n  )\n  items_g.attr(\"add_state\", function (d) {\n    d3.select(this).selectAll(\"text\").data([d]).join('text')\n    .text(dd=>{\n      var max_textsize=15\n      var val = d['State']\n          if (val.length > max_textsize) { val = val.replace(\"University\", \"U\") }\n          if(val.length > max_textsize){val = val.substring(0, max_textsize)+\"..\"}\n          return val + \" \" + d['two_realRank'] \n    })\n    .attr('fill', d => diverginColor(d['two_realRank'])).attr(\"dominant-baseline\", \"hanging\").attr(\"font-size\", config.fontSize)\n      .attr(\"x\", 0).attr('text-anchor', 'end').attr(\"dy\", config.font_dy)\n  }).attr(\"add_sparkline\", function (d) {\n    // sparkline height is y_distance\n    if(dataset!='house'){Create_sparkline(d3.select(this),config,config.line_stroke_width,sparkline_data,d,diverginColor,selected_year,Set_selected_year)}\n  })\n    .attr(\"add_lines_and_circles\", function (d) {\n      var data_for_all_years = data.filter(item => d['two_realRank'] == parseInt(item['two_realRank']))\n      var line_data = []\n      default_models.map(model_name => {\n        data_for_all_years.map(item => {\n          var a = {}\n          var two_realRank = parseInt(item['two_realRank'])\n          var predicted_rank = parseInt(item[model_name])\n          a['two_realRank'] = two_realRank\n          a['predicted_rank'] = predicted_rank\n          a[\"model\"] = model_name\n          a['year'] = item['1-qid']\n          if (Math.abs(predicted_rank - two_realRank) < threshold) {\n            line_data.push(a)\n          }\n        })\n      })\n      // This is only for scaling starts here\n      var temp_scale_data = []\n      data.map(item => { default_models.map(model => temp_scale_data.push(Math.abs(parseInt(item[model]) - parseInt(item['two_realRank'])))) })\n      var temp_max = d3.max(temp_scale_data)\n      var sclale1 = d3.scaleLinear().domain([0, temp_max]).range([config.font_line_gap, parent_width - (config.space_for_state_name + circle_radius)])\n      if (temp_max == 0) { var sclale1 = d3.scaleLinear().domain([0, temp_max]).range([config.font_line_gap, 0]) }\n      // This is only for scaling ends here\n      d3.select(this).selectAll(\"line\").data([d]).join(enter => enter.append('line')\n        .attr(\"x1\", config.font_line_gap).attr(\"y1\", (d, i) => y_distance * i).attr(\"y2\", (d, i) => y_distance * i).attr(\"stroke-width\", config.line_stroke_width).attr(\"stroke\", t.url()).attr(\"x2\", (d2) => {\n          var temp = []\n          line_data.map(item => temp.push(Math.abs(item[\"predicted_rank\"] - item[\"two_realRank\"])))\n          return sclale1(d3.max(temp))\n        })\n        // Update\n        , update => update.transition().duration(anim_config.deviation_animation).delay(anim_config.rank_animation).attr(\"x2\", (d2) => {\n          var temp = []\n          line_data.map(item => temp.push(Math.abs(item[\"predicted_rank\"] - item[\"two_realRank\"])))\n          return sclale1(d3.max(temp))\n        }))\n      // ------------ Circles start here\n      var data_for_all_years = data.filter(item => d['two_realRank'] == parseInt(item['two_realRank']))\n      var circ_data = []\n      default_models.map(model_name => {\n        data_for_all_years.map(item => {\n          var a = {}\n          var two_realRank = parseInt(item['two_realRank'])\n          var predicted_rank = parseInt(item[model_name])\n          a['two_realRank'] = two_realRank\n          a['predicted_rank'] = predicted_rank\n          a[\"model\"] = model_name\n          a['year'] = item['1-qid']\n          a['id'] =item['State'].replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\") + model_name.replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\")\n          if (Math.abs(predicted_rank - two_realRank) < threshold) {\n            circ_data.push(a)            \n          }\n        })\n      })\n      var my_circs = d3.select(this).selectAll(\".my_circles\").data(circ_data, d => d['id']).join(\n        enter => enter.append(\"circle\").attr('id', d => d['id']).attr('class', 'my_circles').attr(\"cx\", (d2, i) => {\n          d3.select(this).classed(d2['id'], true)\n          if (d2[\"predicted_rank\"] - d2['two_realRank'] == 0) { return sclale1(Math.abs(d2[\"predicted_rank\"] - d2['two_realRank'])) + circle_radius }\n          return sclale1(Math.abs(d2[\"predicted_rank\"] - d2['two_realRank']))\n        })\n        // Update\n        , update => update.transition().duration(anim_config.deviation_animation).delay(anim_config.rank_animation).attr(\"cx\", (d2, i) => {\n          d3.select(this).classed(d2['id'], true)\n          if (d2[\"predicted_rank\"] - d2['two_realRank'] == 0) { return sclale1(Math.abs(d2[\"predicted_rank\"] - d2['two_realRank'])) + circle_radius }\n          return sclale1(Math.abs(d2[\"predicted_rank\"] - d2['two_realRank']))\n        })\n      )\n      my_circs.attr(\"r\",item=> {\n          return circle_radius\n    })\n      .attr('fill', d => diverginColor(d['two_realRank'])).attr(\"parent_id\", parent_exp_id)\n        .on('click', d => Set_clicked_circles(clicked_circles.includes(d['id']) ? clicked_circles.filter(item => item != d['id']) : [...clicked_circles, d['id']]))\n        .on(\"mouseover\", function (d2) {\n          div.transition().duration(200).style(\"opacity\", .9);\n          div.html(\"Year : \" + d2[\"year\"] + \"<br></br>\" + \"Model: \" + d2[\"model\"] + \"<br></br>\" + \"Deviation: \" + Math.abs(d2[\"predicted_rank\"] - d2['two_realRank']))\n          .style(\"left\", (d3.event.pageX - 140) + \"px\").style(\"top\", (d3.event.pageY - 98) + \"px\");\n        }).on(\"mouseout\", function (d2) {\n          //d3.select(this).classed(d2['id'],true)\n          div.transition()\n            .duration(500)\n            .style(\"opacity\", 0);\n        })\n\n    })\n\n}","import * as d3 from 'd3';\nexport default function Create_sparkline(parent, config, y_distance, sparkline_data, d, diverginColor, selected_year, Set_selected_year) { // sparkline height is y_distance\n    var year = selected_year\n    var s_margin = { top: 0, right: 0, bottom: 0, left: 4 },\n        s_width = config.sparkline_width - 2,\n        s_height = y_distance - 2;\n    var s_svg = parent.selectAll(\".sparkline_svg\").data([0]).join(\"svg\").attr(\"class\", \"sparkline_svg\").attr(\"x\", 2).attr(\"y\", -3)\n        .attr(\"width\", s_width + s_margin.left + s_margin.right)\n        .attr(\"height\", s_height + s_margin.top + s_margin.bottom)\n    \n    var data = sparkline_data[d['State'].replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\")]\n    // Add X axis  \n    var x = d3.scaleLinear().domain(d3.extent(data, function (d) { return d.year; })).range([0, s_width]);\n    //-----------------------------------------------------------------------------------------------------------------------------------------Add the area\n    s_svg.selectAll(\"path\").remove()\n    s_svg.append(\"path\")\n        .datum(data, d => d)\n        .attr(\"id\", \"A\")\n        .attr(\"opacity\", 1)\n        .attr(\"fill\", diverginColor(d['two_realRank'])) //#969696\n        .attr(\"stroke\", diverginColor(d['two_realRank']))\n        .attr(\"stroke-width\", (d) => {\n            return 1.5\n        })\n        .attr(\"d\", d3.area()\n            .x(function (d) { return x(d.year) })\n            .y0(function () {\n                var y = d3.scaleLinear().domain([0, d3.max(data, function (d) { return +d.rank; })]).range([s_height, 0]);\n                return y(0)\n            })\n            .y1(function (d) {\n                var y = d3.scaleLinear().domain([0, d3.max(data, function (d) { return +d.rank; })]).range([0, s_height]);\n                return y(d.rank)\n            })\n        )\n    //------------Circles\n    s_svg.selectAll('circle').raise().data(data).join('circle')\n        .attr('cx', function (d, i) { return x(d.year) })\n        .attr('cy', s_height - 2)\n        .attr(\"class\", \"myid\")\n        .on(\"mouseover\", function (d) {\n            d3.select(this).style('fill', 'black')\n            d3.select(this).attr('r', 3)\n        })\n        .style('fill', (d) => d.year != year ? 'transparent' : 'black')\n        .attr('class', (d) => d.year != year ? 'transparent_class' : 'red_class')\n        .attr('r', 2)\n        .on('dblclick', (d, i) => {\n            d3.event.preventDefault();\n            Set_selected_year(d.year)\n        })\n        .on(\"mouseout\", function (d) {\n            d3.select(this).style('fill', 'transparent')\n            d3.select(this).style('fill', d.year != year ? 'transparent' : 'black')\n            d3.select(this).attr('r', 2)\n        })\n}","import * as d3 from 'd3';\nexport function handle_transparency(class_name, clicked_circles, anim_config) {\n    \n    if (clicked_circles.length != 0) { // If there are no clicked circles make all opacity 1\n        d3.selectAll(\".items\").attr('opacity', 0.6) // Groups\n        d3.selectAll(\".\" + \"my_circles\").attr('opacity', 0.3) // Circles\n        clicked_circles.map(circle_id => {\n            d3.selectAll(\".\" + circle_id).attr('opacity', 1) // Groups\n            d3.selectAll(\"#\" + circle_id).attr('opacity', 1) // Circles\n        })\n    }\n    else {\n        d3.selectAll(\".items\").attr('opacity', 1); // Groups\n        d3.selectAll(\".\" + \"my_circles\").attr('opacity', 1) // Circles \n    }\n}\nexport function draw_lines(clicked_circles, diverginColor) {\n   \n}","import React from 'react';\nimport * as $ from 'jquery';\nimport Slider from '@material-ui/core/Slider';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { connect } from \"react-redux\";\nimport TextField from '@material-ui/core/TextField';\nimport Button from \"@material-ui/core/Button\";\nimport './ModelSlider.scss';\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: '100%',\n    },\n    heading: {\n        fontSize: theme.typography.pxToRem(15),\n        flexBasis: '33.33%',\n        flexShrink: 0,\n    },\n    secondaryHeading: {\n        fontSize: theme.typography.pxToRem(15),\n        color: theme.palette.text.secondary,\n    },\n    tRoot: {\n        marginBottom: 35,\n    },\n    rang_input: {\n        marginLeft: 10,\n    },\n}));\nfunction Modes(props) {\n    const classes = useStyles();\n    // states \n    const [sliderRange, set_sliderRange] = React.useState(props.state_range);\n    //-----------------------------------------------------------------\n    var temp_marks = [];\n    var step = (props.slider_max - 1) / (6 - 1);\n    for (var i = 0; i < 6; i++) {\n        temp_marks.push(1 + (step * i));\n    }\n    var marks = temp_marks.map(item => {\n        var myitem = parseInt(item)\n        return { value: myitem, label: myitem }\n    })\n    //console.log(props.marks)\n    //-----------------------------------------------------------------\n    return (\n        <div className=\"Modelslider\" style={{height: 70, width: \"99%\",\n            paddingTop: 30, border: \"2px solid rgb(178, 178, 178,0.5)\"\n        }} >\n            <div className=\"lower\" style={{ padding: \"0px 0px\", marginTop: -20 }}>\n                <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Lower\" value={sliderRange[0]} style={{ width: \"100%\" }}\n                    onChange={event => {\n                        if (isNaN(parseInt(event.target.value))) {\n                            set_sliderRange([\"\", sliderRange[1]])\n                        } else {\n                            if (event.target.value > sliderRange[1]) {\n                                alert(\"Lower range can not be larger than the upper range\")\n                            }\n                            else {\n                                set_sliderRange([event.target.value, sliderRange[1]])\n                            }\n                        }\n                    }\n                    }\n                />\n            </div>\n            <div className=\"slider\" style={{width: \"100%\", margin: \"0px 0px\" }}>\n                <Slider value={sliderRange} onChange={(event, newValue) => set_sliderRange(newValue)} onChangeCommitted={(event, newValue) => props.Set_changed(\"range\")}\n                    valueLabelDisplay=\"auto\" aria-labelledby=\"range-slider\" valueLabelDisplay=\"on\" min={1} max={props.slider_max} marks={marks}\n                />\n            </div>\n            <div className=\"upper\" style={{ padding: \"0px 0px\", marginTop: -20 }}>\n                <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Upper\" value={sliderRange[1]} style={{ width: \"100%\" }}\n                    onChange={event => {\n                        if (isNaN(parseInt(event.target.value))) {\n                            set_sliderRange([sliderRange[0], \"\"])\n                        } else {\n                            if (parseInt(event.target.value) > props.slider_max) {\n                                alert(\"Upper range can not exceed maximum\")\n                                set_sliderRange([sliderRange[0], props.slider_max])\n                            }\n                            else {\n                                set_sliderRange([sliderRange[0], parseInt(event.target.value)])\n                            }\n                        }\n                    }\n                    }\n                />\n            </div>\n            <div className=\"button\" item xs=\"2\" style={{ marginTop: -10 }}>\n                <Button className=\"range_button\" style={{ backgroundColor: \"#ededed\", height: 30 }}\n                    onClick={() => {\n                        props.Set_state_range(sliderRange)\n                    }}\n                >Update range</Button>\n            </div>\n        </div>\n    );\n}\nconst maptstateToprop = (state) => {\n    return {\n        selected_year: state.selected_year,\n        state_range: state.state_range,\n        mode: state.mode, // Model mode model\n        slider_max: state.slider_max,\n        range_mode_model: state.range_mode_model, // Range mode model\n        range_mode_range1: state.range_mode_range1,\n        range_mode_range2: state.range_mode_range2,\n        time_mode_model: state.time_mode_model, // Time mode model\n        time_mode_range: state.time_mode_range,\n        time_mode_year1: state.time_mode_year1,\n        time_mode_year2: state.time_mode_year2,\n        years_for_dropdown: state.years_for_dropdown,\n        dataset: state.dataset,\n        default_models: state.default_models,\n        slider_and_feature_value: state.slider_and_feature_value,\n        sort_by: state.sort_by,\n        grouped_by_year_data: state.grouped_by_year_data\n    }\n}\nconst mapdispatchToprop = (dispatch) => {\n    return {\n        Set_state_range: (val) => dispatch({ type: \"state_range\", value: val }),\n        Set_changed: (val) => dispatch({ type: \"changed\", value: val }),\n    }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Modes);","import * as d3 from \"d3\";\nexport default function CreatexpCircle(d, selection, selected_instances,\n    lime_data, selected_year, default_models, clicked_circles, Set_clicked_circles, diverginColor, anim_config, item_width, item_height, deviation_array, index,threshold) {\n    var margin = { item_top_margin: 25, item_bottom_margin: 6, circ_radius: 5, item_left_margin: 6, item_right_margin: 6 }\n    var feature_name = d[0]\n    var feature_contrib_name = d[0] + \"_contribution\"\n    var circ_data = []\n    var sum_data = []\n    default_models.map(model => {\n        lime_data[model].map(item => {\n            if (parseFloat(item[feature_contrib_name])>0 && item['1-qid'] == selected_year && selected_instances.includes(parseInt(item['two_realRank']))) {\n                if(item['deviation']<threshold){sum_data.push(parseFloat(item[feature_contrib_name]))}\n                item['id'] = item['State'].replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\") + model.replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\")\n                circ_data.push(item)\n            }\n        })\n    })\n    // Draw circle starts here\n    if (isNaN(lime_data[default_models[0]][0][feature_name])) {\n        var yScale = d3.scaleBand().domain(lime_data[default_models[0]].map(item => item[feature_name])).range([margin.item_top_margin, item_height - margin.item_bottom_margin])\n    }\n    else {\n        var yScale = d3.scaleLinear().domain([d3.min(circ_data.map(item => parseFloat(item[d[0]]))), d3.max(circ_data.map(item => parseFloat(item[d[0]])))]).range([margin.item_top_margin, item_height - margin.item_bottom_margin])\n    }\n    var xScale = d3.scaleLinear().domain([d3.min(circ_data.map(item => parseFloat(item[feature_contrib_name]))), d3.max(circ_data.map(item => parseFloat(item[feature_contrib_name])))]).range([margin.item_left_margin, item_width - margin.item_right_margin])\n    //----------\n    var my_mean = d3.mean(sum_data)\n    //----------\n    selection.selectAll(\".my_mean_line\").data([0]).join(\"line\").attr(\"class\", \"my_mean_line\").attr(\"x1\", xScale(my_mean)).attr(\"x2\", xScale(my_mean)).attr(\"y1\", 18).attr(\"y2\", item_height).attr('stroke', \"rgb(96, 96, 96,0.5)\").attr('stroke-width', 1)\n    var rScale = d3.scaleLinear().domain(d3.extent(deviation_array)).range([5, 2])\n    var mycircles = selection.selectAll(\".my_circles\").data(circ_data, d => d['id']).join(\n        enter => enter.append('circle')\n            .attr('id', d => d['id'])\n            .attr('class', d => 'my_circles')\n            .attr('fill', d => diverginColor(d['two_realRank']))\n            .attr(\"transform\", function (d, i) {\n                var x_transform = xScale(parseFloat(d[feature_contrib_name]))\n                var y_transform = getRandomArbitrary(margin.item_top_margin, item_height - margin.item_bottom_margin, i)\n                return \"translate(\" + x_transform + \",\" + y_transform + \")\";\n            })\n            .attr(\"r\", d => d['deviation']>threshold?0:rScale(d['deviation']))\n        // Update\n        , update => update.attr('class', d => d['id'] + ' items circle2 my_circles')\n            .transition().duration(anim_config.circle_animation).delay(anim_config.rank_animation + anim_config.deviation_animation + anim_config.feature_animation)\n            .attr(\"transform\", function (d, i) {\n                var x_transform = xScale(parseFloat(d[feature_contrib_name]))\n                var y_transform = getRandomArbitrary(margin.item_top_margin, item_height - margin.item_bottom_margin, i)\n                return \"translate(\" + x_transform + \",\" + y_transform + \")\";\n            })\n            .attr('id', d => d['id'])\n            .attr(\"r\", d => d['deviation']>threshold?0:rScale(d['deviation']))\n        , exit => exit.remove())\n    mycircles.attr(\"myindex\",index).attr('feature_name',d[0]).on('click', d => {\n        Set_clicked_circles(clicked_circles.includes(d['id']) ? clicked_circles.filter(item => item != d['id']) : [...clicked_circles, d['id']])\n    }\n    )\n    if(index==0){selection.selectAll(\".avg_text\").data(['avg']).join(\"text\").attr(\"x\", xScale(my_mean)+5).attr(\"class\", \"avg_text\").attr(\"myindex\",index).attr(\"y\", (item_height-margin.item_top_margin-margin.item_bottom_margin)/2+margin.item_top_margin).text('avg').attr('font-size', 12)\n    .attr('dominant-baseline', \"middle\").attr('text-anchor','middle').attr('transform',d=>\"rotate(-90,\"+(xScale(my_mean)+5)+\",\"+((item_height-margin.item_top_margin-margin.item_bottom_margin)/2+margin.item_top_margin)+\")\")}\n    else{selection.selectAll('.avg_text').remove()}\n    // Draw circle ends here\n    function getRandomArbitrary(min, max, seed) {\n        min = min || 0;\n        max = max || 1;\n        var rand;\n        if (typeof seed === \"number\") {\n            seed = (seed * 9301 + 49297) % 233280;\n            var rnd = seed / 233280;\n            var disp = Math.abs(Math.sin(seed));\n            rnd = (rnd + disp) - Math.floor((rnd + disp));\n            rand = Math.floor(min + rnd * (max - min + 1));\n        } else {\n            rand = Math.floor(Math.random() * (max - min + 1)) + min;\n        }\n        return rand;\n    }\n}","import * as d3 from 'd3';\nimport * as $ from 'jquery';\nimport * as d3lasso from 'd3-lasso';\nexport default function getMdsData(myurl, data) {\n  return fetch(myurl, {\n    method: 'POST',\n    body: JSON.stringify(data),\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }).then(res => res.json())\n    .then(response => {\n      console.log(response)\n      return response;\n    }).catch(error => console.error('Error: from Json Handler', error));\n}\nexport function Create_MDS(mds_ref,circle_data,mds_id,diverginColor, Set_clicked_circles) {\n  //console.log(circle_data,\"MDS_data\")\n  //---------------------------------------------------------------------------\n  // Create mds ends here\n  var margin = { item_top_margin: 15, right: 14, bottom: 0, left: 20, circ_radius: 5, item_left_margin: 25, item_right_margin: 3 }\n  var w = $(mds_id).width() - margin.item_left_margin\n  var h = $(mds_id).height() - margin.item_top_margin * 2\n  var r = 5;\n  var xScale = d3.scaleLinear().domain(d3.extent(circle_data.map(item => item['x']))).range([r * 2, w - r * 2])\n  var yScale = d3.scaleLinear().domain(d3.extent(circle_data.map(item => item['y']))).range([r * 2, h - r * 2])\n\n  var svg = d3.select(mds_ref.current).style(\"border\", \"1px solid #eaeaea\")\n\n  var circles = svg.selectAll(\"circle\")\n    .data(circle_data)\n    .join(\"circle\")\n    .attr(\"cx\", d => xScale(d['x']))\n    .attr(\"cy\", d => yScale(d['y']))\n    .attr(\"r\", r)\n    .attr(\"fill\", d => diverginColor(d[\"two_realRank\"]))\n    .attr('id', d => d['id'])\n    .attr('class', 'my_circles')\n  // Lasso functions\n  var lasso_start = function () {\n    lasso.items()\n      .attr(\"r\", 5) // reset size\n      .classed(\"not_possible\", true)\n      .classed(\"selected\", false);\n  };\n\n  var lasso_draw = function () {\n    // Style the possible dots\n    lasso.possibleItems()\n      .classed(\"not_possible\", false)\n      .classed(\"possible\", true);\n\n    // Style the not possible dot\n    lasso.notPossibleItems()\n      .classed(\"not_possible\", true)\n      .classed(\"possible\", false);\n  };\n\n  var lasso_end = function () {\n    var selected_ids = []\n    lasso.selectedItems().each(function () {\n      selected_ids.push(d3.select(this).attr(\"id\"))\n    })\n    Set_clicked_circles(selected_ids)\n    // Reset the color of all dots\n    lasso.items()\n      .classed(\"not_possible\", false)\n      .classed(\"possible\", false);\n\n    // Style the selected dots\n    lasso.selectedItems()\n      .classed(\"selected\", true)\n      .attr(\"r\", 6);\n\n    // Reset the style of the not selected dots\n    lasso.notSelectedItems()\n      .attr(\"r\", 5);\n\n  };\n  var lasso = d3lasso.lasso()\n    .closePathSelect(true)\n    .closePathDistance(100)\n    .items(circles)\n    .targetArea(svg)\n    .on(\"start\", lasso_start)\n    .on(\"draw\", lasso_draw)\n    .on(\"end\", lasso_end);\n  svg.call(lasso);\n}\n\n\n","import React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport { connect } from \"react-redux\";\nimport * as algo1 from \"../../../Algorithms/algo1\";\nimport * as $ from 'jquery';\nimport CreatexpCircle from \"../ExpChart/Create_exp_circles\"\nimport getMdsData from \"../ExpChart/MDS\"\nimport { Create_MDS } from \"../ExpChart/MDS\"\nimport \"../ExpChart/MDS.css\"\nclass SlopeChart extends Component {\n  constructor(props) {\n    super(props);\n    this.line_color = null;\n    this.exp = React.createRef()\n    this.mds = React.createRef()\n    this.state = { mds_height: 110, mouseX: 0, mouseY: 0, excluded_features: [], sorted_features: null, circle_data: null, indexed_features: null, random: true }\n  }\n  componentDidMount() {\n    this.setState({ width: window.innerHeight })\n  }\n  componentDidUpdate(prevProps, prevState) {\n    console.log($('.right_container').width(), 'right_container')\n    this.Createsvg(this.props.model_name, this.props.dragged_features, null)\n  }\n  Createsvg = (model_name, dragged_features, indexed_features) => {\n    var self = this\n    var selected_instances = d3.range(this.props.state_range[0], this.props.state_range[1] + 1)\n    if (this.props.histogram_data.length > 0) { selected_instances = this.props.histogram_data }\n    //-------------------- Threshold filter\n    var under_threshold_instances = []\n    var year_data = this.props.original_data.filter(item => this.props.selected_year == item['1-qid'])\n    this.props.default_models.map(model_name => {\n      year_data.map(item => {\n        var two_realRank = parseInt(item['two_realRank'])\n        var predicted_rank = parseInt(item[model_name])\n        if (Math.abs(predicted_rank - two_realRank) < this.props.threshold) {\n          under_threshold_instances.push(two_realRank)\n        }\n      })\n    })\n    selected_instances = selected_instances.filter(item => under_threshold_instances.includes(item))\n    //--------------------\n\n    //------------------------------\n    var number_of_charts = 8 + self.state.excluded_features.length\n    var features_with_score = algo1.features_with_score(this.props.dataset, [model_name], selected_instances, this.props.selected_year, number_of_charts, this.props.rank_data)\n    if (model_name in self.props.dragged_features) { features_with_score = self.props.dragged_features[model_name] }\n    var indexed_features = Object.entries(features_with_score).sort((a, b) => b[1] - a[1]).map((item, i) => item[0])\n    var temp_sorted_features = indexed_features.filter(item => !this.state.excluded_features.includes(item))// Exclude crossed features \n    var sorted_features = temp_sorted_features.slice(0, number_of_charts).map((item, index) => [item, index])\n    console.log(self.state.excluded_features.length, number_of_charts, sorted_features.length, \"feature_contrib_data_for_mds\")\n    var marginTop = 5;\n    var parent_height = parseInt($('.explanation_chart_parent').height()) - this.state.mds_height - parseInt($('.title_p').height())\n    var item_width = parseInt($(\"#\" + model_name).width())\n    var item_height = (parent_height - 10) / sorted_features.length - marginTop // 10 is the top margin\n    var feature_containers = d3.select('#' + model_name).attr('height', parent_height).selectAll(\".feature_items\").data(sorted_features, d => d[0])\n      .join(enter => enter.append(\"svg\").attr(\"y\", (d, i) => marginTop + i * (item_height + marginTop))\n        , update => update.transition().duration(2000).attr(\"y\", (d, i) => marginTop + i * (item_height + marginTop))\n        , exit => exit.remove()\n      )\n    feature_containers.attr(\"class\", d => \"feature_items \" + d[0]).attr(\"myindex\", (d, i) => i).attr('feature_name', d => d[0])\n    feature_containers.attr(\"add_title_text_and_rect_for_title_text\", function (d, index) {\n      d3.select(this).selectAll(\".title_rect\").data([0]).join('rect').attr(\"class\", \"title_rect\").attr(\"myindex\", index).attr('feature_name', d[0]).attr(\"width\", \"100%\").attr(\"height\", 18).attr(\"fill\", \"#e2e2e2\").attr(\"y\", 0).attr(\"x\", 0)\n      d3.select(this).selectAll(\".title_text\").data([0]).join('text').attr(\"class\", \"title_text\").attr(\"myindex\", index).attr('feature_name', d[0]).attr('x', item_width / 2).text(d[0]).attr(\"dominant-baseline\", \"hanging\")\n        .attr(\"y\", 2).attr('text-anchor', 'middle').attr('font-size', 12)\n    })\n    feature_containers.attr(\"add_cross_button\", function (d, index) {\n      d3.select(this).selectAll(\".cross_button\").data([0]).join(\"text\").attr('y', 7.3).attr('dominant-baseline', 'middle').attr(\"myindex\", index).attr('feature_name', d[0]).raise()\n        .attr('x', item_width - 15).style('cursor', 'pointer').attr('font-size', 12).attr('fill', 'black')\n        .text(\"\\uf410\").attr('class', \"cross_button fa make_cursor\").on('click', () => {\n          //alert(\"clicked!\")\n          d3.event.preventDefault()\n          self.setState({ excluded_features: [...self.state.excluded_features, d[0]] })\n        })\n    })\n    feature_containers.attr(\"add_rect_for_circle_background_and_handle_clicks\", function (d, index) {\n      d3.select(this).selectAll(\".circ_rect\").data([0]).join('rect').attr(\"class\", \"circ_rect\").attr(\"myindex\", index).attr('feature_name', d[0]).attr(\"width\", \"100%\").attr(\"height\", item_height - 18).attr(\"fill\", \"#f2f2f2\").attr(\"y\", 18).attr(\"x\", 0)\n        .on('click', () => {\n          if (self.props.clicked_features.includes(d[0])) {\n            self.props.Set_clicked_features(self.props.clicked_features.filter(item => item != d[0]))\n            d3.selectAll(\".\" + d[0]).selectAll(\".border_rect\").remove()\n          }\n          else {\n            self.props.Set_clicked_features([...self.props.clicked_features, d[0]])\n            d3.selectAll(\".\" + d[0]).selectAll(\".border_rect\").data([0]).join('rect').attr(\"class\", \"border_rect\").attr(\"width\", \"100%\").attr(\"height\", \"100%\").style(\"stroke\", \"black\").style(\"fill\", \"none\").style(\"stroke-width\", 5)\n          }\n        })\n        .on('dblclick', () => {\n          var feature = d[0]\n          var year = self.props.selected_year\n          d3.event.preventDefault()\n          var temp = [...self.props.dbclicked_features]\n          if (!temp.includes(feature)) {\n            temp.unshift(feature)\n            d3.selectAll(\".rect\").classed(\"exp_chart_clicked\", true)\n          }\n          self.props.set_dbclicked_features(temp)\n          //self.props.set_dbclicked_features([feature])\n          //----------------------------Data for popup chart\n          var popup_chart_data = {}\n          self.props.default_models.filter(item => item != \"ListNet\").map(model_name => {\n            var data = []\n            if (self.props.histogram_data.length > 0) {\n              data = self.props.lime_data[model_name].filter(element => { if ((parseInt(element['1-qid']) == parseInt(year)) && (self.props.histogram_data.includes(parseInt(element['two_realRank'])))) { return element } });\n            }\n            else {\n              data = self.props.lime_data[model_name].filter(element => parseInt(element['1-qid']) == parseInt(year) && selected_instances.includes(parseInt(element['two_realRank'])))\n            }\n            popup_chart_data[model_name] = data\n          })\n          self.props.Set_popup_chart_data([popup_chart_data, feature]) // This is to update the pop when the year or anything changes during the pop up is open\n          //self.props.Set_popup_chart_data([popup_chart_data, feature])\n          self.props.set_pop_over(true)\n        })\n\n    })\n    feature_containers.attr(\"CreatexpCircle\", function (d, index) {\n      CreatexpCircle(d, d3.select(this), selected_instances, self.props.lime_data, self.props.selected_year, [model_name], self.props.clicked_circles,\n        self.props.Set_clicked_circles, self.props.diverginColor, self.props.anim_config, item_width, item_height, self.props.deviation_array, index,self.props.threshold)\n    }).attr(\"height\", item_height).attr('width', item_width)\n    feature_containers.attr('check_clicked_features', d => {\n      if (self.props.clicked_features.includes(d[0])) {\n        d3.selectAll(\".\" + d[0]).selectAll(\".border_rect\").data([0]).join('rect').attr(\"class\", \"border_rect\").attr(\"width\", \"100%\").attr(\"height\", \"100%\").style(\"stroke\", \"black\").style(\"fill\", \"none\").style(\"stroke-width\", 5)\n      }\n    })\n    feature_containers.attr('add_drag_drop', function (d, index) {\n      d3.select(this).selectAll(\".my_rect\").data([0]).join('rect').attr(\"class\", \"my_rect\").attr(\"myindex\", index).attr('feature_name', d[0]).attr(\"width\", item_width - 18).attr(\"height\", 18).style(\"fill\", \"transparent\").style('cursor', 'move')\n        .call(d3.drag().on(\"start\", dragstarted).on(\"drag\", dragged).on(\"end\", dragended).container(this.parentNode.parentNode)) // Set the parent node based on which the distance will be calculated\n      var deltaY, is_dragging;\n      function dragstarted(event, d) {\n        //d3.select(this).attr(\"width\", '100%').attr(\"height\", '100%').style('fill','rgb(249, 195, 87,0.3)')\n        d3.select(this.parentNode).raise()\n        deltaY = d3.select(this.parentNode).attr(\"y\") - d3.event.y;\n      }\n      function dragged(event, d) {\n        is_dragging = true\n        d3.select(this.parentNode).raise()\n        d3.select(this.parentNode).attr(\"y\", d3.event.y + deltaY);\n      }\n      function dragended(event, d) {\n        var origin_index = parseInt(d3.select(this).attr(\"myindex\")); d3.select(this.parentNode).lower();\n        d3.select(this.parentNode).attr(\"y\", d3.event.y + deltaY);\n        var difference = parseInt(d3.select(document.elementFromPoint(d3.event.sourceEvent.clientX, d3.event.sourceEvent.clientY)).attr(\"myindex\")) - origin_index\n        //if (isNaN(dest_index)) { alert(\"Please drop properly!\"); dest_index = origin_index }\n        var origin_feature = d3.select(this).attr(\"feature_name\")\n\n        var temp1 = {}\n        var number_of_charts = 15 // change this number to have features when cross button clicked\n        self.props.default_models.map(model_name => {\n          var features_with_score = algo1.features_with_score(self.props.dataset, [model_name], selected_instances, self.props.selected_year, number_of_charts, self.props.rank_data)\n          if (model_name in self.props.dragged_features) {\n            features_with_score = self.props.dragged_features[model_name]\n          }\n          var indexed_features = Object.entries(features_with_score).sort((a, b) => b[1] - a[1]).map((item, i) => item[0])\n          var origin_index = indexed_features.indexOf(origin_feature)\n          var dest_index = origin_index + difference\n          if (dest_index < 0) { var dest_feature = indexed_features[0] }\n          else if (dest_index > number_of_charts - 1) { var dest_feature = indexed_features[number_of_charts - 1] }\n          else { var dest_feature = indexed_features[dest_index] }\n\n          features_with_score[origin_feature] = features_with_score[origin_feature] - difference\n          features_with_score[dest_feature] = features_with_score[dest_feature] + difference\n          temp1[model_name] = features_with_score\n        })\n        self.props.Set_dragged_features(temp1)\n        //-------------------------------------\n        d3.select(this).raise()\n      }\n    })\n    //--------------------------------------MDS Plot-------------------------------------//\n    var feature_contrib_data_for_mds = this.props.lime_data[model_name].filter(item => item['1-qid'] == this.props.selected_year && selected_instances.includes(item['two_realRank']))\n    getMdsData(this.props.url, { \"data\": feature_contrib_data_for_mds, \"weight\": features_with_score }).then(data => {\n      if (typeof data != 'undefined') {\n        var MDS_response = JSON.parse(data.response)\n        var circle_data = feature_contrib_data_for_mds.map((item, index) => {\n          item['x'] = MDS_response[index][0]\n          item['y'] = MDS_response[index][1]\n          item['id'] = item['State'].replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\") + item[\"model\"].replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\")\n          return item\n        })\n        Create_MDS(this.mds, circle_data, \"#mds\" + model_name, self.props.diverginColor, this.props.Set_clicked_circles)\n      }\n    })\n  }\n  //------------------------------\n  render() {\n    return (\n      <div className={\"explanation_chart_parent exp\" + this.props.model_name} style={{ width: '100%', height: '100%', \"border\": this.props.mode == 'Model' ? \"2px solid #e2e2e2\" : 'none', padding: \"2px 5px\" }}>\n        <p className=\"title_p\" style={{ padding: 0, margin: 0 }}>{this.props.model_name}</p>\n        <svg ref={this.mds} id={\"mds\" + this.props.model_name} style={{ margin: 0, width: \"100%\", height: this.state.mds_height }}></svg>\n        <svg ref={this.exp} id={this.props.model_name} style={{ marginTop: 0, width: \"100%\" }}></svg>\n      </div>\n    )\n  }\n}\nconst maptstateToprop = (state) => {\n  return {\n    deviation_array: state.deviation_array,\n    original_data: state.original_data,\n    time_mode_model: state.time_mode_model,\n    chart_scale_type: state.chart_scale_type,\n    dataset: state.dataset,\n    histogram_data: state.histogram_data,\n    sparkline_data: state.sparkline_data,\n    dataset: state.dataset,\n    anim_config: state.anim_config,\n    show: state.show,\n    average_m: state.average_m,\n    average_y: state.average_y,\n    lime_data: state.lime_data,\n    rank_data: state.rank_data,\n    clicked_circles: state.clicked_circles,\n    clicked_features: state.clicked_features,\n    threshold: state.threshold,\n    mode: state.mode,\n    dbclicked_features: state.dbclicked_features,\n    dragged_features: state.dragged_features,\n    url: state.url,\n    default_models: state.default_models,\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_dragged_features: (val) => dispatch({ type: \"dragged_features\", value: val }),\n    Set_clicked_circles: (val) => dispatch({ type: \"clicked_circles\", value: val }),\n    Set_prev_prop: (val) => dispatch({ type: \"prev_prop\", value: val }),\n    Set_sparkline_data: (val) => dispatch({ type: \"sparkline_data\", value: val }),\n    Set_replay: (val) => dispatch({ type: \"replay\", value: val }),\n    Set_clicked_features: (val) => dispatch({ type: \"clicked_features\", value: val }),\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: val }),\n    set_dbclicked_features: (val) => dispatch({ type: \"dbclicked_features\", value: val }),\n    Set_popup_chart_data: (val) => dispatch({ type: \"popup_chart_data\", value: val }),\n    set_pop_over: (val) => dispatch({ type: \"pop_over\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(SlopeChart);","import React from 'react';\nimport \"./YearModelSelection.scss\";\nimport { connect } from \"react-redux\";\nfunction YearModelSelection(props) {\n  var handle_year_click = (year) => {\n    props.Set_selected_year(year)\n  }\n  var handle_model_click=(model)=>{\n      if (props.default_models.includes(model)) {\n        props.Set_default_models(props.default_models.filter(item=>item!=model))\n      }\n      else {\n        props.Set_default_models([...props.default_models,model])\n    }\n  }\n  return (\n    <div className=\"model_topbar\" style={{width:\"100%\",marginBottom:2,display:'flex',justifyContent: \"center\",margin:0}}>\n    <div ><h5 style={{ display: \"inline-block\", marginLeft: 0,marginRight:3,fontSize:16,fontWeight:600 }}>Years: </h5>{props.years_for_dropdown.map(item => <p className={props.selected_year==item ? \"years_p_selected years_p\" : \"years_p\"} onClick={() => handle_year_click(item)}>{item}</p>)}</div>\n    <div style={{marginLeft:20}}><h5 style={{ display: \"inline-block\", marginLeft: 0,marginRight:3,fontSize:16,fontWeight:600}}>Models:</h5>{props.all_models.map(item => <p className={props.default_models.includes(item) ? \"years_p_selected years_p\" : \"years_p\"} onClick={() => handle_model_click(item)}>{item}</p>)}</div>\n    </div>\n  );\n}\nconst maptstateToprop = (state) => {\n  return {\n    all_models:state.all_models,\n    selected_year: state.selected_year,\n    years_for_dropdown: state.years_for_dropdown,\n    default_models: state.default_models,\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: val }),\n    Set_default_models: (val) => dispatch({ type: \"default_models\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(YearModelSelection);\n\n//https://material-ui.com/api/slider/\n//https://material-ui.com/components/expansion-panels/\n//https://material-ui.com/api/checkbox/\n//https://material-ui.com/components/radio-buttons/","import React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport { connect } from \"react-redux\";\n//import {get_feature_voting} from \"../Algorithms/exp_algo\";\n\nclass Chart extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { \"a\": 10 }\n    this.myid = React.createRef()\n  }\n  componentDidMount() {\n    this.setState({ a: 5 })\n  }\n  componentDidUpdate() {\n    var temp_dict = {}\n    this.props.default_models.filter(item => item != \"ListNet\").map(model => {\n      temp_dict[model] = this.props.popup_chart_data[0][model].filter(item=>item['deviation']<this.props.threshold).map(item=>{\n        console.log(item['deviation'],'deviation')\n        item['id'] = item['State'].replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\") + model.replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\")\n        return item\n      })\n    })\n    var merged_arr = [].concat.apply([], Object.values(temp_dict))\n    var scatterplot_data = Object.entries(this.props.popup_chart_data[0]).filter(item => this.props.pop_over_models.includes(item[0]))\n    scatterplot_data=scatterplot_data.map(data_arr=>{\n      var temp=data_arr[1].filter(item=>item['deviation']<this.props.threshold)\n      return [data_arr[0],temp]\n    })\n    console.log(scatterplot_data,\"scatterplot_data\")\n    //console.log(this.props.popup_chart_data[0],this.props.pop_over_models)\n    //----------------------------------------------------------------------------------------------------------Call createChart\n    if (merged_arr.length > 0) { // This is to avoid the error caused by the next line\n      if (isNaN(merged_arr[0][this.props.popup_chart_data[1]])) {\n        this.CreateChart_cat(merged_arr, this.props.popup_chart_data[1], scatterplot_data)\n      }\n      else {\n        //this.CreateChart_cat(merged_arr, this.props.popup_chart_data[1], scatterplot_data)\n        this.CreateChart(merged_arr, this.props.popup_chart_data[1], scatterplot_data)\n      }\n    }\n    else {\n      this.CreateChart(merged_arr, this.props.popup_chart_data[1], scatterplot_data) // calling the function to set the  graph empty when all models are unselected\n    }\n    //----------------------------------------------------------------------------------------------------------Set and unset Opacity\n    if (this.props.clicked_items_in_slopechart.length > 0) {\n      d3.selectAll('circle,.datapoint').attr('opacity', this.props.config.reduced_opacity)\n    }\n    this.props.clicked_items_in_slopechart.map(idName => d3.selectAll('#' + idName).attr('opacity', 1))\n    //----------------------------------------------------------------------------------------------------------\n  }\n  CreateChart = (data, feature, scatterplot_data) => {\n    var self = this,\n      feature_contribute = feature + \"_contribution\"\n    // set the dimensions and margins of the graph\n    var margin = { top: 0, right: 30, bottom: 45, left: 50, space_for_hist: 50 },\n      width = 520 - margin.left - margin.right,\n      height = 250 - margin.top - margin.bottom;\n    data = data.filter(d => parseFloat(d[feature_contribute]) > 0)\n    var temp_x = data.map(item => parseFloat(item[feature])),\n      temp_y = data.map(item => parseFloat(item[feature_contribute]))\n    var x = d3.scaleLinear().domain([d3.min(temp_x), d3.max(temp_x)]).range([0, width]).nice(),\n      y = d3.scaleLinear().domain([d3.min(temp_y), d3.max(temp_y)]).range([height, 0]).nice(); // circles will start from y position 10 and go upto height-10\n\n    //-------------------------------------------------------------All svgs\n    var parent_svg = d3.select(\"#\" + self.props.myid).attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom + margin.space_for_hist),\n      svg1 = parent_svg.selectAll('.svg11').data([0]).join('svg').attr(\"y\", margin.space_for_hist).attr(\"class\", \"svg11\").selectAll(\".myg\").data([0]).join('g').attr(\"class\", \"myg\").attr(\"transform\",\n        \"translate(\" + margin.left + \",\" + margin.top + \")\")\n\n    //------------------------------------------------------------------------------------------------------ Create Histogram starts here\n    var hist_height = margin.space_for_hist,\n      histogram = d3.histogram()\n        .value(d => d)   // I need to give the vector of value\n        .domain(x.domain())  // then the domain of the graphic\n    //.thresholds(x.ticks(5)); // then the numbers of bins\n    var bins = histogram(temp_x),\n      y_hist = d3.scaleLinear()\n        .range([hist_height, 0]);\n\n    y_hist.domain([0, d3.max(bins, function (d) { return d.length; })]);   // d3.hist has to be called before the Y axis obviously\n    var svg0 = parent_svg.selectAll('.svg0').data([0]).join('svg').attr(\"class\", \"svg0\").selectAll(\".myg0\").data([0]).join('g').attr(\"class\", \"myg0\").attr(\"transform\",\n      \"translate(\" + margin.left + \",\" + margin.top + \")\")\n    // Add line on the bottom of the histogram\n    svg0.selectAll(\".myline\").data([0]).join('line').attr(\"class\", \"myline\").attr(\"x1\", 0).attr(\"y1\", margin.space_for_hist).attr(\"x2\", width).attr(\"y2\", margin.space_for_hist).attr(\"stroke\", \"#EBEBEB\");\n    svg0.selectAll(\"rect\").data(bins).join('rect')\n      .attr(\"x\", 1)\n      .attr(\"fill\", \"#b7b7b7\")\n      .attr(\"transform\", function (d) {\n        if (d.x0 == d.x1) { return \"translate(\" + 0 + \",\" + y_hist(d.length) + \")\" }\n        return \"translate(\" + x(d.x0) + \",\" + y_hist(d.length) + \")\";\n      })\n      .attr(\"width\", function (d) {\n        if (d.x0 == d.x1) { return width }\n        return x(d.x1) - x(d.x0) - 0.2;\n      })\n      .attr(\"height\", function (d) { return hist_height - y_hist(d.length); });\n    //------------------------------------------------------------------------------------------------------ Create Histogram ends here\n\n    var svg1 = parent_svg.selectAll('.svg11').data([0]).join('svg').attr(\"class\", \"svg11\").selectAll(\".myg\").data([0]).join('g').attr(\"class\", \"myg\").attr(\"transform\",\n      \"translate(\" + margin.left + \",\" + margin.top + \")\")\n    svg1.selectAll(\".myline2\").data([0]).join('line').attr(\"class\", \"myline2\").attr(\"x1\", 0).attr(\"y1\", 0).attr(\"x2\", 0).attr(\"y2\", height).attr(\"stroke\", \"#EBEBEB\");\n    //svg1.selectAll(\".myline3\").data([0]).join('line').attr(\"class\",\"myline3\").attr(\"x1\", 0).attr(\"y1\", height).attr(\"x2\", width).attr(\"y2\", height).attr(\"stroke\", \"#EBEBEB\");\n\n    //------------- Add Y axis\n    var y2 = d3.scaleOrdinal().domain([\".\", \"0\", \"..\"]).range([height / 4, height / 2, (3 * height) / 4]); // circles will start from y position 10 and go upto height-10\n    svg1.selectAll(\".myYaxis\").data([0]).join('g').attr(\"class\", \"myYaxis\")\n      .call(d3.axisLeft(y2).tickSize(-width * 1.0).ticks(1).tickValues([\"0\"]).tickFormat(d => d))\n      .select(\".domain\").remove()\n    svg1.selectAll(\".myYaxis\").selectAll('text').remove()\n\n    d3.selectAll('.svg11').selectAll('.myYtext').data([[\"++ ve\", height * .25], [\"+ ve\", height * .75]]).join(\"text\").attr(\"class\", \"myYtext\")\n      .attr(\"x\", 45).attr(\"y\", (d, i) => d[1] + 4).text(d => d[0]).attr('font-size', 14).attr(\"text-anchor\", \"end\")\n\n    //------------- Add X axis\n    if (d3.max(d3.max(bins)) > 1000) {\n      svg1.selectAll(\".myXaxis\").data([0]).join('g').attr(\"class\", \"myXaxis\")\n        .attr(\"transform\", \"translate(0,\" + height + \")\")\n        .call(d3.axisBottom(x).tickSize(-height * 1.3).tickValues(bins.map(item => item['x1'])).tickFormat(d3.format(\".2s\")))\n        .select(\".domain\").remove()\n    }\n    else {\n      svg1.selectAll(\".myXaxis\").data([0]).join('g').attr(\"class\", \"myXaxis\")\n        .attr(\"transform\", \"translate(0,\" + height + \")\")\n        .call(d3.axisBottom(x).tickSize(-height * 1.3).tickValues(bins.map(item => item['x1'])))\n        .select(\".domain\").remove()\n    }\n    svg1.selectAll(\".tick line\").attr(\"stroke\", \"#EBEBEB\")\n\n    //------------------------------------------------------------------------------------------------------ Scatterplot starts here\n    svg1.selectAll(\".scatterplot_g\").data(scatterplot_data).join('g').attr(\"id\", d => d[0] + \"scatterplot_g_id\").attr(\"class\", \"scatterplot_g\").attr(\"ax\", function (d) {\n      temp_x = d[1].map(item => parseFloat(item[feature]))\n      temp_y = d[1].map(item => parseFloat(item[feature_contribute]))\n\n      x = d3.scaleLinear().domain([d3.min(temp_x), d3.max(temp_x)]).range([0, width]).nice()\n      y = d3.scaleLinear().domain([d3.min(temp_y), d3.max(temp_y)]).range([height, 0]).nice();\n\n      d3.select(this).selectAll('circle').data(d[1])\n        .join(\"circle\")\n        .attr(\"cx\", (d, i) => {\n          if (x(parseFloat(d[feature])) < 10) {\n            return 10;\n          }\n          else if (x(parseFloat(d[feature])) > width - 10) {\n            return width - 10;\n          }\n          return x(d[feature]) + 2\n        })\n        .attr(\"cy\", (d, i) => {\n          if (y(parseFloat(d[feature_contribute])) < 10) {\n            return 10;\n          }\n          else if (y(parseFloat(d[feature_contribute])) > (height - 10)) {\n            return height - 10;\n          }\n          return y(parseFloat(d[feature_contribute])) - 0\n\n        })\n        .attr(\"actual_Y_value\", d => d[feature_contribute])\n        //.attr(\"r\", 4)\n        .attr(\"r\", d => parseFloat(d[feature_contribute]) <= 0 ? 0 : 4)\n        .attr(\"fill\", (d) => self.props.diverginColor(d['two_realRank']))\n        .attr('class', d => 'my_circles')\n        .attr(\"id\", d => d['id'])\n        .on('click', d => {\n          self.props.Set_clicked_circles(self.props.clicked_circles.includes(d['id']) ? self.props.clicked_circles.filter(item => item != d['id']) : [...self.props.clicked_circles, d['id']])\n      })\n    })\n\n    // Define the div for the tooltip\n    var div = d3.select(\"body\").append(\"div\")\n      .attr(\"class\", \"tooltip2\")\n      .style(\"opacity\", 0);\n    d3.selectAll('.exp_circles')\n      .on(\"mouseover\", function (d) {\n        div.transition()\n          .duration(200)\n          .style(\"opacity\", .9);\n        div.html(\"<p>\" + d['State'] + \"</p>\" + \"<p>\" + \"Model: \" + d3.select(this).attr('dataset_name') + \"</p>\")\n          //div.html(d['State'])\n          .style(\"left\", (d3.event.pageX) + \"px\")\n          .style(\"top\", (d3.event.pageY - 28) + \"px\");\n      })\n      .on(\"mouseout\", function (d) {\n        d3.selectAll('.tooltip2').transition()\n          .duration(500)\n          .style(\"opacity\", 0);\n      })\n\n    //------------------------------------------------------------------------------------------------------ Scatterplot ends here\n\n  }\n  CreateChart_cat = (data, feature, scatterplot_data) => {\n    var self = this,\n      feature_contribute = feature + \"_contribution\"\n    var margin = { top: 0, right: 30, bottom: 75, left: 50, space_for_hist: 50 }, width = 520 - margin.left - margin.right, height = 270 - margin.top - margin.bottom;\n    var barplot_data = {}\n    data = data.filter(d => parseFloat(d[feature_contribute]) > 0)\n    data.map(item => { if (barplot_data[item[feature]] > 0) { barplot_data[item[feature]] += 1 } else { barplot_data[item[feature]] = 1 } })\n\n    var temp_x = Object.keys(barplot_data),\n      temp_y = Object.values(barplot_data),\n      y = d3.scaleLinear().domain([d3.min(temp_y), d3.max(temp_y)]).range([height, 0]).nice(); // circles will start from y position 10 and go upto height-10\n\n    var x = d3.scaleBand().domain(temp_x).range([0, width]).padding(0.1);\n    // add the x Axis\n    //-------------------------------------------------------------All svgs\n    var parent_svg = d3.select(\"#\" + self.props.myid).attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom + margin.space_for_hist),\n      svg1 = parent_svg.selectAll('.svg11').data([0]).join('svg').attr(\"y\", margin.space_for_hist).attr(\"class\", \"svg11\").selectAll(\".myg\").data([0]).join('g').attr(\"class\", \"myg\").attr(\"transform\",\n        \"translate(\" + margin.left + \",\" + margin.top + \")\")\n\n    //------------------------------------------------------------------------------------------------------ Create Histogram starts here\n    var hist_height = margin.space_for_hist\n    y = d3.scaleLinear().domain([0, d3.max(temp_y)]).range([hist_height, 0]).nice();\n    var svg0 = parent_svg.selectAll('.svg0').data([0]).join('svg').attr(\"class\", \"svg0\").selectAll(\".myg0\").data([0]).join('g').attr(\"class\", \"myg0\")\n      .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\")\n    // Add line on the bottom of the histogram\n    svg0.selectAll(\".myline\").data([0]).join('line').attr(\"class\", \"myline\").attr(\"x1\", 0).attr(\"y1\", margin.space_for_hist).attr(\"x2\", width).attr(\"y2\", margin.space_for_hist).attr(\"stroke\", \"#EBEBEB\");\n    svg0.selectAll(\"rect\").data(Object.entries(barplot_data)).join('rect')\n      .attr(\"x\", d => x(d[0]))\n      .attr(\"fill\", \"#b7b7b7\")\n      .attr(\"width\", x.bandwidth())\n      .attr(\"y\", d => y(d[1]))\n      .attr(\"height\", d => hist_height - y(d[1]));\n    //------------------------------------------------------------------------------------------------------ Create Histogram ends here\n\n    var svg1 = parent_svg.selectAll('.svg11').data([0]).join('svg').attr(\"class\", \"svg11\").selectAll(\".myg\").data([0]).join('g').attr(\"class\", \"myg\").attr(\"transform\",\n      \"translate(\" + margin.left + \",\" + margin.top + \")\")\n    svg1.selectAll(\".myline2\").data([0]).join('line').attr(\"class\", \"myline2\").attr(\"x1\", 0).attr(\"y1\", 0).attr(\"x2\", 0).attr(\"y2\", height).attr(\"stroke\", \"#EBEBEB\");\n    svg1.selectAll(\".myline3\").data([0]).join('line').attr(\"class\", \"myline3\").attr(\"x1\", 0).attr(\"y1\", height).attr(\"x2\", width).attr(\"y2\", height).attr(\"stroke\", \"#EBEBEB\");\n\n\n    //------------- Add Y axis\n    var y2 = d3.scaleOrdinal().domain([\".\", \"0\", \"..\"]).range([height / 4, height / 2, (3 * height) / 4]); // circles will start from y position 10 and go upto height-10\n    svg1.selectAll(\".myYaxis\").data([0]).join('g').attr(\"class\", \"myYaxis\").call(d3.axisLeft(y2).tickSize(-width * 1.0).ticks(1).tickValues([\"0\"]).tickFormat(d => d))\n      .select(\".domain\").remove()\n    svg1.selectAll(\".myYaxis\").selectAll('text').remove()\n    d3.selectAll('.svg11').selectAll('.myYtext').data([[\"++ ve\", height * .25], [\"+ ve\", height * .75]]).join(\"text\").attr(\"class\", \"myYtext\")\n      .attr(\"x\", 45).attr(\"y\", (d, i) => d[1] + 4).text(d => d[0]).attr('font-size', 14).attr(\"text-anchor\", \"end\")\n\n    //------------- Add X axis\n    svg1.selectAll(\".myXaxis\").data([0]).join('g').attr(\"class\", \"myXaxis\")\n      .attr(\"transform\", \"translate(0,\" + height + \")\")\n      .call(d3.axisBottom(x).tickSize(-height * 1.3)).selectAll(\"text\")\n      .style(\"text-anchor\", \"end\")\n      .attr(\"dx\", \"-.8em\")\n      .attr(\"dy\", \"0em\")\n      .attr(\"transform\", \"rotate(-90)\")\n      .selectAll(\".tick line\").remove()\n    svg1.selectAll(\".domain\").remove()\n    svg1.selectAll(\".tick line\").attr(\"stroke\", \"#EBEBEB\")\n    //------------------------------------------------------------------------------------------------------ Create Histogram ends here\n    //------------------------------------------------------------------------------------------------------ Scatterplot starts here\n    svg1.selectAll(\".scatterplot_g\").data(scatterplot_data).join('g').attr(\"id\", d => d[0] + \"scatterplot_g_id\").attr(\"class\", \"scatterplot_g\").attr(\"ax\", function (d) {\n      var temp_y = d[1].map(item => parseFloat(item[feature + \"_contribution\"])) // d[1] \n      y = d3.scaleLinear().domain([d3.min(temp_y), d3.max(temp_y)]).range([height, 0]).nice();\n\n      d3.select(this).selectAll('circle').data(d[1])\n        .join(\"circle\")\n        .attr(\"cx\", (d, i) => {\n          return x(d[feature]) + x.bandwidth() / 2\n        })\n        .attr(\"cy\", (d, i) => {\n          if (y(parseFloat(d[feature_contribute])) < 10) {\n            return 10;\n          }\n          else if (y(parseFloat(d[feature_contribute])) > (height - 10)) {\n            return height - 10;\n          }\n          return y(parseFloat(d[feature_contribute])) - 0\n\n        })\n        .attr(\"actual_Y_value\", d => d[feature_contribute])\n        //.attr(\"r\", 4)\n        .attr(\"r\", d => parseFloat(d[feature_contribute]) <= 0 ? 0 : 4)\n        .attr(\"fill\", (d) => self.props.diverginColor(d['two_realRank']))\n        .attr('class', d => 'my_circles')\n        .attr(\"id\", d => d['id'])\n        .on('click', d => {\n          self.props.Set_clicked_circles(self.props.clicked_circles.includes(d['id']) ? self.props.clicked_circles.filter(item => item != d['id']) : [...self.props.clicked_circles, d['id']])\n      })\n    })\n\n    // Define the div for the tooltip\n    var div = d3.select(\"body\").append(\"div\")\n      .attr(\"class\", \"tooltip2\")\n      .style(\"opacity\", 0);\n    d3.selectAll('.exp_circles')\n      .on(\"mouseover\", function (d) {\n        div.transition()\n          .duration(200)\n          .style(\"opacity\", .9);\n        div.html(\"<p>\" + d['State'] + \"</p>\" + \"<p>\" + \"Model: \" + d3.select(this).attr('dataset_name') + \"</p>\")\n          //div.html(d['State'])\n          .style(\"left\", (d3.event.pageX) + \"px\")\n          .style(\"top\", (d3.event.pageY - 28) + \"px\");\n      })\n      .on(\"mouseout\", function (d) {\n        d3.selectAll('.tooltip2').transition()\n          .duration(500)\n          .style(\"opacity\", 0);\n      })\n\n    //------------------------------------------------------------------------------------------------------ Scatterplot ends here\n  }\n\n  render() {\n    return (\n      <div key={this.props.popup_chart_data[1]} style={{ margin: 10, padding: 10, border: this.props.index == 0 ? \"3px solid #e5e5e5\" : \"white\" }}>\n        <svg ref={this.myid} id={this.props.myid}> </svg>\n        <p style={{ color: \"#4f4c4c\", marginLeft: \"42%\", marginTop: -25, marginBottom: 0 }}>{this.props.popup_chart_data[1]}</p>\n      </div>\n    );\n  }\n}\nconst maptstateToprop = (state) => {\n  return {\n    //popup_chart_data: state.popup_chart_data,\n    pop_over_models: state.pop_over_models,\n    clicked_items_in_slopechart: state.clicked_items_in_slopechart,\n    config: state.config,\n    mode: state.mode,\n    range_mode_model: state.range_mode_model,\n    time_mode_model: state.time_mode_model,\n    clicked_circles: state.clicked_circles,\n    threshold: state.threshold,\n  }\n}\n//item['id'] = item['State'].replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\") + model.replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\")\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_clicked_items_in_slopechart: (val) => dispatch({ type: \"clicked_items_in_slopechart\", value: val }),\n    Set_clicked_circles: (val) => dispatch({ type: \"clicked_circles\", value: val }),\n    \n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Chart);","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Fade from '@material-ui/core/Fade';\nimport { connect } from \"react-redux\";\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nfunction FadeMenu(props) {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const open = Boolean(anchorEl);\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  //------------For list and chckbox\n  const [checked, setChecked] = React.useState([0]);\n  const handleToggle = (value) => () => {\n    const currentIndex = checked.indexOf(value);\n    const newChecked = [...checked];\n    if (currentIndex === -1) {\n      newChecked.push(value);\n    } else {\n      newChecked.splice(currentIndex, 1);\n    }\n    setChecked(newChecked);\n  };\n  //----------------\n  const checkboxChanged = (event) => {\n    let temp_Models=[...props.pop_over_models].filter(item=>item!=\"ListNet\")\n    if (temp_Models.includes(event.target.value)) {\n      temp_Models = props.pop_over_models.filter(item => item != event.target.value)\n      props.Set_pop_over_models(temp_Models)\n    }\n    else {\n      temp_Models.push(event.target.value)\n      props.Set_pop_over_models(temp_Models)\n    }\n  }\n  return (\n    <div>\n      <Button aria-controls=\"fade-menu\" aria-haspopup=\"true\" onClick={handleClick}>\n        Filter Models\n        <ArrowDropDownIcon></ArrowDropDownIcon>\n      </Button>\n      <Menu\n        id=\"fade-menu\"\n        anchorEl={anchorEl}\n        keepMounted\n        open={open}\n        onClose={handleClose}\n        TransitionComponent={Fade}\n      >\n        <div className=\"CheckboxContainer\">\n          <List>\n            {props.default_models.map((value) => {\n              const labelId = `checkbox-list-label-${value}`;\n              return (\n                <ListItem key={value} role={undefined} onClick={handleToggle(value)}>\n                  <Checkbox\n                    checked={props.pop_over_models.includes(value)}\n                    edge=\"start\"\n                    tabIndex={-1}\n                    value={value}\n                    onChange={(event, value) => {\n                      checkboxChanged(event, value)\n                    }\n                    }\n                  />\n                  <p className=\"list_item_label\" id={labelId}>{value}</p>\n                </ListItem>\n              );\n            })}\n          </List>\n        </div>\n      </Menu>\n    </div>\n  );\n}\nconst maptstateToprop = (state) => {\n  return {\n    pop_over_models:state.pop_over_models\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_default_models: (val) => dispatch({ type: \"default_models\", value: val }),\n    Set_pop_over_models: (val) => dispatch({ type: \"pop_over_models\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(FadeMenu);\n//https://material-ui.com/components/menus/\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport { connect } from \"react-redux\";\nimport Chart_pop from './chart_pop'\nimport Draggable from 'react-draggable';\nimport * as d3 from 'd3';\nimport Grid from \"@material-ui/core/Grid\"\nimport FilterModel from \"./FilterModel\"\nimport * as $ from 'jquery';\nexport function SimplePopover(props) {\n    console.log('dbclicked_features:',props.dbclicked_features,'popup_chart_data:',props.popup_chart_data,\"clicked_data\")\n    const handleClose = () =>{\n        props.set_pop_over(false)\n        props.set_dbclicked_features([])\n    };\n    return (\n        <div className=\"pop_over\" style={{ position: \"relative\" }}>\n            {props.pop_over == true ?\n                <div style={{ top: \"2%\", left: \"14%\", position: \"fixed\",pointerEvents:\"none\",backgroundColor:\"transparent\" }}>\n                    <Draggable>\n                        <Grid style={{ backgroundColor: \"#ffffff\", boxShadow: \"3px 2px 15px -7px #000000\",pointerEvents:\"auto\" }}>\n                            <Grid container style={{ borderBottom: \"1px solid #e2e2e2\", marginBottom: 20 }}\n                                direction=\"row\"\n                                justify=\"space-between\"\n                                alignItems=\"center\"\n                            >\n                                <FilterModel default_models={props.default_models}></FilterModel>\n                                <Button color=\"secondary\" id=\"draggable-dialog-title\" onClick={handleClose}>close</Button>\n                            </Grid>\n                            <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\" style={{maxHeight:700,overflow:\"scroll\",maxWidth:1600}}>\n                                {\n                                props.dbclicked_features.length>0?props.dbclicked_features.map((item,index)=><Chart_pop index={index}\n                                popup_chart_data={[props.popup_chart_data[0],item]} default_models={props.default_models} \n                                myid={item.replace(/\\s/g, '').replace(/[`~!@#$%^&*()_|+\\-=?;:'\",.<>\\{\\}\\[\\]\\\\\\/]/gi, '')} diverginColor={props.diverginColor} \n                                textClickHandler_original={props.textClickHandler_original}></Chart_pop>):<Chart_pop popup_chart_data={props.popup_chart_data} \n                                default_models={props.default_models} myid=\"myid1\" \n                                diverginColor={props.diverginColor} textClickHandler_original={props.textClickHandler_original}></Chart_pop>\n                                }\n                            </Grid>\n                        </Grid>\n                    </Draggable>\n                </div> : null}\n        </div>\n    );\n}\nconst maptstateToprop = (state) => {\n    return {\n        popup_chart_data: state.popup_chart_data,\n        pop_over: state.pop_over,\n        dbclicked_features:state.dbclicked_features,\n    }\n}\nconst mapdispatchToprop = (dispatch) => {\n    return {\n        set_pop_over: (val) => dispatch({ type: \"pop_over\", value: val }),\n        set_dbclicked_features: (val) => dispatch({ type: \"dbclicked_features\", value: val }),\n        set_clicked_features: (val) => dispatch({ type: \"clicked_features\", value: val }),\n    }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(SimplePopover);\n","import React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport { connect } from \"react-redux\";\nimport * as deviation_chart from \"../DevPlot/deviation_chart\"\nimport * as misc_algo from '../misc_algo'\nimport * as $ from 'jquery';\nimport ModelSlider from './ModelSlider';\nimport ExpChart from './ExpChartComponent';\nimport './ModelSlider.scss';\nimport YearModelSelection from \"./YearAndModelSelection/YearModelSelection\"\nimport Grid from '@material-ui/core/Grid';\nimport Popover from '../Popover/Popover';\nclass SlopeChart extends Component {\n  constructor(props) {\n    super(props);\n    this.line_color = null;\n    this.state = { height_slope_exp_chart: 700, mouseX: 0, mouseY: 0 }\n  }\n  componentDidMount() { this.setState({ width: window.innerHeight }) }\n  shouldComponentUpdate(prevProps, prevState) { return true; }\n  componentDidUpdate(prevProps, prevState) {\n    var selected_instances = d3.range(this.props.state_range[0], this.props.state_range[1] + 1)\n    if (this.props.histogram_data.length > 0) { selected_instances = this.props.histogram_data }\n\n    //--------------------\n    var min = d3.min(selected_instances), max = d3.max(selected_instances);\n    var d = (max - min) / 8;\n    var diverginColor = d3.scaleLinear().domain([min + d * 7, min + d * 6, min + d * 5, min + d * 4, min + d * 3, min + d * 2, min]).interpolate(d3.interpolateRgb).range(['#00429d', '#4771b2', '#73a2c6', '#a5d5d8', /*'#ffffe0',*/ '#ffbcaf', '#f4777f', '#cf3759', '#93003a']);\n\n    //-------------------- Threshold filter\n    var under_threshold_instances = []\n    var year_data = this.props.original_data.filter(item => this.props.selected_year == item['1-qid'])\n    this.props.default_models.map(model_name => {\n      year_data.map(item => {\n        var two_realRank = parseInt(item['two_realRank'])\n        var predicted_rank = parseInt(item[model_name])\n        if (Math.abs(predicted_rank - two_realRank) < this.props.threshold) {\n          under_threshold_instances.push(two_realRank)\n        }\n      })\n    })\n    selected_instances = selected_instances.filter(item => under_threshold_instances.includes(item))\n    deviation_chart.Create_deviation_chart('dev_plot_container_svg', 'exp', selected_instances, this.props.original_data, this.props.default_models, this.props.anim_config, this.props.selected_year, this.props.average_m, this.props.clicked_circles, this.props.Set_clicked_circles, diverginColor, this.props.sparkline_data, this.props.Set_selected_year, this.props.dataset, this.props.threshold)\n    misc_algo.handle_transparency(\"circle2\", this.props.clicked_circles, this.props.anim_config)\n  }\n  render() {\n    var selected_instances = d3.range(this.props.state_range[0], this.props.state_range[1] + 1)\n    if (this.props.histogram_data.length > 0) { selected_instances = this.props.histogram_data }\n    //--------------------\n    var min = d3.min(selected_instances), max = d3.max(selected_instances);\n    var d = (max - min) / 8;\n    var diverginColor = d3.scaleLinear().domain([min + d * 7, min + d * 6, min + d * 5, min + d * 4, min + d * 3, min + d * 2, min]).interpolate(d3.interpolateRgb).range(['#00429d', '#4771b2', '#73a2c6', '#a5d5d8', /*'#ffffe0',*/ '#ffbcaf', '#f4777f', '#cf3759', '#93003a']);\n    this.props.Set_selected_instances(selected_instances)\n    //--------------------\n    var deviation_array = []\n    this.props.default_models.map(model => {\n      this.props.lime_data[model].map(item => {\n        if (item['1-qid'] == this.props.selected_year && selected_instances.includes(parseInt(item['two_realRank']))) {\n          deviation_array.push(item['deviation'])\n        }\n      })\n    })\n    this.props.Set_deviation_array(deviation_array)\n    //console.log('deviation_array: ', d3.extent(deviation_array))\n    //--------------------\n    return (\n      <Grid className=\"ModelChartParent\" container direction=\"row\" justify=\"flex-start\" alignItems=\"center\" style={{ height: '100%', width: '100%', backgroundColor: 'white', margin: 2, padding: 2, boxShadow: \"-2px 1px 4px -1px white\" }}> {/* This model chart's height and width is the parent*/}\n        <Grid item className=\"left_container\" style={{ width: 420, backgroundColor: \"#fcfcfc\" }}>\n          {/* The deviation plot container starts below */}\n          <div className=\"year_and_model_selector_and_slider_container\"> {/* This is used to calculate the deviation plot height */}\n            <YearModelSelection></YearModelSelection><ModelSlider></ModelSlider>\n          </div>\n          {/* The deviation plot container starts below */}\n          <div class=\"deviation_plot_container_div\" style={{ width: \"100%\", height: $('.ModelChartParent').height() - $('.year_and_model_selector_and_slider_container').height(), marginBottom: 0, overflow: 'scroll' }}>\n            <svg id=\"dev_plot_container_svg\" style={{ width: \"100%\", overflow: 'hidden' }}></svg>\n          </div>\n          {/* The deviation plot container ends here */}\n        </Grid>\n        {/* The explanation plot container starts below */}\n        {this.props.rank_data != null ?\n          <Grid item className=\"right_container\" style={{ height: '100%', width: $('.ModelChartParent').width() - $('.left_container').width() }}>\n            <Grid container spacing={1} direction=\"row\" justify=\"flex-start\" alignItems=\"center\" style={{ width: '100%', height: '100%' }}>\n              {\n                this.props.default_models.map((model_name, index) => {\n                  return <Grid item style={{ width: ($('.ModelChartParent').width() - $('.left_container').width()) / this.props.default_models.length, height: \"100%\", overflow: 'hidden' }}>\n                    <ExpChart diverginColor={diverginColor} exp_id={\"exp\" + index} default_models={this.props.default_models} state_range={this.props.state_range} selected_year={this.props.selected_year} model_name={model_name}></ExpChart>\n                  </Grid>\n                })\n              }\n            </Grid>\n          </Grid> : null}\n        {/* The explanation plot container ends here */}\n        <Popover diverginColor={diverginColor} default_models={this.props.default_models}></Popover>\n      </Grid>\n    )\n  }\n}\nconst maptstateToprop = (state) => {\n  return {\n    default_models: state.default_models,\n    histogram_data: state.histogram_data,\n    state_range: state.state_range,\n    selected_year: state.selected_year,\n    lime_data: state.lime_data,\n    default_models: state.default_models,\n    original_data: state.original_data,\n    dataset: state.dataset,\n    sparkline_data: state.sparkline_data,\n    dataset: state.dataset,\n    anim_config: state.anim_config,\n    average_m: state.average_m,\n    rank_data: state.rank_data,\n    clicked_circles: state.clicked_circles,\n    threshold: state.threshold\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_selected_instances: (val) => dispatch({ type: \"selected_instances\", value: val }),\n    Set_deviation_array: (val) => dispatch({ type: \"deviation_array\", value: val }),\n    Set_clicked_circles: (val) => dispatch({ type: \"clicked_circles\", value: val }),\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(SlopeChart);","import React from 'react';\nimport Slider from '@material-ui/core/Slider';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { connect } from \"react-redux\";\nimport TextField from '@material-ui/core/TextField';\nimport Button from \"@material-ui/core/Button\";\nimport './ModelSlider.scss';\nimport * as $ from 'jquery'\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: '100%',\n    },\n    heading: {\n        fontSize: theme.typography.pxToRem(15),\n        flexBasis: '33.33%',\n        flexShrink: 0,\n    },\n    secondaryHeading: {\n        fontSize: theme.typography.pxToRem(15),\n        color: theme.palette.text.secondary,\n    },\n    tRoot: {\n        marginBottom: 35,\n    },\n    rang_input: {\n        marginLeft: 10,\n    },\n}));\nfunction Modes(props) {\n    const classes = useStyles();\n    // states \n    const [sliderRange, set_sliderRange] = React.useState(props.range_mode_range1);\n    //-----------------------------------------------------------------\n    var temp_marks = [];\n    var step = (props.slider_max - 1) / (6 - 1);\n    for (var i = 0; i < 6; i++) {\n        temp_marks.push(1 + (step * i));\n    }\n    var marks = temp_marks.map(item => {\n        var myitem = parseInt(item)\n        return { value: myitem, label: myitem }\n    })\n    //console.log(props.marks)\n    //-----------------------------------------------------------------\n    return (\n        <div className=\"Modelslider\" \n        style={{height: 70, width: '100%',marginBottom:5,padding: 30, border: \"1px solid rgb(178, 178, 178,0.5)\"}}>\n            <div className=\"lower\" style={{ padding: \"0px 0px\", marginTop: -20 }}>\n                <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Lower\" value={sliderRange[0]} style={{ width: \"100%\" }}\n                    onChange={event => {\n                        if (isNaN(parseInt(event.target.value))) {\n                            set_sliderRange([\"\", sliderRange[1]])\n                        } else {\n                            if (event.target.value > sliderRange[1]) {\n                                alert(\"Lower range can not be larger than the upper range\")\n                            }\n                            else {\n                                set_sliderRange([event.target.value, sliderRange[1]])\n                            }\n                        }\n                    }\n                    }\n                />\n            </div>\n            <div className=\"slider\" style={{width: \"100%\", margin: \"0px 0px\" }}>\n                <Slider value={sliderRange} onChange={(event, newValue) => set_sliderRange(newValue)} onChangeCommitted={(event, newValue) => props.Set_changed(\"range\")}\n                    valueLabelDisplay=\"auto\" aria-labelledby=\"range-slider\" valueLabelDisplay=\"on\" min={1} max={props.slider_max} marks={marks}\n                />\n            </div>\n            <div className=\"upper\" style={{ padding: \"0px 0px\", marginTop: -20 }}>\n                <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Upper\" value={sliderRange[1]} style={{ width: \"100%\" }}\n                    onChange={event => {\n                        if (isNaN(parseInt(event.target.value))) {\n                            set_sliderRange([sliderRange[0], \"\"])\n                        } else {\n                            if (parseInt(event.target.value) > props.slider_max) {\n                                alert(\"Upper range can not exceed maximum\")\n                                set_sliderRange([sliderRange[0], props.slider_max])\n                            }\n                            else {\n                                set_sliderRange([sliderRange[0], parseInt(event.target.value)])\n                            }\n                        }\n                    }\n                    }\n                />\n            </div>\n            <div className=\"button\" item xs=\"2\" style={{ marginTop: -10 }}>\n                <Button className=\"range_button\" style={{ backgroundColor: \"#ededed\", height: 30 }}\n                    onClick={() => {\n                        props.Set_range_mode_range1(sliderRange)\n                    }}\n                >Update range</Button>\n            </div>\n        </div>\n    );\n}\nconst maptstateToprop = (state) => {\n    return {\n        slider_max: state.slider_max,\n        range_mode_range1: state.range_mode_range1,\n    }\n}\nconst mapdispatchToprop = (dispatch) => {\n    return {\n        Set_range_mode_range1: (val) => dispatch({ type: \"range_mode_range1\", value: val }),\n        Set_changed: (val) => dispatch({ type: \"changed\", value: val }),\n    }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Modes);","import React from 'react';\nimport Slider from '@material-ui/core/Slider';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { connect } from \"react-redux\";\nimport TextField from '@material-ui/core/TextField';\nimport Button from \"@material-ui/core/Button\";\nimport './ModelSlider.scss';\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: '100%',\n    },\n    heading: {\n        fontSize: theme.typography.pxToRem(15),\n        flexBasis: '33.33%',\n        flexShrink: 0,\n    },\n    secondaryHeading: {\n        fontSize: theme.typography.pxToRem(15),\n        color: theme.palette.text.secondary,\n    },\n    tRoot: {\n        marginBottom: 35,\n    },\n    rang_input: {\n        marginLeft: 10,\n    },\n}));\nfunction Modes(props) {\n    const classes = useStyles();\n    // states \n    const [sliderRange, set_sliderRange] = React.useState(props.range_mode_range2);\n    //-----------------------------------------------------------------\n    var temp_marks = [];\n    var step = (props.slider_max - 1) / (6 - 1);\n    for (var i = 0; i < 6; i++) {\n        temp_marks.push(1 + (step * i));\n    }\n    var marks = temp_marks.map(item => {\n        var myitem = parseInt(item)\n        return { value: myitem, label: myitem }\n    })\n    //console.log(props.marks)\n    //-----------------------------------------------------------------\n    return (\n        <div className=\"Modelslider\" style={{height: 70, width: \"100%\",marginBottom:5, paddingTop: 30,paddingLeft:15, border: \"1px solid rgb(178, 178, 178,0.5)\"}}>\n            <div className=\"lower\" style={{ padding: \"0px 0px\", marginTop: -20 }}>\n                <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Lower\" value={sliderRange[0]} style={{ width: \"100%\" }}\n                    onChange={event => {\n                        if (isNaN(parseInt(event.target.value))) {\n                            set_sliderRange([\"\", sliderRange[1]])\n                        } else {\n                            if (event.target.value > sliderRange[1]) {\n                                alert(\"Lower range can not be larger than the upper range\")\n                            }\n                            else {\n                                set_sliderRange([event.target.value, sliderRange[1]])\n                            }\n                        }\n                    }\n                    }\n                />\n            </div>\n            <div className=\"slider\" style={{width: \"100%\", margin: \"0px 0px\" }}>\n                <Slider value={sliderRange} onChange={(event, newValue) => set_sliderRange(newValue)} onChangeCommitted={(event, newValue) => props.Set_changed(\"range\")}\n                    valueLabelDisplay=\"auto\" aria-labelledby=\"range-slider\" valueLabelDisplay=\"on\" min={1} max={props.slider_max} marks={marks}\n                />\n            </div>\n            <div className=\"upper\" style={{ padding: \"0px 0px\", marginTop: -20 }}>\n                <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Upper\" value={sliderRange[1]} style={{ width: \"100%\" }}\n                    onChange={event => {\n                        if (isNaN(parseInt(event.target.value))) {\n                            set_sliderRange([sliderRange[0], \"\"])\n                        } else {\n                            if (parseInt(event.target.value) > props.slider_max) {\n                                alert(\"Upper range can not exceed maximum\")\n                                set_sliderRange([sliderRange[0], props.slider_max])\n                            }\n                            else {\n                                set_sliderRange([sliderRange[0], parseInt(event.target.value)])\n                            }\n                        }\n                    }\n                    }\n                />\n            </div>\n            <div className=\"button\" item xs=\"2\" style={{ marginTop: -10 }}>\n                <Button className=\"range_button\" style={{ backgroundColor: \"#ededed\", height: 30 }}\n                    onClick={() => {\n                        props.Set_range_mode_range2(sliderRange)\n                    }}\n                >Update range</Button>\n            </div>\n        </div>\n    );\n}\nconst maptstateToprop = (state) => {\n    return {\n        slider_max: state.slider_max,\n        range_mode_range2: state.range_mode_range2,\n    }\n}\nconst mapdispatchToprop = (dispatch) => {\n    return {\n        Set_range_mode_range2: (val) => dispatch({ type: \"range_mode_range2\", value: val }),\n        Set_changed: (val) => dispatch({ type: \"changed\", value: val }),\n    }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Modes);","import React from 'react';\nimport \"./YearModelSelection.scss\";\nimport { connect } from \"react-redux\";\nfunction YearModelSelection(props) {\n  var handle_year_click = (year) => {\n    props.Set_selected_year(year)\n  }\n  var handle_model_click=(model)=>props.Set_range_mode_model(model)\n  return (\n    <div className=\"range_topbar\" style={{width:\"100%\",marginBottom:2,display:'flex',justifyContent: \"center\",margin:0}}>\n    <div ><h5 style={{ display: \"inline-block\", marginLeft: 0,marginRight:3,fontSize:16,fontWeight:600 }}>Years: </h5>{props.years_for_dropdown.map(item => <p className={props.selected_year==item ? \"years_p_selected years_p\" : \"years_p\"} onClick={() => handle_year_click(item)}>{item}</p>)}</div>\n    <div style={{marginLeft:20}}><h5 style={{ display: \"inline-block\", marginLeft: 0,marginRight:3,fontSize:16,fontWeight:600}}>Models:</h5>{props.all_models.map(item => <p className={props.range_mode_model==item ? \"years_p_selected years_p\" : \"years_p\"} onClick={() => handle_model_click(item)}>{item}</p>)}</div>\n    </div>\n  );\n}\nconst maptstateToprop = (state) => {\n  return {\n    all_models:state.all_models,\n    selected_year: state.selected_year,\n    years_for_dropdown: state.years_for_dropdown,\n    default_models: state.default_models,\n    range_mode_model:state.range_mode_model,\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: val }),\n    Set_range_mode_model: (val) => dispatch({ type: \"range_mode_model\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(YearModelSelection);\n\n//https://material-ui.com/api/slider/\n//https://material-ui.com/components/expansion-panels/\n//https://material-ui.com/api/checkbox/\n//https://material-ui.com/components/radio-buttons/","import React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport { connect } from \"react-redux\";\nimport * as algo1 from \"../../../Algorithms/algo1\";\nimport * as $ from 'jquery';\nimport CreatexpCircle from \"../ExpChart/Create_exp_circles\"\nimport getMdsData from \"../ExpChart/MDS\"\nimport { Create_MDS } from \"../ExpChart/MDS\"\nimport \"../ExpChart/MDS.css\"\nclass SlopeChart extends Component {\n  constructor(props) {\n    super(props);\n    this.line_color = null;\n    this.exp = React.createRef()\n    this.mds = React.createRef()\n    this.state = { mds_height: 110, mouseX: 0, mouseY: 0, excluded_features: [], sorted_features: null, circle_data: null, indexed_features: null, random: true }\n  }\n  componentDidMount() {\n    this.setState({ width: window.innerHeight })\n  }\n  componentDidUpdate(prevProps, prevState) {\n    this.Createsvg(this.props.model_name,this.props.exp_id,this.props.state_range)\n  }\n  Createsvg = (model_name,exp_id,state_range) => {\n    var self = this\n    var selected_instances = d3.range(state_range[0], state_range[1] + 1)\n    if (this.props.histogram_data.length > 0) { selected_instances = this.props.histogram_data }\n    //-------------------- Threshold filter\n    var under_threshold_instances = []\n    var year_data = this.props.original_data.filter(item => this.props.selected_year == item['1-qid'])\n    this.props.default_models.map(model_name => {\n      year_data.map(item => {\n        var two_realRank = parseInt(item['two_realRank'])\n        var predicted_rank = parseInt(item[model_name])\n        if (Math.abs(predicted_rank - two_realRank) > this.props.threshold) {\n          under_threshold_instances.push(two_realRank)\n        }\n      })\n    })\n    selected_instances = selected_instances.filter(item => !under_threshold_instances.includes(item))\n    //--------------------\n\n    //------------------------------\n    var number_of_charts = 8 + self.state.excluded_features.length\n    var features_with_score = algo1.features_with_score(this.props.dataset, [model_name], selected_instances, this.props.selected_year, number_of_charts, this.props.rank_data)\n    if(exp_id in self.props.dragged_features){features_with_score=self.props.dragged_features[exp_id]}\n    var indexed_features = Object.entries(features_with_score).sort((a, b) => b[1] - a[1]).map((item, i) => item[0]) \n    var temp_sorted_features = indexed_features.filter(item => !this.state.excluded_features.includes(item))// Exclude crossed features \n    var sorted_features = temp_sorted_features.slice(0, number_of_charts).map((item, index) => [item, index])\n    var marginTop = 5;\n    var parent_height = parseInt($('.explanation_chart_parent').height()) - this.state.mds_height - parseInt($('.title_p').height())\n    var item_width = parseInt($(\"#\" + this.props.exp_id).width())\n    var item_height = (parent_height - 10) / sorted_features.length - marginTop // 10 is the top margin\n    var feature_containers = d3.select('#' + this.props.exp_id).attr('height', parent_height).selectAll(\".feature_items\").data(sorted_features, d => d[0])\n      .join(enter => enter.append(\"svg\").attr(\"y\", (d, i) => marginTop + i * (item_height + marginTop))\n        , update => update.transition().duration(2000).attr(\"y\", (d, i) => marginTop + i * (item_height + marginTop))\n        , exit => exit.remove()\n      )\n    feature_containers.attr(\"class\", d => \"feature_items \" + d[0]).attr(\"myindex\", (d, i) => i).attr('feature_name', d => d[0])\n    feature_containers.attr(\"add_title_text_and_rect_for_title_text\", function (d, index) {\n      d3.select(this).selectAll(\".title_rect\").data([0]).join('rect').attr(\"class\", \"title_rect\").attr(\"myindex\", index).attr('feature_name', d[0]).attr(\"width\", \"100%\").attr(\"height\", 18).attr(\"fill\", \"#e2e2e2\").attr(\"y\", 0).attr(\"x\", 0)\n      d3.select(this).selectAll(\".title_text\").data([0]).join('text').attr(\"class\", \"title_text\").attr(\"myindex\", index).attr('feature_name', d[0]).attr('x', item_width / 2).text(d[0]).attr(\"dominant-baseline\", \"hanging\")\n        .attr(\"y\", 2).attr('text-anchor', 'middle').attr('font-size', 12)\n    })\n    feature_containers.attr(\"add_cross_button\", function (d, index) {\n      d3.select(this).selectAll(\".cross_button\").data([0]).join(\"text\").attr('y', 7.3).attr('dominant-baseline', 'middle').attr(\"myindex\", index).attr('feature_name', d[0]).raise()\n        .attr('x', item_width - 15).style('cursor', 'pointer').attr('font-size', 12).attr('fill', 'black')\n        .text(\"\\uf410\").attr('class', \"cross_button fa make_cursor\").on('click', () => {\n          //alert(\"clicked!\")\n          d3.event.preventDefault()\n          self.setState({ excluded_features: [...self.state.excluded_features, d[0]] })\n        })\n    })\n    feature_containers.attr(\"add_rect_for_circle_background_and_handle_clicks\", function (d, index) {\n      d3.select(this).selectAll(\".circ_rect\").data([0]).join('rect').attr(\"class\", \"circ_rect\").attr(\"myindex\", index).attr('feature_name', d[0]).attr(\"width\", \"100%\").attr(\"height\", item_height - 18).attr(\"fill\", \"#f2f2f2\").attr(\"y\", 18).attr(\"x\", 0)\n        .on('click', () => {\n          if (self.props.clicked_features.includes(d[0])) {\n            self.props.Set_clicked_features(self.props.clicked_features.filter(item => item != d[0]))\n            d3.selectAll(\".\" + d[0]).selectAll(\".border_rect\").remove()\n          }\n          else {\n            self.props.Set_clicked_features([...self.props.clicked_features, d[0]])\n            d3.selectAll(\".\" + d[0]).selectAll(\".border_rect\").data([0]).join('rect').attr(\"class\", \"border_rect\").attr(\"width\", \"100%\").attr(\"height\", \"100%\").style(\"stroke\", \"black\").style(\"fill\", \"none\").style(\"stroke-width\", 5)\n          }\n        })\n        .on('dblclick', () => {\n          var feature = d[0]\n          var year = self.props.selected_year\n          d3.event.preventDefault()\n          var temp = [...self.props.dbclicked_features]\n          if (!temp.includes(feature)) {\n            temp.unshift(feature)\n            d3.selectAll(\".rect\").classed(\"exp_chart_clicked\", true)\n          }\n          self.props.set_dbclicked_features(temp)\n          //self.props.set_dbclicked_features([feature])\n          //----------------------------Data for popup chart\n          var popup_chart_data = {}\n          self.props.default_models.filter(item => item != \"ListNet\").map(model_name => {\n            var data = []\n            if (self.props.histogram_data.length > 0) {\n              data = self.props.lime_data[model_name].filter(element => { if ((parseInt(element['1-qid']) == parseInt(year)) && (self.props.histogram_data.includes(parseInt(element['two_realRank'])))) { return element } });\n            }\n            else {\n              data = self.props.lime_data[model_name].filter(element => parseInt(element['1-qid']) == parseInt(year) && selected_instances.includes(parseInt(element['two_realRank'])))\n            }\n            popup_chart_data[model_name] = data\n          })\n          self.props.Set_popup_chart_data([popup_chart_data, feature]) // This is to update the pop when the year or anything changes during the pop up is open\n          //self.props.Set_popup_chart_data([popup_chart_data, feature])\n          self.props.set_pop_over(true)\n        })\n\n    })\n    feature_containers.attr(\"CreatexpCircle\", function (d, index) {\n      CreatexpCircle(d, d3.select(this), selected_instances, self.props.lime_data, self.props.selected_year, [model_name], self.props.clicked_circles,\n        self.props.Set_clicked_circles, self.props.diverginColor, self.props.anim_config, item_width, item_height, self.props.deviation_array, index,self.props.threshold)\n    }).attr(\"height\", item_height).attr('width', item_width)\n    feature_containers.attr('check_clicked_features', d => {\n      if (self.props.clicked_features.includes(d[0])) {\n        d3.selectAll(\".\" + d[0]).selectAll(\".border_rect\").data([0]).join('rect').attr(\"class\", \"border_rect\").attr(\"width\", \"100%\").attr(\"height\", \"100%\").style(\"stroke\", \"black\").style(\"fill\", \"none\").style(\"stroke-width\", 5)\n      }\n    })\n    feature_containers.attr('add_drag_drop', function (d, index) {\n      d3.select(this).selectAll(\".my_rect\").data([0]).join('rect').attr(\"class\", \"my_rect\").attr(\"myindex\", index).attr('feature_name', d[0]).attr(\"width\", item_width - 18).attr(\"height\", 18).style(\"fill\", \"transparent\").style('cursor', 'move')\n        .call(d3.drag().on(\"start\", dragstarted).on(\"drag\", dragged).on(\"end\", dragended).container(this.parentNode.parentNode)) // Set the parent node based on which the distance will be calculated\n      var deltaY, is_dragging;\n      function dragstarted(event, d) {\n        //d3.select(this).attr(\"width\", '100%').attr(\"height\", '100%').style('fill','rgb(249, 195, 87,0.3)')\n        d3.select(this.parentNode).raise()\n        deltaY = d3.select(this.parentNode).attr(\"y\") - d3.event.y;\n      }\n      function dragged(event, d) {\n        is_dragging = true\n        d3.select(this.parentNode).raise()\n        d3.select(this.parentNode).attr(\"y\", d3.event.y + deltaY);\n      }\n      function dragended(event, d) {\n        var origin_index = parseInt(d3.select(this).attr(\"myindex\")); d3.select(this.parentNode).lower();\n        d3.select(this.parentNode).attr(\"y\", d3.event.y + deltaY);\n        var difference = parseInt(d3.select(document.elementFromPoint(d3.event.sourceEvent.clientX, d3.event.sourceEvent.clientY)).attr(\"myindex\"))-origin_index\n        //if (isNaN(dest_index)) { alert(\"Please drop properly!\"); dest_index = origin_index }\n        var origin_feature = d3.select(this).attr(\"feature_name\")\n        \n        var temp1={}\n        self.props.exp_data.map((exp_data,index) => { // exp_data={[[\"r1exp\",this.props.range_mode_range1],[\"r2exp\",this.props.range_mode_range2]]}\n          var selected_instances = d3.range(exp_data[1][0], exp_data[1][1] + 1)\n          if (self.props.histogram_data.length > 0) { selected_instances = self.props.histogram_data }\n          var number_of_charts = 15 // change this number to get features when crossed\n          var features_with_score = algo1.features_with_score(self.props.dataset, [model_name], selected_instances, self.props.selected_year,\n            number_of_charts, self.props.rank_data)\n          if(exp_data[0] in self.props.dragged_features){\n            features_with_score=self.props.dragged_features[exp_data[0]]\n          }\n          var indexed_features = Object.entries(features_with_score).sort((a, b) => b[1] - a[1]).map((item, i) => item[0])\n          var origin_index=indexed_features.indexOf(origin_feature)\n          var dest_index=origin_index+difference\n          if(dest_index<0){var dest_feature=indexed_features[0]}\n          else if(dest_index>number_of_charts-1){var dest_feature=indexed_features[number_of_charts-1]}\n          else{var dest_feature=indexed_features[dest_index]}\n\n          console.log(origin_feature,dest_feature,indexed_features,dest_index,exp_data[1][0],'test')\n\n          features_with_score[origin_feature]=features_with_score[origin_feature]-difference\n          features_with_score[dest_feature]=features_with_score[dest_feature]+difference\n          temp1[exp_data[0]]=features_with_score\n        })\n        console.log(temp1,'temp1')\n        self.props.Set_dragged_features(temp1)\n        //-------------------------------------\n        d3.select(this).raise()\n      }\n    })\n    //--------------------------------------MDS Plot-------------------------------------//\n    var feature_contrib_data_for_mds = this.props.lime_data[model_name].filter(item => item['1-qid'] == this.props.selected_year && selected_instances.includes(item['two_realRank']))\n    getMdsData(this.props.url, { \"data\": feature_contrib_data_for_mds, \"weight\": features_with_score }).then(data => {\n      if (typeof data != 'undefined') {\n        var MDS_response = JSON.parse(data.response)\n        var circle_data = feature_contrib_data_for_mds.map((item, index) => {\n          item['x'] = MDS_response[index][0]\n          item['y'] = MDS_response[index][1]\n          item['id'] = item['State'].replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\") + item[\"model\"].replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\")\n          return item\n        })\n        Create_MDS(this.mds, circle_data, \"#mds\" + this.props.exp_id, self.props.diverginColor, this.props.Set_clicked_circles)\n      }\n    })\n  }\n  //------------------------------\n  render() {\n    return (\n      <div className={\"explanation_chart_parent exp\" + this.props.model_name} style={{ width: '100%', height: '100%', \"border\": this.props.mode == 'Model' ? \"2px solid #e2e2e2\" : 'none', padding: \"2px 5px\" }}>\n        <p className=\"title_p\" style={{ padding: 0, margin: 0 }}>{this.props.model_name}</p>\n        <svg ref={this.mds} id={\"mds\" + this.props.exp_id} style={{ margin: 0, width: \"100%\", height: this.state.mds_height }}></svg>\n        <svg id={this.props.exp_id} style={{ marginTop: 0, width: \"100%\" }}></svg>\n      </div>\n    )\n  }\n}\nconst maptstateToprop = (state) => {\n  return {\n    deviation_array: state.deviation_array,\n    original_data: state.original_data,\n    time_mode_model: state.time_mode_model,\n    chart_scale_type: state.chart_scale_type,\n    dataset: state.dataset,\n    histogram_data: state.histogram_data,\n    sparkline_data: state.sparkline_data,\n    dataset: state.dataset,\n    anim_config: state.anim_config,\n    show: state.show,\n    average_m: state.average_m,\n    average_y: state.average_y,\n    lime_data: state.lime_data,\n    rank_data: state.rank_data,\n    clicked_circles: state.clicked_circles,\n    clicked_features: state.clicked_features,\n    threshold: state.threshold,\n    mode: state.mode,\n    dbclicked_features: state.dbclicked_features,\n    dragged_features: state.dragged_features,\n    url: state.url,\n    default_models: state.default_models,\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_dragged_features: (val) => dispatch({ type: \"dragged_features\", value: val }),\n    Set_clicked_circles: (val) => dispatch({ type: \"clicked_circles\", value: val }),\n    Set_prev_prop: (val) => dispatch({ type: \"prev_prop\", value: val }),\n    Set_sparkline_data: (val) => dispatch({ type: \"sparkline_data\", value: val }),\n    Set_replay: (val) => dispatch({ type: \"replay\", value: val }),\n    Set_clicked_features: (val) => dispatch({ type: \"clicked_features\", value: val }),\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: val }),\n    set_dbclicked_features: (val) => dispatch({ type: \"dbclicked_features\", value: val }),\n    Set_popup_chart_data: (val) => dispatch({ type: \"popup_chart_data\", value: val }),\n    set_pop_over: (val) => dispatch({ type: \"pop_over\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(SlopeChart);","import React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport { connect } from \"react-redux\";\nimport Grid from '@material-ui/core/Grid';\nimport * as deviation_chart from \"../DevPlot/deviation_chart\"\nimport * as misc_algo from '../misc_algo'\nimport * as $ from 'jquery';\nimport SliderGroup1 from './SliderGroup1';\nimport SliderGroup2 from './SliderGroup2';\nimport YearModelSelection from \"./YearAndModelSelection/YearModelSelection\"\nimport ExpChart from './ExpChartComponent';\nimport Popover from '../Popover/Popover';\n\nclass SlopeChart extends Component {\n  constructor(props) {\n    super(props);\n    this.line_color = null;\n    this.state = { height_slope_exp_chart: 700, mouseX: 0, mouseY: 0 }\n  }\n  componentDidMount() {\n    this.setState({ width: window.innerHeight })\n  }\n  shouldComponentUpdate(prevProps, prevState) {\n    return true;\n  }\n  componentDidUpdate(prevProps, prevState) {\n    //------------------------------\n    var selected_instances = d3.range(d3.min([this.props.range_mode_range1[0], this.props.range_mode_range2[0]]), d3.max([this.props.range_mode_range1[1], this.props.range_mode_range2[1]]) + 1)\n    var min = d3.min(selected_instances), max = d3.max(selected_instances);\n    var d = (max - min) / 8;\n    var diverginColor = d3.scaleLinear().domain([min + d * 7, min + d * 6, min + d * 5, min + d * 4, min + d * 3, min + d * 2, min]).interpolate(d3.interpolateRgb).range(['#00429d', '#4771b2', '#73a2c6', '#a5d5d8', '#ffbcaf', '#f4777f', '#cf3759', '#93003a']);\n    //------------------------------\n    var selected_instances1 = d3.range(this.props.range_mode_range1[0], this.props.range_mode_range1[1] + 1)\n    //-------------------- Threshold filter\n    var under_threshold_instances = []\n    var year_data = this.props.original_data.filter(item => this.props.selected_year == item['1-qid'])\n  \n      year_data.map(item => {\n        var two_realRank = parseInt(item['two_realRank'])\n        var predicted_rank = parseInt(item[this.props.range_mode_model])\n        if (Math.abs(predicted_rank - two_realRank) < this.props.threshold) {\n          under_threshold_instances.push(two_realRank)\n        }\n      })\n    \n    selected_instances1 = selected_instances1.filter(item => under_threshold_instances.includes(item))\n    deviation_chart.Create_deviation_chart('r1d', 'r1exp', selected_instances1, this.props.original_data, [this.props.range_mode_model], this.props.anim_config, this.props.selected_year, this.props.average_m, this.props.clicked_circles, this.props.Set_clicked_circles, diverginColor, this.props.sparkline_data, this.props.Set_selected_year, this.props.dataset, this.props.threshold)\n    //------------------------------\n    var selected_instances2 = d3.range(this.props.range_mode_range2[0], this.props.range_mode_range2[1] + 1)\n    var under_threshold_instances = []\n    var year_data = this.props.original_data.filter(item => this.props.selected_year == item['1-qid'])\n    year_data.map(item => {\n      var two_realRank = parseInt(item['two_realRank'])\n      var predicted_rank = parseInt(item[this.props.range_mode_model])\n      if (Math.abs(predicted_rank - two_realRank) < this.props.threshold) {\n        under_threshold_instances.push(two_realRank)\n      }\n    })\n    selected_instances2 = selected_instances2.filter(item => under_threshold_instances.includes(item))\n\n    deviation_chart.Create_deviation_chart('r2d', 'r2exp', selected_instances2, this.props.original_data, [this.props.range_mode_model], this.props.anim_config, this.props.selected_year, this.props.average_m, this.props.clicked_circles, this.props.Set_clicked_circles, diverginColor, this.props.sparkline_data, this.props.Set_selected_year, this.props.dataset, this.props.threshold)\n    //------------------------------\n    misc_algo.handle_transparency(\"circle2\", this.props.clicked_circles, this.props.anim_config)\n\n  }\n  render() {\n    //------------------------------\n    var selected_instances = d3.range(d3.min([this.props.range_mode_range1[0], this.props.range_mode_range2[0]]), d3.max([this.props.range_mode_range1[1], this.props.range_mode_range2[1]]) + 1)\n    var min = d3.min(selected_instances), max = d3.max(selected_instances);\n    var d = (max - min) / 8;\n    var diverginColor = d3.scaleLinear().domain([min + d * 7, min + d * 6, min + d * 5, min + d * 4, min + d * 3, min + d * 2, min]).interpolate(d3.interpolateRgb).range(['#00429d', '#4771b2', '#73a2c6', '#a5d5d8', '#ffbcaf', '#f4777f', '#cf3759', '#93003a']);\n    this.props.Set_selected_instances(selected_instances)\n    //--------------------\n    var deviation_array = []\n\n    this.props.lime_data[this.props.range_mode_model].map(item => {\n      if (item['1-qid'] == this.props.selected_year && selected_instances.includes(parseInt(item['two_realRank']))) {\n        deviation_array.push(item['deviation'])\n      }\n    })\n    this.props.Set_deviation_array(deviation_array)\n    //console.log('deviation_array: ', d3.extent(deviation_array))\n    //--------------------\n    return (\n      <Grid key={this.props.mode} className=\"RangeChartParent\" container direction=\"row\" justifyContent=\"space-between\"\n        className=\"slope_chart_exp\" style={{ width: \"100%\", height: '100%', backgroundColor: 'white', padding: \"0px 0px\", overflow: 'hidden' }}>\n        <div className=\"year_and_model_selector_and_slider_container\" style={{ width: \"100%\" }}> {/* This is used to calculate the deviation plot height */}\n          <YearModelSelection></YearModelSelection>\n        </div>\n        {/* Group 1 */}\n        <Grid className=\"Group1_container\" style={{ height: \"100%\", width: \"49.4%\", paddingRight: 0, border: \"2px solid #eaeaea\", overflow: 'hidden' }} container item direction=\"column\" justifyContent=\"space-between\">\n          <p className=\"title_p1\" style={{ margin: 0, paddingLeft: \"45%\", backgroundColor: \"rgb(232, 232, 232,0.4)\", fontWeight: \"bolder\", borderBottom: \"1px solid #cecece\" }}>Group 1</p>\n          <Grid className=\"slidergroup1\" item style={{ backgroundColor: \"rgb(232, 232, 232,0.4)\" }}><SliderGroup1></SliderGroup1></Grid>\n          <Grid className=\"dev_plot_and_exp_container\" style={{ width: '100%', height: $('.Group1_container').height() - ($('.title_p1').height() + $('.slidergroup1').height() + $('.year_and_model_selector_and_slider_container').height() + 5) }} container direction=\"row\" justify=\"center\" alignItems=\"center\">\n            <Grid className=\"deviation_plot_container_div\" item style={{ width: '49%', height: $('.Group1_container').height() - ($('.title_p1').height() + $('.slidergroup1').height() + $('.year_and_model_selector_and_slider_container').height() + 5), overflow: 'scroll', borderRight: '1px solid #dbdbdb' }}>\n              <svg id=\"r1d\" style={{ width: \"100%\", padding: 5 }}></svg>\n            </Grid>\n            {\n              this.props.rank_data != null ? <Grid className=\"explanation_plot_container\" item style={{ width: '49%', height: '100%' }}>\n                <ExpChart diverginColor={diverginColor} exp_data={[[\"r1exp\", this.props.range_mode_range1], [\"r2exp\", this.props.range_mode_range2]]} exp_id=\"r1exp\" state_range={this.props.range_mode_range1} selected_year={this.props.selected_year} model_name={this.props.range_mode_model}></ExpChart>\n              </Grid> : null\n            }\n          </Grid>\n        </Grid>\n        {/* Group 2 */}\n        <Grid className=\"Group2_container\" style={{ height: \"100%\", width: \"49.4%\", marginLeft: '0.5%', paddingRight: 0, border: \"2px solid #eaeaea\", overflow: 'hidden' }} container item direction=\"column\" justifyContent=\"space-between\">\n          <p className=\"title_p2\" style={{ margin: 0, paddingLeft: \"45%\", backgroundColor: \"rgb(232, 232, 232,0.4)\", fontWeight: \"bolder\", borderBottom: \"1px solid #cecece\" }}>Group 2</p>\n          <Grid className=\"slidergroup2\" item style={{ backgroundColor: \"rgb(232, 232, 232,0.4)\" }}><SliderGroup2></SliderGroup2></Grid>\n          <Grid className=\"dev_plot_and_exp_container\" style={{ width: '100%', height: $('.Group2_container').height() - ($('.title_p2').height() + $('.slidergroup2').height() + $('.year_and_model_selector_and_slider_container').height() + 5) }} container direction=\"row\" justify=\"center\" alignItems=\"center\">\n            <Grid className=\"deviation_plot_container_div\" item style={{ width: '49%', height: $('.Group1_container').height() - ($('.title_p2').height() + $('.slidergroup2').height() + $('.year_and_model_selector_and_slider_container').height() + 5), overflow: 'scroll', borderRight: '1px solid #dbdbdb' }}>\n              <svg id=\"r2d\" style={{ width: \"100%\", padding: 5 }}></svg>\n            </Grid>\n            {\n              this.props.rank_data != null ? <Grid className=\"explanation_plot_container\" item style={{ width: '49%', height: '100%' }}>\n                <ExpChart diverginColor={diverginColor} exp_data={[[\"r1exp\", this.props.range_mode_range1], [\"r2exp\", this.props.range_mode_range2]]} exp_id=\"r2exp\" state_range={this.props.range_mode_range2} selected_year={this.props.selected_year} model_name={this.props.range_mode_model}></ExpChart>\n              </Grid> : null\n            }\n          </Grid>\n        </Grid>\n        <Popover diverginColor={diverginColor} default_models={[this.props.range_mode_model]}></Popover>\n      </Grid>\n    )\n  }\n}\nconst maptstateToprop = (state) => {\n  return {\n    mode: state.mode,\n    range_mode_range1: state.range_mode_range1,\n    range_mode_range2: state.range_mode_range2,\n    range_mode_model: state.range_mode_model,\n    lime_data: state.lime_data,\n    selected_year: state.selected_year,\n    default_models: state.default_models,\n    original_data: state.original_data,\n    dataset: state.dataset,\n    sparkline_data: state.sparkline_data,\n    dataset: state.dataset,\n    anim_config: state.anim_config,\n    average_m: state.average_m,\n    rank_data: state.rank_data,\n    clicked_circles: state.clicked_circles,\n    threshold: state.threshold,\n    histogram_data: state.histogram_data,\n\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_selected_instances: (val) => dispatch({ type: \"selected_instances\", value: val }),\n    Set_deviation_array: (val) => dispatch({ type: \"deviation_array\", value: val }),\n    Set_clicked_circles: (val) => dispatch({ type: \"clicked_circles\", value: val }),\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(SlopeChart);","import { createMuiTheme } from \"@material-ui/core/styles\";\n\n// Create a theme instance.\nconst outerTheme = createMuiTheme({\n  palette: {\n    primary: {\n      main: \"#0069d9\"\n    },\n    secondary: {\n      main: \"#0069d9\"\n    }\n  }\n})\n\n\n\nexport var year1_drop_down = createMuiTheme({\n  overrides: { // This is the place we override classes applied to a component\n    MuiAutocomplete:{\n        root:{\n            \n        }\n    },\n    MuiFilledInput: { // This is the name of the component\n      root: { // This is the class we want to edit\n        backgroundColor: \"none\",\n        \n      }\n    },\n    MuiInputLabel: {\n      root: {\n\n      }\n    },\n    MuiTextField: {\n      root: {}\n    },\n    MuiButton: {\n      root: {\n        textTransform: \"none\",\n        padding: \"15px\"\n      },\n      fullWidth: {\n        maxWidth: \"100%\"\n      }\n    },\n    MuiFilledInput:{\n      root:{\n        padding:0,\n        backgroundColor:\"yellow\"\n      }\n    },\n    MuiAutocomplete:{\n      Root:{\n        padding:0\n      }\n    }\n\n  },\n  props: { // This is the place where we define props\n    MuiButton: {\n      disableRipple: true,\n      variant: \"contained\",\n      color: \"primary\"\n    },\n    MuiCheckbox: {\n      disableRipple: true\n    },\n    MuiTextField: {\n      variant: \"filled\",\n      InputLabelProps: {\n        shrink: true\n      }\n    },\n    MuiPaper: {\n      elevation: 12\n    },\n    MuiCard: {\n      elevation: 2\n    },\n  }\n});\n\nexport default outerTheme\n\n\n\n\n/*\nconst theme = createMuiTheme({\n  overrides: {\n    MuiOutlinedInput: {\n      root: {\n        \"& $notchedOutline\": {\n          borderColor: \"green\"\n        },\n        \"&:hover $notchedOutline\": {\n          borderColor: \"red\"\n        },\n        \"&$focused $notchedOutline\": {\n          borderColor: \"purple\"\n        },\n        \"&&& $input\": {\n          padding: \"1px\"\n        }\n      }\n    }\n  }\n});\n*/","import React from 'react';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport TextField from '@material-ui/core/TextField';\nimport { connect } from \"react-redux\";\nimport * as themes from '../../themes'\nfunction FadeMenu(props) {\n    return (\n            <div className=\"year_drop_down_container1\">\n                <p style={{ margin: 0, marginTop: 3, fontSize: 16, fontWeight: 600 }}>Year 1 :</p>\n                <Autocomplete style={{ width: 100 }} disableClearable\n                    defaultValue={props.time_mode_year1.toString()}\n                    id=\"debug\"\n                    debug\n                    options={props.years_for_dropdown.map((option) => option)}\n                    renderInput={(params) => (\n                        <TextField {...params} margin=\"normal\" fullWidth={true} InputProps={{ ...params.InputProps, disableUnderline: true }} />\n                    )}\n                    onChange={(event, value) => {\n                        props.Set_time_mode_year1(value)\n                    }}\n                />\n            </div>\n        \n    );\n}\nconst maptstateToprop = (state) => {\n    return {\n        time_mode_year1: state.time_mode_year1,\n        years_for_dropdown: state.years_for_dropdown,\n    }\n}\nconst mapdispatchToprop = (dispatch) => {\n    return {\n        Set_time_mode_year1: (val) => dispatch({ type: \"time_mode_year1\", value: val }),\n    }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(FadeMenu);","import React from 'react';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport TextField from '@material-ui/core/TextField';\nimport { connect } from \"react-redux\";\nfunction FadeMenu(props) {\n    return (\n        <div className=\"year_drop_down_container1\">\n            <p style={{margin:0,marginTop:3,fontSize:16,fontWeight:600}}>Year 2 :</p>\n            <Autocomplete style={{width:100}} disableClearable\n                defaultValue={props.time_mode_year2.toString()}\n                id=\"debug\"\n                debug\n                options={props.years_for_dropdown.map((option) => option)}\n                renderInput={(params) => (\n                    <TextField {...params} margin=\"normal\" fullWidth={true} InputProps={{ ...params.InputProps, disableUnderline: true }} />\n                )}\n                onChange={(event, value) => {\n                    props.Set_time_mode_year2(value)\n                }}\n            />\n        </div>\n    );\n}\nconst maptstateToprop = (state) => {\n    return {\n        time_mode_year2: state.time_mode_year2,\n        years_for_dropdown: state.years_for_dropdown,\n    }\n}\nconst mapdispatchToprop = (dispatch) => {\n    return {\n        Set_time_mode_year2: (val) => dispatch({ type: \"time_mode_year2\", value: val }),\n    }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(FadeMenu);","import React from 'react';\nimport Slider from '@material-ui/core/Slider';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { connect } from \"react-redux\";\nimport TextField from '@material-ui/core/TextField';\nimport Button from \"@material-ui/core/Button\";\nimport './Slider.scss';\nimport * as $ from 'jquery'\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: '100%',\n    },\n    heading: {\n        fontSize: theme.typography.pxToRem(15),\n        flexBasis: '33.33%',\n        flexShrink: 0,\n    },\n    secondaryHeading: {\n        fontSize: theme.typography.pxToRem(15),\n        color: theme.palette.text.secondary,\n    },\n    tRoot: {\n        marginBottom: 35,\n    },\n    rang_input: {\n        marginLeft: 10,\n    },\n}));\nfunction Modes(props) {\n    const classes = useStyles();\n    // states \n    const [sliderRange, set_sliderRange] = React.useState(props.time_mode_range);\n    //-----------------------------------------------------------------\n    var temp_marks = [];\n    var step = (props.slider_max - 1) / (6 - 1);\n    for (var i = 0; i < 6; i++) {\n        temp_marks.push(1 + (step * i));\n    }\n    var marks = temp_marks.map(item => {\n        var myitem = parseInt(item)\n        return { value: myitem, label: myitem }\n    })\n    //console.log(props.marks)\n    //-----------------------------------------------------------------\n    return (\n        <div className=\"YearSlider\" \n        style={{height: 70, width:'100%',padding: 30}}>\n            <div className=\"lower\" style={{ padding: \"0px 0px\", marginTop: -20 }}>\n                <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Lower\" value={sliderRange[0]} style={{ width: \"100%\" }}\n                    onChange={event => {\n                        if (isNaN(parseInt(event.target.value))) {\n                            set_sliderRange([\"\", sliderRange[1]])\n                        } else {\n                            if (event.target.value > sliderRange[1]) {\n                                alert(\"Lower range can not be larger than the upper range\")\n                            }\n                            else {\n                                set_sliderRange([event.target.value, sliderRange[1]])\n                            }\n                        }\n                    }\n                    }\n                />\n            </div>\n            <div className=\"slider\" style={{width: \"100%\", margin: \"0px 0px\" }}>\n                <Slider value={sliderRange} onChange={(event, newValue) => set_sliderRange(newValue)} onChangeCommitted={(event, newValue) => props.Set_changed(\"range\")}\n                    valueLabelDisplay=\"auto\" aria-labelledby=\"range-slider\" valueLabelDisplay=\"on\" min={1} max={props.slider_max} marks={marks}\n                />\n            </div>\n            <div className=\"upper\" style={{ padding: \"0px 0px\", marginTop: -20 }}>\n                <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Upper\" value={sliderRange[1]} style={{ width: \"100%\" }}\n                    onChange={event => {\n                        if (isNaN(parseInt(event.target.value))) {\n                            set_sliderRange([sliderRange[0], \"\"])\n                        } else {\n                            if (parseInt(event.target.value) > props.slider_max) {\n                                alert(\"Upper range can not exceed maximum\")\n                                set_sliderRange([sliderRange[0], props.slider_max])\n                            }\n                            else {\n                                set_sliderRange([sliderRange[0], parseInt(event.target.value)])\n                            }\n                        }\n                    }\n                    }\n                />\n            </div>\n            <div className=\"button\" item style={{ marginTop: -10 }}>\n                <Button className=\"range_button\" style={{ backgroundColor: \"#ededed\", height: 30,fontWeight:600,fontSize:18 }}\n                    onClick={() => {\n                        props.Set_time_mode_range(sliderRange)\n                    }}\n                >Update range</Button>\n            </div>\n        </div>\n    );\n}\nconst maptstateToprop = (state) => {\n    return {\n        slider_max: state.slider_max,\n        time_mode_range: state.time_mode_range,\n    }\n}\nconst mapdispatchToprop = (dispatch) => {\n    return {\n        Set_time_mode_range: (val) => dispatch({ type: \"time_mode_range\", value: val }),\n        Set_changed: (val) => dispatch({ type: \"changed\", value: val }),\n    }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Modes);","import React from 'react';\nimport \"./YearModelSelection.scss\";\nimport { connect } from \"react-redux\";\nimport Slider from './Slider'\nimport Grid from '@material-ui/core/Grid'\nfunction YearModelSelection(props) {\n  var handle_year_click = (year) => {\n    props.Set_selected_year(year)\n  }\n  var handle_model_click = (model) => props.Set_time_mode_model(model)\n  return (\n    <Grid container direction=\"row\" justifyContent=\"center\" alignItems=\"center\" style={{width:'100%',height:76,padding:3}}>\n      <Grid item xs={4} style={{marginTop:5, marginLeft: 5,verticalAlign:'baseline' }}><h5 style={{ display: \"inline-block\", marginRight: 5,marginTop:-4, fontSize: 20,fontWeight:600 }}>Models:</h5>{props.all_models.map(item => <p className={props.time_mode_model == item ? \"years_p_selected years_p\" : \"years_p\"} onClick={() => handle_model_click(item)}>{item}</p>)}</Grid>\n      <Grid item xs={6} style={{marginLeft:15,overflow:'scroll'}}><Slider></Slider></Grid>\n    </Grid>\n  );\n}\nconst maptstateToprop = (state) => {\n  return {\n    all_models: state.all_models,\n    selected_year: state.selected_year,\n    years_for_dropdown: state.years_for_dropdown,\n    default_models: state.default_models,\n    time_mode_model: state.time_mode_model,\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: val }),\n    Set_time_mode_model: (val) => dispatch({ type: \"time_mode_model\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(YearModelSelection);\n\n//https://material-ui.com/api/slider/\n//https://material-ui.com/components/expansion-panels/\n//https://material-ui.com/api/checkbox/\n//https://material-ui.com/components/radio-buttons/","import React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport { connect } from \"react-redux\";\nimport * as algo1 from \"../../../Algorithms/algo1\";\nimport * as $ from 'jquery';\nimport CreatexpCircle from \"../ExpChart/Create_exp_circles\"\nimport getMdsData from \"../ExpChart/MDS\"\nimport { Create_MDS } from \"../ExpChart/MDS\"\nimport \"../ExpChart/MDS.css\"\nclass SlopeChart extends Component {\n  constructor(props) {\n    super(props);\n    this.mds = React.createRef()\n    this.state = { mds_height: 110, mouseX: 0, mouseY: 0, excluded_features: [], sorted_features: null, circle_data: null, indexed_features: null, random: true }\n  }\n  componentDidMount() {\n    this.setState({ width: window.innerHeight })\n  }\n  componentDidUpdate(prevProps, prevState) {\n    this.Createsvg(this.props.model_name,this.props.exp_id,this.props.state_range,this.props.selected_year)\n  }\n  Createsvg = (model_name,exp_id,state_range,selected_year) => {\n    var self = this\n    var selected_instances = d3.range(state_range[0], state_range[1] + 1)\n    if (this.props.histogram_data.length > 0) { selected_instances = this.props.histogram_data }\n    //-------------------- Threshold filter\n    var under_threshold_instances = []\n    var year_data = this.props.original_data.filter(item => this.props.selected_year == item['1-qid'])\n    this.props.default_models.map(model_name => {\n      year_data.map(item => {\n        var two_realRank = parseInt(item['two_realRank'])\n        var predicted_rank = parseInt(item[model_name])\n        if (Math.abs(predicted_rank - two_realRank) > this.props.threshold) {\n          under_threshold_instances.push(two_realRank)\n        }\n      })\n    })\n    selected_instances = selected_instances.filter(item => !under_threshold_instances.includes(item))\n    //--------------------\n\n    //------------------------------\n    var number_of_charts = 8 + self.state.excluded_features.length\n    var features_with_score = algo1.features_with_score(this.props.dataset, [model_name], selected_instances, selected_year, number_of_charts, this.props.rank_data)\n    if(exp_id in self.props.dragged_features){features_with_score=self.props.dragged_features[exp_id]}\n    var indexed_features = Object.entries(features_with_score).sort((a, b) => b[1] - a[1]).map((item, i) => item[0]) \n    var temp_sorted_features = indexed_features.filter(item => !this.state.excluded_features.includes(item))// Exclude crossed features \n    var sorted_features = temp_sorted_features.slice(0, number_of_charts).map((item, index) => [item, index])\n    var marginTop = 5;\n    var parent_height = parseInt($('.explanation_chart_parent').height()) - this.state.mds_height - parseInt($('.title_p').height())\n    var item_width = parseInt($(\"#\" + this.props.exp_id).width())\n    var item_height = (parent_height - 10) / sorted_features.length - marginTop // 10 is the top margin\n    var feature_containers = d3.select('#' + this.props.exp_id).attr('height', parent_height).selectAll(\".feature_items\").data(sorted_features, d => d[0])\n      .join(enter => enter.append(\"svg\").attr(\"y\", (d, i) => marginTop + i * (item_height + marginTop))\n        , update => update.transition().duration(2000).attr(\"y\", (d, i) => marginTop + i * (item_height + marginTop))\n        , exit => exit.remove()\n      )\n    feature_containers.attr(\"class\", d => \"feature_items \" + d[0]).attr(\"myindex\", (d, i) => i).attr('feature_name', d => d[0])\n    feature_containers.attr(\"add_title_text_and_rect_for_title_text\", function (d, index) {\n      d3.select(this).selectAll(\".title_rect\").data([0]).join('rect').attr(\"class\", \"title_rect\").attr(\"myindex\", index).attr('feature_name', d[0]).attr(\"width\", \"100%\").attr(\"height\", 18).attr(\"fill\", \"#e2e2e2\").attr(\"y\", 0).attr(\"x\", 0)\n      d3.select(this).selectAll(\".title_text\").data([0]).join('text').attr(\"class\", \"title_text\").attr(\"myindex\", index).attr('feature_name', d[0]).attr('x', item_width / 2).text(d[0]).attr(\"dominant-baseline\", \"hanging\")\n        .attr(\"y\", 2).attr('text-anchor', 'middle').attr('font-size', 12)\n    })\n    feature_containers.attr(\"add_cross_button\", function (d, index) {\n      d3.select(this).selectAll(\".cross_button\").data([0]).join(\"text\").attr('y', 7.3).attr('dominant-baseline', 'middle').attr(\"myindex\", index).attr('feature_name', d[0]).raise()\n        .attr('x', item_width - 15).style('cursor', 'pointer').attr('font-size', 12).attr('fill', 'black')\n        .text(\"\\uf410\").attr('class', \"cross_button fa make_cursor\").on('click', () => {\n          //alert(\"clicked!\")\n          d3.event.preventDefault()\n          self.setState({ excluded_features: [...self.state.excluded_features, d[0]] })\n        })\n    })\n    feature_containers.attr(\"add_rect_for_circle_background_and_handle_clicks\", function (d, index) {\n      d3.select(this).selectAll(\".circ_rect\").data([0]).join('rect').attr(\"class\", \"circ_rect\").attr(\"myindex\", index).attr('feature_name', d[0]).attr(\"width\", \"100%\").attr(\"height\", item_height - 18).attr(\"fill\", \"#f2f2f2\").attr(\"y\", 18).attr(\"x\", 0)\n        .on('click', () => {\n          if (self.props.clicked_features.includes(d[0])) {\n            self.props.Set_clicked_features(self.props.clicked_features.filter(item => item != d[0]))\n            d3.selectAll(\".\" + d[0]).selectAll(\".border_rect\").remove()\n          }\n          else {\n            self.props.Set_clicked_features([...self.props.clicked_features, d[0]])\n            d3.selectAll(\".\" + d[0]).selectAll(\".border_rect\").data([0]).join('rect').attr(\"class\", \"border_rect\").attr(\"width\", \"100%\").attr(\"height\", \"100%\").style(\"stroke\", \"black\").style(\"fill\", \"none\").style(\"stroke-width\", 5)\n          }\n        })\n        .on('dblclick', () => {\n          var feature = d[0]\n          var year = selected_year\n          d3.event.preventDefault()\n          var temp = [...self.props.dbclicked_features]\n          if (!temp.includes(feature)) {\n            temp.unshift(feature)\n            d3.selectAll(\".rect\").classed(\"exp_chart_clicked\", true)\n          }\n          self.props.set_dbclicked_features(temp)\n          //self.props.set_dbclicked_features([feature])\n          //----------------------------Data for popup chart\n          var popup_chart_data = {}\n          self.props.default_models.filter(item => item != \"ListNet\").map(model_name => {\n            var data = []\n            if (self.props.histogram_data.length > 0) {\n              data = self.props.lime_data[model_name].filter(element => { if ((parseInt(element['1-qid']) == parseInt(year)) && (self.props.histogram_data.includes(parseInt(element['two_realRank'])))) { return element } });\n            }\n            else {\n              data = self.props.lime_data[model_name].filter(element => parseInt(element['1-qid']) == parseInt(year) && selected_instances.includes(parseInt(element['two_realRank'])))\n            }\n            popup_chart_data[model_name] = data\n          })\n          self.props.Set_popup_chart_data([popup_chart_data, feature]) // This is to update the pop when the year or anything changes during the pop up is open\n          //self.props.Set_popup_chart_data([popup_chart_data, feature])\n          self.props.set_pop_over(true)\n        })\n\n    })\n    feature_containers.attr(\"CreatexpCircle\", function (d, index) {\n      CreatexpCircle(d, d3.select(this), selected_instances, self.props.lime_data, selected_year, [model_name], self.props.clicked_circles,\n        self.props.Set_clicked_circles, self.props.diverginColor, self.props.anim_config, item_width, item_height, self.props.deviation_array, index,self.props.threshold)\n    }).attr(\"height\", item_height).attr('width', item_width)\n    feature_containers.attr('check_clicked_features', d => {\n      if (self.props.clicked_features.includes(d[0])) {\n        d3.selectAll(\".\" + d[0]).selectAll(\".border_rect\").data([0]).join('rect').attr(\"class\", \"border_rect\").attr(\"width\", \"100%\").attr(\"height\", \"100%\").style(\"stroke\", \"black\").style(\"fill\", \"none\").style(\"stroke-width\", 5)\n      }\n    })\n    feature_containers.attr('add_drag_drop', function (d, index) {\n      d3.select(this).selectAll(\".my_rect\").data([0]).join('rect').attr(\"class\", \"my_rect\").attr(\"myindex\", index).attr('feature_name', d[0]).attr(\"width\", item_width - 18).attr(\"height\", 18).style(\"fill\", \"transparent\").style('cursor', 'move')\n        .call(d3.drag().on(\"start\", dragstarted).on(\"drag\", dragged).on(\"end\", dragended).container(this.parentNode.parentNode)) // Set the parent node based on which the distance will be calculated\n      var deltaY, is_dragging;\n      function dragstarted(event, d) {\n        d3.select(this.parentNode).raise()\n        deltaY = d3.select(this.parentNode).attr(\"y\") - d3.event.y;\n      }\n      function dragged(event, d) {\n        is_dragging = true\n        d3.select(this.parentNode).raise()\n        d3.select(this.parentNode).attr(\"y\", d3.event.y + deltaY);\n      }\n      function dragended(event, d) {\n        var origin_index = parseInt(d3.select(this).attr(\"myindex\")); d3.select(this.parentNode).lower();\n        d3.select(this.parentNode).attr(\"y\", d3.event.y + deltaY);\n        var difference = parseInt(d3.select(document.elementFromPoint(d3.event.sourceEvent.clientX, d3.event.sourceEvent.clientY)).attr(\"myindex\"))-origin_index\n        //if (isNaN(dest_index)) { alert(\"Please drop properly!\"); dest_index = origin_index }\n        var origin_feature = d3.select(this).attr(\"feature_name\")\n        \n        var temp1={}\n        self.props.exp_data.map((exp_data,index) => { // exp_data={[[\"r1exp\",this.props.range_mode_range1],[\"r2exp\",this.props.range_mode_range2]]}\n          var selected_instances = d3.range(state_range[0], state_range[1] + 1)\n          if (self.props.histogram_data.length > 0) { selected_instances = self.props.histogram_data }\n          var number_of_charts = 15 // change this number to get features when crossed\n          var features_with_score = algo1.features_with_score(self.props.dataset, [model_name], selected_instances, exp_data[1],\n            number_of_charts, self.props.rank_data)\n          if(exp_data[0] in self.props.dragged_features){\n            features_with_score=self.props.dragged_features[exp_data[0]]\n          }\n          var indexed_features = Object.entries(features_with_score).sort((a, b) => b[1] - a[1]).map((item, i) => item[0])\n          var origin_index=indexed_features.indexOf(origin_feature)\n          var dest_index=origin_index+difference\n          if(dest_index<0){var dest_feature=indexed_features[0]}\n          else if(dest_index>number_of_charts-1){var dest_feature=indexed_features[number_of_charts-1]}\n          else{var dest_feature=indexed_features[dest_index]}\n\n          console.log(origin_feature,dest_feature,indexed_features,dest_index,exp_data[1][0],'test')\n\n          features_with_score[origin_feature]=features_with_score[origin_feature]-difference\n          features_with_score[dest_feature]=features_with_score[dest_feature]+difference\n          temp1[exp_data[0]]=features_with_score\n        })\n        console.log(temp1,'temp1')\n        self.props.Set_dragged_features(temp1)\n        //-------------------------------------\n        d3.select(this).raise()\n      }\n    })\n    //--------------------------------------MDS Plot-------------------------------------//\n    var feature_contrib_data_for_mds = this.props.lime_data[model_name].filter(item => item['1-qid'] == selected_year && selected_instances.includes(item['two_realRank']))\n    getMdsData(this.props.url, { \"data\": feature_contrib_data_for_mds, \"weight\": features_with_score }).then(data => {\n      if (typeof data != 'undefined') {\n        var MDS_response = JSON.parse(data.response)\n        var circle_data = feature_contrib_data_for_mds.map((item, index) => {\n          item['x'] = MDS_response[index][0]\n          item['y'] = MDS_response[index][1]\n          item['id'] = item['State'].replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\") + item[\"model\"].replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\")\n          return item\n        })\n        Create_MDS(this.mds, circle_data, \"#mds\" + this.props.exp_id, self.props.diverginColor, this.props.Set_clicked_circles)\n      }\n    })\n  }\n  //------------------------------\n  render() {\n    return (\n      <div className={\"explanation_chart_parent exp\" + this.props.model_name} style={{ width: '100%', height: '100%', \"border\": this.props.mode == 'Model' ? \"2px solid #e2e2e2\" : 'none', padding: \"2px 5px\" }}>\n        <p className=\"title_p\" style={{ padding: 0, margin: 0 }}>{this.props.model_name}</p>\n        <svg ref={this.mds} id={\"mds\" + this.props.exp_id} style={{ margin: 0, width: \"100%\", height: this.state.mds_height }}></svg>\n        <svg id={this.props.exp_id} style={{ marginTop: 0, width: \"100%\" }}></svg>\n      </div>\n    )\n  }\n}\nconst maptstateToprop = (state) => {\n  return {\n    deviation_array: state.deviation_array,\n    original_data: state.original_data,\n    time_mode_model: state.time_mode_model,\n    chart_scale_type: state.chart_scale_type,\n    dataset: state.dataset,\n    histogram_data: state.histogram_data,\n    sparkline_data: state.sparkline_data,\n    dataset: state.dataset,\n    anim_config: state.anim_config,\n    show: state.show,\n    average_m: state.average_m,\n    average_y: state.average_y,\n    lime_data: state.lime_data,\n    rank_data: state.rank_data,\n    clicked_circles: state.clicked_circles,\n    clicked_features: state.clicked_features,\n    threshold: state.threshold,\n    mode: state.mode,\n    dbclicked_features: state.dbclicked_features,\n    dragged_features: state.dragged_features,\n    url: state.url,\n    default_models: state.default_models,\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_dragged_features: (val) => dispatch({ type: \"dragged_features\", value: val }),\n    Set_clicked_circles: (val) => dispatch({ type: \"clicked_circles\", value: val }),\n    Set_prev_prop: (val) => dispatch({ type: \"prev_prop\", value: val }),\n    Set_sparkline_data: (val) => dispatch({ type: \"sparkline_data\", value: val }),\n    Set_replay: (val) => dispatch({ type: \"replay\", value: val }),\n    Set_clicked_features: (val) => dispatch({ type: \"clicked_features\", value: val }),\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: val }),\n    set_dbclicked_features: (val) => dispatch({ type: \"dbclicked_features\", value: val }),\n    Set_popup_chart_data: (val) => dispatch({ type: \"popup_chart_data\", value: val }),\n    set_pop_over: (val) => dispatch({ type: \"pop_over\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(SlopeChart);","import React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport './YearModeComponent.scss';\nimport { connect } from \"react-redux\";\nimport * as deviation_chart from \"../DevPlot/deviation_chart\"\nimport * as misc_algo from '../misc_algo'\nimport * as $ from 'jquery';\nimport Year1DropDown from './Year1DropDown';\nimport Year2DropDown from './Year2DropDown';\nimport YearModelSelection from \"./YearAndModelSelection/YearModelSelection\"\nimport ExpChart from './ExpChartComponent';\nimport Popover from '../Popover/Popover';\nimport Box from '@mui/material/Box';\nimport Grid from '@mui/material/Grid';\n\nclass SlopeChart extends Component {\n  constructor(props) {\n    super(props);\n    this.line_color = null;\n    this.state = { height_slope_exp_chart: 700, mouseX: 0, mouseY: 0 }\n  }\n  componentDidMount() {\n    this.setState({ width: window.innerHeight })\n  }\n  shouldComponentUpdate(prevProps, prevState) {\n    return true;\n  }\n  componentDidUpdate(prevProps, prevState) {\n    //------------------------------\n    var selected_instances = d3.range(this.props.time_mode_range[0], this.props.time_mode_range[1] + 1)\n    var min = d3.min(selected_instances), max = d3.max(selected_instances);\n    var d = (max - min) / 8;\n    var diverginColor = d3.scaleLinear().domain([min + d * 7, min + d * 6, min + d * 5, min + d * 4, min + d * 3, min + d * 2, min]).interpolate(d3.interpolateRgb).range(['#00429d', '#4771b2', '#73a2c6', '#a5d5d8', '#ffbcaf', '#f4777f', '#cf3759', '#93003a']);\n\n    //----------\n    var under_threshold_instances = []\n    var year_data = this.props.original_data.filter(item => this.props.time_mode_year1 == item['1-qid'])\n    year_data.map(item => {\n      var two_realRank = parseInt(item['two_realRank'])\n      var predicted_rank = parseInt(item[this.props.time_mode_model])\n      if (Math.abs(predicted_rank - two_realRank) < this.props.threshold) {\n        under_threshold_instances.push(two_realRank)\n      }\n    })\n    var selected_instances1 = selected_instances.filter(item => under_threshold_instances.includes(item))\n    deviation_chart.Create_deviation_chart('r1d', 'r1exp', selected_instances1, this.props.original_data, [this.props.time_mode_model], this.props.anim_config, this.props.time_mode_year1, this.props.average_m, this.props.clicked_circles, this.props.Set_clicked_circles, diverginColor, this.props.sparkline_data, this.props.Set_selected_year, this.props.dataset, this.props.threshold)\n    //------------------------------\n    var under_threshold_instances = []\n    var year_data = this.props.original_data.filter(item => this.props.time_mode_year2 == item['1-qid'])\n    year_data.map(item => {\n      var two_realRank = parseInt(item['two_realRank'])\n      var predicted_rank = parseInt(item[this.props.time_mode_model])\n      if (Math.abs(predicted_rank - two_realRank) < this.props.threshold) {\n        under_threshold_instances.push(two_realRank)\n      }\n    })\n    var selected_instances2 = selected_instances.filter(item => under_threshold_instances.includes(item))\n    console.log(selected_instances2, 'selected_instances2')\n    deviation_chart.Create_deviation_chart('r2d', 'r2exp', selected_instances2, this.props.original_data, [this.props.time_mode_model], this.props.anim_config, this.props.time_mode_year2, this.props.average_m, this.props.clicked_circles, this.props.Set_clicked_circles, diverginColor, this.props.sparkline_data, this.props.Set_selected_year, this.props.dataset, this.props.threshold)\n    //------------------------------\n    misc_algo.handle_transparency(\"circle2\", this.props.clicked_circles, this.props.anim_config)\n\n  }\n  render() {\n    var selected_instances = d3.range(this.props.time_mode_range[0], this.props.time_mode_range[1] + 1)\n    var min = d3.min(selected_instances), max = d3.max(selected_instances);\n    var d = (max - min) / 8;\n    var diverginColor = d3.scaleLinear().domain([min + d * 7, min + d * 6, min + d * 5, min + d * 4, min + d * 3, min + d * 2, min]).interpolate(d3.interpolateRgb).range(['#00429d', '#4771b2', '#73a2c6', '#a5d5d8', '#ffbcaf', '#f4777f', '#cf3759', '#93003a']);\n    this.props.Set_selected_instances(selected_instances)\n    return (\n      <Box className=\"box_root\" sx={{ width: '100%',height:'100%', padding: 0.5 }}>\n        <Grid container rowSpacing={0.3} columnSpacing={{ xs: 0.3 }}>\n          <Grid item xs={12}>\n            <div className=\"year_and_model_selector_and_slider_container\" style={{ width: '100%' }}><YearModelSelection></YearModelSelection></div>\n          </Grid>\n          {/* Group 1 */}\n          <Grid item xs={6} className=\"Group1_container\" style={{ borderTop: '2px solid grey',borderLeft: '2px solid grey',borderRight: '2px solid grey' }}>\n            <Grid container rowSpacing={0.3} columnSpacing={{ xs: 0.3 }}>\n              <Grid item xs={12} style={{padding:0}}>\n                <div className=\"slidergroup1\" style={{ width: '100%', height: 30 }}><Year1DropDown></Year1DropDown></div>\n              </Grid>\n              <Grid className=\"dev_plot_and_exp_container\" item xs={6}>\n                <div className=\"deviation_plot_container_div\" style={{ width: '100%', height:$('.box_root').height() - ($('.year_and_model_selector_and_slider_container').height() + $('.slidergroup1').height()),overflow: 'scroll' }}><svg id=\"r1d\" style={{ width: \"100%\"}}></svg></div>\n              </Grid>\n              <Grid item xs={6}>\n                {\n                  this.props.rank_data != null ? <div className=\"explanation_plot_container\" style={{ width: '100%', height: '100%', }}>\n                    <ExpChart exp_data={[[\"r1exp\", this.props.time_mode_year1], [\"r2exp\", this.props.time_mode_year2]]} diverginColor={diverginColor} exp_id=\"r1exp\" default_models={[this.props.time_mode_model]} state_range={this.props.time_mode_range} selected_year={this.props.time_mode_year1} model_name={this.props.time_mode_model}></ExpChart>\n                  </div> : null\n                }\n              </Grid>\n            </Grid>\n          </Grid>\n          {/* Group 2 */}\n          <Grid item xs={6} style={{ borderTop: '2px solid grey',borderRight: '2px solid grey' }}>\n            <Grid container rowSpacing={0.3} columnSpacing={{ xs: 0.3 }}>\n              <Grid item xs={12} style={{padding:0}}>\n                <div className=\"slidergroup2\" style={{ width: '100%', height: 30 }}><Year2DropDown></Year2DropDown></div>\n              </Grid>\n              <Grid item xs={6}>\n                <div className=\"deviation_plot_container_div\" style={{ width: '100%', height:$('.box_root').height() - ($('.year_and_model_selector_and_slider_container').height() + $('.slidergroup2').height()),overflow: 'scroll' }}><svg id=\"r2d\" style={{ width: \"100%\" }}></svg></div>\n              </Grid>\n              <Grid item xs={6}>\n                  {\n                    this.props.rank_data != null ? <div className=\"explanation_plot_container\" style={{ width: '100%', height: 500, }}>\n                      <ExpChart exp_data={[[\"r1exp\", this.props.time_mode_year1], [\"r2exp\", this.props.time_mode_year2]]} diverginColor={diverginColor} exp_id=\"r2exp\" default_models={[this.props.time_mode_model]} state_range={this.props.time_mode_range} selected_year={this.props.time_mode_year2} model_name={this.props.time_mode_model}></ExpChart>\n                    </div> : null\n                  }\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Box>\n    )\n  }\n}\nconst maptstateToprop = (state) => {\n  return {\n    time_mode_year1: state.time_mode_year1,\n    time_mode_year2: state.time_mode_year2,\n    mode: state.mode,\n    time_mode_range: state.time_mode_range,\n    time_mode_model: state.time_mode_model,\n    default_models: state.default_models,\n    original_data: state.original_data,\n    dataset: state.dataset,\n    sparkline_data: state.sparkline_data,\n    dataset: state.dataset,\n    anim_config: state.anim_config,\n    average_m: state.average_m,\n    rank_data: state.rank_data,\n    clicked_circles: state.clicked_circles,\n    threshold: state.threshold,\n    histogram_data: state.histogram_data,\n\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_selected_instances: (val) => dispatch({ type: \"selected_instances\", value: val }),\n    Set_clicked_circles: (val) => dispatch({ type: \"clicked_circles\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(SlopeChart);","import React, { Component } from 'react';\nimport { connect } from \"react-redux\";\nimport * as $ from \"jquery\"\nimport * as d3 from 'd3';\nimport exp_fiscal_CordAscent from \"../../../Data/data/fiscal/lime/chart1_data.csv\";\nimport exp_school_CordAscent from \"../../../Data/data/school/lime/chart1_data.csv\";\nimport exp_house_CordAscent from \"../../../Data/data/house/lime/chart1_data.csv\";\nimport * as algo1 from \"../../../Algorithms/algo1\";\nimport CreateHistogram from './CreateHistogram'\nimport CreateBarChart from './CreateBarChart';\nimport Button from '@material-ui/core/Button';\nimport { delay } from 'lodash';\nclass FeatureHistograms extends Component {\n    constructor(props) {\n        super(props);\n        this.state = { feature_data: [] };\n    }\n    componentDidMount() {\n        var filename; if (this.props.dataset == \"fiscal\") { filename = exp_fiscal_CordAscent } else if (this.props.dataset == \"school\") { filename = exp_school_CordAscent } else if (this.props.dataset == \"house\") { filename = exp_house_CordAscent }\n        d3.csv(filename).then(feature_data => {\n            this.setState({ feature_data: feature_data,all_instances:{} })\n        })\n    }\n    store_instances=(feature_name,instances)=>{\n        var temp={...this.state.all_instances}\n        temp[feature_name]=instances\n        this.setState({all_instances:temp})\n    }\n    shouldComponentUpdate(nextProps, nextState) {\n        if(typeof(this.state.all_instances)!=\"undefined\" && JSON.stringify(nextState.all_instances)!==JSON.stringify(this.state.all_instances)){\n            return false\n        }\n        return true    \n    }\n    componentDidUpdate() {\n        var self = this\n        var filename;\n        var selected_instances = d3.range(this.props.state_range[0], this.props.state_range[1] + 1)\n        //--------------------\n        var number_of_charts = 9\n        var features_dict = algo1.features_with_score(this.props.dataset, this.props.default_models, selected_instances, this.props.selected_year, number_of_charts, this.props.rank_data)\n        var sorted_features = Object.entries(features_dict).sort((first, second) => second[1] - first[1]).map(element => element[0])\n        //--------------------\n        if (this.props.dataset == \"fiscal\") { filename = exp_fiscal_CordAscent } else if (this.props.dataset == \"school\") { filename = exp_school_CordAscent }\n        //--------------------------------Iterate through each features\n        const margin = { top: 10, right: 5, bottom: 50, left: 5 }; // Histogram\n        //const margin = { top: 10, right: 5, bottom: 40, left: 5 } // Barchart\n        d3.select(\".feature_histograms_container\").selectAll(\".feature\").data(sorted_features, d => d).join(\"svg\").attr(\"class\", 'feature')\n            //.attr(\"width\", feature_width)\n            //.attr(\"y\", (d, feature_index) => feature_height * feature_index)\n            .attr(\"add_histogram\", function (d, feature_index) {\n                var histogram_data = []\n                if (!isNaN(self.state.feature_data[0][d])) {\n                    self.state.feature_data.forEach(element => {\n                        if (element[\"1-qid\"] == self.props.selected_year) {\n                            var temp_dict = {}\n                            temp_dict[\"x\"] = parseInt(element['two_realRank'])\n                            temp_dict[\"y\"] = parseFloat(element[d])\n                            histogram_data.push(temp_dict)\n                        }\n                    });\n                    CreateHistogram(histogram_data, d3.select(this), d, feature_index, sorted_features.length,self.store_instances)\n                }\n                else {\n                    self.state.feature_data.forEach(element => {\n                        if (element[\"1-qid\"] == self.props.selected_year) {\n                            var temp_dict = {}\n                            temp_dict[\"x\"] = parseInt(element['two_realRank'])\n                            temp_dict[\"y\"] = element[d]\n                            histogram_data.push(temp_dict)\n                        }})\n                    CreateBarChart(histogram_data, d3.select(this), d, feature_index, sorted_features.length,self.store_instances,self.state.all_instances)\n                }\n            })\n            .attr('id',d=>d)\n            //.call(d3.brush().extent([[0, margin.top], [400, 65]]))\n        //--------------------------------Iterate through each features\n    }\n    render() {\n        return (\n            this.props.original_data != null ? <div style={{display:'relative', width: 400,marginTop:-8 }}>\n                <Button fullWidth style={{margin:0,position:'sticky',top:0,backgroundColor:\"gray\",borderRadius:0}} onClick={()=>{\n                    var selected_instances=[...new Set([].concat(...Object.values(this.state.all_instances)))]\n                    var filtered_instances=selected_instances.filter(item => item>=this.props.state_range[0] && item<=this.props.state_range[1])\n                    this.props.handleClose() // This will close the select menu\n                    if(filtered_instances.length==0){alert(\"No instance is available withing the selected range!\")}\n                    this.props.Set_histogram_data([...filtered_instances])\n                }}> Update </Button>\n                <div className=\"feature_histograms_container_div\" style={{display:'relative', width: 400, height: window.innerHeight, overflow: \"scroll\",marginTop:-8 }}>\n                <svg className=\"feature_histograms_container\" style={{ width: \"100%\", padding: 10 }}> </svg>\n                </div>\n            </div> : null\n        );\n    }\n}\nconst maptstateToprop = (state) => {\n    return {\n        dataset: state.dataset,\n        deviate_by: state.deviate_by,\n        state_range: state.state_range,\n        default_models: state.default_models,\n        selected_year: state.selected_year,\n        sparkline_data: state.sparkline_data,\n        show: state.show,\n        mode: state.mode,\n        original_data: state.original_data,\n        rank_data: state.rank_data,\n    }\n}\nconst mapdispatchToprop = (dispatch) => {\n    return {\n        Set_slider_max: (val) => dispatch({ type: \"slider_max\", value: val }),\n        Set_state_range: (val) => dispatch({ type: \"state_range\", value: val }),\n        Set_histogram_data: (val) => dispatch({ type: \"histogram_data\", value: val }),\n    }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(FeatureHistograms);\n\n//https://material-ui.com/api/slider/\n//https://material-ui.com/components/expansion-panels/\n//https://material-ui.com/api/checkbox/\n//https://material-ui.com/components/radio-buttons/","import * as d3 from 'd3';\nimport * as $ from \"jquery\"\nexport default function CreateChart(histogram_data, svg, feature_name, feature_index, number_of_features,store_instances,all_instances) {\n  //( feature_height, selected_year, handleHistogramselection, feature_data)\n  var parent_width = $(\".feature_histograms_container\").width()\n  var parent_height = $(\".feature_histograms_container\").height()\n  var feature_width = $(\".feature_histograms_container\").width()\n  var feature_height = 120\n  const margin = { top: 10, right: 5, bottom: 40, left: 5 }\n  d3.select(\".feature_histograms_container\").attr('height', feature_height * number_of_features + 20)\n  svg.attr('y', feature_height * feature_index).attr('width', parent_width).attr('height', feature_height)\n  //-----------------------------------------------------------\n  var occur = {}\n  histogram_data.map(item => {\n    if (item.y in occur) occur[item.y] = occur[item.y] + 1\n    else { occur[item.y] = 1 }\n  })\n  var items = Object.entries(occur).sort((first, second) => second[1] - first[1]);\n  var x = items.map(element => element[1]);\n  var sum_x = d3.sum(x)\n  svg.selectAll('.item_svg').data(items).join(\"svg\").attr(\"class\", 'item_svg').attr(\"x\", (d, i) => (d3.sum(x.slice(0, i)) / sum_x) * feature_width).attr('y',margin.top).attr('width', (d, i) => ((d[1] / sum_x) * feature_width) - .2).attr('height', feature_height - margin.bottom)\n    .attr('add_rectangle', function (d) {\n      d3.select(this).selectAll(\".my_rect\").data([0]).join('rect').attr(\"class\", \"my_rect\").attr(\"width\", \"100%\").attr(\"height\", feature_height - margin.bottom).style(\"fill\", \"gray\")\n      .attr(\"check\",function(){\n        if(feature_name+d[0] in all_instances){ if(all_instances[feature_name+d[0]].length>0){d3.select(this).classed('feature_clicked',true) }} // if the feature and the category exists we check the length and decide that it is clicked item. In categorical items if something is clicked it can not have empty instances\n      })\n      .on('click', function(){\n        if(!d3.select(this).classed('feature_clicked')){ // if not classed we add the class and the data\n          d3.select(this).classed('feature_clicked',true)\n          store_instances(feature_name+d[0],histogram_data.filter(item=>item['y']==d[0]).map(item=>item.x))\n        }\n        else{ // if claassed we already have it so we set it empty\n          d3.select(this).classed('feature_clicked',false)\n          store_instances(feature_name+d[0],[])\n        }\n      })\n      \n    \n    })\n    .attr('add_text', function (d) {\n      //if(d3.select(this).attr(\"width\")>9)\n      d3.select(this).selectAll(\"text\").data([0]).join(\"text\").text(d[0]).attr('x', \"50%\").attr(\"y\", '50%').attr('dominant-baseline', 'middle').style(\"font-size\", d3.select(this).attr(\"width\") > 11 ? 10 : d3.select(this).attr(\"width\") - 2).style(\"writing-mode\", \"tb\").style(\"text-anchor\", \"middle\").style('cursor', 'pointer')\n    })\n  //----------------------------------------------------------- Histogram creation ends here\n  svg.selectAll(\".hist_title\").data([0]).join(\"text\").attr(\"class\", \"hist_title\").attr(\"y\", feature_height-10).attr(\"x\", feature_width / 2).attr(\"text-anchor\", \"middle\").attr('font-size', 14).text(feature_name).style('text-transform','capitalize')\n}","import * as d3 from \"d3\"\nimport * as $ from \"jquery\"\nexport default function CreateHistogram(histogram_data, svg, feature_name, feature_index, number_of_features, store_instances) {\n  const margin = { top: 10, right: 5, bottom: 50, left: 5 };\n  var parent_width = $(\".feature_histograms_container\").width()\n  var feature_height = 120\n  var feature_width = parent_width\n  d3.select(\".feature_histograms_container\").attr('height', feature_height * number_of_features + 20)\n  svg.attr('y', feature_height * feature_index).attr('width', parent_width).attr('height', feature_height)\n  var item_data = histogram_data.map(item => item['y'])\n  var area_chart_height = feature_height - margin.top - margin.bottom;\n  var area_chart_width = feature_width - margin.left - margin.right\n  const y = d3.scaleLinear().domain(d3.extent(item_data)).range([margin.top, area_chart_height])\n\n  var myticks = y.ticks(25)\n  var binned_data = d3.histogram().value(d => d).domain(y.domain()).thresholds(myticks)(item_data)\n  //--------- Create the areaChart\n  var area_chart_data = []\n  binned_data.map((item, i) => area_chart_data.push([item.x1, item.length]))\n  var xScale = d3.scaleLinear().domain(d3.extent(area_chart_data.map(item => item[0]))).range([margin.left, feature_width - margin.right]) // 20 is the baseline\n  var yScale = d3.scaleLinear().domain([0, d3.max(area_chart_data.map(item => item[1]))]).range([area_chart_height, 0])\n  const areaGenerator = d3.area().curve(d3.curveMonotoneX).x(d => xScale(d[0])).y0(yScale(0)).y1(d => yScale(d[1]))\n\n  svg.append(\"path\").attr('transform', 'translate(0,' + margin.top + ')')\n    .attr(\"d\", areaGenerator(area_chart_data))\n    .style(\"fill\", \"gray\");\n  //svg.selectAll(\".graph_lines\").area_chart_data(ticks).join('line').attr(\"class\", \"graph_lines\").attr(\"x1\", 0).attr(\"x2\", baseline).attr(\"y1\",d=>y(d)).attr(\"y2\", d=>y(d)).attr(\"stroke-width\", 0.1).attr(\"stroke\", \"black\").raise()\n  svg.selectAll(\".xAxis_g\").data([0]).join('g').attr('class', 'xAxis_g').attr(\"transform\", \"translate(0,\" + (feature_height - margin.bottom) + \")\")\n    .call(d3.axisBottom(xScale).ticks(5).tickFormat(d3.format(\".2s\")));\n  //.call(d3.axisBottom(xScale).ticks(5));\n  svg.selectAll('.domain').attr('stroke', '#dddddd')\n  svg.selectAll(\".title\").data([0]).join('text').attr('x', feature_width / 2).attr('y', feature_height - 28).attr('dominant-baseline', 'hanging').attr('text-anchor', 'middle').text(feature_name).attr('font-size', 14).style('text-transform', 'capitalize')\n  svg.call(d3.brushX().extent([[0, margin.top], [400, area_chart_height + margin.top]]).on(\"end\", () => {\n    var extent = d3.event.selection\n    if (extent != null) {\n      var lower = xScale.invert(extent[0]), upper = xScale.invert(extent[1])\n      var instances = histogram_data.filter(item => item['y'] >= lower && item['y'] <= upper).map(item => item['x']) // x contains the ranking and y contains the value\n      store_instances(feature_name, instances)\n    }\n    else{store_instances(feature_name, [])}\n  }))\n}\n//https://stackoverflow.com/questions/54236051/how-to-draw-a-vertical-area-chart","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport FeatureHistograms from \"./FeatureHistograms/FeatureHistograms\"\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\n\nexport default function SimpleMenu() {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  return (\n    <div style={{marginTop:-2}}>\n      <Button aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleClick}>Select Features<ArrowDropDownIcon></ArrowDropDownIcon></Button>\n      <Menu id=\"simple-menu\" anchorEl={anchorEl} keepMounted open={Boolean(anchorEl)} onClose={handleClose} style={{marginTop:0}}>\n       {anchorEl?<FeatureHistograms handleClose={handleClose}></FeatureHistograms>:null}\n      </Menu>\n    </div>\n  );\n}\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport { connect } from 'react-redux';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormLabel from '@material-ui/core/FormLabel';\n\nexport function SimpleMenu(props) {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  return (\n    <div style={{marginTop:-2}}>\n      <Button aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleClick}>Select Mode<ArrowDropDownIcon></ArrowDropDownIcon></Button>\n      <Menu id=\"simple-menu\" anchorEl={anchorEl} keepMounted open={Boolean(anchorEl)} onClose={handleClose} style={{marginTop:0}}>\n       {anchorEl?<div style={{paddingLeft:10}}><form onSubmit={() => this.buttonclickHandler(1, \"form\")}>\n                <FormControl component=\"fieldset\">\n                  <FormLabel component=\"legend\"></FormLabel>\n                  <RadioGroup aria-label=\"gender\" name=\"gender1\" onChange={(event, val) => {handleClose();props.Set_histogram_data([]);props.Set_mode(val)}}>\n                    {['Model', 'Ranges', 'Time'].map((value) => {\n                      return <FormControlLabel value={value} control={<Radio />} label={value} />\n                    })}\n                  </RadioGroup>\n                </FormControl>\n              </form></div>:null}\n      </Menu>\n    </div>\n  );\n}\nconst maptstateToprop = (state) => {\n  return {\n    state_range: state.state_range,\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_mode: (val) => dispatch({ type: \"mode\", value: val }),\n    Set_histogram_data: (val) => dispatch({ type: \"histogram_data\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(SimpleMenu);\n","import { createMuiTheme } from \"@material-ui/core/styles\";\n\n// Create a theme instance.\nconst outerTheme1 = createMuiTheme({\n  palette: {\n    primary: {\n      main: \"#0069d9\"\n    },\n    secondary: {\n      main: \"#0069d9\"\n    }\n  }\n})\n\n\n\nconst outerTheme = createMuiTheme({\n  spacing: 2,\n  overrides: { // This is the place we override classes applied to a component\n    MuiFilledInput: { // This is the name of the component\n      root: { // This is the class we want to edit\n        backgroundColor: \"none\",\n        padding:0,\n      }\n    },\n    MuiInputLabel: {\n      root: {\n        backgroundColor: \"yellow\"\n      }\n    },\n    MuiTextField: {\n      root: {}\n    },\n    MuiButton: {\n      root: {\n        textTransform: \"none\",\n        padding: \"15px\"\n      },\n      fullWidth: {\n        maxWidth: \"100%\"\n      }\n    },\n    MuiFilledInput:{\n      root:{\n        padding:0,\n        backgroundColor:\"yellow\"\n      }\n    },\n    MuiAutocomplete:{\n      Root:{\n        padding:0\n      }\n    }\n\n  },\n  props: { // This is the place where we define props\n    MuiButton: {\n      disableRipple: true,\n      variant: \"contained\",\n      color: \"primary\"\n    },\n    MuiCheckbox: {\n      disableRipple: true\n    },\n    MuiTextField: {\n      variant: \"filled\",\n      InputLabelProps: {\n        shrink: true\n      }\n    },\n  }\n});\n\nexport default outerTheme","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Input from '@material-ui/core/Input';\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\nimport outerTheme from './theme'\nimport { connect } from \"react-redux\";\nimport Button from '@material-ui/core/Button';\nimport { useState } from 'react';\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        '& > *': {\n            margin: theme.spacing(1),\n        },\n    },\n}));\nfunction Inputs(props) {\n    const [threshold,set_threshold]=useState(props.threshold)\n    const classes = useStyles();\n    return (\n        <ThemeProvider theme={outerTheme}>\n            <form className={classes.root} noValidate autoComplete=\"off\">\n                <span>Threshold:</span>\n                <Input style={{width:30}} defaultValue={threshold} inputProps={{ 'aria-label': 'description' }} \n                onChange={(event=>set_threshold(event.target.value))}\n                />\n                <Button style={{height:20,color:\"black\",fontSize:16,backgroundColor:'#f2f2f2'}} variant='string'\n                onClick={()=>props.Set_threshold(threshold)}\n                >Update</Button>\n            </form>\n        </ThemeProvider>\n\n    );\n}\nconst maptstateToprop = (state) => {\n    return {\n        threshold:state.threshold\n    }\n}\nconst mapdispatchToprop = (dispatch) => {\n    return {\n        Set_threshold: (val) => dispatch({ type: \"threshold\", value: val }),\n    }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Inputs);\n/*\nimport React from 'react';\nimport \"./Sliders.scss\";\nimport Slider from '@material-ui/core/Slider';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { connect } from \"react-redux\";\nimport Typography from '@material-ui/core/Typography';\nimport TextField from '@material/TextField';\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: '100%',\n    },\n    heading: {\n        fontSize: theme.typography.pxToRem(15),\n        flexBasis: '33.33%',\n        flexShrink: 0,\n    },\n    secondaryHeading: {\n        fontSize: theme.typography.pxToRem(15),\n        color: theme.palette.text.secondary,\n    },\n    tRoot: {\n        marginBottom: 35,\n    },\n    rang_input: {\n        marginLeft: 10,\n    },\n}));\nfunction Modes(props) {\n    const classes = useStyles();\n    // states\n    const [threshold, set_threshold] = React.useState(props.threshold);\n    //-----------------------------------------------------------------\n    var temp_marks = [];\n    var min=0\n    var max=20\n    var number_marks=10\n    var step = (max - 1) / (number_marks - 1);\n    for (var i = 0; i < number_marks; i++) {\n        temp_marks.push(1 + (step * i));\n    }\n    var marks = temp_marks.map(item => {\n        var myitem = parseInt(item)\n        return { value: myitem, label: myitem }\n    })\n    //console.log(props.marks)\n    //-----------------------------------------------------------------\n    return (\n        <div className=\"rangeslider2\" style={{ marginLeft: 60,marginTop:-28, width: \"100%\", paddingTop: 0 }} >\n            <Typography>\n                Threshold\n            </Typography>\n\n        </div>\n    );\n}\nconst maptstateToprop = (state) => {\n    return {\n        threshold:state.threshold\n    }\n}\nconst mapdispatchToprop = (dispatch) => {\n    return {\n        Set_threshold: (val) => dispatch({ type: \"threshold\", value: val }),\n    }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Modes);\n*/","import React, { Component } from 'react';\n//------------------------------------------------All datasets imports ends here\nimport { Row, Col } from 'reactstrap';\n\nimport Button from '@material-ui/core/Button';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport * as $ from 'jquery';\nimport { connect } from \"react-redux\";\nimport Grid from '@material-ui/core/Grid';\nimport FeaturesDropdown from \"./FeaturesDropdown\"\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport SelectMode from './SelectMode'\nimport Threshold from './Threshold';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    // mydata is original data\n    this.state = {\n      random: 10,\n      original_data: null, grouped_by_year_data: null, show: [\"Slope charts\", \"Rankings\", \"Explanation\"], view_data: 1,\n      histogram_data: [], ref_year: null, features_dict: {}, features_voted: null, Legend_ready_to_vis: null, legend_model: \"CordAscent\",\n    };\n  }\n  buttonclickHandler = (value, type) => {\n    setTimeout(() => { this.setState({ random: Math.random() }) }, 500);\n    type = \"button\" ? this.props.Set_view_data(value) : null\n    type = \"form\" ? this.setState({ view_data: value }) : null\n  }\n  shouldComponentUpdate() {\n    return true;\n  }\n  render() {\n    return (\n      <div>\n        <Grid container>\n          <ButtonGroup aria-label=\"outlined button group\" style={{marginRight:150,border:'none'}}>\n          <Button style={{borderRadius:0,border:'none',borderRight:'1px solid #bfbfbf'}} onClick={() => this.buttonclickHandler(1, \"button\")}>View Data</Button>\n          <Button style={{borderRadius:0,border:'none', borderRight:'1px solid #bfbfbf'}} onClick={() => this.buttonclickHandler(0, \"button\")}>Load Data</Button>\n          </ButtonGroup>\n          {this.props.mode==\"Model\"?<FeaturesDropdown></FeaturesDropdown>:null}\n          <SelectMode></SelectMode>\n          <Threshold></Threshold>\n        </Grid>\n        {this.props.view_data == false ?\n          <Row className=\"Topbar_container\">\n            <div className=\"load\">\n              <form onSubmit={() => this.buttonclickHandler(1, \"form\")}>\n                <FormControl component=\"fieldset\">\n                  <FormLabel component=\"legend\"></FormLabel>\n                  <RadioGroup aria-label=\"gender\" name=\"gender1\" onChange={(event, val) => this.props.handleradioChange(val)}>\n                    {['Fiscal Dataset', 'School Dataset', 'House Dataset'].map((value) => {\n                      return <FormControlLabel value={value} control={<Radio />} label={value} />\n                    })}\n                  </RadioGroup>\n                  <Button type=\"submit\" variant=\"outlined\" color=\"primary\">Load</Button>\n                </FormControl>\n              </form>\n            </div></Row>\n          : null}\n      </div>\n    );\n  }\n}\nconst maptstateToprop = (state) => {\n  return {\n    view_data: state.view_data,\n    mode:state.mode,\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_view_data: (val) => dispatch({ type: \"view_data\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(App);","import React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport { connect } from \"react-redux\";\n\nclass SlopeChart extends Component {\n    constructor(props) {\n        super(props);\n        this.line_color = null;\n        this.state = { height_slope_exp_chart: 700, mouseX: 0, mouseY: 0 }\n    }\n    componentDidMount() { this.setState({ width: window.innerHeight }) }\n    componentDidUpdate(prevProps, prevState) {\n        // Draw a circle\n        var myCircle = d3.select(\"#dataviz_brushing\")\n            .append(\"svg\")\n            .append(\"circle\")\n            .attr(\"cx\", 200)\n            .attr(\"cy\", 200)\n            .attr(\"r\", 40)\n            .attr(\"fill\", \"#69a3b2\")\n\n        // Add brushing\n        d3.select(\"#dataviz_brushing\")\n            .call(d3.brush()                     // Add the brush feature using the d3.brush function\n                .extent([[0, 0], [400, 400]])       // initialise the brush area: start at 0,0 and finishes at width,height: it means I select the whole graph area\n            )\n\n    }\n    render() {\n        //console.log(parseInt($(\".uploader_topbar\").height()),parseInt($(\".years_model_container\").height()),parseInt($(\".Modelslider\").height()))\n        return (\n            <div style={{ width: window.innerWidth, height: window.innerHeight }}>\n                <svg style={{ width: 400, height: 400 }} id=\"dataviz_brushing\"></svg>\n            </div>\n        )\n    }\n}\nconst maptstateToprop = (state) => {\n    return {\n        state_range: state.state_range,\n        selected_year: state.selected_year\n    }\n}\nconst mapdispatchToprop = (dispatch) => {\n    return {\n        Set_clicked_features: (val) => dispatch({ type: \"clicked_features\", value: val }),\n        Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: val }),\n    }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(SlopeChart);","import React, { Component, PureComponent } from 'react';\nimport * as d3 from 'd3';\nimport * as $ from 'jquery';\nimport { connect } from \"react-redux\";\nimport './legend.scss'\nclass Legend extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {} // This is the default height\n  }\n  componentDidMount() { this.setState({ rand: 10 }) }\n  componentDidUpdate() {\n    var legend_container_width = $('.legend_container').width()\n    var legend_container_height = $('.legend_container').height()\n    //--------------------------- Legend 1\n    var legend1_height = 100\n    var legend1_rScale = d3.scaleLinear().domain(d3.extent(this.props.deviation_array)).range([5, 2])\n    var legend1_yScale = d3.scaleLinear().domain(d3.extent(this.props.deviation_array)).range([5, legend1_height - 5])\n    var legend1_ticks = legend1_yScale.ticks(4)\n    var legend1_svg = d3.select('#legend1').attr('width', legend_container_width).attr('height', legend1_height)\n    legend1_svg.selectAll('.legend1_circles').data(legend1_ticks).join('circle').attr('class', 'legend1_circles').attr('cx', 10).attr('cy', d => legend1_yScale(d)).attr('r', d => legend1_rScale(d)).attr('fill', 'grey')\n    legend1_svg.selectAll('.legend1_text').data(legend1_ticks).join('text').attr('class', 'legend1_text').attr('x', 20).attr('y', d => legend1_yScale(d)).text(d => d).attr('dominant-baseline', 'middle').attr('font-size', 10)\n\n    //--------------------------- Legend 2\n    var min = d3.min(this.props.selected_instances), max = d3.max(this.props.selected_instances);\n    var d = (max - min) / 8;\n    var diverginColor = d3.scaleLinear().domain([min + d * 7, min + d * 6, min + d * 5, min + d * 4, min + d * 3, min + d * 2, min]).interpolate(d3.interpolateRgb).range(['#00429d', '#4771b2', '#73a2c6', '#a5d5d8', /*'#ffffe0',*/ '#ffbcaf', '#f4777f', '#cf3759', '#93003a']);\n\n    var legend2_svg_height = legend_container_height/2 - 50\n    var legend2_height = legend2_svg_height - 50\n\n    var legend2_yScale = d3.scaleLinear().domain([min, max]).range([22, legend2_height - 15])\n    var legend2_ticks = d3.range(min, max + 1, max / 10)\n    var rect_height = (legend2_height - 30) / legend2_ticks.length\n    var rect_width=8\n    var legend2_svg = d3.select('#legend2').attr('width', legend_container_width).attr('height', legend2_svg_height)\n    legend2_svg.selectAll('.legend2_rects').data(legend2_ticks).join('rect').attr('class', 'legend2_rects').attr('x', 10).attr('y', (d, i) => legend2_yScale(d)).attr('width', rect_width).attr('height', rect_height).attr('fill', d => diverginColor(d))\n    //legend2_svg.selectAll('.legend2_text').data(legend1_ticks).join('text').attr('class','legend1_text').attr('x',20).attr('y',d=>legend1_yScale(d)).text(d=>d).attr('dominant-baseline','middle').attr('font-size',10)\n    legend2_svg.selectAll(\".High\").data(['High']).join(\"text\").attr(\"x\", 0).attr(\"class\", \"High\").attr('dominant-baseline', \"hanging\").attr(\"y\", 0).text('High').attr('font-size', 12)\n    legend2_svg.selectAll(\".Low\").data(['Low']).join(\"text\").attr(\"x\", 0).attr(\"class\", \"Low\").attr('dominant-baseline', \"hanging\").attr(\"y\", legend2_height).text('Low').attr('font-size', 12)\n    legend2_svg.selectAll(\".legend2_labels\").data([min,max/2,max]).join(\"text\").attr(\"x\", 10+rect_width+2).attr(\"class\", \"legend2_labels\").attr('dominant-baseline', \"middle\").attr('y', (d, i) => i==0?legend2_yScale(d)+rect_height/2:legend2_yScale(d)).text(d=>d).attr('font-size', 12)\n  }\n\n  render() {\n    return (\n      <div className=\"legend_container\" style={{ height: '100%', width: '100%'}}>\n        <div>\n        <div item style={{ backgroundColor: 'rgb(211, 211, 211,0.5)',padding:5,marginBottom:5 }}>\n        <p className=\"title\" style={{marginBottom:10}}> Model Precision</p>\n          <svg id=\"legend1\"> </svg>\n        </div>\n        <div item style={{ backgroundColor: 'rgb(211, 211, 211,0.5)',padding:5 }}>\n          <p className=\"title\" style={{marginBottom:10}}> Rank Range</p>\n          <svg id=\"legend2\"> </svg>\n        </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst maptstateToprop = (state) => {\n  return {\n    selected_instances: state.selected_instances,\n    deviation_array: state.deviation_array,\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_legend_year: (val) => dispatch({ type: \"legend_year\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Legend);","import React, { Component } from 'react';\n//------------------------------------------------All datasets imports\nimport fiscal from \"./Data/fiscal.csv\";\nimport school from \"./Data/school.csv\";\nimport house from \"./Data/house.csv\";\n\nimport fiscal_rank from \"./Data/data/fiscal/lime/fiscal_rank.csv\";\nimport fiscal_lime from \"./Data/data/fiscal/lime/fiscal_lime.csv\";\n\nimport school_rank from \"./Data/data/school/lime/school_rank.csv\";\nimport school_lime from \"./Data/data/school/lime/school_lime.csv\";\n\nimport house_rank from \"./Data/data/house/lime/house_rank.csv\";\nimport house_lime from \"./Data/data/house/lime/house_lime.csv\";\n\n//------------------------------------------------All datasets imports ends here\nimport \"./App.scss\";\nimport * as d3 from 'd3';\nimport * as algo1 from \"./Algorithms/algo1\";\nimport ModelChart from \"./components/Charts/Model/ModelChartComponent\"\nimport RangeChart from \"./components/Charts/Range/RangeChartComponent\"\nimport YearChart from \"./components/Charts/Time/YearChart\"\nimport { Row, Col } from 'reactstrap';\nimport * as $ from 'jquery';\nimport { connect } from \"react-redux\";\nimport Grid from '@material-ui/core/Grid';\nimport Top from './components/Top/Top';\nimport BrushTest from './components/BrushTest/BrushTest';\nimport { Hidden } from '@material-ui/core';\nimport Legend from '../src/components/Legend/Legend'\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    // mydata is original data\n    this.state = {\n      random: 10,\n      original_data: null, grouped_by_year_data: null, show: [\"Slope charts\", \"Rankings\", \"Explanation\"], view_data: 1,\n      histogram_data: [], ref_year: null, features_dict: {}, features_voted: null, Legend_ready_to_vis: null, legend_model: \"CordAscent\",\n    };\n  }\n  componentDidMount() { this.dataprocessor(this.props.dataset) }\n  //-------------------------------------------------------------------------------------------------------------------- data processor processes data for initial render\n  dataprocessor = (dataset_name) => {\n    if (dataset_name == \"school\") { this.process_data(school, school_rank, school_lime, dataset_name) }\n    if (dataset_name == \"fiscal\") { this.process_data(fiscal, fiscal_rank, fiscal_lime, dataset_name) }\n    if (dataset_name == \"house\") { this.process_data(house, house_rank, house_lime, dataset_name) }\n  }\n  process_data = (slopechart_data_filename, rank_data_filename, lime_data_filename, dataset_name) => {\n    var self = this\n    //-------------\n    d3.csv(slopechart_data_filename).then(original_data => {\n      var grouped_by_year_data = algo1.groupby_year(original_data).years\n      var sparkline_data = algo1.groupby_year(original_data).sparkline_data\n      var years_for_dropdown = Object.keys(grouped_by_year_data)\n      //console.log(grouped_by_year_data,sparkline_data,years_for_dropdown,'selected_year')\n      self.props.Set_sparkline_data(sparkline_data)\n      self.props.Set_slider_max(grouped_by_year_data[years_for_dropdown[0]].length)\n      self.setState({ years_for_dropdown: years_for_dropdown })\n      self.props.Set_years_for_dropdown(years_for_dropdown)\n      self.props.Set_time_mode_year1(years_for_dropdown[0])\n      self.props.Set_time_mode_year2(years_for_dropdown[1])\n      self.props.Set_legend_year(years_for_dropdown[0])\n      self.setState({ ref_year: years_for_dropdown[0] })\n      self.props.Set_grouped_by_year_data(grouped_by_year_data)\n      self.setState({ grouped_by_year_data: grouped_by_year_data })\n      self.setState({ original_data: original_data })\n      self.props.Set_original_data(original_data)\n      self.props.Set_selected_year(years_for_dropdown[0])\n    })\n    //-------------\n    d3.csv(rank_data_filename).then(data => {\n      var nested_data = {}\n      d3.nest().key(function (d) { return d.model; }).entries(data).map(item => {\n        nested_data[item.key] = item.values\n      })\n      self.props.Set_rank_data(nested_data)\n    })\n    //-------------\n    d3.csv(lime_data_filename).then(temp_data => {\n      var data=temp_data.map(item=>{\n        item['predicted']=parseInt(item['predicted'])\n        item['two_realRank']=parseInt(item['two_realRank'])\n        item['deviation']=Math.abs(item['predicted']-item['two_realRank'])\n        return item\n      })\n      var nested_data = {}\n      d3.nest().key(function (d) { return d.model; }).entries(data).map(item => {\n        nested_data[item.key] = item.values\n      })\n      self.props.Set_lime_data(nested_data)\n    })\n  }\n  //-------------------------------------------------------------------------------------------------------------------- data processor processes data for initial render\n\n  handleradioChange = (selected_dataset) => {\n    this.props.Set_rank_data(null)\n    this.props.Set_clicked_items_in_slopechart([])\n    this.props.Set_state_range([1, 25])\n    this.props.Set_histogram_data([])\n    this.props.Set_mode(\"Model\")\n    this.props.Set_range_mode_range1([1, 25])\n    this.props.Set_range_mode_range2([15, 40])\n    this.props.Set_time_mode_range([5, 35])\n    if (selected_dataset == 'Fiscal Dataset') {\n      this.setState({ dataset: 'fiscal' })\n      this.props.Set_dataset('fiscal')\n      this.dataprocessor(\"fiscal\")\n    }\n    else if (selected_dataset == 'House Dataset') {\n      this.setState({ dataset: 'house' })\n      this.props.Set_dataset('house')\n      this.dataprocessor(\"house\")\n    }\n    else {\n      this.setState({ dataset: 'school' })\n      this.props.Set_dataset('school')\n      this.dataprocessor(\"school\")\n    }\n  };\n  render() {\n    var legend_width = 70\n    return (\n      <div className=\"root_container\" style={{ height: window.innerHeight, width: window.innerWidth, overflow: \"hidden\" }}>\n        <div className=\"topBar_root\" style={{ height: 35, width: window.innerWidth}}>\n          <Top handleradioChange={this.handleradioChange}></Top>\n        </div>\n        {this.props.view_data ? <Row>\n          <div style={{ width: window.innerWidth, height: window.innerHeight - $('.topBar_root').height(), padding: \"2px 0px\" }} key={this.props.view_data}>\n            {this.state.view_data == true ?\n              <Grid className=\"charts_and_legend_container\" style={{ height: '100%', width: '100%', border: \"2px solid grey\", overflow: \"hidden\" }} container direction=\"row\" justify=\"flex-start\" alignItems=\"center\" >\n                <Grid className=\"charts_container\" style={{ height: '100%', width: $('.charts_and_legend_container').width() - legend_width }} container spacing={0} direction=\"row\" justify=\"space-evenly\" >\n                  {this.props.mode == \"Model\" && this.state.grouped_by_year_data != null && this.props.original_data != null && this.props.lime_data != null ? <ModelChart></ModelChart> : null}\n                  {this.props.mode == \"Ranges\" && this.state.grouped_by_year_data != null && this.props.original_data != null && this.props.lime_data != null ? <RangeChart></RangeChart> : null}\n                  {this.props.mode == \"Time\" && this.state.grouped_by_year_data != null && this.props.original_data != null && this.props.lime_data != null ? <YearChart></YearChart> : null}\n                </Grid>\n                <div style={{ padding: 0,marginTop:5, height: '100%', width: legend_width }}><Legend legend_width={legend_width}></Legend></div>\n              </Grid> : null}\n          </div>\n        </Row> : null}\n      </div>\n    );\n  }\n}\nconst maptstateToprop = (state) => {\n  return {\n    tracking: state.tracking,\n    state_range: state.state_range,\n    deviate_by: state.deviate_by,\n    default_models: state.default_models,\n    sparkline_data: state.sparkline_data,\n    selected_year: state.selected_year,\n    mode: state.mode,\n    range_mode_model: state.range_mode_model,\n    original_data: state.original_data,\n    time_mode_model: state.time_mode_model,\n    chart_scale_type: state.chart_scale_type,\n    dataset: state.dataset,\n    histogram_data: state.histogram_data,\n    sort_by: state.sort_by,\n    time_mode_year1: state.time_mode_year1,\n    time_mode_year2: state.time_mode_year2,\n    popup_chart_data: state.popup_chart_data,\n    clicked_items_in_slopechart: state.clicked_items_in_slopechart,\n    config: state.config,\n    lime_data: state.lime_data,\n    view_data: state.view_data\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_dataset: (val) => dispatch({ type: \"dataset\", value: val }),\n    Set_default_models: (val) => dispatch({ type: \"default_models\", value: val }),\n    Set_sparkline_data: (val) => dispatch({ type: \"sparkline_data\", value: val }),\n    Set_slider_max: (val) => dispatch({ type: \"slider_max\", value: val }),\n    Set_years_for_dropdown: (val) => dispatch({ type: \"years_for_dropdown\", value: val }),\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: parseInt(val) }),\n    Set_ref_year: (val) => dispatch({ type: \"ref_year\", value: val }),\n    Set_original_data: (val) => dispatch({ type: \"original_data\", value: val }),\n    Set_grouped_by_year_data: (val) => dispatch({ type: \"grouped_by_year_data\", value: val }),\n    Set_slider_and_feature_value: (val) => dispatch({ type: \"slider_and_feature_value\", value: val }),\n    Set_clicked_items_in_slopechart: (val) => dispatch({ type: \"clicked_items_in_slopechart\", value: val }),\n    Set_histogram_data: (val) => dispatch({ type: \"histogram_data\", value: val }),\n    Set_state_range: (val) => dispatch({ type: \"state_range\", value: val }),\n    Set_legend_year: (val) => dispatch({ type: \"legend_year\", value: val }),\n\n    Set_mode: (val) => dispatch({ type: \"mode\", value: val }),\n    Set_range_mode_range1: (val) => dispatch({ type: \"range_mode_range1\", value: val }),\n    Set_range_mode_range2: (val) => dispatch({ type: \"range_mode_range2\", value: val }),\n    Set_time_mode_range: (val) => dispatch({ type: \"time_mode_range\", value: val }),\n    Set_time_mode_year1: (val) => dispatch({ type: \"time_mode_year1\", value: val }),\n    Set_time_mode_year2: (val) => dispatch({ type: \"time_mode_year2\", value: val }),\n\n    Set_rank_data: (val) => dispatch({ type: \"rank_data\", value: val }),\n    Set_lime_data: (val) => dispatch({ type: \"lime_data\", value: val }),\n    Set_pop_over_models: (val) => dispatch({ type: \"pop_over_models\", value: val }),\n    Set_default_model_scores: (val) => dispatch({ type: \"default_model_scores\", value: val }),\n\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(App);","let initialState = {\n   anim_config: {rank_animation:3000,deviation_animation:3000,feature_animation:3000,circle_animation:3000},\n   appHandleChange: null,\n   sparkline_data: null,\n   sort_by: \"Average Precision\",\n   original_data: null,\n   rank_data: null,\n   lime_data: null,\n   grouped_by_year_data: null,\n   slope_chart_ready_to_vis: null,\n   default_models: [\"LinearReg\",\"CordAscent\"], // Change the pop_over_models as well\n   state_range: [1, 30], // Change in handleradioChange\n   deviate_by: 0,\n   show: [\n      \"Slope charts\", \"Rankings\", \"Explanation\" // change in app.js\n   ],\n   years_for_dropdown: [\n      \"2006\"\n   ],\n   selected_year: 2006,\n   slider_min: 1,\n   slider_max: 50,\n   view_data: 1,\n   dataset: \"school\", // change in componentDidmount in app.js too\n   histogram_data: [],\n   chart_scale_type: \"true\",\n   features_with_score: null,\n   ref_year: null,\n   cmodel: \"CordAscent\",\n   clicked_items_in_slopechart: [],\n   tracking: false,\n   dummy: null,\n   features_dict: {},\n   features_voted: null,\n   Legend_ready_to_vis: null,\n   legend_model: \"CordAscent\",\n   legend_show_option: \"Rank\",\n   legend_year: 2012,\n   mode: \"Model\",\n   range_mode_model: \"CordAscent\",\n   range_mode_range1: [1, 25],\n   range_mode_range2: [15, 40],\n   time_mode_model: \"CordAscent\",\n   time_mode_year1: \"Null\",\n   time_mode_year2: \"Null\",\n   time_mode_range: [6, 32],\n   chart_scale_type: \"true\",\n   slider_and_feature_value: { 'Rank range': 1, 'Feature': 1 },\n   prev_prop: {},\n   replay: false,\n   changed: \"year\",\n   popup_chart_data: null,\n   pop_over: false,\n   pop_over_models: [\"LinearReg\",\"CordAscent\"],\n   clicked_features: [],\n   drag_drop_feautre_data: {},\n   dbclicked_features: [],\n   default_model_scores: {},\n   all_models: [\"MART\", \"RandomFor\", \"LinearReg\", \"CordAscent\", \"LambdaMART\", \"LambdaRank\", \"RankBoost\", \"RankNet\"],\n   average_y: false,\n   average_m: false,\n   clicked_circles:[],\n   threshold:100,\n   deviation_array:[], // This is for legend\n   selected_instances:[], // This is for legend\n   dragged_features:{},\n   //url:\"http://0.0.0.0:5000/test\",\n   url:\"http://privacyprofiling.njitvis.com:5000/api/v2/rieval_mds\",\n}\n//---InitialState ends here\nconst reducer = (state = initialState, action) => {\n   if (action.type === \"dragged_features\") {\n      //console.log('dragged_features',action.value)\n      return { ...state, dragged_features: action.value }\n   }\n   if (action.type === \"selected_instances\") {\n      return { ...state, selected_instances: action.value }\n   }\n   if (action.type === \"deviation_array\") {\n      return { ...state, deviation_array: action.value }\n   }\n   if (action.type === \"view_data\") {\n      return { ...state, view_data: action.value }\n   }\n   if (action.type === \"threshold\") {\n      return { ...state, threshold: action.value }\n   }\n   if (action.type === \"clicked_circles\") {\n      return { ...state, clicked_circles: action.value }\n   }\n   if (action.type === \"average_y\") {\n      \n      return { ...state, average_y: action.value }\n   }\n   if (action.type === \"average_m\") {\n      \n      return { ...state, average_m: action.value }\n   }\n   if (action.type === \"default_model_scores\") {\n     \n      return { ...state, default_model_scores: action.value }\n   }\n   if (action.type === \"dbclicked_features\") {\n      return { ...state, dbclicked_features: action.value }\n   }\n   if (action.type === \"drag_drop_feautre_data\") {\n      return { ...state, drag_drop_feautre_data: action.value }\n   }\n   if (action.type === \"anim_config\") {\n      return { ...state, config: action.value }\n   }\n   if (action.type === \"show\") {\n      return { ...state, show: action.value }\n   }\n   if (action.type === \"lime_data\") {\n      return { ...state, lime_data: action.value }\n   }\n   if (action.type === \"default_models\") {\n      return { ...state,pop_over_models:action.value, default_models: action.value }\n   }\n   if (action.type === \"rank_data\") {\n\n      return { ...state, rank_data: action.value }\n   }\n   if (action.type === \"original_data\") {\n      return { ...state, original_data: action.value }\n   }\n   if (action.type === \"years_for_dropdown\") {\n      return { ...state, years_for_dropdown: action.value }\n   }\n   if (action.type === \"appHandleChange\") {\n      return { ...state, appHandleChange: action.value }\n   }\n   if (action.type === \"state_range\") {\n      return { ...state, dragged_features:{},state_range: action.value }\n   }\n   if (action.type === \"selected_year\") {\n      return { ...state,dragged_features:{}, selected_year: action.value}\n   }\n   if (action.type === \"tracking\") {\n      return { ...state, tracking: action.value }\n   }\n   if (action.type === \"grouped_by_year_data\") {\n     \n      return { ...state, grouped_by_year_data: action.value }\n   }\n   if (action.type === \"sort_by\") {\n      return { ...state, sort_by: action.value }\n   }\n   if (action.type === \"deviate_by\") {\n      return { ...state, deviate_by: action.value }\n   }\n   if (action.type === \"mode\") {\n      return { ...state, mode: action.value }\n   }\n   if (action.type === \"slider_max\") {\n      return { ...state, slider_max: action.value }\n   }\n   if (action.type === \"range_mode_model\") {\n      return { ...state,pop_over_models:[action.value],range_mode_model: action.value }\n   }\n   //----\n   if (action.type === \"range_mode_range1\") {\n      console.log(action.value)\n      return { ...state, range_mode_range1: action.value }\n   }\n   if (action.type === \"range_mode_range2\") {\n      console.log(action.value)\n      return { ...state, range_mode_range2: action.value }\n   }\n   if (action.type === \"time_mode_range\") {\n      return { ...state, time_mode_range: action.value }\n   }\n   if (action.type === \"time_mode_model\") {\n      return { ...state, pop_over_models:[action.value],time_mode_model: action.value }\n   }\n   if (action.type === \"time_mode_year1\") {\n      return { ...state, time_mode_year1: action.value }\n   }\n   if (action.type === \"time_mode_year2\") {\n      return { ...state, time_mode_year2: action.value }\n   }\n   if (action.type === \"clicked_items_in_slopechart\") {\n      return { ...state, clicked_items_in_slopechart: action.value }\n   }\n   if (action.type === \"features_with_score\") {\n      return { ...state, features_with_score: action.value }\n   }\n   if (action.type === \"sparkline_data\") {\n      return { ...state, sparkline_data: action.value }\n   }\n   if (action.type === \"legend_show_option\") {\n      return { ...state, legend_show_option: action.value }\n   }\n   if (action.type === \"legend_model\") {\n      return { ...state, legend_model: action.value }\n   }\n   if (action.type === \"histogram_data\") {\n      return { ...state,dragged_features:{}, histogram_data: action.value }\n   }\n   if (action.type === \"dataset\") {\n      return { ...state, dataset: action.value }\n   }\n   if (action.type === \"slider_and_feature_value\") {\n      return { ...state, slider_and_feature_value: action.value }\n   }\n   if (action.type === \"legend_year\") {\n      return { ...state, legend_year: action.value }\n   }\n   if (action.type === \"prev_prop\") {\n      return { ...state, prev_prop: action.value }\n   }\n   if (action.type === \"replay\") {\n      return { ...state, replay: action.value }\n   }\n   if (action.type === \"changed\") {\n      return { ...state, changed: action.value }\n   }\n   if (action.type === \"popup_chart_data\") {\n      return { ...state, popup_chart_data: action.value }\n   }\n   if (action.type === \"pop_over\") {\n      return { ...state, pop_over: action.value }\n   }\n   if (action.type === \"pop_over_models\") {\n      var temp = action.value.filter(item => item != \"ListNet\")\n      return { ...state, pop_over_models: temp }\n   }\n   if (action.type === \"clicked_features\") {\n      //console.log(action.value)\n      return { ...state, clicked_features: action.value }\n   }\n   return state;\n}\nexport default reducer;","import { createMuiTheme } from '@material-ui/core/styles';\nconst theme = createMuiTheme({\n  spacing:3,      \n  typography: {\n    button: {\n      textTransform: 'none'\n    }\n  },\n  overrides:{\n    MuiGrid:{\n      root:{\n        margin:0,\n        padding:0\n      },\n    }\n  }\n});\nexport default theme;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { createStore } from 'redux';\nimport {Provider} from 'react-redux';\nimport reducer from './store/reducer';\nimport theme from './Themes'; \nimport { ThemeProvider } from '@material-ui/styles';\nconst store=createStore(reducer);\nReactDOM.render( <ThemeProvider theme={theme}><Provider store={store}><App /></Provider></ThemeProvider>,document.getElementById('root'));\n\n\n"],"sourceRoot":""}