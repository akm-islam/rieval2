(this.webpackJsonp03_2slopechart=this.webpackJsonp03_2slopechart||[]).push([[0],{104:function(e,t,a){e.exports=a.p+"static/media/chart1_data.d3b20544.csv"},105:function(e,t,a){e.exports=a.p+"static/media/chart1_data.cca71c9e.csv"},122:function(e,t,a){},127:function(e,t,a){e.exports=a.p+"static/media/fiscal.977bae2d.csv"},128:function(e,t,a){e.exports=a.p+"static/media/school.2d2c77ef.csv"},129:function(e,t,a){e.exports=a.p+"static/media/house.88979d03.csv"},130:function(e,t,a){e.exports=a.p+"static/media/fiscal_rank.6e0a824e.csv"},131:function(e,t,a){e.exports=a.p+"static/media/fiscal_lime.7992abf1.csv"},132:function(e,t,a){e.exports=a.p+"static/media/school_rank.edf0b9e3.csv"},133:function(e,t,a){e.exports=a.p+"static/media/school_lime.644683c6.csv"},134:function(e,t,a){e.exports=a.p+"static/media/house_rank.f85c2352.csv"},135:function(e,t,a){e.exports=a.p+"static/media/house_lime.b31dfb61.csv"},140:function(e,t,a){e.exports=a.p+"static/media/chart1_data.45acbae8.csv"},197:function(e,t,a){e.exports=a(221)},202:function(e,t,a){},212:function(e,t,a){},221:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(15),o=a.n(i),l=a(21),s=a(22),c=a(23),d=a(44),_=a(24),u=a(25),p=a(127),m=a.n(p),f=a(128),h=a.n(f),g=a(129),y=a.n(g),v=a(130),b=a.n(v),k=a(131),j=a.n(k),x=a(132),w=a.n(x),S=a(133),O=a.n(S),E=a(134),C=a.n(E),A=a(135),R=a.n(A),B=(a(202),a(2));function I(e){var t={},a={};return e.forEach((function(e){t[e["1-qid"]]=[],a[e.State.replace(/ /g,"").replace(/[^\w\s]/gi,"")]=[]})),e.forEach((function(e){var r={year:parseInt(e["1-qid"]),rank:parseInt(e.two_realRank)};a[e.State.replace(/ /g,"").replace(/[^\w\s]/gi,"")].push(r),t[e["1-qid"]].push(e)})),{years:t,sparkline_data:a}}function F(e,t,a,r,n,i){var o={},l={};for(var s in t.map((function(e){var t={},l=n,s=function(e,t,a,r,n){if(!a.length>0)return[];a=a.map((function(e){return e-1}));var i,o,l,s={};if("ListNet"==t)return[];var c=n[t].filter((function(e){if(parseInt(e["1-qid"])==parseInt(r))return e}));o=a.map((function(e){return c[e]})),l=Object.keys(o[0]),o.map((function(e){l.forEach((function(t){s[t]>=0||s[t]<0?s[t]=s[t]+parseFloat(e[t]):s[t]=parseFloat(e[t])}))})),(i=Object.keys(s).map((function(e){return[e,s[e]]}))).sort((function(e,t){return e[1]-t[1]}));var d=i.map((function(e){return e[0].replace("_feature_rank","")}));return d=d.filter((function(e){return"1-qid"!=e&&"model"!=e}))}(0,e,a,r,i);s.length<n&&(l=s.length,n=s.length);for(var c=0;c<n;c++)t[s[c]]=l,l-=1;o[e]=t})),o)for(var c in o[s])l[c]>0?l[c]=l[c]+o[s][c]:l[c]=o[s][c];return l}var N=a(4),z=a(8);function L(e,t,a){console.log(t),0!=t.length?(B.u(".items").attr("opacity",.6),B.u(".my_circles").attr("opacity",.3),t.map((function(e){B.u("."+e).attr("opacity",1),B.u("#"+e).attr("opacity",1)}))):(B.u(".items").attr("opacity",1),B.u(".my_circles").attr("opacity",1))}var T=a(90),M=a(19);function D(e,t,a,r,n,i,o,l,s,c,d,_){var u=15,p=25,m=3,f=z("#"+e).width()-p,h=z("#"+e).height()-2*u,g=f/a.length-m,y=h,v=B.t("#"+e);v.selectAll(".ylabels").data([[.125,"++"],[.375,"+"],[.5,"0"],[.625,"-"],[.875,"--"]]).join("text").attr("class","ylabels").attr("y",(function(e){return e[0]*y})).attr("x",p-5).attr("text-anchor","end").attr("dominant-baseline","hanging").text((function(e){return e[1]})).attr("font-size",14).attr("fill","#636363"),v.selectAll(".feature_g").data(a,(function(e){return e[0]})).join((function(e){return e.append("g").attr("class","feature_g").attr("transform",(function(e,t){return"translate("+(p+g*t+m*t)+",0)"})).attr("x_transformation",(function(e,t){return p+g*t+m*t})).attr("id",(function(e){return e[0].replace(/[^\w\s]/gi,"")})).attr("add_title_rect",(function(e){B.t(this).selectAll(".title_rect").data([0]).join("rect").attr("class","title_rect").attr("width",g+2).attr("x",-1).attr("height",u).attr("fill","#d1d1d1")})).attr("add_title_text",(function(e,t){B.t(this).selectAll(".title_text").data([0]).join("text").attr("class","title_text").text(e[0]).attr("y",0).attr("dominant-baseline","hanging").attr("font-size",12).attr("x",10).attr("text-anchor","start")})).attr("add_item_rect",(function(e,t){B.t(this).selectAll(".item_rect").data([0]).join("rect").attr("class","item_rect").attr("width",g).attr("height",y).attr("y",u).attr("fill",d.includes(e[0])?"#F8FDB8":"#f2f2f2").attr("fill-opacity",1).attr("stroke","#b2b0b0")})).attr("svg_index",(function(e,t){return t})).attr("add_contrib_lines",(function(e,t){B.t(this).selectAll(".mylines").data([[.25],[.5],[.75]]).join("line").attr("class","mylines").attr("x1",0).attr("x2",g).attr("y1",(function(e){return e*(y+u)})).attr("y2",(function(e){return e*(y+u)})).attr("stroke-width",1).attr("stroke","#bababa")}))}),(function(e){return e.transition().duration(c.feature_animation).delay(c.rank_animation+c.deviation_animation).attr("transform",(function(e,t){return"translate("+(p+g*t+m*t)+",0)"})).attr("x_transformation",(function(e,t){return p+g*t+m*t})).attr("id",(function(e){return e[0].replace(/[^\w\s]/gi,"")})).attr("svg_index",(function(e,t){return t})).attr("add_title_rect",(function(e){B.t(this).selectAll(".title_rect").data([0]).join("rect").attr("class","title_rect").attr("width",g+2).attr("x",-1).attr("height",u).attr("fill","#d1d1d1")})).attr("add_title_text",(function(e,t){B.t(this).selectAll(".title_text").data([0]).join("text").attr("class","title_text").text(e[0]).attr("y",0).attr("dominant-baseline","hanging").attr("font-size",12).attr("x",10).attr("text-anchor","start")})).attr("add_item_rect",(function(e,t){B.t(this).selectAll(".item_rect").data([0]).join("rect").attr("class","item_rect").attr("width",g).attr("height",y).attr("y",u).attr("fill",d.includes(e[0])?"#F8FDB8":"#f2f2f2").attr("fill-opacity",1).attr("stroke","#b2b0b0")})).attr("add_contrib_lines",(function(e,t){B.t(this).selectAll(".mylines").data([[.25],[.5],[.75]]).join("line").attr("class","mylines").attr("x1",0).attr("x2",g).attr("y1",(function(e){return e*(y+u)})).attr("y2",(function(e){return e*(y+u)})).attr("stroke-width",1).attr("stroke","#bababa")}))}),(function(e){return e.remove()}))}var H=a(14),Y=a(138);function U(e,t,a,r,n,i,o,s,c,d,_,u,p,m,f){var h=B.t("body").selectAll(".tooltip").data([0]).join("div").attr("class","tooltip").style("opacity",0),g=z("#"+e).width()-5,y=z("#"+e).height()-10,v=r.filter((function(e){return o==e["1-qid"]&&a.includes(parseInt(e.two_realRank))})),b=[],k=Y.a.lines().size(5).strokeWidth(2).stroke("#cccccc").background("gray");v.map((function(e){n.map((function(t){return b.push(Math.abs(parseInt(e[t])-parseInt(e.two_realRank)))}))}));var j=120,x=12,w=-6,S=24,O=10;console.log(y);var E=y/a.length,C=O/2;B.t("#"+e).attr("height",E+v.length*E).call(k).selectAll(".parent_g").data([0]).join("g").attr("class","parent_g").attr("transform","translate(0,13)").selectAll(".items").data(v,(function(e){return e.State})).join((function(e){return e.append("g").attr("class","items").attr("transform",(function(e,t){return"translate("+j+","+t*E+")"}))}),(function(e){return e.transition().duration(i.rank_animation).attr("transform",(function(e,t){return"translate("+j+","+t*E+")"}))}),(function(e){return e.remove()})).attr("add_state",(function(e){B.t(this).selectAll("text").data([e]).join("text").text((function(t){var a=e.State;return a.length>15&&(a=a.replace("University","U")),a.length>15&&(a=a.substring(0,15)+".."),a+" "+e.two_realRank})).attr("fill",(function(e){return _(e.two_realRank)})).attr("dominant-baseline","hanging").attr("font-size",x).attr("x",0).attr("text-anchor","end").attr("dy",w)})).attr("add_sparkline",(function(e){})).attr("add_lines_and_circles",(function(e){var a=this,r=v.filter((function(t){return e.two_realRank==parseInt(t.two_realRank)})),o=[];n.map((function(e){r.map((function(t){var a={};a.two_realRank=parseInt(t.two_realRank),a.predicted_rank=parseInt(t[e]),a.model=e,a.year=t["1-qid"],o.push(a)}))}));var s=[];v.map((function(e){n.map((function(t){return s.push(Math.abs(parseInt(e[t])-parseInt(e.two_realRank)))}))}));var u=B.l(s),p=B.r().domain([0,u]).range([S,g-(j+C)]);if(0==u)p=B.r().domain([0,u]).range([S,0]);B.t(this).selectAll("line").data([e]).join((function(e){return e.append("line").attr("x1",S).attr("y1",(function(e,t){return E*t})).attr("y2",(function(e,t){return E*t})).attr("stroke-width",O).attr("stroke",k.url()).attr("x2",(function(e){var t=[];return o.map((function(e){return t.push(Math.abs(e.predicted_rank-e.two_realRank))})),p(B.l(t))}))}),(function(e){return e.transition().duration(i.deviation_animation).delay(i.rank_animation).attr("x2",(function(e){var t=[];return o.map((function(e){return t.push(Math.abs(e.predicted_rank-e.two_realRank))})),p(B.l(t))}))}));r=v.filter((function(t){return e.two_realRank==parseInt(t.two_realRank)}));var m=[];n.map((function(e){r.map((function(t){var a={};a.two_realRank=parseInt(t.two_realRank),a.predicted_rank=parseInt(t[e]),a.model=e,a.year=t["1-qid"],a.id=t.State.replace(/ /g,"").replace(/[^a-zA-Z ]/g,"")+e.replace(/ /g,"").replace(/[^a-zA-Z ]/g,""),m.push(a)}))})),B.t(this).selectAll(".my_circles").data(m,(function(e){return e.id})).join((function(e){return e.append("circle").attr("id",(function(e){return e.id})).attr("class","my_circles").attr("cx",(function(e,t){return B.t(a).classed(e.id,!0),e.predicted_rank-e.two_realRank==0?p(Math.abs(e.predicted_rank-e.two_realRank))+C:p(Math.abs(e.predicted_rank-e.two_realRank))}))}),(function(e){return e.transition().duration(i.deviation_animation).delay(i.rank_animation).attr("cx",(function(e,t){return B.t(a).classed(e.id,!0),e.predicted_rank-e.two_realRank==0?p(Math.abs(e.predicted_rank-e.two_realRank))+C:p(Math.abs(e.predicted_rank-e.two_realRank))}))})).attr("r",C).attr("fill",(function(e){return _(e.two_realRank)})).attr("parent_id",t).on("click",(function(e){return d(c.includes(e.id)?c.filter((function(t){return t!=e.id})):[].concat(Object(l.a)(c),[e.id]))})).on("mouseover",(function(e){h.transition().duration(200).style("opacity",.9),h.html("Year : "+e.year+"<br></br>Model: "+e.model+"<br></br>Deviation: "+Math.abs(e.predicted_rank-e.two_realRank)).style("left",B.f.pageX-140+"px").style("top",B.f.pageY-98+"px")})).on("mouseout",(function(e){h.transition().duration(500).style("opacity",0)}))}))}var q=a(28),X=(a(72),a(276)),W=a(258),P=a(271),Z=a(223),V=a(222),G=Object(W.a)((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},tRoot:{marginBottom:35},rang_input:{marginLeft:10}}}));Object(H.b)((function(e){return{threshold:e.threshold}}),(function(e){return{Set_threshold:function(t){return e({type:"threshold",value:t})}}}))((function(e){G();for(var t=n.a.useState(e.threshold),a=Object(q.a)(t,2),r=a[0],i=a[1],o=[],l=0;l<10;l++)o.push(1+19/9*l);var s=o.map((function(e){var t=parseInt(e);return{value:t,label:t}}));return n.a.createElement("div",{className:"rangeslider2",style:{marginLeft:60,marginTop:-28,width:"100%",paddingTop:0}},n.a.createElement(V.a,null,"Threshold"),n.a.createElement(X.a,{value:r,onChange:function(e,t){return i(t)},onChangeCommitted:function(t,a){return e.Set_threshold(a)},valueLabelDisplay:"auto",min:0,max:20,"aria-labelledby":"input-slider",marks:s}))})),a(122);var J=Object(W.a)((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},tRoot:{marginBottom:35},rang_input:{marginLeft:10}}}));var K=Object(H.b)((function(e){return{selected_year:e.selected_year,state_range:e.state_range,mode:e.mode,slider_max:e.slider_max,range_mode_model:e.range_mode_model,range_mode_range1:e.range_mode_range1,range_mode_range2:e.range_mode_range2,time_mode_model:e.time_mode_model,time_mode_range:e.time_mode_range,time_mode_year1:e.time_mode_year1,time_mode_year2:e.time_mode_year2,years_for_dropdown:e.years_for_dropdown,dataset:e.dataset,defualt_models:e.defualt_models,slider_and_feature_value:e.slider_and_feature_value,sort_by:e.sort_by,grouped_by_year_data:e.grouped_by_year_data}}),(function(e){return{Set_state_range:function(t){return e({type:"state_range",value:t})},Set_changed:function(t){return e({type:"changed",value:t})}}}))((function(e){for(var t,a=J(),r=n.a.useState(e.state_range),i=Object(q.a)(r,2),o=i[0],l=i[1],s=[],c=(e.slider_max-1)/5,d=0;d<6;d++)s.push(1+c*d);var _=s.map((function(e){var t=parseInt(e);return{value:t,label:t}}));return n.a.createElement("div",{className:"Modelslider",style:{height:70,width:"100%",paddingTop:30,border:"2px solid rgb(178, 178, 178,0.5)"}},n.a.createElement("div",{className:"lower",style:{padding:"0px 0px",marginTop:-20}},n.a.createElement(P.a,{classes:{input:a.rang_input},id:"standard-basic",label:"Lower",value:o[0],style:{width:"100%"},onChange:function(e){isNaN(parseInt(e.target.value))?l(["",o[1]]):e.target.value>o[1]?alert("Lower range can not be larger than the upper range"):l([e.target.value,o[1]])}})),n.a.createElement("div",{className:"slider",style:{width:"100%",margin:"0px 0px"}},n.a.createElement(X.a,(t={value:o,onChange:function(e,t){return l(t)},onChangeCommitted:function(t,a){return e.Set_changed("range")},valueLabelDisplay:"auto","aria-labelledby":"range-slider"},Object(N.a)(t,"valueLabelDisplay","on"),Object(N.a)(t,"min",1),Object(N.a)(t,"max",e.slider_max),Object(N.a)(t,"marks",_),t))),n.a.createElement("div",{className:"upper",style:{padding:"0px 0px",marginTop:-20}},n.a.createElement(P.a,{classes:{input:a.rang_input},id:"standard-basic",label:"Upper",value:o[1],style:{width:"100%"},onChange:function(t){isNaN(parseInt(t.target.value))?l([o[0],""]):parseInt(t.target.value)>e.slider_max?(alert("Upper range can not exceed maximum"),l([o[0],e.slider_max])):l([o[0],parseInt(t.target.value)])}})),n.a.createElement("div",{className:"button",item:!0,xs:"2",style:{marginTop:-10}},n.a.createElement(Z.a,{className:"range_button",style:{backgroundColor:"#ededed",height:30},onClick:function(){e.Set_state_range(o)}},"Update range")))}));function Q(e,t,a,r,n,i,o,l,s){var c=[],d=[];a[r].map((function(e){var t=[];e["1-qid"]==n&&i.includes(parseInt(e.two_realRank))&&(c.push({model:e.model,State:e.State,"1-qid":e["1-qid"],two_realRank:parseInt(e.two_realRank)}),o.map((function(a){return t.push(parseFloat(e[a[0]+"_contribution"]))})),d.push(t))}));for(var _=[],u=0;u<d.length;u++){for(var p=[],m=0;m<d.length;m++)p.push($(d[u],d[m]));_.push(p)}var f=function(e,t){t=t||2;var a=M.mul(-.5,M.pow(e,2));function r(e){return M.div(M.add.apply(null,e),e.length)}for(var n=r(a),i=r(M.transpose(a)),o=r(n),l=0;l<a.length;++l)for(var s=0;s<a[0].length;++s)a[l][s]+=o-n[l]-i[s];var c=M.svd(a),d=M.sqrt(c.S);return c.U.map((function(e){return M.mul(e,d).splice(0,t)}))}(_),h=[];c.map((function(e,t){e.x=f[t][0],e.y=f[t][1],e.id=e.State.replace(/ /g,"").replace(/[^a-zA-Z ]/g,"")+e.model.replace(/ /g,"").replace(/[^a-zA-Z ]/g,""),h.push(e)}));var g=15,y=25,v=z(t).width()-y,b=z(t).height()-2*g,k=B.r().domain(B.g(h.map((function(e){return e.x})))).range([10,v-10]),j=B.r().domain(B.g(h.map((function(e){return e.y})))).range([10,b-10]),x=B.t(t).style("border","1px solid #eaeaea"),w=x.selectAll("circle").data(h).join("circle").attr("cx",(function(e){return k(e.x)})).attr("cy",(function(e){return j(e.y)})).attr("r",5).attr("fill",(function(e){return l(e.two_realRank)})).attr("id",(function(e){return e.id})).attr("class","my_circles"),S=T.a().closePathSelect(!0).closePathDistance(100).items(w).targetArea(x).on("start",(function(){S.items().attr("r",5).classed("not_possible",!0).classed("selected",!1)})).on("draw",(function(){S.possibleItems().classed("not_possible",!1).classed("possible",!0),S.notPossibleItems().classed("not_possible",!0).classed("possible",!1)})).on("end",(function(){var e=[];S.selectedItems().each((function(){e.push(B.t(this).attr("id"))})),s(e),S.items().classed("not_possible",!1).classed("possible",!1),S.selectedItems().classed("selected",!0).attr("r",6),S.notSelectedItems().attr("r",5)}));x.call(S)}function $(e,t){return Math.pow(e.map((function(e,a){return Math.pow(Math.abs(e-t[a]),2)})).reduce((function(e,t){return e+t})),.5)}var ee=function(e){Object(u.a)(a,e);var t=Object(_.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).line_color=null,r.state={mds_height:100,mouseX:0,mouseY:0},r}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.setState({width:window.innerHeight})}},{key:"componentDidUpdate",value:function(e,t){var a=this,r=this,n=B.p(this.props.state_range[0],this.props.state_range[1]+1);this.props.histogram_data.length>0&&(n=this.props.histogram_data);var i=[],o=this.props.original_data.filter((function(e){return a.props.selected_year==e["1-qid"]}));this.props.defualt_models.map((function(e){o.map((function(t){var r=parseInt(t.two_realRank),n=parseInt(t[e]);Math.abs(n-r)>a.props.threshold&&i.push(r)}))})),n=n.filter((function(e){return!i.includes(e)}));var s=B.n(n),c=(B.l(n)-s)/8,d=B.r().domain([s+7*c,s+6*c,s+5*c,s+4*c,s+3*c,s+2*c,s]).interpolate(B.j).range(["#00429d","#4771b2","#73a2c6","#a5d5d8","#ffbcaf","#f4777f","#cf3759","#93003a"]),_=F(this.props.dataset,[this.props.model_name],n,this.props.selected_year,8,this.props.rank_data),u=Object.entries(_).sort((function(e,t){return t[1]-e[1]})).slice(0,9),p=parseInt(z("#all_features_container"+this.props.model_name).width()),m=(parseInt(window.innerHeight)-(this.state.mds_height+80))/u.length-5,f=B.t("#all_features_container"+this.props.model_name).selectAll(".feature_items").data(u,(function(e){return e[0]})).join((function(e){return e.append("svg").attr("y",(function(e,t){return 5+t*(m+5)}))}),(function(e){return e.transition().duration(2e3).attr("y",(function(e,t){return 5+t*(m+5)}))}),(function(e){return e.remove()}));f.attr("class",(function(e){return"feature_items "+e[0]})),f.attr("add_text_rect",(function(e){B.t(this).selectAll(".title_rect").data([0]).join("rect").attr("class","title_rect").attr("width","100%").attr("height",18).attr("fill","#e2e2e2").attr("y",0).attr("x",0)})),f.attr("add_circ_rect",(function(e){B.t(this).selectAll(".circ_rect").data([0]).join("rect").attr("class","circ_rect").attr("width","100%").attr("height",m-18).attr("fill","#ededed").attr("y",18).attr("x",0)})),f.attr("add_text",(function(e){B.t(this).selectAll(".title_text").data([0]).join("text").attr("class","title_text").attr("x",p/2).text(e[0]).attr("dominant-baseline","hanging").attr("y",2).attr("text-anchor","middle").attr("font-size",12)})),f.attr("CreatexpCircle",(function(e){!function(e,t,a,r,n,i,o,s,c,d,_,u,p,m,f,h){var g=25,y=6,v=6,b=6,k=e[0],j=e[0]+"_contribution",x=[],w=[];o.map((function(e){n[e].map((function(t){t["1-qid"]==i&&a.includes(parseInt(t.two_realRank))&&(w.push(parseFloat(t[j])),t.id=t.State.replace(/ /g,"").replace(/[^a-zA-Z ]/g,"")+e.replace(/ /g,"").replace(/[^a-zA-Z ]/g,""),x.push(t))}))}));var S=B.r().domain([B.n(x.map((function(t){return parseFloat(t[e[0]])}))),B.l(x.map((function(t){return parseFloat(t[e[0]])})))]).range([g,h-y]),O=B.r().domain([B.n(x.map((function(e){return parseFloat(e[j])}))),B.l(x.map((function(e){return parseFloat(e[j])})))]).range([v,f-b]),E=B.m(w);t.selectAll(".myline").data([0]).join("line").attr("class","myline").attr("x1",O(E)).attr("x2",O(E)).attr("y1",18).attr("y2",h).attr("stroke","#d6d6d6").attr("stroke-width",1),t.selectAll(".my_circles").data(x,(function(e){return e.id})).join((function(e){return e.append("circle").attr("id",(function(e){return e.id})).attr("class",(function(e){return"my_circles"})).attr("fill",(function(e){return d(e.two_realRank)})).attr("transform",(function(e,t){return"translate("+O(parseFloat(e[j]))+","+S(parseFloat(e[k]))+")"})).attr("r",5)}),(function(e){return e.attr("class",(function(e){return e.id+" items circle2 my_circles"})).transition().duration(_.circle_animation).delay(_.rank_animation+_.deviation_animation+_.feature_animation).attr("transform",(function(e,t){return"translate("+O(parseFloat(e[j]))+","+S(parseFloat(e[k]))+")"})).attr("id",(function(e){return e.id}))}),(function(e){return e.remove()})).on("click",(function(e){console.log(e.id,s),c(s.includes(e.id)?s.filter((function(t){return t!=e.id})):[].concat(Object(l.a)(s),[e.id]))}))}(e,B.t(this),n,0,r.props.lime_data,r.props.selected_year,[r.props.model_name],r.props.clicked_circles,r.props.Set_clicked_circles,d,r.props.anim_config,r.props.Set_clicked_circles,r.props.Set_clicked_features,r.props.symbolTypes,p,m)})).attr("height",m).attr("width",p),f.attr("check_clicked_features",(function(e){a.props.clicked_features.includes(e[0])&&B.u("."+e[0]).selectAll(".border_rect").data([0]).join("rect").attr("class","border_rect").attr("width","100%").attr("height","100%").style("stroke","black").style("fill","none").style("stroke-width",5)})),f.on("click",(function(e){a.props.clicked_features.includes(e[0])?(a.props.Set_clicked_features(a.props.clicked_features.filter((function(t){return t!=e[0]}))),B.u("."+e[0]).selectAll(".border_rect").remove()):(a.props.Set_clicked_features([].concat(Object(l.a)(a.props.clicked_features),[e[0]])),B.u("."+e[0]).selectAll(".border_rect").data([0]).join("rect").attr("class","border_rect").attr("width","100%").attr("height","100%").style("stroke","black").style("fill","none").style("stroke-width",5))})),Q(0,"#mds"+this.props.model_name,this.props.lime_data,this.props.model_name,this.props.selected_year,n,u,d,this.props.Set_clicked_circles)}},{key:"render",value:function(){var e=parseInt(z(".exp_parent").width())/this.props.defualt_models.length;return n.a.createElement("div",{className:"exp"+this.props.model_name,style:{width:e,border:"2px solid #e2e2e2",padding:"2px 10px"}},n.a.createElement("p",{style:{margin:0,padding:0,marginLeft:"45%"}},this.props.model_name),n.a.createElement("svg",{id:"mds"+this.props.model_name,style:{margin:0,width:"100%",height:this.state.mds_height}}),n.a.createElement("svg",{id:"all_features_container"+this.props.model_name,style:{marginTop:5,width:"100%",height:parseInt(z(".exp_parent").height())-(this.state.mds_height+36)}}," "))}}]),a}(r.Component),te=Object(H.b)((function(e){var t;return t={state_range:e.state_range,selected_year:e.selected_year,deviate_by:e.deviate_by,clicked_items_in_slopechart:e.clicked_items_in_slopechart,tracking:e.tracking,defualt_models:e.defualt_models,original_data:e.original_data,time_mode_model:e.time_mode_model,chart_scale_type:e.chart_scale_type,features_with_score:e.features_with_score,dataset:e.dataset,histogram_data:e.histogram_data,sparkline_data:e.sparkline_data},Object(N.a)(t,"dataset",e.dataset),Object(N.a)(t,"anim_config",e.anim_config),Object(N.a)(t,"show",e.show),Object(N.a)(t,"default_model_scores",e.default_model_scores),Object(N.a)(t,"average_m",e.average_m),Object(N.a)(t,"average_y",e.average_y),Object(N.a)(t,"lime_data",e.lime_data),Object(N.a)(t,"features_with_score",e.features_with_score),Object(N.a)(t,"rank_data",e.rank_data),Object(N.a)(t,"clicked_circles",e.clicked_circles),Object(N.a)(t,"clicked_features",e.clicked_features),Object(N.a)(t,"threshold",e.threshold),t}),(function(e){return{Set_clicked_circles:function(t){return e({type:"clicked_circles",value:t})},Set_prev_prop:function(t){return e({type:"prev_prop",value:t})},Set_sparkline_data:function(t){return e({type:"sparkline_data",value:t})},Set_clicked_items_in_slopechart:function(t){return e({type:"clicked_items_in_slopechart",value:t})},Set_replay:function(t){return e({type:"replay",value:t})},Set_clicked_features:function(t){return e({type:"clicked_features",value:t})},Set_selected_year:function(t){return e({type:"selected_year",value:t})}}}))(ee),ae=function(e){Object(u.a)(a,e);var t=Object(_.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).line_color=null,r.state={height_slope_exp_chart:700,mouseX:0,mouseY:0},r}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.setState({width:window.innerHeight})}},{key:"shouldComponentUpdate",value:function(e,t){return!0}},{key:"componentDidUpdate",value:function(e,t){var a=this,r=B.p(this.props.state_range[0],this.props.state_range[1]+1);this.props.histogram_data.length>0&&(r=this.props.histogram_data);var n=[],i=this.props.original_data.filter((function(e){return a.props.selected_year==e["1-qid"]}));this.props.defualt_models.map((function(e){i.map((function(t){var r=parseInt(t.two_realRank),i=parseInt(t[e]);Math.abs(i-r)>a.props.threshold&&n.push(r)}))})),r=r.filter((function(e){return!n.includes(e)}));var o=B.n(r),l=(B.l(r)-o)/8,s=B.r().domain([o+7*l,o+6*l,o+5*l,o+4*l,o+3*l,o+2*l,o]).interpolate(B.j).range(["#00429d","#4771b2","#73a2c6","#a5d5d8","#ffbcaf","#f4777f","#cf3759","#93003a"]),c=F(this.props.dataset,this.props.defualt_models,r,this.props.selected_year,9,this.props.rank_data);Object.entries(c).sort((function(e,t){return t[1]-e[1]})).slice(0,18);U("dev_plot_container","exp",r,this.props.original_data,this.props.defualt_models,this.props.anim_config,this.props.selected_year,this.props.average_m,this.props.clicked_circles,this.props.Set_clicked_circles,s,this.props.sparkline_data,this.props.Set_selected_year,this.props.dataset,this.props.threshold),L(0,this.props.clicked_circles,this.props.anim_config)}},{key:"render",value:function(){return n.a.createElement("div",{className:"ModelChartParent",style:{backgroundColor:"white",margin:2,padding:2,border:"2px solid grey",width:"100%",boxShadow:"-2px 1px 4px -1px white"}},n.a.createElement("div",{class:"dev_parent",style:{display:"inline-block",minWidth:405,width:"22%",paddingRight:3,backgroundColor:"#fcfcfc",height:z(".ModelChartParent").height()}},n.a.createElement(K,null),n.a.createElement("svg",{id:"dev_plot_container",style:{width:"100%",height:window.innerHeight-200,marginBottom:10,overflow:"hidden"}})),n.a.createElement("div",{class:"exp_parent",style:{width:"78%"}},this.props.defualt_models.map((function(e){return n.a.createElement(te,{model_name:e})}))))}}]),a}(r.Component),re=Object(H.b)((function(e){var t;return t={state_range:e.state_range,selected_year:e.selected_year,deviate_by:e.deviate_by,clicked_items_in_slopechart:e.clicked_items_in_slopechart,tracking:e.tracking,defualt_models:e.defualt_models,original_data:e.original_data,time_mode_model:e.time_mode_model,chart_scale_type:e.chart_scale_type,features_with_score:e.features_with_score,dataset:e.dataset,histogram_data:e.histogram_data,sparkline_data:e.sparkline_data},Object(N.a)(t,"dataset",e.dataset),Object(N.a)(t,"anim_config",e.anim_config),Object(N.a)(t,"show",e.show),Object(N.a)(t,"default_model_scores",e.default_model_scores),Object(N.a)(t,"average_m",e.average_m),Object(N.a)(t,"average_y",e.average_y),Object(N.a)(t,"lime_data",e.lime_data),Object(N.a)(t,"features_with_score",e.features_with_score),Object(N.a)(t,"rank_data",e.rank_data),Object(N.a)(t,"clicked_circles",e.clicked_circles),Object(N.a)(t,"clicked_features",e.clicked_features),Object(N.a)(t,"threshold",e.threshold),t}),(function(e){return{Set_clicked_circles:function(t){return e({type:"clicked_circles",value:t})},Set_prev_prop:function(t){return e({type:"prev_prop",value:t})},Set_sparkline_data:function(t){return e({type:"sparkline_data",value:t})},Set_clicked_items_in_slopechart:function(t){return e({type:"clicked_items_in_slopechart",value:t})},Set_replay:function(t){return e({type:"replay",value:t})},Set_clicked_features:function(t){return e({type:"clicked_features",value:t})},Set_selected_year:function(t){return e({type:"selected_year",value:t})}}}))(ae),ne=a(265),ie=Object(W.a)((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},tRoot:{marginBottom:35},rang_input:{marginLeft:10}}}));var oe=Object(H.b)((function(e){return{mode:e.mode,slider_max:e.slider_max,range_mode_range1:e.range_mode_range1}}),(function(e){return{Set_range_mode_range1:function(t){return e({type:"range_mode_range1",value:t})},Set_changed:function(t){return e({type:"changed",value:t})}}}))((function(e){ie();for(var t,a=n.a.useState(e.range_mode_range1),r=Object(q.a)(a,2),i=r[0],o=r[1],l=[],s=(e.slider_max-1)/5,c=0;c<6;c++)l.push(1+s*c);var d=l.map((function(e){var t=parseInt(e);return{value:t,label:t}}));return n.a.createElement("div",{className:"rangeslider",style:{width:"95%",marginTop:30}},n.a.createElement(X.a,(t={value:i,onChange:function(e,t){return o(t)},onChangeCommitted:function(t,a){return e.Set_changed("range")},valueLabelDisplay:"auto","aria-labelledby":"range-slider"},Object(N.a)(t,"valueLabelDisplay","on"),Object(N.a)(t,"min",1),Object(N.a)(t,"max",e.slider_max),Object(N.a)(t,"marks",d),t)),n.a.createElement(ne.a,{style:{marginBottom:15},container:!0,direction:"row",justify:"space-around",alignItems:"center"}),n.a.createElement(Z.a,{className:"range_button",style:{width:z(".Sidebar").width()-11,backgroundColor:"#ededed",height:30,marginBottom:5,marginLeft:-3},onClick:function(){return e.Set_range_mode_range1(i)}},"Update range"))})),le=Object(W.a)((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},tRoot:{marginBottom:35},rang_input:{marginLeft:10}}}));var se=Object(H.b)((function(e){return{selected_year:e.selected_year,state_range:e.state_range,mode:e.mode,slider_max:e.slider_max,range_mode_model:e.range_mode_model,range_mode_range1:e.range_mode_range1,range_mode_range2:e.range_mode_range2,time_mode_model:e.time_mode_model,time_mode_range:e.time_mode_range,time_mode_year1:e.time_mode_year1,time_mode_year2:e.time_mode_year2,years_for_dropdown:e.years_for_dropdown,dataset:e.dataset,defualt_models:e.defualt_models,slider_and_feature_value:e.slider_and_feature_value,sort_by:e.sort_by,grouped_by_year_data:e.grouped_by_year_data}}),(function(e){return{Set_range_mode_range2:function(t){return e({type:"range_mode_range2",value:t})},Set_changed:function(t){return e({type:"changed",value:t})}}}))((function(e){le();for(var t,a=n.a.useState(e.range_mode_range2),r=Object(q.a)(a,2),i=r[0],o=r[1],l=[],s=(e.slider_max-1)/5,c=0;c<6;c++)l.push(1+s*c);var d=l.map((function(e){var t=parseInt(e);return{value:t,label:t}}));return n.a.createElement("div",{className:"rangeslider",style:{width:"95%",marginTop:30}},n.a.createElement(X.a,(t={value:i,onChange:function(e,t){return o(t)},onChangeCommitted:function(t,a){e.Set_changed("range")},valueLabelDisplay:"auto","aria-labelledby":"range-slider"},Object(N.a)(t,"valueLabelDisplay","on"),Object(N.a)(t,"min",1),Object(N.a)(t,"max",e.slider_max),Object(N.a)(t,"marks",d),t)),n.a.createElement(ne.a,{style:{marginBottom:15},container:!0,direction:"row",justify:"space-around",alignItems:"center"}),n.a.createElement(Z.a,{className:"range_button",style:{width:z(".Sidebar").width()-11,backgroundColor:"#ededed",height:30,marginBottom:5,marginLeft:0},onClick:function(){return e.Set_range_mode_range2(i)}},"Update range"))})),ce=function(e){Object(u.a)(a,e);var t=Object(_.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).line_color=null,r.state={height_slope_exp_chart:700,mouseX:0,mouseY:0},r}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.setState({width:window.innerHeight})}},{key:"shouldComponentUpdate",value:function(e,t){return!0}},{key:"componentDidUpdate",value:function(e,t){var a=B.n([this.props.range_mode_range1[0],this.props.range_mode_range2[0]]),r=(B.l([this.props.range_mode_range1[1],this.props.range_mode_range2[1]])-a)/8,n=B.r().domain([a+7*r,a+6*r,a+5*r,a+4*r,a+3*r,a+2*r,a]).interpolate(B.j).range(["#00429d","#4771b2","#73a2c6","#a5d5d8","#ffbcaf","#f4777f","#cf3759","#93003a"]),i=B.p(this.props.range_mode_range1[0],this.props.range_mode_range1[1]+1),o=F(this.props.dataset,this.props.defualt_models,this.props.range_mode_range1,this.props.selected_year,9,this.props.rank_data),l=Object.entries(o).sort((function(e,t){return e[1]-t[1]})).slice(0,9);U("r1d","r1e",i,this.props.original_data,this.props.defualt_models,this.props.anim_config,this.props.selected_years,this.props.average_m,this.props.clicked_circles,this.props.Set_clicked_circles,n,this.props.sparkline_data,this.props.Set_selected_year),D("r1e",0,l,this.props.lime_data,this.props.selected_year,this.props.defualt_models,this.props.clicked_circles,this.props.Set_clicked_circles,0,this.props.anim_config,this.props.clicked_features,this.props.Set_clicked_features),this.props.lime_data,this.props.selected_year,this.props.defualt_models,this.props.clicked_circles,this.props.Set_clicked_circles,this.props.anim_config,this.props.clicked_features,this.props.Set_clicked_features;var s=B.p(this.props.range_mode_range2[0],this.props.range_mode_range2[1]+1),c=F(this.props.dataset,this.props.defualt_models,this.props.range_mode_range2,this.props.selected_year,9,this.props.rank_data),d=Object.entries(c).sort((function(e,t){return e[1]-t[1]})).slice(0,9);U("r2d","r2e",s,this.props.original_data,this.props.defualt_models,this.props.anim_config,this.props.selected_years,this.props.average_m,this.props.clicked_circles,this.props.Set_clicked_circles,n,this.props.sparkline_data,this.props.Set_selected_year),D("r2e",0,d,this.props.lime_data,this.props.selected_year,this.props.defualt_models,this.props.clicked_circles,this.props.Set_clicked_circles,0,this.props.anim_config,this.props.clicked_features,this.props.Set_clicked_features),this.props.lime_data,this.props.selected_year,this.props.defualt_models,this.props.clicked_circles,this.props.Set_clicked_circles,this.props.anim_config,this.props.clicked_features,this.props.Set_clicked_features,this.props.clicked_circles,this.props.anim_config,L(0,this.props.clicked_circles,this.props.anim_config)}},{key:"render",value:function(){return n.a.createElement(ne.a,{container:!0,direction:"row",justifyContent:"space-between",className:"slope_chart_exp",style:{backgroundColor:"white",padding:"0px 0px",border:"1px solid #eaeaea",width:"100%",boxShadow:"-2px 1px 4px -1px white"}},n.a.createElement(ne.a,{container:!0,item:!0,direction:"column",justifyContent:"space-between",style:{paddingRight:0,border:"1px solid #a0a0a0",height:"100%",width:"49.4%"}},n.a.createElement("p",{style:{margin:0,paddingLeft:"45%",backgroundColor:"rgb(232, 232, 232,0.4)",fontWeight:"bolder",borderBottom:"1px solid #cecece"}},"Group 1"),n.a.createElement(ne.a,{item:!0,style:{backgroundColor:"rgb(232, 232, 232,0.4)"}},n.a.createElement(oe,null)),n.a.createElement(ne.a,{item:!0,style:{backgroundColor:"rgb(232, 232, 232,0.4)",height:.5*z(".slope_chart_exp").height()-25,overflow:"scroll"}},n.a.createElement("svg",{id:"r1d",style:{width:"100%",marginRight:"3%"}})),n.a.createElement(ne.a,{item:!0,style:{backgroundColor:"rgb(232, 232, 232,0.4)",marginTop:5,paddingTop:5,paddingRight:3,height:.3*z(".slope_chart_exp").height()}},n.a.createElement("svg",{id:"r1e",style:{width:"100%",height:"100%"}}))),n.a.createElement(ne.a,{container:!0,item:!0,direction:"column",justifyContent:"space-between",style:{marginLeft:"1%",padding:0,border:"1px solid #a0a0a0",height:"100%",width:"49.4%"}},n.a.createElement("p",{style:{margin:0,paddingLeft:"45%",backgroundColor:"rgb(232, 232, 232,0.4)",fontWeight:"bolder",borderBottom:"1px solid #cecece"}},"Group 2"),n.a.createElement(ne.a,{item:!0,style:{backgroundColor:"rgb(232, 232, 232,0.4)"}},n.a.createElement(se,null)),n.a.createElement(ne.a,{item:!0,style:{backgroundColor:"rgb(232, 232, 232,0.4)",height:.5*z(".slope_chart_exp").height()-25,overflow:"scroll"}},n.a.createElement("svg",{id:"r2d",style:{width:"100%",marginRight:"3%"}})),n.a.createElement(ne.a,{item:!0,style:{backgroundColor:"rgb(232, 232, 232,0.4)",marginTop:5,paddingTop:5,paddingRight:3,height:.3*z(".slope_chart_exp").height()}},n.a.createElement("svg",{id:"r2e",style:{width:"100%",height:"100%"}}))))}}]),a}(r.Component),de=Object(H.b)((function(e){var t;return t={range_mode_range1:e.range_mode_range1,range_mode_range2:e.range_mode_range2,selected_year:e.selected_year,selected_years:e.selected_years,deviate_by:e.deviate_by,clicked_items_in_slopechart:e.clicked_items_in_slopechart,tracking:e.tracking,defualt_models:e.defualt_models,original_data:e.original_data,time_mode_model:e.time_mode_model,chart_scale_type:e.chart_scale_type,features_with_score:e.features_with_score,dataset:e.dataset,histogram_data:e.histogram_data,sparkline_data:e.sparkline_data},Object(N.a)(t,"dataset",e.dataset),Object(N.a)(t,"anim_config",e.anim_config),Object(N.a)(t,"show",e.show),Object(N.a)(t,"default_model_scores",e.default_model_scores),Object(N.a)(t,"sort_by",e.sort_by),Object(N.a)(t,"average_m",e.average_m),Object(N.a)(t,"average_y",e.average_y),Object(N.a)(t,"lime_data",e.lime_data),Object(N.a)(t,"features_with_score",e.features_with_score),Object(N.a)(t,"rank_data",e.rank_data),Object(N.a)(t,"clicked_circles",e.clicked_circles),Object(N.a)(t,"clicked_features",e.clicked_features),t}),(function(e){return{Set_clicked_circles:function(t){return e({type:"clicked_circles",value:t})},Set_prev_prop:function(t){return e({type:"prev_prop",value:t})},Set_sparkline_data:function(t){return e({type:"sparkline_data",value:t})},Set_clicked_items_in_slopechart:function(t){return e({type:"clicked_items_in_slopechart",value:t})},Set_replay:function(t){return e({type:"replay",value:t})},Set_clicked_features:function(t){return e({type:"clicked_features",value:t})},Set_selected_year:function(t){return e({type:"selected_year",value:t})}}}))(ce),_e=function(e){Object(u.a)(a,e);var t=Object(_.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).line_color=null,r.state={height_slope_exp_chart:700,mouseX:0,mouseY:0},r}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.setState({width:window.innerHeight})}},{key:"shouldComponentUpdate",value:function(e,t){return!0}},{key:"componentDidUpdate",value:function(e,t){var a=this.props.time_mode_range[0],r=(this.props.time_mode_range[1]-a)/8,n=B.r().domain([a+7*r,a+6*r,a+5*r,a+4*r,a+3*r,a+2*r,a]).interpolate(B.j).range(["#00429d","#4771b2","#73a2c6","#a5d5d8","#ffbcaf","#f4777f","#cf3759","#93003a"]),i=B.p(this.props.time_mode_range[0],this.props.time_mode_range[1]+1),o=F(this.props.dataset,this.props.defualt_models,this.props.time_mode_range,this.props.time_mode_year1,9,this.props.rank_data),l=Object.entries(o).sort((function(e,t){return e[1]-t[1]})).slice(0,9);U("y1d","y1e",i,this.props.original_data,this.props.defualt_models,this.props.anim_config,this.props.time_mode_year1,this.props.average_m,this.props.clicked_circles,this.props.Set_clicked_circles,n),D("y1e",0,l,this.props.lime_data,this.props.time_mode_year1,this.props.defualt_models,this.props.clicked_circles,this.props.Set_clicked_circles,0,this.props.anim_config,this.props.clicked_features,this.props.Set_clicked_features);var s=B.p(this.props.time_mode_range[0],this.props.time_mode_range[1]+1),c=F(this.props.dataset,this.props.defualt_models,this.props.time_mode_range,this.props.time_mode_year2,9,this.props.rank_data),d=Object.entries(c).sort((function(e,t){return e[1]-t[1]})).slice(0,9);U("y2d","y2e",s,this.props.original_data,this.props.defualt_models,this.props.anim_config,this.props.time_mode_year2,this.props.average_m,this.props.clicked_circles,this.props.Set_clicked_circles,n),D("y2e",0,d,this.props.lime_data,this.props.time_mode_year2,this.props.defualt_models,this.props.clicked_circles,this.props.Set_clicked_circles,0,this.props.anim_config,this.props.clicked_features,this.props.Set_clicked_features),this.props.clicked_circles,this.props.anim_config,L(0,this.props.clicked_circles,this.props.anim_config)}},{key:"render",value:function(){return n.a.createElement(ne.a,{container:!0,direction:"row",justifyContent:"space-between",className:"slope_chart_exp",style:{backgroundColor:"white",padding:"0px 0px",border:"1px solid #eaeaea",width:"100%",boxShadow:"-2px 1px 4px -1px white"}},n.a.createElement(ne.a,{container:!0,item:!0,direction:"column",justifyContent:"space-between",style:{paddingRight:0,border:"1px solid #a0a0a0",height:"100%",width:"49.4%"}},n.a.createElement("p",{style:{margin:0,paddingLeft:"45%",backgroundColor:"rgb(232, 232, 232,0.4)",fontWeight:"bolder",borderBottom:"1px solid #cecece"}},"Year : "+this.props.time_mode_year1),n.a.createElement(ne.a,{item:!0,style:{backgroundColor:"rgb(232, 232, 232,0.4)",height:.69*z(".slope_chart_exp").height()-25,overflow:"scroll"}},n.a.createElement("svg",{id:"y1d",style:{width:"100%",marginRight:"3%"}})),n.a.createElement(ne.a,{item:!0,style:{backgroundColor:"rgb(232, 232, 232,0.4)",marginTop:5,paddingTop:5,paddingRight:3,height:.3*z(".slope_chart_exp").height()}},n.a.createElement("svg",{id:"y1e",style:{width:"100%",height:"100%"}}))),n.a.createElement(ne.a,{container:!0,item:!0,direction:"column",justifyContent:"space-between",style:{marginLeft:"1%",padding:0,border:"1px solid #a0a0a0",height:"100%",width:"49.4%"}},n.a.createElement("p",{style:{margin:0,paddingLeft:"45%",backgroundColor:"rgb(232, 232, 232,0.4)",fontWeight:"bolder",borderBottom:"1px solid #cecece"}},"Year : "+this.props.time_mode_year2),n.a.createElement(ne.a,{item:!0,style:{backgroundColor:"rgb(232, 232, 232,0.4)",height:.69*z(".slope_chart_exp").height()-25,overflow:"scroll"}},n.a.createElement("svg",{id:"y2d",style:{width:"100%",marginRight:"3%"}})),n.a.createElement(ne.a,{item:!0,style:{backgroundColor:"rgb(232, 232, 232,0.4)",marginTop:5,paddingTop:5,paddingRight:3,height:.3*z(".slope_chart_exp").height()}},n.a.createElement("svg",{id:"y2e",style:{width:"100%",height:"100%"}}))))}}]),a}(r.Component),ue=Object(H.b)((function(e){var t;return t={time_mode_model:e.time_mode_model,time_mode_range:e.time_mode_range,deviate_by:e.deviate_by,time_mode_year1:e.time_mode_year1,time_mode_year2:e.time_mode_year2},Object(N.a)(t,"deviate_by",e.deviate_by),Object(N.a)(t,"clicked_items_in_slopechart",e.clicked_items_in_slopechart),Object(N.a)(t,"tracking",e.tracking),Object(N.a)(t,"defualt_models",e.defualt_models),Object(N.a)(t,"original_data",e.original_data),Object(N.a)(t,"time_mode_model",e.time_mode_model),Object(N.a)(t,"chart_scale_type",e.chart_scale_type),Object(N.a)(t,"features_with_score",e.features_with_score),Object(N.a)(t,"dataset",e.dataset),Object(N.a)(t,"histogram_data",e.histogram_data),Object(N.a)(t,"sparkline_data",e.sparkline_data),Object(N.a)(t,"dataset",e.dataset),Object(N.a)(t,"anim_config",e.anim_config),Object(N.a)(t,"show",e.show),Object(N.a)(t,"default_model_scores",e.default_model_scores),Object(N.a)(t,"sort_by",e.sort_by),Object(N.a)(t,"average_m",e.average_m),Object(N.a)(t,"average_y",e.average_y),Object(N.a)(t,"lime_data",e.lime_data),Object(N.a)(t,"features_with_score",e.features_with_score),Object(N.a)(t,"rank_data",e.rank_data),Object(N.a)(t,"clicked_circles",e.clicked_circles),Object(N.a)(t,"clicked_features",e.clicked_features),t}),(function(e){return{Set_clicked_circles:function(t){return e({type:"clicked_circles",value:t})},Set_prev_prop:function(t){return e({type:"prev_prop",value:t})},Set_sparkline_data:function(t){return e({type:"sparkline_data",value:t})},Set_clicked_items_in_slopechart:function(t){return e({type:"clicked_items_in_slopechart",value:t})},Set_replay:function(t){return e({type:"replay",value:t})},Set_clicked_features:function(t){return e({type:"clicked_features",value:t})}}}))(_e),pe=a(275),me=(a(212),function(e){Object(u.a)(a,e);var t=Object(_.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).CreateChart=function(e,t,a){console.log(a);var n=Object(d.a)(r),i=t+"_contribution",o=0,l=30,s=45,c=50,_=50,u=520-c-l,p=250-o-s,m=e.map((function(e){return parseFloat(e[t])})),f=e.map((function(e){return parseFloat(e[i])})),h=B.r().domain([B.n(m),B.l(m)]).range([0,u]).nice(),g=B.r().domain([B.n(f),B.l(f)]).range([p,0]).nice(),y=B.t("#"+n.props.myid).attr("width",u+c+l).attr("height",p+o+s+_),v=y.selectAll(".svg11").data([0]).join("svg").attr("y",_).attr("class","svg11").selectAll(".myg").data([0]).join("g").attr("class","myg").attr("transform","translate("+c+","+o+")"),b=_,k=B.i().value((function(e){return e})).domain(h.domain())(m),j=B.r().range([b,0]);j.domain([0,B.l(k,(function(e){return e.length}))]);var x=y.selectAll(".svg0").data([0]).join("svg").attr("class","svg0").selectAll(".myg0").data([0]).join("g").attr("class","myg0").attr("transform","translate("+c+","+o+")");x.selectAll(".myline").data([0]).join("line").attr("class","myline").attr("x1",0).attr("y1",_).attr("x2",u).attr("y2",_).attr("stroke","#EBEBEB"),x.selectAll("rect").data(k).join("rect").attr("x",1).attr("fill","#b7b7b7").attr("transform",(function(e){return e.x0==e.x1?"translate(0,"+j(e.length)+")":"translate("+h(e.x0)+","+j(e.length)+")"})).attr("width",(function(e){return e.x0==e.x1?u:h(e.x1)-h(e.x0)-.2})).attr("height",(function(e){return b-j(e.length)})),(v=y.selectAll(".svg11").data([0]).join("svg").attr("class","svg11").selectAll(".myg").data([0]).join("g").attr("class","myg").attr("transform","translate("+c+","+o+")")).selectAll(".myline2").data([0]).join("line").attr("class","myline2").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",p).attr("stroke","#EBEBEB");var w=B.s().domain([".","0",".."]).range([p/4,p/2,3*p/4]);v.selectAll(".myYaxis").data([0]).join("g").attr("class","myYaxis").call(B.c(w).tickSize(1*-u).ticks(3).tickValues([",","0",".."]).tickFormat((function(e){return e}))).select(".domain").remove(),v.selectAll(".myYaxis").selectAll("text").remove(),B.u(".svg11").selectAll(".myYtext").data([["++ ve",p/8],["+ ve",3*p/8],["0",p/2],["- ve",5*p/8],["-- ve",7*p/8]]).join("text").attr("class","myYtext").attr("x",45).attr("y",(function(e,t){return e[1]+4})).text((function(e){return e[0]})).attr("font-size",14).attr("text-anchor","end"),B.u(".svg11").attr("add_horizontal_lines",(function(){B.t(this).selectAll(".horiz_line").data([3.85,1.31]).join("line").attr("class","horiz_line").attr("x1",11).attr("x2",50).attr("y1",(function(e){return p/e-2})).attr("y2",(function(e){return p/e-2})).style("stroke","#EBEBEB")})),B.u(".svg11").selectAll(".line0").data([0]).join("line").attr("class","line0").attr("x1",11).attr("x2",35).attr("y1",(function(e){return p/2})).attr("y2",(function(e){return p/2})).style("stroke","#EBEBEB"),B.l(B.l(k))>1e3?v.selectAll(".myXaxis").data([0]).join("g").attr("class","myXaxis").attr("transform","translate(0,"+p+")").call(B.b(h).tickSize(1.3*-p).tickValues(k.map((function(e){return e.x1}))).tickFormat(B.h(".2s"))).select(".domain").remove():v.selectAll(".myXaxis").data([0]).join("g").attr("class","myXaxis").attr("transform","translate(0,"+p+")").call(B.b(h).tickSize(1.3*-p).tickValues(k.map((function(e){return e.x1})))).select(".domain").remove(),v.selectAll(".tick line").attr("stroke","#EBEBEB"),v.selectAll(".scatterplot_g").data(a).join("g").attr("id",(function(e){return e[0]+"scatterplot_g_id"})).attr("class","scatterplot_g").attr("ax",(function(e){m=e[1].map((function(e){return parseFloat(e[t])})),f=e[1].map((function(e){return parseFloat(e[i])})),h=B.r().domain([B.n(m),B.l(m)]).range([0,u]).nice(),g=B.r().domain([B.n(f),B.l(f)]).range([p,0]).nice(),B.t(this).selectAll("circle").data(e[1]).join("circle").attr("cx",(function(e,a){return h(parseFloat(e[t]))<10?10:h(parseFloat(e[t]))>u-10?u-10:h(e[t])+2})).attr("cy",(function(e,t){return g(parseFloat(e[i]))<10?10:g(parseFloat(e[i]))>p-10?p-10:g(parseFloat(e[i]))-0})).attr("actual_Y_valu",(function(e){return e[i]})).attr("r",4).attr("class","random").attr("fill",(function(e){return n.props.color_gen(e.State)})).attr("id",(function(e){return"A"+String(e.State).replace(/ +/g,"")})).attr("class",(function(e){return"bar myid"+String(e.two_realRank)+" exp_circles"})).attr("dataset_name",e[0]).on("click",(function(e){n.props.textClickHandler_original("A"+e.State)}))}));var S=B.t("body").append("div").attr("class","tooltip2").style("opacity",0);B.u(".exp_circles").on("mouseover",(function(e){S.transition().duration(200).style("opacity",.9),S.html("<p>"+e.State+"</p><p>Model: "+B.t(this).attr("dataset_name")+"</p>").style("left",B.f.pageX+"px").style("top",B.f.pageY-28+"px")})).on("mouseout",(function(e){B.u(".tooltip2").transition().duration(500).style("opacity",0)}))},r.CreateChart_cat=function(e,t,a){var n=Object(d.a)(r),i=t+"_contribution",o=0,l=30,s=75,c=50,_=50,u=520-c-l,p=270-o-s,m={};e.map((function(e){m[e[t]]>0?m[e[t]]+=1:m[e[t]]=1}));var f=Object.keys(m),h=Object.values(m),g=B.r().domain([B.n(h),B.l(h)]).range([p,0]).nice(),y=B.q().domain(f).range([0,u]).padding(.1),v=B.t("#"+n.props.myid).attr("width",u+c+l).attr("height",p+o+s+_),b=v.selectAll(".svg11").data([0]).join("svg").attr("y",_).attr("class","svg11").selectAll(".myg").data([0]).join("g").attr("class","myg").attr("transform","translate("+c+","+o+")"),k=_;g=B.r().domain([0,B.l(h)]).range([k,0]).nice();var j=v.selectAll(".svg0").data([0]).join("svg").attr("class","svg0").selectAll(".myg0").data([0]).join("g").attr("class","myg0").attr("transform","translate("+c+","+o+")");j.selectAll(".myline").data([0]).join("line").attr("class","myline").attr("x1",0).attr("y1",_).attr("x2",u).attr("y2",_).attr("stroke","#EBEBEB"),j.selectAll("rect").data(Object.entries(m)).join("rect").attr("x",(function(e){return y(e[0])})).attr("fill","#b7b7b7").attr("width",y.bandwidth()).attr("y",(function(e){return g(e[1])})).attr("height",(function(e){return k-g(e[1])})),(b=v.selectAll(".svg11").data([0]).join("svg").attr("class","svg11").selectAll(".myg").data([0]).join("g").attr("class","myg").attr("transform","translate("+c+","+o+")")).selectAll(".myline2").data([0]).join("line").attr("class","myline2").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",p).attr("stroke","#EBEBEB"),b.selectAll(".myline3").data([0]).join("line").attr("class","myline3").attr("x1",0).attr("y1",p).attr("x2",u).attr("y2",p).attr("stroke","#EBEBEB");var x=B.s().domain([".","0",".."]).range([p/4,p/2,3*p/4]);b.selectAll(".myYaxis").data([0]).join("g").attr("class","myYaxis").call(B.c(x).tickSize(1*-u).ticks(3).tickValues([",","0",".."]).tickFormat((function(e){return e}))).select(".domain").remove(),b.selectAll(".myYaxis").selectAll("text").remove(),B.u(".svg11").selectAll(".myYtext").data([["++ve",p/8],["+ve",3*p/8],["0",p/2],["-ve",5*p/8],["--ve",7*p/8]]).join("text").attr("class","myYtext").attr("x",45).attr("y",(function(e,t){return e[1]+4})).text((function(e){return e[0]})).attr("font-size",14).attr("text-anchor","end"),B.u(".svg11").attr("add_horizontal_lines",(function(){B.t(this).selectAll(".horiz_line").data([3.85,1.31]).join("line").attr("class","horiz_line").attr("x1",11).attr("x2",50).attr("y1",(function(e){return p/e-2})).attr("y2",(function(e){return p/e-2})).style("stroke","#EBEBEB")})),B.u(".svg11").selectAll(".line0").data([0]).join("line").attr("class","line0").attr("x1",11).attr("x2",35).attr("y1",(function(e){return p/2})).attr("y2",(function(e){return p/2})).style("stroke","#EBEBEB"),b.selectAll(".myXaxis").data([0]).join("g").attr("class","myXaxis").attr("transform","translate(0,"+p+")").call(B.b(y).tickSize(1.3*-p)).selectAll("text").style("text-anchor","end").attr("dx","-.8em").attr("dy","0em").attr("transform","rotate(-90)").selectAll(".tick line").remove(),b.selectAll(".domain").remove(),b.selectAll(".tick line").attr("stroke","#EBEBEB"),b.selectAll(".scatterplot_g").data(a).join("g").attr("id",(function(e){return e[0]+"scatterplot_g_id"})).attr("class","scatterplot_g").attr("ax",(function(e){var a=e[1].map((function(e){return parseFloat(e[t+"_contribution"])}));g=B.r().domain([B.n(a),B.l(a)]).range([p,0]).nice(),B.t(this).selectAll("circle").data(e[1]).join("circle").attr("cx",(function(e,a){return y(e[t])+y.bandwidth()/2})).attr("cy",(function(e,t){return g(parseFloat(e[i]))<10?10:g(parseFloat(e[i]))>p-10?p-10:g(parseFloat(e[i]))-0})).attr("actual_Y_valu",(function(e){return e[i]})).attr("r",4).attr("class","random").attr("fill",(function(e){return n.props.color_gen(e.State)})).attr("id",(function(e){return"A"+String(e.State).replace(/ +/g,"")})).attr("class",(function(e){return"bar myid"+String(e.two_realRank)+" exp_circles"})).attr("dataset_name",e[0]).on("click",(function(e){n.props.textClickHandler_original("A"+e.State)}))}));var w=B.t("body").append("div").attr("class","tooltip2").style("opacity",0);B.u(".exp_circles").on("mouseover",(function(e){w.transition().duration(200).style("opacity",.9),w.html("<p>"+e.State+"</p><p>Model: "+B.t(this).attr("dataset_name")+"</p>").style("left",B.f.pageX+"px").style("top",B.f.pageY-28+"px")})).on("mouseout",(function(e){B.u(".tooltip2").transition().duration(500).style("opacity",0)}))},r.state={a:10},r}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.setState({a:5})}},{key:"componentDidUpdate",value:function(){var e=this,t={};this.props.defualt_models.filter((function(e){return"ListNet"!=e})).map((function(a){t[a]=e.props.popup_chart_data[0][a]}));var a=[].concat.apply([],Object.values(t)),r=Object.entries(this.props.popup_chart_data[0]).filter((function(t){return e.props.pop_over_models.includes(t[0])}));a.length>0&&isNaN(a[0][this.props.popup_chart_data[1]])?this.CreateChart_cat(a,this.props.popup_chart_data[1],r):this.CreateChart(a,this.props.popup_chart_data[1],r),this.props.clicked_items_in_slopechart.length>0&&B.u("circle,.datapoint").attr("opacity",this.props.config.reduced_opacity),this.props.clicked_items_in_slopechart.map((function(e){return B.u("#"+e).attr("opacity",1)}))}},{key:"render",value:function(){return n.a.createElement("div",{style:{margin:10,padding:10,border:0==this.props.index?"3px solid #e5e5e5":"white"}},n.a.createElement("svg",{id:this.props.myid}," "))}}]),a}(r.Component)),fe=(Object(H.b)((function(e){return{pop_over_models:e.pop_over_models,clicked_items_in_slopechart:e.clicked_items_in_slopechart,config:e.config,mode:e.mode,range_mode_model:e.range_mode_model,time_mode_model:e.time_mode_model,defualt_models:e.defualt_models}}),(function(e){return{Set_clicked_items_in_slopechart:function(t){return e({type:"clicked_items_in_slopechart",value:t})}}}))(me),a(139)),he=a.n(fe),ge=a(142),ye=a(264),ve=a(267),be=a(273),ke=a(266),je=a(88),xe=a.n(je);var we=Object(H.b)((function(e){return{pop_over_models:e.pop_over_models,defualt_models:e.defualt_models}}),(function(e){return{Set_defualt_models:function(t){return e({type:"defualt_models",value:t})},Set_pop_over_models:function(t){return e({type:"pop_over_models",value:t})}}}))((function(e){var t=n.a.useState(null),a=Object(q.a)(t,2),r=a[0],i=a[1],o=Boolean(r),s=n.a.useState([0]),c=Object(q.a)(s,2),d=c[0],_=c[1],u=function(e){return function(){var t=d.indexOf(e),a=Object(l.a)(d);-1===t?a.push(e):a.splice(t,1),_(a)}};return n.a.createElement("div",null,n.a.createElement(Z.a,{"aria-controls":"fade-menu","aria-haspopup":"true",onClick:function(e){i(e.currentTarget)}},"Filter Models",n.a.createElement(xe.a,null)),n.a.createElement(ge.a,{id:"fade-menu",anchorEl:r,keepMounted:!0,open:o,onClose:function(){i(null)},TransitionComponent:ke.a},n.a.createElement("div",{className:"CheckboxContainer"},n.a.createElement(ye.a,null,e.defualt_models.map((function(t){var a="checkbox-list-label-".concat(t);return n.a.createElement(ve.a,{key:t,role:void 0,onClick:u(t)},n.a.createElement(be.a,{checked:e.pop_over_models.includes(t),edge:"start",tabIndex:-1,value:t,onChange:function(t,a){!function(t){var a=Object(l.a)(e.pop_over_models).filter((function(e){return"ListNet"!=e}));a.includes(t.target.value)?(a=e.pop_over_models.filter((function(e){return e!=t.target.value})),e.Set_pop_over_models(a)):(a.push(t.target.value),e.Set_pop_over_models(a))}(t)}}),n.a.createElement("p",{className:"list_item_label",id:a},t))}))))))}));var Se=Object(H.b)((function(e){return{popup_chart_data:e.popup_chart_data,pop_over:e.pop_over,dbclicked_features:e.dbclicked_features}}),(function(e){return{set_pop_over:function(t){return e({type:"pop_over",value:t})},set_dbclicked_features:function(t){return e({type:"dbclicked_features",value:t})},set_clicked_features:function(t){return e({type:"clicked_features",value:t})}}}))((function(e){return console.log(e.dbclicked_features),n.a.createElement("div",{style:{position:"relative"}},1==e.pop_over?n.a.createElement("div",{style:{top:"2%",left:"14%",position:"fixed",pointerEvents:"none",backgroundColor:"transparent"}},n.a.createElement(he.a,null,n.a.createElement(ne.a,{style:{backgroundColor:"#ffffff",boxShadow:"3px 2px 15px -7px #000000",pointerEvents:"auto"}},n.a.createElement(ne.a,{container:!0,style:{borderBottom:"1px solid #e2e2e2",marginBottom:20},direction:"row",justify:"space-between",alignItems:"center"},n.a.createElement(we,{defualt_models:e.defualt_models}),n.a.createElement(Z.a,{color:"secondary",id:"draggable-dialog-title",onClick:function(){e.set_pop_over(!1),e.set_dbclicked_features([])}},"close")),n.a.createElement(ne.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{maxHeight:700,overflow:"scroll",maxWidth:1600}})))):null)})),Oe=a(269),Ee=a(262),Ce=a(272),Ae=a(274),Re=a(263),Be=a(104),Ie=a.n(Be),Fe=a(105),Ne=a.n(Fe),ze=a(140),Le=a.n(ze);a(218);var Te=function(e){Object(u.a)(a,e);var t=Object(_.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).state={feature_data:[]},r}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e,t=this;"fiscal"==this.props.dataset?e=Ie.a:"school"==this.props.dataset?e=Ne.a:"house"==this.props.dataset&&(e=Le.a),B.d(e).then((function(e){t.setState({feature_data:e})}))}},{key:"componentDidUpdate",value:function(){var e=this,t=B.p(this.props.state_range[0],this.props.state_range[1]+1),a=F(this.props.dataset,this.props.defualt_models,t,this.props.selected_year,9,this.props.rank_data),r=Object.entries(a).sort((function(e,t){return t[1]-e[1]})).map((function(e){return e[0]}));"fiscal"==this.props.dataset?Ie.a:"school"==this.props.dataset&&Ne.a,B.t(".feature_histograms_container").selectAll(".feature").data(r,(function(e){return e})).join("svg").attr("class","feature").attr("add_histogram",(function(t,a){var n=[];isNaN(e.state.feature_data[0][t])?(e.state.feature_data.forEach((function(a){if(a["1-qid"]==e.props.selected_year){var r={};r.x=parseInt(a.two_realRank),r.y=a[t],n.push(r)}})),function(e,t,a,r,n){console.log(e);var i=z(".feature_histograms_container").width(),o=(z(".feature_histograms_container").height(),z(".feature_histograms_container").width()),l=10,s=40;B.t(".feature_histograms_container").attr("height",120*n+20),t.attr("y",120*r).attr("width",i).attr("height",120);var c={};e.map((function(e){e.y in c?c[e.y]=c[e.y]+1:c[e.y]=1}));var d=Object.entries(c).sort((function(e,t){return t[1]-e[1]})),_=d.map((function(e){return e[1]})),u=B.v(_);t.selectAll(".item_svg").data(d).join("svg").attr("class","item_svg").attr("x",(function(e,t){return B.v(_.slice(0,t))/u*o})).attr("y",l).attr("width",(function(e,t){return e[1]/u*o-.2})).attr("height",120-s).attr("add_rectangle",(function(){B.t(this).selectAll(".my_rect").data([0]).join("rect").attr("class","my_rect").attr("width","100%").attr("height",120-s).style("fill","grey")})).attr("add_text",(function(e){B.t(this).selectAll("text").data([0]).join("text").text(e[0]).attr("x","50%").attr("y","50%").attr("dominant-baseline","middle").style("font-size",B.t(this).attr("width")>11?10:B.t(this).attr("width")-2).style("writing-mode","tb").style("text-anchor","middle").style("cursor","pointer")})).on("click",(function(t){console.log(e.filter((function(e){return e.y==t[0]})).map((function(e){return e.x})))})),t.selectAll(".hist_title").data([0]).join("text").attr("class","hist_title").attr("y",110).attr("x",o/2).attr("text-anchor","middle").attr("font-size",14).text(a).style("text-transform","capitalize")}(n,B.t(this),t,a,r.length)):(e.state.feature_data.forEach((function(a){if(a["1-qid"]==e.props.selected_year){var r={};r.x=parseInt(a.two_realRank),r.y=parseFloat(a[t]),n.push(r)}})),function(e,t,a,r,n){var i=10,o=5,l=50,s=5,c=z(".feature_histograms_container").width(),d=(z(".feature_histograms_container").height(),c);B.t(".feature_histograms_container").attr("height",120*n+20),t.attr("y",120*r).attr("width",c).attr("height",120);var _=e.map((function(e){return e.y})),u=120-i-l,p=B.r().domain(B.g(_)).range([i,u]),m=p.ticks(25),f=B.i().value((function(e){return e})).domain(p.domain()).thresholds(m)(_);e=[],f.map((function(t,a){return e.push([t.x1,t.length])}));var h=B.r().domain(B.g(e.map((function(e){return e[0]})))).range([s,d-o]),g=B.r().domain([0,B.l(e.map((function(e){return e[1]})))]).range([u,0]),y=B.a().curve(B.e).x((function(e){return h(e[0])})).y0(g(0)).y1((function(e){return g(e[1])}));t.append("path").attr("transform","translate(0,"+i+")").attr("d",y(e)).style("fill","gray"),t.selectAll(".xAxis_g").data([0]).join("g").attr("class","xAxis_g").attr("transform","translate(0,"+(120-l)+")").call(B.b(h).ticks(5).tickFormat(B.h(".2s"))),t.selectAll(".domain").attr("stroke","#dddddd"),t.selectAll(".title").data([0]).join("text").attr("x",d/2).attr("y",92).attr("dominant-baseline","hanging").attr("text-anchor","middle").text(a).attr("font-size",14).style("text-transform","capitalize")}(n,B.t(this),t,a,r.length))}))}},{key:"render",value:function(){return null!=this.props.original_data?n.a.createElement("div",{style:{width:400,height:window.innerHeight,overflow:"scroll"}},n.a.createElement("svg",{className:"feature_histograms_container",style:{width:"100%",padding:10}}," ")):null}}]),a}(r.Component),Me=Object(H.b)((function(e){return{dataset:e.dataset,deviate_by:e.deviate_by,state_range:e.state_range,defualt_models:e.defualt_models,selected_year:e.selected_year,sparkline_data:e.sparkline_data,show:e.show,mode:e.mode,original_data:e.original_data,rank_data:e.rank_data}}),(function(e){return{Set_defualt_models:function(t){return e({type:"defualt_models",value:t})},Set_sparkline_data:function(t){return e({type:"sparkline_data",value:t})},Set_slider_max:function(t){return e({type:"slider_max",value:t})},Set_years_for_dropdown:function(t){return e({type:"years_for_dropdown",value:t})},Set_selected_year:function(t){return e({type:"selected_year",value:t})},Set_ref_year:function(t){return e({type:"ref_year",value:t})},Set_original_data:function(t){return e({type:"original_data",value:t})},Set_state_range:function(t){return e({type:"state_range",value:t})},Set_deviate_by:function(t){return e({type:"deviate_by",value:t})},Set_show:function(t){return e({type:"show",value:t})}}}))(Te);function De(){var e=n.a.useState(null),t=Object(q.a)(e,2),a=t[0],r=t[1],i=function(e){r(e.currentTarget)},o=function(){r(null)};return n.a.createElement("div",{style:{marginLeft:50}},n.a.createElement(Z.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:i},"Select Features"),n.a.createElement(xe.a,{onClick:i}),n.a.createElement(ge.a,{id:"simple-menu",anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:o,style:{marginTop:20}},a?n.a.createElement(Me,{handleClose:o}):null))}var He,Ye=a(268),Ue=function(e){Object(u.a)(a,e);var t=Object(_.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).buttonclickHandler=function(e,t){console.log(e,t),setTimeout((function(){r.setState({random:Math.random()})}),500),t=r.setState({view_data:e}),t=r.setState({view_data:e})},r.state={random:10,original_data:null,grouped_by_year_data:null,show:["Slope charts","Rankings","Explanation"],view_data:1,histogram_data:[],ref_year:null,features_dict:{},features_voted:null,Legend_ready_to_vis:null,legend_model:"CordAscent"},r}return Object(c.a)(a,[{key:"shouldComponentUpdate",value:function(){return!0}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"uploader_topbar"},n.a.createElement(ne.a,{container:!0,spacing:0,className:"myheader",style:{left:z(".Sidebar").width()}},n.a.createElement(Ye.a,{"aria-label":"outlined button group"},n.a.createElement(Z.a,{style:{borderRadius:0},onClick:function(){return e.buttonclickHandler(1,"button")}},"View Data"),n.a.createElement(Z.a,{style:{borderRadius:0},onClick:function(){return e.buttonclickHandler(0,"button")}},"Load Data")),n.a.createElement(De,null)),0==this.state.view_data?n.a.createElement(pe.a,{className:"Topbar_container"},n.a.createElement("div",{className:"load"},n.a.createElement("form",{onSubmit:function(){return e.buttonclickHandler(1,"form")}},n.a.createElement(Ee.a,{component:"fieldset"},n.a.createElement(Re.a,{component:"legend"}),n.a.createElement(Ae.a,{"aria-label":"gender",name:"gender1",onChange:function(t,a){return e.props.handleradioChange(a)}},["Fiscal Dataset","School Dataset","House Dataset"].map((function(e){return n.a.createElement(Oe.a,{value:e,control:n.a.createElement(Ce.a,null),label:e})}))),n.a.createElement(Z.a,{type:"submit",variant:"outlined",color:"primary"},"Load"))))):null)}}]),a}(r.Component),qe=Object(H.b)((function(e){return{tracking:e.tracking,state_range:e.state_range,deviate_by:e.deviate_by,defualt_models:e.defualt_models,sparkline_data:e.sparkline_data,selected_year:e.selected_year,mode:e.mode,range_mode_model:e.range_mode_model,original_data:e.original_data,time_mode_model:e.time_mode_model,chart_scale_type:e.chart_scale_type,dataset:e.dataset,histogram_data:e.histogram_data,sort_by:e.sort_by,time_mode_year1:e.time_mode_year1,time_mode_year2:e.time_mode_year2,popup_chart_data:e.popup_chart_data,clicked_items_in_slopechart:e.clicked_items_in_slopechart,config:e.config,lime_data:e.lime_data,rank_data:e.rank_data}}),(function(e){return{Set_dataset:function(t){return e({type:"dataset",value:t})},Set_defualt_models:function(t){return e({type:"defualt_models",value:t})},Set_sparkline_data:function(t){return e({type:"sparkline_data",value:t})},Set_slider_max:function(t){return e({type:"slider_max",value:t})},Set_years_for_dropdown:function(t){return e({type:"years_for_dropdown",value:t})},Set_selected_year:function(t){return e({type:"selected_year",value:parseInt(t)})},Set_ref_year:function(t){return e({type:"ref_year",value:t})},Set_original_data:function(t){return e({type:"original_data",value:t})},Set_grouped_by_year_data:function(t){return e({type:"grouped_by_year_data",value:t})},Set_slider_and_feature_value:function(t){return e({type:"slider_and_feature_value",value:t})},Set_clicked_items_in_slopechart:function(t){return e({type:"clicked_items_in_slopechart",value:t})},Set_histogram_data:function(t){return e({type:"histogram_data",value:t})},Set_state_range:function(t){return e({type:"state_range",value:t})},Set_legend_year:function(t){return e({type:"legend_year",value:t})},Set_mode:function(t){return e({type:"mode",value:t})},Set_range_mode_range1:function(t){return e({type:"range_mode_range1",value:t})},Set_range_mode_range2:function(t){return e({type:"range_mode_range2",value:t})},Set_time_mode_range:function(t){return e({type:"time_mode_range",value:t})},Set_time_mode_year1:function(t){return e({type:"time_mode_year1",value:t})},Set_time_mode_year2:function(t){return e({type:"time_mode_year2",value:t})},Set_rank_data:function(t){return e({type:"rank_data",value:t})},Set_lime_data:function(t){return e({type:"lime_data",value:t})},Set_pop_over_models:function(t){return e({type:"pop_over_models",value:t})},Set_default_model_scores:function(t){return e({type:"default_model_scores",value:t})}}}))(Ue),Xe=function(e){Object(u.a)(a,e);var t=Object(_.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).handleradioChange=function(e){console.log("Radio changed",e),r.setState({show:["Slope charts","Rankings","Explanation"]}),r.props.Set_slider_and_feature_value({"Rank range":1,Feature:0}),r.props.Set_clicked_items_in_slopechart([]),r.props.Set_state_range([1,25]),r.props.Set_histogram_data([]),r.props.Set_mode("Model"),r.props.Set_range_mode_range1([1,25]),r.props.Set_range_mode_range2([15,40]),r.props.Set_time_mode_range([5,35]),"Fiscal Dataset"==e?(r.setState({dataset:"fiscal"}),r.props.Set_dataset("fiscal"),r.dataprocessor("fiscal")):"House Dataset"==e?(r.setState({dataset:"house"}),r.props.Set_dataset("house"),r.dataprocessor("house")):(r.setState({dataset:"school"}),r.props.Set_dataset("school"),r.dataprocessor("school"))},r.task2=function(){r.props.clicked_items_in_slopechart.length>0&&B.u("circle,.datapoint").attr("opacity",r.props.config.reduced_opacity),r.props.clicked_items_in_slopechart.map((function(e){return B.u("#"+e).attr("opacity",1)}))},r.textClickHandler_original=function(e){var t=e.replace(/ +/g,"");B.u("#"+t).filter(B.k("line")).style("stroke-width",1);var a=Object(l.a)(r.props.clicked_items_in_slopechart);a.includes(t)?a=a.filter((function(e){return e!=t})):a.push(t),r.props.Set_clicked_items_in_slopechart(a),a.length>0?(B.u("circle,.datapoint").attr("opacity",r.props.config.reduced_opacity),r.props.clicked_items_in_slopechart.map((function(e){B.u("#"+e).attr("opacity",1),B.u("#"+e).filter(B.k("line")).style("stroke-width",3)}))):B.u("circle,.datapoint").attr("opacity",1)},r.dataprocessor=function(e){"school"==e&&r.process_data(h.a,w.a,O.a,e),"fiscal"==e&&r.process_data(m.a,b.a,j.a,e),"house"==e&&r.process_data(y.a,C.a,R.a,e)},r.process_data=function(e,t,a,n){var i=Object(d.a)(r);B.d(e).then((function(e){var t=I(e).years,a=I(e).sparkline_data,r=Object.keys(t);i.props.Set_sparkline_data(a),i.props.Set_slider_max(t[r[0]].length),i.setState({years_for_dropdown:r}),i.props.Set_years_for_dropdown(r),i.props.Set_time_mode_year1(r[0]),i.props.Set_time_mode_year2(r[1]),i.props.Set_legend_year(r[0]),i.setState({ref_year:r[0]}),i.props.Set_grouped_by_year_data(t),i.setState({grouped_by_year_data:t}),i.setState({original_data:e}),i.props.Set_original_data(e),i.props.Set_selected_year(r[0])})),B.d(t).then((function(e){var t={};B.o().key((function(e){return e.model})).entries(e).map((function(e){t[e.key]=e.values})),i.props.Set_rank_data(t)})),B.d(a).then((function(e){var t={};B.o().key((function(e){return e.model})).entries(e).map((function(e){t[e.key]=e.values})),i.props.Set_lime_data(t)}))},r.state={random:10,original_data:null,grouped_by_year_data:null,show:["Slope charts","Rankings","Explanation"],view_data:1,histogram_data:[],ref_year:null,features_dict:{},features_voted:null,Legend_ready_to_vis:null,legend_model:"CordAscent"},r}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.dataprocessor(this.props.dataset)}},{key:"shouldComponentUpdate",value:function(){return!0}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(qe,{handleradioChange:this.handleradioChange}),n.a.createElement(pe.a,null,n.a.createElement("div",{className:"container_header_and_components",style:{width:window.innerWidth,minHeight:window.innerHeight}},1==this.state.view_data?n.a.createElement(ne.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"},n.a.createElement(ne.a,{container:!0,spacing:0,direction:"row",justify:"space-evenly",className:"slopechart_container",style:{height:window.innerHeight-z(".uploader_topbar").height(),width:window.innerWidth-(z(".Sidebar_parent").width()+z(".legend").width()+15)}},"Model"==this.props.mode&&null!=this.state.grouped_by_year_data&&null!=this.props.original_data&&null!=this.props.lime_data?n.a.createElement(re,null):null,"Range"==this.props.mode&&null!=this.state.grouped_by_year_data&&null!=this.props.original_data&&null!=this.props.lime_data?n.a.createElement(de,null):null,"Time"==this.props.mode&&null!=this.state.grouped_by_year_data&&null!=this.props.original_data&&null!=this.props.lime_data?n.a.createElement(ue,null):null)):null)),n.a.createElement(Se,null))}}]),a}(r.Component),We=Object(H.b)((function(e){return{tracking:e.tracking,state_range:e.state_range,deviate_by:e.deviate_by,defualt_models:e.defualt_models,sparkline_data:e.sparkline_data,selected_year:e.selected_year,mode:e.mode,range_mode_model:e.range_mode_model,original_data:e.original_data,time_mode_model:e.time_mode_model,chart_scale_type:e.chart_scale_type,dataset:e.dataset,histogram_data:e.histogram_data,sort_by:e.sort_by,time_mode_year1:e.time_mode_year1,time_mode_year2:e.time_mode_year2,popup_chart_data:e.popup_chart_data,clicked_items_in_slopechart:e.clicked_items_in_slopechart,config:e.config,lime_data:e.lime_data}}),(function(e){return{Set_dataset:function(t){return e({type:"dataset",value:t})},Set_defualt_models:function(t){return e({type:"defualt_models",value:t})},Set_sparkline_data:function(t){return e({type:"sparkline_data",value:t})},Set_slider_max:function(t){return e({type:"slider_max",value:t})},Set_years_for_dropdown:function(t){return e({type:"years_for_dropdown",value:t})},Set_selected_year:function(t){return e({type:"selected_year",value:parseInt(t)})},Set_ref_year:function(t){return e({type:"ref_year",value:t})},Set_original_data:function(t){return e({type:"original_data",value:t})},Set_grouped_by_year_data:function(t){return e({type:"grouped_by_year_data",value:t})},Set_slider_and_feature_value:function(t){return e({type:"slider_and_feature_value",value:t})},Set_clicked_items_in_slopechart:function(t){return e({type:"clicked_items_in_slopechart",value:t})},Set_histogram_data:function(t){return e({type:"histogram_data",value:t})},Set_state_range:function(t){return e({type:"state_range",value:t})},Set_legend_year:function(t){return e({type:"legend_year",value:t})},Set_mode:function(t){return e({type:"mode",value:t})},Set_range_mode_range1:function(t){return e({type:"range_mode_range1",value:t})},Set_range_mode_range2:function(t){return e({type:"range_mode_range2",value:t})},Set_time_mode_range:function(t){return e({type:"time_mode_range",value:t})},Set_time_mode_year1:function(t){return e({type:"time_mode_year1",value:t})},Set_time_mode_year2:function(t){return e({type:"time_mode_year2",value:t})},Set_rank_data:function(t){return e({type:"rank_data",value:t})},Set_lime_data:function(t){return e({type:"lime_data",value:t})},Set_pop_over_models:function(t){return e({type:"pop_over_models",value:t})},Set_default_model_scores:function(t){return e({type:"default_model_scores",value:t})}}}))(Xe),Pe=(a(220),a(80)),Ze=a(9),Ve=(He={anim_config:{rank_animation:3e3,deviation_animation:3e3,feature_animation:3e3,circle_animation:3e3},appHandleChange:null,sparkline_data:null,sort_by:"Average Precision",original_data:null,rank_data:null,lime_data:null,grouped_by_year_data:null,slope_chart_ready_to_vis:null,defualt_models:["LinearReg","CordAscent"],state_range:[1,30],deviate_by:0,show:["Slope charts","Rankings","Explanation"],years_for_dropdown:["2006"],selected_year:2006,selected_years:["2006"],slider_min:1,slider_max:50,view_data:1,dataset:"school",histogram_data:[],chart_scale_type:"true",features_with_score:null,ref_year:null,cmodel:"CordAscent",clicked_items_in_slopechart:[],tracking:!1,dummy:null,features_dict:{},features_voted:null,Legend_ready_to_vis:null,legend_model:"CordAscent",legend_show_option:"Rank",legend_year:2012,mode:"Model",range_mode_model:"CordAscent",range_mode_range1:[1,25],range_mode_range2:[15,40],time_mode_model:"CordAscent",time_mode_year1:"Null",time_mode_year2:"Null",time_mode_range:[6,32]},Object(N.a)(He,"chart_scale_type","true"),Object(N.a)(He,"slider_and_feature_value",{"Rank range":1,Feature:1}),Object(N.a)(He,"prev_prop",{}),Object(N.a)(He,"replay",!1),Object(N.a)(He,"changed","year"),Object(N.a)(He,"popup_chart_data",null),Object(N.a)(He,"pop_over",!1),Object(N.a)(He,"pop_over_models",["MART","LinearReg"]),Object(N.a)(He,"clicked_features",[]),Object(N.a)(He,"drag_drop_feautre_data",{}),Object(N.a)(He,"dbclicked_features",[]),Object(N.a)(He,"default_model_scores",{}),Object(N.a)(He,"all_models",["MART","RandomFor","LinearReg","CordAscent","LambdaMART","LambdaRank","RankBoost","RankNet"]),Object(N.a)(He,"average_y",!1),Object(N.a)(He,"average_m",!1),Object(N.a)(He,"clicked_circles",[]),Object(N.a)(He,"threshold",100),He),Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0;if("threshold"===t.type)return Object(Ze.a)({},e,{threshold:t.value});if("clicked_circles"===t.type)return Object(Ze.a)({},e,{clicked_circles:t.value});if("average_y"===t.type)return console.log(t.value),Object(Ze.a)({},e,{average_y:t.value});if("average_m"===t.type)return console.log(t.value),Object(Ze.a)({},e,{average_m:t.value});if("selected_years"===t.type)return console.log(t.value),Object(Ze.a)({},e,{selected_years:t.value[t.value.length-1],selected_year:t.value[t.value.length-1]});if("default_model_scores"===t.type)return Object(Ze.a)({},e,{default_model_scores:t.value});if("dbclicked_features"===t.type)return Object(Ze.a)({},e,{dbclicked_features:t.value});if("drag_drop_feautre_data"===t.type)return Object(Ze.a)({},e,{drag_drop_feautre_data:t.value});if("anim_config"===t.type)return Object(Ze.a)({},e,{config:t.value});if("show"===t.type)return Object(Ze.a)({},e,{show:t.value});if("lime_data"===t.type)return Object(Ze.a)({},e,{lime_data:t.value});if("defualt_models"===t.type)return Object(Ze.a)({},e,{defualt_models:t.value});if("rank_data"===t.type)return Object(Ze.a)({},e,{rank_data:t.value});if("original_data"===t.type)return Object(Ze.a)({},e,{original_data:t.value});if("years_for_dropdown"===t.type)return Object(Ze.a)({},e,{years_for_dropdown:t.value});if("appHandleChange"===t.type)return Object(Ze.a)({},e,{appHandleChange:t.value});if("state_range"===t.type)return Object(Ze.a)({},e,{state_range:t.value});if("selected_year"===t.type)return Object(Ze.a)({},e,{selected_year:t.value,selected_years:[t.value.toString()]});if("tracking"===t.type)return Object(Ze.a)({},e,{tracking:t.value});if("grouped_by_year_data"===t.type)return Object(Ze.a)({},e,{grouped_by_year_data:t.value});if("sort_by"===t.type)return Object(Ze.a)({},e,{sort_by:t.value});if("deviate_by"===t.type)return Object(Ze.a)({},e,{deviate_by:t.value});if("mode"===t.type)return Object(Ze.a)({},e,{mode:t.value});if("slider_max"===t.type)return Object(Ze.a)({},e,{slider_max:t.value});if("range_mode_model"===t.type)return Object(Ze.a)({},e,{range_mode_model:t.value});if("range_mode_range1"===t.type)return Object(Ze.a)({},e,{range_mode_range1:t.value});if("range_mode_range2"===t.type)return Object(Ze.a)({},e,{range_mode_range2:t.value});if("time_mode_range"===t.type)return Object(Ze.a)({},e,{time_mode_range:t.value});if("time_mode_model"===t.type)return Object(Ze.a)({},e,{time_mode_model:t.value});if("time_mode_year1"===t.type)return Object(Ze.a)({},e,{time_mode_year1:t.value});if("time_mode_year2"===t.type)return Object(Ze.a)({},e,{time_mode_year2:t.value});if("clicked_items_in_slopechart"===t.type)return Object(Ze.a)({},e,{clicked_items_in_slopechart:t.value});if("features_with_score"===t.type)return Object(Ze.a)({},e,{features_with_score:t.value});if("sparkline_data"===t.type)return Object(Ze.a)({},e,{sparkline_data:t.value});if("legend_show_option"===t.type)return Object(Ze.a)({},e,{legend_show_option:t.value});if("legend_model"===t.type)return Object(Ze.a)({},e,{legend_model:t.value});if("histogram_data"===t.type)return Object(Ze.a)({},e,{histogram_data:t.value});if("dataset"===t.type)return Object(Ze.a)({},e,{dataset:t.value});if("slider_and_feature_value"===t.type)return Object(Ze.a)({},e,{slider_and_feature_value:t.value});if("legend_year"===t.type)return Object(Ze.a)({},e,{legend_year:t.value});if("prev_prop"===t.type)return Object(Ze.a)({},e,{prev_prop:t.value});if("replay"===t.type)return Object(Ze.a)({},e,{replay:t.value});if("changed"===t.type)return Object(Ze.a)({},e,{changed:t.value});if("popup_chart_data"===t.type)return Object(Ze.a)({},e,{popup_chart_data:t.value});if("pop_over"===t.type)return Object(Ze.a)({},e,{pop_over:t.value});if("pop_over_models"===t.type){var a=t.value.filter((function(e){return"ListNet"!=e}));return Object(Ze.a)({},e,{pop_over_models:a})}return"clicked_features"===t.type?Object(Ze.a)({},e,{clicked_features:t.value}):e},Je=a(141),Ke=Object(Je.a)({typography:{button:{textTransform:"none"}}}),Qe=a(270),$e=Object(Pe.b)(Ge);o.a.render(n.a.createElement(Qe.a,{theme:Ke},n.a.createElement(H.a,{store:$e},n.a.createElement(We,null))),document.getElementById("root"))},72:function(e,t,a){}},[[197,1,2]]]);
//# sourceMappingURL=main.2855ac8e.chunk.js.map