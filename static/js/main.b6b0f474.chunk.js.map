{"version":3,"sources":["Data/data/fiscal/lime/chart1_data.csv","Data/data/school/lime/chart1_data.csv","Data/fiscal.csv","Data/school.csv","Data/house.csv","Data/data/fiscal/lime/fiscal_rank.csv","Data/data/fiscal/lime/fiscal_lime.csv","Data/data/school/lime/school_rank.csv","Data/data/school/lime/school_lime.csv","Data/data/house/lime/house_rank.csv","Data/data/house/lime/house_lime.csv","Data/data/house/lime/chart1_data.csv","Algorithms/algo1.js","components/Charts/DevPlot/deviation_chart.js","components/Charts/DevPlot/Sparkline.js","components/Charts/misc_algo.js","components/Charts/Model/ModelSlider.js","components/Charts/ExpChart/ExpChartComponent.js","components/Charts/ExpChart/MDS.js","components/Charts/ExpChart/Create_exp_circles.js","components/Charts/Model/YearAndModelSelection/YearModelSelection.js","components/Charts/Popover/chart_pop.js","components/Charts/Popover/FilterModel.js","components/Charts/Popover/Popover.js","components/Charts/Model/ModelChartComponent.js","components/Charts/Range/SliderGroup1.js","components/Charts/Range/SliderGroup2.js","components/Charts/Range/YearAndModelSelection/YearModelSelection.js","components/Charts/Range/RangeChartComponent.js","components/themes.js","components/Charts/Time/Year1DropDown.js","components/Charts/Time/Year2DropDown.js","components/Charts/Time/YearAndModelSelection/Slider.js","components/Charts/Time/YearAndModelSelection/YearModelSelection.js","components/Charts/Time/YearChart.js","components/Top/FeatureHistograms/FeatureHistograms.js","components/Top/FeatureHistograms/CreateBarChart.js","components/Top/FeatureHistograms/CreateHistogram.js","components/Top/FeaturesDropdown.js","components/Top/SelectMode.js","components/Top/Top.js","components/BrushTest/BrushTest.js","components/Legend/Legend.js","App.js","store/reducer.js","Themes.js","index.js"],"names":["module","exports","groupby_year","original_data","years","sparkline_data","forEach","element","replace","temp_dict","year","parseInt","rank","push","features_with_score","dataset","models","selected_instances","selected_year","number_of_charts","rank_data","temp1","temp_final","key","map","model","temp2","v","top_nine","length","items","data","feautures","tempvoted_data_with_score","data2","filter","index","Object","keys","item","feauture","parseFloat","sort","first","second","items2","sorted_features","i","key2","Create_deviation_chart","parent_id","parent_exp_id","default_models","anim_config","average","clicked_circles","Set_clicked_circles","diverginColor","Set_selected_year","threshold","div","d3","selectAll","join","attr","style","parent_width","$","width","parent_height","height","console","log","includes","temp_scale_data","Math","abs","config","space_for_state_name","fontSize","font_dy","sparkline_width","font_line_gap","line_stroke_width","animation_duration","container_height","my_svg_top_margin","myg_top_margin","y_distance","circle_radius","t","textures","lines","size","strokeWidth","stroke","background","call","d","enter","append","update","transition","duration","rank_animation","exit","remove","this","text","dd","val","substring","parent","s_margin","s_width","s_height","s_svg","x","domain","range","datum","y0","y","y1","raise","on","preventDefault","Create_sparkline","data_for_all_years","line_data","model_name","a","temp_max","sclale1","url","d2","temp","deviation_animation","delay","circ_data","classed","html","pageX","pageY","handle_transparency","class_name","circle_id","useStyles","makeStyles","theme","root","heading","typography","pxToRem","flexBasis","flexShrink","secondaryHeading","color","palette","secondary","tRoot","marginBottom","rang_input","marginLeft","connect","state","state_range","mode","slider_max","range_mode_model","range_mode_range1","range_mode_range2","time_mode_model","time_mode_range","time_mode_year1","time_mode_year2","years_for_dropdown","slider_and_feature_value","sort_by","grouped_by_year_data","dispatch","Set_state_range","type","value","Set_changed","props","classes","React","useState","sliderRange","set_sliderRange","temp_marks","step","marks","myitem","label","className","paddingTop","border","padding","marginTop","TextField","input","id","onChange","event","isNaN","target","alert","margin","Slider","newValue","onChangeCommitted","valueLabelDisplay","aria-labelledby","xs","Button","backgroundColor","onClick","SlopeChart","line_color","exp","createRef","mds","mds_height","mouseX","mouseY","excluded_features","circle_data","indexed_features","random","setState","window","innerHeight","prevProps","prevState","JSON","stringify","dragged_features","self","Set_dragged_features","histogram_data","algo1","entries","b","origin_index","indexOf","dest_index","myurl","slice","item_width","exp_id","item_height","feature_containers","current","clicked_features","Set_clicked_features","feature","dbclicked_features","unshift","set_dbclicked_features","popup_chart_data","lime_data","Set_popup_chart_data","set_pop_over","selection","deviation_array","feature_name","feature_contrib_name","sum_data","xScale","my_mean","rScale","getRandomArbitrary","min","max","seed","rand","rnd","disp","sin","floor","circle_animation","feature_animation","CreatexpCircle","deltaY","parentNode","lower","document","elementFromPoint","sourceEvent","clientX","clientY","origin_feature","dest_feature","setTimeout","container","feature_contrib_data_for_mds","fetch","method","body","headers","then","res","json","response","catch","error","MDS_response","parse","mds_ref","mds_id","w","h","r","yScale","svg","circles","lasso","d3lasso","closePathSelect","closePathDistance","targetArea","possibleItems","notPossibleItems","selected_ids","selectedItems","each","notSelectedItems","Create_MDS","ref","Component","chart_scale_type","show","average_m","average_y","Set_prev_prop","Set_sparkline_data","Set_replay","all_models","Set_default_models","display","justifyContent","marginRight","fontWeight","Chart","CreateChart","scatterplot_data","feature_contribute","temp_x","temp_y","nice","parent_svg","myid","svg1","hist_height","bins","histogram","y_hist","svg0","x0","x1","y2","tickSize","ticks","tickValues","tickFormat","select","String","CreateChart_cat","barplot_data","values","bandwidth","merged_arr","concat","apply","pop_over_models","clicked_items_in_slopechart","reduced_opacity","idName","Set_clicked_items_in_slopechart","Set_pop_over_models","anchorEl","setAnchorEl","open","Boolean","checked","setChecked","handleToggle","currentIndex","newChecked","splice","aria-controls","aria-haspopup","currentTarget","Menu","keepMounted","onClose","TransitionComponent","Fade","List","labelId","ListItem","role","undefined","Checkbox","edge","tabIndex","temp_Models","checkboxChanged","pop_over","set_clicked_features","position","top","left","pointerEvents","Grid","boxShadow","borderBottom","direction","justify","alignItems","FilterModel","maxHeight","overflow","maxWidth","textClickHandler_original","height_slope_exp_chart","interpolate","deviation_chart","misc_algo","Set_selected_instances","Set_deviation_array","class","spacing","Popover","Set_range_mode_range1","Set_range_mode_range2","paddingLeft","Set_range_mode_model","paddingRight","SliderGroup1","borderRight","SliderGroup2","createMuiTheme","primary","main","overrides","MuiAutocomplete","MuiFilledInput","MuiInputLabel","MuiTextField","MuiButton","textTransform","fullWidth","Root","disableRipple","variant","MuiCheckbox","InputLabelProps","shrink","MuiPaper","elevation","MuiCard","Set_time_mode_year1","Autocomplete","disableClearable","defaultValue","toString","debug","options","option","renderInput","params","InputProps","disableUnderline","Set_time_mode_year2","Set_time_mode_range","Set_time_mode_model","verticalAlign","Year1DropDown","Year2DropDown","FeatureHistograms","store_instances","instances","all_instances","feature_data","filename","exp_fiscal_CordAscent","exp_school_CordAscent","exp_house_CordAscent","nextProps","nextState","features_dict","feature_index","number_of_features","feature_width","occur","sum_x","feature_height","CreateBarChart","item_data","area_chart_height","myticks","binned_data","thresholds","area_chart_data","areaGenerator","curve","extent","invert","upper","CreateHistogram","borderRadius","filtered_instances","Set","handleClose","Set_histogram_data","deviate_by","Set_slider_max","SimpleMenu","Set_mode","onSubmit","buttonclickHandler","FormControl","component","FormLabel","RadioGroup","aria-label","name","FormControlLabel","control","Radio","App","Set_view_data","view_data","ref_year","features_voted","Legend_ready_to_vis","legend_model","ButtonGroup","SelectMode","Row","handleradioChange","innerWidth","Legend","legend_container_width","legend_container_height","legend1_rScale","legend1_yScale","legend1_height","legend1_ticks","legend1_svg","legend2_svg_height","legend2_height","legend2_yScale","legend2_ticks","rect_height","legend2_svg","Set_legend_year","dataprocessor","dataset_name","process_data","school","school_rank","school_lime","fiscal","fiscal_rank","fiscal_lime","house","house_rank","house_lime","slopechart_data_filename","rank_data_filename","lime_data_filename","Set_years_for_dropdown","Set_grouped_by_year_data","Set_original_data","nested_data","Set_rank_data","temp_data","Set_lime_data","selected_dataset","Set_dataset","Top","YearChart","legend_width","tracking","Set_ref_year","Set_slider_and_feature_value","Set_default_model_scores","initialState","appHandleChange","slope_chart_ready_to_vis","slider_min","cmodel","dummy","legend_show_option","legend_year","reducer","action","default_model_scores","drag_drop_feautre_data","prev_prop","replay","changed","button","MuiGrid","store","createStore","ReactDOM","render","ThemeProvider","getElementById"],"mappings":"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","file":"static/js/main.b6b0f474.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/chart1_data.bbc13ad4.csv\";","module.exports = __webpack_public_path__ + \"static/media/chart1_data.e95760f9.csv\";","module.exports = __webpack_public_path__ + \"static/media/fiscal.977bae2d.csv\";","module.exports = __webpack_public_path__ + \"static/media/school.2d2c77ef.csv\";","module.exports = __webpack_public_path__ + \"static/media/house.88979d03.csv\";","module.exports = __webpack_public_path__ + \"static/media/fiscal_rank.442b3a04.csv\";","module.exports = __webpack_public_path__ + \"static/media/fiscal_lime.9d697bff.csv\";","module.exports = __webpack_public_path__ + \"static/media/school_rank.a78bd499.csv\";","module.exports = __webpack_public_path__ + \"static/media/school_lime.ef16e4c0.csv\";","module.exports = __webpack_public_path__ + \"static/media/house_rank.e66c7c0d.csv\";","module.exports = __webpack_public_path__ + \"static/media/house_lime.66415f13.csv\";","module.exports = __webpack_public_path__ + \"static/media/chart1_data.81e362e3.csv\";","export function groupby_year(original_data) {\r\n  var years = {}\r\n  var sparkline_data = {}\r\n  original_data.forEach(element => {\r\n    years[element['1-qid']] = []\r\n    sparkline_data[element['State'].replace(/ /g, '').replace(/[^\\w\\s]/gi, '')] = []\r\n  });\r\n\r\n  original_data.forEach(element => {\r\n    var temp_dict = { year: parseInt(element['1-qid']), rank: parseInt(element['two_realRank']) }\r\n    sparkline_data[element['State'].replace(/ /g, '').replace(/[^\\w\\s]/gi, '')].push(temp_dict)\r\n    years[element['1-qid']].push(element)\r\n  });\r\n  return { years: years, sparkline_data: sparkline_data };\r\n}\r\nexport function features_with_score(dataset, models, selected_instances, selected_year, number_of_charts, rank_data) {\r\n  var temp1 = {}\r\n  var temp_final = {}\r\n  models.map(model => {\r\n    var temp2 = {}\r\n    var v = number_of_charts;\r\n    var top_nine = sorted_features(dataset, model, selected_instances, selected_year,rank_data)\r\n    if (top_nine.length < number_of_charts) { v = top_nine.length;; number_of_charts = top_nine.length } // This is because number of charts is calculated based on space but there are cases when we don't have that many features\r\n    for (var i = 0; i < number_of_charts; i++) {\r\n      temp2[top_nine[i]] = v;\r\n      v = v - 1\r\n    }\r\n    temp1[model] = temp2\r\n  });\r\n\r\n  for (var key in temp1) {\r\n    for (var key2 in temp1[key]) {\r\n      if (temp_final[key2] > 0) {\r\n\r\n        temp_final[key2] = temp_final[key2] + temp1[key][key2]\r\n      }\r\n      else {\r\n        temp_final[key2] = temp1[key][key2]\r\n      }\r\n    }\r\n  }\r\n  return temp_final;\r\n}\r\n\r\n\r\nexport function sorted_features(dataset, model, selected_instances, selected_year,rank_data) { // Uses feature rank to rank and return features name by removing the feature_rank string\r\n //return Object.keys(rank_data[model][0]).filter(item=>!['1-qid','model'].includes(item)).map(item=>item.replace(\"_feature_rank\", \"\"))\r\n  if (!selected_instances.length > 0) { return [] }\r\n  selected_instances = selected_instances.map(element => element - 1)\r\n  var tempvoted_data_with_score = {},items,data,feautures;\r\n\r\n  if (model == \"ListNet\") { return [] }\r\n  var data2 = rank_data[model].filter(element => { if (parseInt(element['1-qid']) == parseInt(selected_year)) { return element } })\r\n  data = selected_instances.map(index => data2[index])\r\n  feautures = Object.keys(data[0])\r\n  data.map(item => {\r\n    feautures.forEach(feauture => {\r\n      if (tempvoted_data_with_score[feauture] >= 0 || tempvoted_data_with_score[feauture] < 0) {\r\n        tempvoted_data_with_score[feauture] = tempvoted_data_with_score[feauture] + (parseFloat(item[feauture]))\r\n      }\r\n      else { tempvoted_data_with_score[feauture] = parseFloat(item[feauture]) }\r\n    })\r\n  })\r\n  //-----------------------------------------------------------------\r\n  // Create items array\r\n  items = Object.keys(tempvoted_data_with_score).map(function (key) {\r\n    return [key, tempvoted_data_with_score[key]];\r\n  });\r\n  // Sort the array based on the second element\r\n  items.sort(function (first, second) {\r\n    return first[1] - second[1];\r\n  });\r\n  var items2 = items.map((element) => element[0].replace(\"_feature_rank\", \"\"))\r\n  items2 = items2.filter(item => item != \"1-qid\" && item!=\"model\")\r\n  return items2;\r\n  //-----------------------------------------------------------------\r\n}\r\n","import * as d3 from 'd3';\r\nimport * as $ from 'jquery';\r\nimport textures from 'textures';\r\nimport Create_sparkline from \"./Sparkline\"\r\n\r\nexport function Create_deviation_chart(parent_id,parent_exp_id, selected_instances, original_data, default_models, anim_config, selected_year, average, clicked_circles, Set_clicked_circles, diverginColor,sparkline_data,Set_selected_year,dataset,threshold) {\r\n  var div = d3.select(\"body\").selectAll('.tooltip').data([0]).join(\"div\").attr(\"class\", \"tooltip\").style(\"opacity\", 0);\r\n  var parent_width = $(\"#\" + parent_id).width() - 5\r\n  var parent_height = $(\".\" + 'deviation_plot_container_div').height() // deviation_plot_container_div is the div that contains the deviation plot for all modes\r\n  console.log($('.Group1_container').height(),$('.title_p1').height() , $('.slidergroup1').height() , $('.year_and_model_selector_and_slider_container').height(),'parent_height')\r\n  var data = original_data.filter(item => selected_year==item['1-qid'] && selected_instances.includes(parseInt(item['two_realRank'])))\r\n  var temp_scale_data = []\r\n  data.map(item => { default_models.map(model => temp_scale_data.push(Math.abs(parseInt(item[model]) - parseInt(item['two_realRank'])))) })\r\n  // font_line_gap=sparkline_width+4\r\n  var config = { space_for_state_name: 120,fontSize: 12, font_dy: -6, sparkline_width:20,font_line_gap: 24, line_stroke_width: 10, animation_duration: 0, container_height: 100, my_svg_top_margin: 10, myg_top_margin: 10 }\r\n  var y_distance = parent_height/selected_instances.length\r\n  if(y_distance<15){var y_distance=15}\r\n  d3.select(\"#\" + parent_id).attr(\"height\",y_distance*selected_instances)\r\n\r\n  var circle_radius = config.line_stroke_width / 2\r\n  var t = textures.lines().size(5).strokeWidth(2).stroke(\"#cccccc\").background(\"gray\");\r\n  var svg=d3.select(\"#\" + parent_id).attr('height', y_distance + data.length * y_distance).call(t)\r\n  var parent_g = svg.selectAll(\".parent_g\").data([0]).join('g').attr('class', 'parent_g').attr('transform', \"translate(\" + 0 + \",13)\")\r\n  var items_g = parent_g.selectAll(\".items\").data(data, d => d['State']).join(enter => enter.append(\"g\").attr(\"class\", \"items\")\r\n    .attr('transform', (d, i) => \"translate(\" + config.space_for_state_name + \",\" + i * y_distance + \")\")\r\n    , update => update.transition().duration(anim_config.rank_animation).attr('transform', (d, i) => \"translate(\" + config.space_for_state_name + \",\" + i * y_distance + \")\")\r\n    , exit => exit.remove()\r\n  )\r\n  items_g.attr(\"add_state\", function (d) {\r\n    d3.select(this).selectAll(\"text\").data([d]).join('text')\r\n    .text(dd=>{\r\n      var max_textsize=15\r\n      var val = d['State']\r\n          if (val.length > max_textsize) { val = val.replace(\"University\", \"U\") }\r\n          if(val.length > max_textsize){val = val.substring(0, max_textsize)+\"..\"}\r\n          return val + \" \" + d['two_realRank'] \r\n    })\r\n    .attr('fill', d => diverginColor(d['two_realRank'])).attr(\"dominant-baseline\", \"hanging\").attr(\"font-size\", config.fontSize)\r\n      .attr(\"x\", 0).attr('text-anchor', 'end').attr(\"dy\", config.font_dy)\r\n  }).attr(\"add_sparkline\", function (d) {\r\n    // sparkline height is y_distance\r\n    if(dataset!='house'){Create_sparkline(d3.select(this),config,config.line_stroke_width,sparkline_data,d,diverginColor,selected_year,Set_selected_year)}\r\n  })\r\n    .attr(\"add_lines_and_circles\", function (d) {\r\n      var data_for_all_years = data.filter(item => d['two_realRank'] == parseInt(item['two_realRank']))\r\n      var line_data = []\r\n      default_models.map(model_name => {\r\n        data_for_all_years.map(item => {\r\n          var a = {}\r\n          a['two_realRank'] = parseInt(item['two_realRank'])\r\n          a['predicted_rank'] = parseInt(item[model_name])\r\n          a[\"model\"] = model_name\r\n          a['year'] = item['1-qid']\r\n          line_data.push(a)\r\n        })\r\n      })\r\n      // This is only for scaling starts here\r\n      var temp_scale_data = []\r\n      data.map(item => { default_models.map(model => temp_scale_data.push(Math.abs(parseInt(item[model]) - parseInt(item['two_realRank'])))) })\r\n      var temp_max = d3.max(temp_scale_data)\r\n      var sclale1 = d3.scaleLinear().domain([0, temp_max]).range([config.font_line_gap, parent_width - (config.space_for_state_name + circle_radius)])\r\n      if (temp_max == 0) { var sclale1 = d3.scaleLinear().domain([0, temp_max]).range([config.font_line_gap, 0]) }\r\n      // This is only for scaling ends here\r\n      d3.select(this).selectAll(\"line\").data([d]).join(enter => enter.append('line')\r\n        .attr(\"x1\", config.font_line_gap).attr(\"y1\", (d, i) => y_distance * i).attr(\"y2\", (d, i) => y_distance * i).attr(\"stroke-width\", config.line_stroke_width).attr(\"stroke\", t.url()).attr(\"x2\", (d2) => {\r\n          var temp = []\r\n          line_data.map(item => temp.push(Math.abs(item[\"predicted_rank\"] - item[\"two_realRank\"])))\r\n          return sclale1(d3.max(temp))\r\n        })\r\n        // Update\r\n        , update => update.transition().duration(anim_config.deviation_animation).delay(anim_config.rank_animation).attr(\"x2\", (d2) => {\r\n          var temp = []\r\n          line_data.map(item => temp.push(Math.abs(item[\"predicted_rank\"] - item[\"two_realRank\"])))\r\n          return sclale1(d3.max(temp))\r\n        }))\r\n      // ------------ Circles start here\r\n      var data_for_all_years = data.filter(item => d['two_realRank'] == parseInt(item['two_realRank']))\r\n      var circ_data = []\r\n      default_models.map(model_name => {\r\n        data_for_all_years.map(item => {\r\n          var a = {}\r\n          a['two_realRank'] = parseInt(item['two_realRank'])\r\n          a['predicted_rank'] = parseInt(item[model_name])\r\n          a[\"model\"] = model_name\r\n          a['year'] = item['1-qid']\r\n          a['id'] =item['State'].replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\") + model_name.replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\")\r\n          circ_data.push(a)\r\n        })\r\n      })\r\n      var my_circs = d3.select(this).selectAll(\".my_circles\").data(circ_data, d => d['id']).join(\r\n        enter => enter.append(\"circle\").attr('id', d => d['id']).attr('class', 'my_circles').attr(\"cx\", (d2, i) => {\r\n          d3.select(this).classed(d2['id'], true)\r\n          if (d2[\"predicted_rank\"] - d2['two_realRank'] == 0) { return sclale1(Math.abs(d2[\"predicted_rank\"] - d2['two_realRank'])) + circle_radius }\r\n          return sclale1(Math.abs(d2[\"predicted_rank\"] - d2['two_realRank']))\r\n        })\r\n        // Update\r\n        , update => update.transition().duration(anim_config.deviation_animation).delay(anim_config.rank_animation).attr(\"cx\", (d2, i) => {\r\n          d3.select(this).classed(d2['id'], true)\r\n          if (d2[\"predicted_rank\"] - d2['two_realRank'] == 0) { return sclale1(Math.abs(d2[\"predicted_rank\"] - d2['two_realRank'])) + circle_radius }\r\n          return sclale1(Math.abs(d2[\"predicted_rank\"] - d2['two_realRank']))\r\n        })\r\n      )\r\n      my_circs.attr(\"r\", circle_radius).attr('fill', d => diverginColor(d['two_realRank'])).attr(\"parent_id\", parent_exp_id)\r\n        .on('click', d => Set_clicked_circles(clicked_circles.includes(d['id']) ? clicked_circles.filter(item => item != d['id']) : [...clicked_circles, d['id']]))\r\n        .on(\"mouseover\", function (d2) {\r\n          div.transition().duration(200).style(\"opacity\", .9);\r\n          div.html(\"Year : \" + d2[\"year\"] + \"<br></br>\" + \"Model: \" + d2[\"model\"] + \"<br></br>\" + \"Deviation: \" + Math.abs(d2[\"predicted_rank\"] - d2['two_realRank']))\r\n          .style(\"left\", (d3.event.pageX - 140) + \"px\").style(\"top\", (d3.event.pageY - 98) + \"px\");\r\n        }).on(\"mouseout\", function (d2) {\r\n          //d3.select(this).classed(d2['id'],true)\r\n          div.transition()\r\n            .duration(500)\r\n            .style(\"opacity\", 0);\r\n        })\r\n\r\n    })\r\n\r\n}","import * as d3 from 'd3';\r\nexport default function Create_sparkline(parent, config, y_distance, sparkline_data, d, diverginColor, selected_year, Set_selected_year) { // sparkline height is y_distance\r\n    var year = selected_year\r\n    var s_margin = { top: 0, right: 0, bottom: 0, left: 4 },\r\n        s_width = config.sparkline_width - 2,\r\n        s_height = y_distance - 2;\r\n    var s_svg = parent.selectAll(\".sparkline_svg\").data([0]).join(\"svg\").attr(\"class\", \"sparkline_svg\").attr(\"x\", 2).attr(\"y\", -3)\r\n        .attr(\"width\", s_width + s_margin.left + s_margin.right)\r\n        .attr(\"height\", s_height + s_margin.top + s_margin.bottom)\r\n    \r\n    var data = sparkline_data[d['State'].replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\")]\r\n    // Add X axis  \r\n    var x = d3.scaleLinear().domain(d3.extent(data, function (d) { return d.year; })).range([0, s_width]);\r\n    //-----------------------------------------------------------------------------------------------------------------------------------------Add the area\r\n    s_svg.selectAll(\"path\").remove()\r\n    s_svg.append(\"path\")\r\n        .datum(data, d => d)\r\n        .attr(\"id\", \"A\")\r\n        .attr(\"opacity\", 1)\r\n        .attr(\"fill\", diverginColor(d['two_realRank'])) //#969696\r\n        .attr(\"stroke\", diverginColor(d['two_realRank']))\r\n        .attr(\"stroke-width\", (d) => {\r\n            return 1.5\r\n        })\r\n        .attr(\"d\", d3.area()\r\n            .x(function (d) { return x(d.year) })\r\n            .y0(function () {\r\n                var y = d3.scaleLinear().domain([0, d3.max(data, function (d) { return +d.rank; })]).range([s_height, 0]);\r\n                return y(0)\r\n            })\r\n            .y1(function (d) {\r\n                var y = d3.scaleLinear().domain([0, d3.max(data, function (d) { return +d.rank; })]).range([0, s_height]);\r\n                return y(d.rank)\r\n            })\r\n        )\r\n    //------------Circles\r\n    s_svg.selectAll('circle').raise().data(data).join('circle')\r\n        .attr('cx', function (d, i) { return x(d.year) })\r\n        .attr('cy', s_height - 2)\r\n        .attr(\"class\", \"myid\")\r\n        .on(\"mouseover\", function (d) {\r\n            d3.select(this).style('fill', 'black')\r\n            d3.select(this).attr('r', 3)\r\n        })\r\n        .style('fill', (d) => d.year != year ? 'transparent' : 'black')\r\n        .attr('class', (d) => d.year != year ? 'transparent_class' : 'red_class')\r\n        .attr('r', 2)\r\n        .on('dblclick', (d, i) => {\r\n            d3.event.preventDefault();\r\n            Set_selected_year(d.year)\r\n        })\r\n        .on(\"mouseout\", function (d) {\r\n            d3.select(this).style('fill', 'transparent')\r\n            d3.select(this).style('fill', d.year != year ? 'transparent' : 'black')\r\n            d3.select(this).attr('r', 2)\r\n        })\r\n}","import * as d3 from 'd3';\r\nexport function handle_transparency(class_name, clicked_circles, anim_config) {\r\n    \r\n    if (clicked_circles.length != 0) { // If there are no clicked circles make all opacity 1\r\n        d3.selectAll(\".items\").attr('opacity', 0.6) // Groups\r\n        d3.selectAll(\".\" + \"my_circles\").attr('opacity', 0.3) // Circles\r\n        clicked_circles.map(circle_id => {\r\n            d3.selectAll(\".\" + circle_id).attr('opacity', 1) // Groups\r\n            d3.selectAll(\"#\" + circle_id).attr('opacity', 1) // Circles\r\n        })\r\n    }\r\n    else {\r\n        d3.selectAll(\".items\").attr('opacity', 1); // Groups\r\n        d3.selectAll(\".\" + \"my_circles\").attr('opacity', 1) // Circles \r\n    }\r\n}\r\nexport function draw_lines(clicked_circles, diverginColor) {\r\n   \r\n}","import React from 'react';\r\nimport * as $ from 'jquery';\r\nimport Slider from '@material-ui/core/Slider';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { connect } from \"react-redux\";\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from \"@material-ui/core/Button\";\r\nimport './ModelSlider.scss';\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: '100%',\r\n    },\r\n    heading: {\r\n        fontSize: theme.typography.pxToRem(15),\r\n        flexBasis: '33.33%',\r\n        flexShrink: 0,\r\n    },\r\n    secondaryHeading: {\r\n        fontSize: theme.typography.pxToRem(15),\r\n        color: theme.palette.text.secondary,\r\n    },\r\n    tRoot: {\r\n        marginBottom: 35,\r\n    },\r\n    rang_input: {\r\n        marginLeft: 10,\r\n    },\r\n}));\r\nfunction Modes(props) {\r\n    const classes = useStyles();\r\n    // states \r\n    const [sliderRange, set_sliderRange] = React.useState(props.state_range);\r\n    //-----------------------------------------------------------------\r\n    var temp_marks = [];\r\n    var step = (props.slider_max - 1) / (6 - 1);\r\n    for (var i = 0; i < 6; i++) {\r\n        temp_marks.push(1 + (step * i));\r\n    }\r\n    var marks = temp_marks.map(item => {\r\n        var myitem = parseInt(item)\r\n        return { value: myitem, label: myitem }\r\n    })\r\n    //console.log(props.marks)\r\n    //-----------------------------------------------------------------\r\n    return (\r\n        <div className=\"Modelslider\" style={{height: 70, width: \"99%\",\r\n            paddingTop: 30, border: \"2px solid rgb(178, 178, 178,0.5)\"\r\n        }} >\r\n            <div className=\"lower\" style={{ padding: \"0px 0px\", marginTop: -20 }}>\r\n                <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Lower\" value={sliderRange[0]} style={{ width: \"100%\" }}\r\n                    onChange={event => {\r\n                        if (isNaN(parseInt(event.target.value))) {\r\n                            set_sliderRange([\"\", sliderRange[1]])\r\n                        } else {\r\n                            if (event.target.value > sliderRange[1]) {\r\n                                alert(\"Lower range can not be larger than the upper range\")\r\n                            }\r\n                            else {\r\n                                set_sliderRange([event.target.value, sliderRange[1]])\r\n                            }\r\n                        }\r\n                    }\r\n                    }\r\n                />\r\n            </div>\r\n            <div className=\"slider\" style={{width: \"100%\", margin: \"0px 0px\" }}>\r\n                <Slider value={sliderRange} onChange={(event, newValue) => set_sliderRange(newValue)} onChangeCommitted={(event, newValue) => props.Set_changed(\"range\")}\r\n                    valueLabelDisplay=\"auto\" aria-labelledby=\"range-slider\" valueLabelDisplay=\"on\" min={1} max={props.slider_max} marks={marks}\r\n                />\r\n            </div>\r\n            <div className=\"upper\" style={{ padding: \"0px 0px\", marginTop: -20 }}>\r\n                <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Upper\" value={sliderRange[1]} style={{ width: \"100%\" }}\r\n                    onChange={event => {\r\n                        if (isNaN(parseInt(event.target.value))) {\r\n                            set_sliderRange([sliderRange[0], \"\"])\r\n                        } else {\r\n                            if (parseInt(event.target.value) > props.slider_max) {\r\n                                alert(\"Upper range can not exceed maximum\")\r\n                                set_sliderRange([sliderRange[0], props.slider_max])\r\n                            }\r\n                            else {\r\n                                set_sliderRange([sliderRange[0], parseInt(event.target.value)])\r\n                            }\r\n                        }\r\n                    }\r\n                    }\r\n                />\r\n            </div>\r\n            <div className=\"button\" item xs=\"2\" style={{ marginTop: -10 }}>\r\n                <Button className=\"range_button\" style={{ backgroundColor: \"#ededed\", height: 30 }}\r\n                    onClick={() => {\r\n                        props.Set_state_range(sliderRange)\r\n                    }}\r\n                >Update range</Button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nconst maptstateToprop = (state) => {\r\n    return {\r\n        selected_year: state.selected_year,\r\n        state_range: state.state_range,\r\n        mode: state.mode, // Model mode model\r\n        slider_max: state.slider_max,\r\n        range_mode_model: state.range_mode_model, // Range mode model\r\n        range_mode_range1: state.range_mode_range1,\r\n        range_mode_range2: state.range_mode_range2,\r\n        time_mode_model: state.time_mode_model, // Time mode model\r\n        time_mode_range: state.time_mode_range,\r\n        time_mode_year1: state.time_mode_year1,\r\n        time_mode_year2: state.time_mode_year2,\r\n        years_for_dropdown: state.years_for_dropdown,\r\n        dataset: state.dataset,\r\n        default_models: state.default_models,\r\n        slider_and_feature_value: state.slider_and_feature_value,\r\n        sort_by: state.sort_by,\r\n        grouped_by_year_data: state.grouped_by_year_data\r\n    }\r\n}\r\nconst mapdispatchToprop = (dispatch) => {\r\n    return {\r\n        Set_state_range: (val) => dispatch({ type: \"state_range\", value: val }),\r\n        Set_changed: (val) => dispatch({ type: \"changed\", value: val }),\r\n    }\r\n}\r\nexport default connect(maptstateToprop, mapdispatchToprop)(Modes);","import React, { Component } from 'react';\r\nimport * as d3 from 'd3';\r\nimport { connect } from \"react-redux\";\r\nimport * as algo1 from \"../../../Algorithms/algo1\";\r\nimport * as $ from 'jquery';\r\nimport CreatexpCircle from \"./Create_exp_circles\"\r\nimport getMdsData from \"./MDS\"\r\nimport { Create_MDS } from \"./MDS\"\r\nimport \"./MDS.css\"\r\nclass SlopeChart extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.line_color = null;\r\n    this.exp = React.createRef()\r\n    this.mds = React.createRef()\r\n    this.state = { mds_height: 110, mouseX: 0, mouseY: 0, excluded_features: [], sorted_features: null, circle_data: null, indexed_features: null, random: true }\r\n  }\r\n  componentDidMount() {\r\n    this.setState({ width: window.innerHeight })\r\n  }\r\n  shouldComponentUpdate(prevProps, prevState) {\r\n    if(this.state.indexed_features==null || this.state.circle_data==null){return true}\r\n    if ((JSON.stringify(prevState.excluded_features) != JSON.stringify(this.state.excluded_features)) || (JSON.stringify(this.props.state_range) != JSON.stringify(prevProps.state_range)) || (this.props.selected_year != prevProps.selected_year)) {\r\n      return true\r\n    }\r\n    else if (JSON.stringify(this.props.dragged_features) == JSON.stringify(prevProps.dragged_features)) { return false }\r\n    else { return true }\r\n  }\r\n  componentDidUpdate(prevProps, prevState) {\r\n    var self = this\r\n    if ((JSON.stringify(prevState.excluded_features) != JSON.stringify(this.state.excluded_features)) || (JSON.stringify(this.props.state_range) != JSON.stringify(prevProps.state_range)) || (this.props.selected_year != prevProps.selected_year)) {\r\n      this.setState({ indexed_features: null });\r\n      this.setState({ circle_data: null })\r\n      this.props.Set_dragged_features({})\r\n    }\r\n    var selected_instances = d3.range(this.props.state_range[0], this.props.state_range[1] + 1)\r\n    if (this.props.histogram_data.length > 0) { selected_instances = this.props.histogram_data }\r\n    //------------------------------\r\n    var number_of_charts = 8 + self.state.excluded_features.length\r\n    var features_with_score = algo1.features_with_score(this.props.dataset, [this.props.model_name], selected_instances, this.props.selected_year, number_of_charts, this.props.rank_data)\r\n    var indexed_features = Object.entries(features_with_score).sort((a, b) => b[1] - a[1]).map((item, i) => item[0])\r\n    console.log(this.props.selected_year,indexed_features,\"indexed_features\")\r\n    if (this.state.indexed_features == null) { this.setState({ indexed_features: indexed_features }) } else { indexed_features = [...this.state.indexed_features] }\r\n    Object.entries(this.props.dragged_features).map(item => {\r\n      var origin_index = indexed_features.indexOf(item[0])\r\n      var dest_index = origin_index + item[1][1]\r\n      if (dest_index < 0 || dest_index > number_of_charts - 1) {\r\n      } else {\r\n        var b = indexed_features[origin_index]\r\n        indexed_features[origin_index] = indexed_features[dest_index]\r\n        indexed_features[dest_index] = b\r\n      }\r\n      if (JSON.stringify(this.state.indexed_features) != JSON.stringify(indexed_features)) {\r\n        this.setState({ indexed_features: indexed_features })\r\n      }\r\n    })\r\n    var temp_sorted_features = indexed_features.filter(item => !this.state.excluded_features.includes(item))// Exclude crossed features \r\n    var sorted_features = temp_sorted_features.slice(0, number_of_charts + 1).map((item, index) => [item, index])\r\n    \r\n    //if (this.state.sorted_features == null) { var sorted_features = temp_sorted_features; this.setState({ sorted_features: temp_sorted_features }) } else { var sorted_features = this.state.sorted_features }\r\n    //------------------------------\r\n    var marginTop = 5;\r\n    var parent_height = parseInt($('.explanation_chart_parent').height()) - this.state.mds_height - parseInt($('.title_p').height())\r\n    var item_width = parseInt($(\"#\" + this.props.exp_id).width())\r\n    var item_height = (parent_height - 10) / sorted_features.length - marginTop // 10 is the top margin\r\n    var feature_containers = d3.select(this.exp.current).attr('height', parent_height).selectAll(\".feature_items\").data(sorted_features, d => d[0])\r\n      .join(enter => enter.append(\"svg\").attr(\"y\", (d, i) => marginTop + i * (item_height + marginTop))\r\n        , update => update.transition().duration(2000).attr(\"y\", (d, i) => marginTop + i * (item_height + marginTop))\r\n        , exit => exit.remove()\r\n      )\r\n    feature_containers.attr(\"class\", d => \"feature_items \" + d[0]).attr(\"myindex\", (d, i) => i).attr('feature_name', d => d[0])\r\n    feature_containers.attr(\"add_title_text_and_rect_for_title_text\", function (d, index) {\r\n      d3.select(this).selectAll(\".title_rect\").data([0]).join('rect').attr(\"class\", \"title_rect\").attr(\"myindex\", index).attr('feature_name', d[0]).attr(\"width\", \"100%\").attr(\"height\", 18).attr(\"fill\", \"#e2e2e2\").attr(\"y\", 0).attr(\"x\", 0)\r\n      d3.select(this).selectAll(\".title_text\").data([0]).join('text').attr(\"class\", \"title_text\").attr(\"myindex\", index).attr('feature_name', d[0]).attr('x', item_width / 2).text(d[0]).attr(\"dominant-baseline\", \"hanging\")\r\n        .attr(\"y\", 2).attr('text-anchor', 'middle').attr('font-size', 12)\r\n    })\r\n    feature_containers.attr(\"add_cross_button\", function (d, index) {\r\n      d3.select(this).selectAll(\".cross_button\").data([0]).join(\"text\").attr('y', 7.3).attr('dominant-baseline', 'middle').attr(\"myindex\", index).attr('feature_name', d[0]).raise()\r\n        .attr('x', item_width - 15).style('cursor', 'pointer').attr('font-size', 12).attr('fill', 'black')\r\n        .text(\"\\uf410\").attr('class', \"cross_button fa make_cursor\").on('click', () => {\r\n          //alert(\"clicked!\")\r\n          d3.event.preventDefault()\r\n          self.setState({ excluded_features: [...self.state.excluded_features, d[0]] })\r\n        })\r\n    })\r\n    feature_containers.attr(\"add_rect_for_circle_background_and_handle_clicks\", function (d, index) {\r\n      d3.select(this).selectAll(\".circ_rect\").data([0]).join('rect').attr(\"class\", \"circ_rect\").attr(\"myindex\", index).attr('feature_name', d[0]).attr(\"width\", \"100%\").attr(\"height\", item_height - 18).attr(\"fill\", \"#f2f2f2\").attr(\"y\", 18).attr(\"x\", 0)\r\n        .on('click', () => {\r\n          if (self.props.clicked_features.includes(d[0])) {\r\n            self.props.Set_clicked_features(self.props.clicked_features.filter(item => item != d[0]))\r\n            d3.selectAll(\".\" + d[0]).selectAll(\".border_rect\").remove()\r\n          }\r\n          else {\r\n            self.props.Set_clicked_features([...self.props.clicked_features, d[0]])\r\n            d3.selectAll(\".\" + d[0]).selectAll(\".border_rect\").data([0]).join('rect').attr(\"class\", \"border_rect\").attr(\"width\", \"100%\").attr(\"height\", \"100%\").style(\"stroke\", \"black\").style(\"fill\", \"none\").style(\"stroke-width\", 5)\r\n          }\r\n        })\r\n        .on('dblclick', () => {\r\n          var feature = d[0]\r\n          var year = self.props.selected_year\r\n          d3.event.preventDefault()\r\n          var temp = [...self.props.dbclicked_features]\r\n          if (!temp.includes(feature)) {\r\n            temp.unshift(feature)\r\n            d3.selectAll(\".rect\").classed(\"exp_chart_clicked\", true)\r\n          }\r\n          self.props.set_dbclicked_features(temp)\r\n          //self.props.set_dbclicked_features([feature])\r\n          //----------------------------Data for popup chart\r\n          var popup_chart_data = {}\r\n          self.props.default_models.filter(item => item != \"ListNet\").map(model_name => {\r\n            var data = []\r\n            if (self.props.histogram_data.length > 0) {\r\n              data = self.props.lime_data[model_name].filter(element => { if ((parseInt(element['1-qid']) == parseInt(year)) && (self.props.histogram_data.includes(parseInt(element['two_realRank'])))) { return element } });\r\n            }\r\n            else {\r\n              data = self.props.lime_data[model_name].filter(element => parseInt(element['1-qid']) == parseInt(year) && selected_instances.includes(parseInt(element['two_realRank'])))\r\n            }\r\n            popup_chart_data[model_name] = data\r\n          })\r\n          self.props.Set_popup_chart_data([popup_chart_data, feature]) // This is to update the pop when the year or anything changes during the pop up is open\r\n          //self.props.Set_popup_chart_data([popup_chart_data, feature])\r\n          self.props.set_pop_over(true)\r\n        })\r\n\r\n    })\r\n    feature_containers.attr(\"CreatexpCircle\", function (d, index) {\r\n      CreatexpCircle(d, d3.select(this), selected_instances, self.props.lime_data, self.props.selected_year, [self.props.model_name], self.props.clicked_circles,\r\n        self.props.Set_clicked_circles, self.props.diverginColor, self.props.anim_config, item_width, item_height, self.props.deviation_array, index)\r\n    }).attr(\"height\", item_height).attr('width', item_width)\r\n    feature_containers.attr('check_clicked_features', d => {\r\n      if (self.props.clicked_features.includes(d[0])) {\r\n        d3.selectAll(\".\" + d[0]).selectAll(\".border_rect\").data([0]).join('rect').attr(\"class\", \"border_rect\").attr(\"width\", \"100%\").attr(\"height\", \"100%\").style(\"stroke\", \"black\").style(\"fill\", \"none\").style(\"stroke-width\", 5)\r\n      }\r\n    })\r\n    feature_containers.attr('add_drag_drop', function (d, index) {\r\n      d3.select(this).selectAll(\".my_rect\").data([0]).join('rect').attr(\"class\", \"my_rect\").attr(\"myindex\", index).attr('feature_name', d[0]).attr(\"width\", item_width - 18).attr(\"height\", 18).style(\"fill\", \"transparent\").style('cursor', 'move')\r\n        .call(d3.drag().on(\"start\", dragstarted).on(\"drag\", dragged).on(\"end\", dragended).container(this.parentNode.parentNode)) // Set the parent node based on which the distance will be calculated\r\n      var deltaY, is_dragging;\r\n      function dragstarted(event, d) {\r\n        //d3.select(this).attr(\"width\", '100%').attr(\"height\", '100%').style('fill','rgb(249, 195, 87,0.3)')\r\n        d3.select(this.parentNode).raise()\r\n        deltaY = d3.select(this.parentNode).attr(\"y\") - d3.event.y;\r\n      }\r\n      function dragged(event, d) {\r\n        is_dragging = true\r\n        d3.select(this.parentNode).raise()\r\n        d3.select(this.parentNode).attr(\"y\", d3.event.y + deltaY);\r\n      }\r\n      function dragended(event, d) {\r\n        var origin_index = parseInt(d3.select(this).attr(\"myindex\")); d3.select(this.parentNode).lower();\r\n        d3.select(this.parentNode).attr(\"y\", d3.event.y + deltaY);\r\n        var dest_index = parseInt(d3.select(document.elementFromPoint(d3.event.sourceEvent.clientX, d3.event.sourceEvent.clientY)).attr(\"myindex\"))\r\n        if (isNaN(dest_index)) { alert(\"Please drop properly!\"); dest_index = origin_index }\r\n        var origin_feature = d3.select(this).attr(\"feature_name\")\r\n        var dest_feature = d3.select(document.elementFromPoint(d3.event.sourceEvent.clientX, d3.event.sourceEvent.clientY)).attr(\"feature_name\")\r\n        var temp = {}\r\n        temp[origin_feature] = [dest_feature, dest_index - origin_index]\r\n        console.log(self.state.indexed_features, 'indexed features')\r\n        self.props.Set_dragged_features(temp)\r\n        //-------------------------------------\r\n        d3.select(this).raise()\r\n        setTimeout(() => self.props.Set_dragged_features({}), 5000)\r\n      }\r\n    })\r\n    //--------------------------------------MDS Plot-------------------------------------//\r\n    if (this.state.circle_data == null) {\r\n      var feature_contrib_data_for_mds = this.props.lime_data[this.props.model_name].filter(item => item['year'] == this.props.selected_year && selected_instances.includes(item['two_realRank']))\r\n      getMdsData(this.props.url, { \"data\": feature_contrib_data_for_mds, \"weight\": features_with_score }).then(data => {\r\n        if (typeof data != 'undefined') {\r\n          var MDS_response = JSON.parse(data.response)\r\n          var circle_data = feature_contrib_data_for_mds.map((item, index) => {\r\n            item['x'] = MDS_response[index][0]\r\n            item['y'] = MDS_response[index][1]\r\n            item['id'] = item['State'].replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\") + item[\"model\"].replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\")\r\n            return item\r\n          })\r\n          this.setState({ circle_data: circle_data })\r\n          Create_MDS(this.mds, circle_data, \"#mds\" + this.props.model_name, self.props.diverginColor, this.props.Set_clicked_circles)\r\n        }\r\n      })\r\n    }\r\n    //------------------------------\r\n  }\r\n  render() {\r\n    return (\r\n      <div className={\"explanation_chart_parent exp\" + this.props.model_name} style={{ width: '100%', height: '100%', \"border\": this.props.mode == 'Model' ? \"2px solid #e2e2e2\" : 'none', padding: \"2px 5px\" }}>\r\n        <p className=\"title_p\" style={{ padding: 0, margin: 0 }}>{this.props.model_name}</p>\r\n        <svg ref={this.mds} id={\"mds\" + this.props.model_name} style={{ margin: 0, width: \"100%\", height: this.state.mds_height }}></svg>\r\n        <svg ref={this.exp} id={this.props.exp_id} style={{ marginTop: 0, width: \"100%\" }}></svg>\r\n      </div>\r\n    )\r\n  }\r\n}\r\nconst maptstateToprop = (state) => {\r\n  return {\r\n    deviation_array: state.deviation_array,\r\n    original_data: state.original_data,\r\n    time_mode_model: state.time_mode_model,\r\n    chart_scale_type: state.chart_scale_type,\r\n    dataset: state.dataset,\r\n    histogram_data: state.histogram_data,\r\n    sparkline_data: state.sparkline_data,\r\n    dataset: state.dataset,\r\n    anim_config: state.anim_config,\r\n    show: state.show,\r\n    average_m: state.average_m,\r\n    average_y: state.average_y,\r\n    lime_data: state.lime_data,\r\n    rank_data: state.rank_data,\r\n    clicked_circles: state.clicked_circles,\r\n    clicked_features: state.clicked_features,\r\n    threshold: state.threshold,\r\n    mode: state.mode,\r\n    dbclicked_features: state.dbclicked_features,\r\n    dragged_features: state.dragged_features,\r\n    url: state.url,\r\n  }\r\n}\r\nconst mapdispatchToprop = (dispatch) => {\r\n  return {\r\n    Set_dragged_features: (val) => dispatch({ type: \"dragged_features\", value: val }),\r\n    Set_clicked_circles: (val) => dispatch({ type: \"clicked_circles\", value: val }),\r\n    Set_prev_prop: (val) => dispatch({ type: \"prev_prop\", value: val }),\r\n    Set_sparkline_data: (val) => dispatch({ type: \"sparkline_data\", value: val }),\r\n    Set_replay: (val) => dispatch({ type: \"replay\", value: val }),\r\n    Set_clicked_features: (val) => dispatch({ type: \"clicked_features\", value: val }),\r\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: val }),\r\n    set_dbclicked_features: (val) => dispatch({ type: \"dbclicked_features\", value: val }),\r\n    Set_popup_chart_data: (val) => dispatch({ type: \"popup_chart_data\", value: val }),\r\n    set_pop_over: (val) => dispatch({ type: \"pop_over\", value: val }),\r\n  }\r\n}\r\nexport default connect(maptstateToprop, mapdispatchToprop)(SlopeChart);","import * as d3 from 'd3';\r\nimport * as $ from 'jquery';\r\nimport * as d3lasso from 'd3-lasso';\r\nexport default function getMdsData(myurl, data) {\r\n  return fetch(myurl, {\r\n    method: 'POST',\r\n    body: JSON.stringify(data),\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    }\r\n  }).then(res => res.json())\r\n    .then(response => {\r\n      console.log(response)\r\n      return response;\r\n    }).catch(error => console.error('Error: from Json Handler', error));\r\n}\r\nexport function Create_MDS(mds_ref,circle_data,mds_id,diverginColor, Set_clicked_circles) {\r\n  //console.log(circle_data,\"MDS_data\")\r\n  //---------------------------------------------------------------------------\r\n  // Create mds ends here\r\n  var margin = { item_top_margin: 15, right: 14, bottom: 0, left: 20, circ_radius: 5, item_left_margin: 25, item_right_margin: 3 }\r\n  var w = $(mds_id).width() - margin.item_left_margin\r\n  var h = $(mds_id).height() - margin.item_top_margin * 2\r\n  var r = 5;\r\n  var xScale = d3.scaleLinear().domain(d3.extent(circle_data.map(item => item['x']))).range([r * 2, w - r * 2])\r\n  var yScale = d3.scaleLinear().domain(d3.extent(circle_data.map(item => item['y']))).range([r * 2, h - r * 2])\r\n\r\n  var svg = d3.select(mds_ref.current).style(\"border\", \"1px solid #eaeaea\")\r\n\r\n  var circles = svg.selectAll(\"circle\")\r\n    .data(circle_data)\r\n    .join(\"circle\")\r\n    .attr(\"cx\", d => xScale(d['x']))\r\n    .attr(\"cy\", d => yScale(d['y']))\r\n    .attr(\"r\", r)\r\n    .attr(\"fill\", d => diverginColor(d[\"two_realRank\"]))\r\n    .attr('id', d => d['id'])\r\n    .attr('class', 'my_circles')\r\n  // Lasso functions\r\n  var lasso_start = function () {\r\n    lasso.items()\r\n      .attr(\"r\", 5) // reset size\r\n      .classed(\"not_possible\", true)\r\n      .classed(\"selected\", false);\r\n  };\r\n\r\n  var lasso_draw = function () {\r\n    // Style the possible dots\r\n    lasso.possibleItems()\r\n      .classed(\"not_possible\", false)\r\n      .classed(\"possible\", true);\r\n\r\n    // Style the not possible dot\r\n    lasso.notPossibleItems()\r\n      .classed(\"not_possible\", true)\r\n      .classed(\"possible\", false);\r\n  };\r\n\r\n  var lasso_end = function () {\r\n    var selected_ids = []\r\n    lasso.selectedItems().each(function () {\r\n      selected_ids.push(d3.select(this).attr(\"id\"))\r\n    })\r\n    Set_clicked_circles(selected_ids)\r\n    // Reset the color of all dots\r\n    lasso.items()\r\n      .classed(\"not_possible\", false)\r\n      .classed(\"possible\", false);\r\n\r\n    // Style the selected dots\r\n    lasso.selectedItems()\r\n      .classed(\"selected\", true)\r\n      .attr(\"r\", 6);\r\n\r\n    // Reset the style of the not selected dots\r\n    lasso.notSelectedItems()\r\n      .attr(\"r\", 5);\r\n\r\n  };\r\n  var lasso = d3lasso.lasso()\r\n    .closePathSelect(true)\r\n    .closePathDistance(100)\r\n    .items(circles)\r\n    .targetArea(svg)\r\n    .on(\"start\", lasso_start)\r\n    .on(\"draw\", lasso_draw)\r\n    .on(\"end\", lasso_end);\r\n  svg.call(lasso);\r\n}\r\n\r\n\r\n","import * as d3 from \"d3\";\r\nexport default function CreatexpCircle(d, selection, selected_instances,\r\n    lime_data, selected_year, default_models, clicked_circles, Set_clicked_circles, diverginColor, anim_config, item_width, item_height, deviation_array, index) {\r\n    var margin = { item_top_margin: 25, item_bottom_margin: 6, circ_radius: 5, item_left_margin: 6, item_right_margin: 6 }\r\n    var feature_name = d[0]\r\n    var feature_contrib_name = d[0] + \"_contribution\"\r\n\r\n    var circ_data = []\r\n    var sum_data = []\r\n    default_models.map(model => {\r\n        lime_data[model].map(item => {\r\n            if (item['1-qid'] == selected_year && selected_instances.includes(parseInt(item['two_realRank']))) {\r\n                sum_data.push(parseFloat(item[feature_contrib_name]))\r\n                item['id'] = item['State'].replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\") + model.replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\")\r\n                circ_data.push(item)\r\n            }\r\n        })\r\n    })\r\n    // Draw circle starts here\r\n    if (isNaN(lime_data[default_models[0]][0][feature_name])) {\r\n        var yScale = d3.scaleBand().domain(lime_data[default_models[0]].map(item => item[feature_name])).range([margin.item_top_margin, item_height - margin.item_bottom_margin])\r\n    }\r\n    else {\r\n        var yScale = d3.scaleLinear().domain([d3.min(circ_data.map(item => parseFloat(item[d[0]]))), d3.max(circ_data.map(item => parseFloat(item[d[0]])))]).range([margin.item_top_margin, item_height - margin.item_bottom_margin])\r\n    }\r\n    var xScale = d3.scaleLinear().domain([d3.min(circ_data.map(item => parseFloat(item[feature_contrib_name]))), d3.max(circ_data.map(item => parseFloat(item[feature_contrib_name])))]).range([margin.item_left_margin, item_width - margin.item_right_margin])\r\n    //----------\r\n    var my_mean = d3.mean(sum_data)\r\n    //----------\r\n    selection.selectAll(\".my_mean_line\").data([0]).join(\"line\").attr(\"class\", \"my_mean_line\").attr(\"x1\", xScale(my_mean)).attr(\"x2\", xScale(my_mean)).attr(\"y1\", 18).attr(\"y2\", item_height).attr('stroke', \"rgb(96, 96, 96,0.5)\").attr('stroke-width', 1)\r\n    var rScale = d3.scaleLinear().domain(d3.extent(deviation_array)).range([5, 2])\r\n    var mycircles = selection.selectAll(\".my_circles\").data(circ_data, d => d['id']).join(\r\n        enter => enter.append('circle')\r\n            .attr('id', d => d['id'])\r\n            .attr('class', d => 'my_circles')\r\n            .attr('fill', d => diverginColor(d['two_realRank']))\r\n            .attr(\"transform\", function (d, i) {\r\n                var x_transform = xScale(parseFloat(d[feature_contrib_name]))\r\n                var y_transform = getRandomArbitrary(margin.item_top_margin, item_height - margin.item_bottom_margin, i)\r\n                return \"translate(\" + x_transform + \",\" + y_transform + \")\";\r\n            })\r\n            .attr(\"r\", d => rScale(d['deviation']))\r\n        // Update\r\n        , update => update.attr('class', d => d['id'] + ' items circle2 my_circles')\r\n            .transition().duration(anim_config.circle_animation).delay(anim_config.rank_animation + anim_config.deviation_animation + anim_config.feature_animation)\r\n            .attr(\"transform\", function (d, i) {\r\n                var x_transform = xScale(parseFloat(d[feature_contrib_name]))\r\n                var y_transform = getRandomArbitrary(margin.item_top_margin, item_height - margin.item_bottom_margin, i)\r\n                return \"translate(\" + x_transform + \",\" + y_transform + \")\";\r\n            })\r\n            .attr('id', d => d['id'])\r\n        , exit => exit.remove())\r\n    mycircles.attr(\"myindex\",index).attr('feature_name',d[0]).on('click', d => {\r\n        Set_clicked_circles(clicked_circles.includes(d['id']) ? clicked_circles.filter(item => item != d['id']) : [...clicked_circles, d['id']])\r\n    }\r\n    )\r\n    if(index==0){selection.selectAll(\".avg_text\").data(['avg']).join(\"text\").attr(\"x\", xScale(my_mean)+5).attr(\"class\", \"avg_text\").attr(\"myindex\",index).attr(\"y\", (item_height-margin.item_top_margin-margin.item_bottom_margin)/2+margin.item_top_margin).text('avg').attr('font-size', 12)\r\n    .attr('dominant-baseline', \"middle\").attr('text-anchor','middle').attr('transform',d=>\"rotate(-90,\"+(xScale(my_mean)+5)+\",\"+((item_height-margin.item_top_margin-margin.item_bottom_margin)/2+margin.item_top_margin)+\")\")}\r\n    else{selection.selectAll('.avg_text').remove()}\r\n    // Draw circle ends here\r\n    function getRandomArbitrary(min, max, seed) {\r\n        min = min || 0;\r\n        max = max || 1;\r\n        var rand;\r\n        if (typeof seed === \"number\") {\r\n            seed = (seed * 9301 + 49297) % 233280;\r\n            var rnd = seed / 233280;\r\n            var disp = Math.abs(Math.sin(seed));\r\n            rnd = (rnd + disp) - Math.floor((rnd + disp));\r\n            rand = Math.floor(min + rnd * (max - min + 1));\r\n        } else {\r\n            rand = Math.floor(Math.random() * (max - min + 1)) + min;\r\n        }\r\n        return rand;\r\n    }\r\n}","import React from 'react';\r\nimport \"./YearModelSelection.scss\";\r\nimport { connect } from \"react-redux\";\r\nfunction YearModelSelection(props) {\r\n  var handle_year_click = (year) => {\r\n    props.Set_selected_year(year)\r\n  }\r\n  var handle_model_click=(model)=>{\r\n      if (props.default_models.includes(model)) {\r\n        props.Set_default_models(props.default_models.filter(item=>item!=model))\r\n      }\r\n      else {\r\n        props.Set_default_models([...props.default_models,model])\r\n    }\r\n  }\r\n  return (\r\n    <div className=\"model_topbar\" style={{width:\"100%\",marginBottom:2,display:'flex',justifyContent: \"center\",margin:0}}>\r\n    <div ><h5 style={{ display: \"inline-block\", marginLeft: 0,marginRight:3,fontSize:16,fontWeight:600 }}>Years: </h5>{props.years_for_dropdown.map(item => <p className={props.selected_year==item ? \"years_p_selected years_p\" : \"years_p\"} onClick={() => handle_year_click(item)}>{item}</p>)}</div>\r\n    <div style={{marginLeft:20}}><h5 style={{ display: \"inline-block\", marginLeft: 0,marginRight:3,fontSize:16,fontWeight:600}}>Models:</h5>{props.all_models.map(item => <p className={props.default_models.includes(item) ? \"years_p_selected years_p\" : \"years_p\"} onClick={() => handle_model_click(item)}>{item}</p>)}</div>\r\n    </div>\r\n  );\r\n}\r\nconst maptstateToprop = (state) => {\r\n  return {\r\n    all_models:state.all_models,\r\n    selected_year: state.selected_year,\r\n    years_for_dropdown: state.years_for_dropdown,\r\n    default_models: state.default_models,\r\n  }\r\n}\r\nconst mapdispatchToprop = (dispatch) => {\r\n  return {\r\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: val }),\r\n    Set_default_models: (val) => dispatch({ type: \"default_models\", value: val }),\r\n  }\r\n}\r\nexport default connect(maptstateToprop, mapdispatchToprop)(YearModelSelection);\r\n\r\n//https://material-ui.com/api/slider/\r\n//https://material-ui.com/components/expansion-panels/\r\n//https://material-ui.com/api/checkbox/\r\n//https://material-ui.com/components/radio-buttons/","import React, { Component } from 'react';\r\nimport * as d3 from 'd3';\r\nimport { connect } from \"react-redux\";\r\n//import {get_feature_voting} from \"../Algorithms/exp_algo\";\r\n\r\nclass Chart extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { \"a\": 10 }\r\n    this.myid=React.createRef()\r\n  }\r\n  componentDidMount() {\r\n    this.setState({ a: 5 })\r\n  }\r\n  componentDidUpdate() {\r\n    var temp_dict = {}\r\n    this.props.default_models.filter(item => item != \"ListNet\").map(model => {\r\n      temp_dict[model] = this.props.popup_chart_data[0][model]\r\n    })\r\n    var merged_arr = [].concat.apply([], Object.values(temp_dict))\r\n    var scatterplot_data = Object.entries(this.props.popup_chart_data[0]).filter(item => this.props.pop_over_models.includes(item[0]))\r\n\r\n    //console.log(this.props.popup_chart_data[0],this.props.pop_over_models)\r\n    //----------------------------------------------------------------------------------------------------------Call createChart\r\n    if (merged_arr.length > 0) { // This is to avoid the error caused by the next line\r\n      if (isNaN(merged_arr[0][this.props.popup_chart_data[1]])) {\r\n        this.CreateChart_cat(merged_arr, this.props.popup_chart_data[1], scatterplot_data)\r\n      }\r\n      else {\r\n        //this.CreateChart_cat(merged_arr, this.props.popup_chart_data[1], scatterplot_data)\r\n        this.CreateChart(merged_arr, this.props.popup_chart_data[1], scatterplot_data)\r\n      }\r\n    }\r\n    else {\r\n      this.CreateChart(merged_arr, this.props.popup_chart_data[1], scatterplot_data) // calling the function to set the  graph empty when all models are unselected\r\n    }\r\n    //----------------------------------------------------------------------------------------------------------Set and unset Opacity\r\n    if (this.props.clicked_items_in_slopechart.length > 0) {\r\n      d3.selectAll('circle,.datapoint').attr('opacity', this.props.config.reduced_opacity)\r\n    }\r\n    this.props.clicked_items_in_slopechart.map(idName => d3.selectAll('#' + idName).attr('opacity', 1))\r\n    //----------------------------------------------------------------------------------------------------------\r\n  }\r\n  CreateChart = (data, feature, scatterplot_data) => {\r\n    var self = this,\r\n      feature_contribute = feature + \"_contribution\"\r\n    // set the dimensions and margins of the graph\r\n    var margin = { top: 0, right: 30, bottom: 45, left: 50, space_for_hist: 50 },\r\n      width = 520 - margin.left - margin.right,\r\n      height = 250 - margin.top - margin.bottom;\r\n    var temp_x = data.map(item => parseFloat(item[feature])),\r\n      temp_y = data.map(item => parseFloat(item[feature_contribute]))\r\n    var x = d3.scaleLinear().domain([d3.min(temp_x), d3.max(temp_x)]).range([0, width]).nice(),\r\n      y = d3.scaleLinear().domain([d3.min(temp_y), d3.max(temp_y)]).range([height, 0]).nice(); // circles will start from y position 10 and go upto height-10\r\n\r\n    //-------------------------------------------------------------All svgs\r\n    var parent_svg = d3.select(\"#\" + self.props.myid).attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom + margin.space_for_hist),\r\n      svg1 = parent_svg.selectAll('.svg11').data([0]).join('svg').attr(\"y\", margin.space_for_hist).attr(\"class\", \"svg11\").selectAll(\".myg\").data([0]).join('g').attr(\"class\", \"myg\").attr(\"transform\",\r\n        \"translate(\" + margin.left + \",\" + margin.top + \")\")\r\n\r\n    //------------------------------------------------------------------------------------------------------ Create Histogram starts here\r\n    var hist_height = margin.space_for_hist,\r\n      histogram = d3.histogram()\r\n        .value(d => d)   // I need to give the vector of value\r\n        .domain(x.domain())  // then the domain of the graphic\r\n    //.thresholds(x.ticks(5)); // then the numbers of bins\r\n    var bins = histogram(temp_x),\r\n      y_hist = d3.scaleLinear()\r\n        .range([hist_height, 0]);\r\n\r\n    y_hist.domain([0, d3.max(bins, function (d) { return d.length; })]);   // d3.hist has to be called before the Y axis obviously\r\n    var svg0 = parent_svg.selectAll('.svg0').data([0]).join('svg').attr(\"class\", \"svg0\").selectAll(\".myg0\").data([0]).join('g').attr(\"class\", \"myg0\").attr(\"transform\",\r\n      \"translate(\" + margin.left + \",\" + margin.top + \")\")\r\n    // Add line on the bottom of the histogram\r\n    svg0.selectAll(\".myline\").data([0]).join('line').attr(\"class\", \"myline\").attr(\"x1\", 0).attr(\"y1\", margin.space_for_hist).attr(\"x2\", width).attr(\"y2\", margin.space_for_hist).attr(\"stroke\", \"#EBEBEB\");\r\n    svg0.selectAll(\"rect\").data(bins).join('rect')\r\n      .attr(\"x\", 1)\r\n      .attr(\"fill\", \"#b7b7b7\")\r\n      .attr(\"transform\", function (d) {\r\n        if (d.x0 == d.x1) { return \"translate(\" + 0 + \",\" + y_hist(d.length) + \")\" }\r\n        return \"translate(\" + x(d.x0) + \",\" + y_hist(d.length) + \")\";\r\n      })\r\n      .attr(\"width\", function (d) {\r\n        if (d.x0 == d.x1) { return width }\r\n        return x(d.x1) - x(d.x0) - 0.2;\r\n      })\r\n      .attr(\"height\", function (d) { return hist_height - y_hist(d.length); });\r\n    //------------------------------------------------------------------------------------------------------ Create Histogram ends here\r\n\r\n    var svg1 = parent_svg.selectAll('.svg11').data([0]).join('svg').attr(\"class\", \"svg11\").selectAll(\".myg\").data([0]).join('g').attr(\"class\", \"myg\").attr(\"transform\",\r\n      \"translate(\" + margin.left + \",\" + margin.top + \")\")\r\n    svg1.selectAll(\".myline2\").data([0]).join('line').attr(\"class\", \"myline2\").attr(\"x1\", 0).attr(\"y1\", 0).attr(\"x2\", 0).attr(\"y2\", height).attr(\"stroke\", \"#EBEBEB\");\r\n    //svg1.selectAll(\".myline3\").data([0]).join('line').attr(\"class\",\"myline3\").attr(\"x1\", 0).attr(\"y1\", height).attr(\"x2\", width).attr(\"y2\", height).attr(\"stroke\", \"#EBEBEB\");\r\n\r\n    //------------- Add Y axis\r\n    var y2 = d3.scaleOrdinal().domain([\".\", \"0\", \"..\"]).range([height / 4, height / 2, (3 * height) / 4]); // circles will start from y position 10 and go upto height-10\r\n    svg1.selectAll(\".myYaxis\").data([0]).join('g').attr(\"class\", \"myYaxis\")\r\n      .call(d3.axisLeft(y2).tickSize(-width * 1.0).ticks(3).tickValues([\",\", \"0\", \"..\"]).tickFormat(d => d))\r\n      .select(\".domain\").remove()\r\n    svg1.selectAll(\".myYaxis\").selectAll('text').remove()\r\n\r\n    d3.selectAll('.svg11').selectAll('.myYtext').data([[\"++ ve\", height / 8], [\"+ ve\", (3 * height) / 8], [\"0\", height / 2], [\"- ve\", (5 * height) / 8], [\"-- ve\", (7 * height) / 8]]).join(\"text\").attr(\"class\", \"myYtext\")\r\n      .attr(\"x\", 45).attr(\"y\", (d, i) => d[1] + 4).text(d => d[0]).attr('font-size', 14).attr(\"text-anchor\", \"end\")\r\n    d3.selectAll('.svg11').attr('add_horizontal_lines', function () { //horizontal lines starts here\r\n      d3.select(this).selectAll(\".horiz_line\").data([3.85, 1.31]).join('line').attr('class', \"horiz_line\")\r\n        .attr(\"x1\", 11)\r\n        .attr(\"x2\", 50)\r\n        .attr(\"y1\", d => (height / d) - 2)\r\n        .attr(\"y2\", d => (height / d) - 2)\r\n        .style(\"stroke\", \"#EBEBEB\")\r\n    })\r\n\r\n    d3.selectAll('.svg11').selectAll(\".line0\").data([0]).join('line').attr('class', \"line0\")\r\n      .attr(\"x1\", 11)\r\n      .attr(\"x2\", 35)\r\n      .attr(\"y1\", d => (height / 2))\r\n      .attr(\"y2\", d => (height / 2))\r\n      .style(\"stroke\", \"#EBEBEB\")\r\n\r\n\r\n    //------------- Add X axis\r\n    if (d3.max(d3.max(bins)) > 1000) {\r\n      svg1.selectAll(\".myXaxis\").data([0]).join('g').attr(\"class\", \"myXaxis\")\r\n        .attr(\"transform\", \"translate(0,\" + height + \")\")\r\n        .call(d3.axisBottom(x).tickSize(-height * 1.3).tickValues(bins.map(item => item['x1'])).tickFormat(d3.format(\".2s\")))\r\n        .select(\".domain\").remove()\r\n    }\r\n    else {\r\n      svg1.selectAll(\".myXaxis\").data([0]).join('g').attr(\"class\", \"myXaxis\")\r\n        .attr(\"transform\", \"translate(0,\" + height + \")\")\r\n        .call(d3.axisBottom(x).tickSize(-height * 1.3).tickValues(bins.map(item => item['x1'])))\r\n        .select(\".domain\").remove()\r\n    }\r\n    svg1.selectAll(\".tick line\").attr(\"stroke\", \"#EBEBEB\")\r\n\r\n    //------------------------------------------------------------------------------------------------------ Scatterplot starts here\r\n    svg1.selectAll(\".scatterplot_g\").data(scatterplot_data).join('g').attr(\"id\", d => d[0] + \"scatterplot_g_id\").attr(\"class\", \"scatterplot_g\").attr(\"ax\", function (d) {\r\n      temp_x = d[1].map(item => parseFloat(item[feature]))\r\n      temp_y = d[1].map(item => parseFloat(item[feature_contribute]))\r\n\r\n      x = d3.scaleLinear().domain([d3.min(temp_x), d3.max(temp_x)]).range([0, width]).nice()\r\n      y = d3.scaleLinear().domain([d3.min(temp_y), d3.max(temp_y)]).range([height, 0]).nice();\r\n\r\n      d3.select(this).selectAll('circle').data(d[1])\r\n        .join(\"circle\")\r\n        .attr(\"cx\", (d, i) => {\r\n          if (x(parseFloat(d[feature])) < 10) {\r\n            return 10;\r\n          }\r\n          else if (x(parseFloat(d[feature])) > width - 10) {\r\n            return width - 10;\r\n          }\r\n          return x(d[feature]) + 2\r\n        })\r\n        .attr(\"cy\", (d, i) => {\r\n          if (y(parseFloat(d[feature_contribute])) < 10) {\r\n            return 10;\r\n          }\r\n          else if (y(parseFloat(d[feature_contribute])) > (height - 10)) {\r\n            return height - 10;\r\n          }\r\n          return y(parseFloat(d[feature_contribute])) - 0\r\n\r\n        })\r\n        .attr(\"actual_Y_valu\", d => d[feature_contribute])\r\n        .attr(\"r\", 4)\r\n        .attr(\"class\", \"random\")\r\n        .attr(\"fill\", (d) => self.props.diverginColor(d['two_realRank']))\r\n        .attr(\"id\", d => \"A\" + String(d['State']).replace(/ +/g, \"\"))\r\n        .attr(\"class\", function (d) {\r\n          return \"bar myid\" + String(d['two_realRank']) + \" exp_circles\"\r\n        })\r\n        .attr('dataset_name',d[0])\r\n        .on(\"click\", d => {\r\n          //self.props.textClickHandler_original(\"A\" + d[\"State\"])\r\n        })\r\n    })\r\n\r\n// Define the div for the tooltip\r\n    var div = d3.select(\"body\").append(\"div\")\r\n      .attr(\"class\", \"tooltip2\")\r\n      .style(\"opacity\", 0);\r\n    d3.selectAll('.exp_circles')\r\n      .on(\"mouseover\", function (d) {\r\n        div.transition()\r\n          .duration(200)\r\n          .style(\"opacity\", .9);\r\n        div.html(\"<p>\" + d['State'] + \"</p>\" + \"<p>\" + \"Model: \" + d3.select(this).attr('dataset_name') + \"</p>\")\r\n        //div.html(d['State'])\r\n          .style(\"left\", (d3.event.pageX) + \"px\")\r\n          .style(\"top\", (d3.event.pageY - 28) + \"px\");\r\n      })\r\n      .on(\"mouseout\", function (d) {\r\n        d3.selectAll('.tooltip2').transition()\r\n          .duration(500)\r\n          .style(\"opacity\", 0);\r\n      })\r\n\r\n    //------------------------------------------------------------------------------------------------------ Scatterplot ends here\r\n\r\n  }\r\n  CreateChart_cat = (data, feature, scatterplot_data) => {\r\n    var self = this,\r\n      feature_contribute = feature + \"_contribution\"\r\n    var margin = { top: 0, right: 30, bottom: 75, left: 50, space_for_hist: 50 }, width = 520 - margin.left - margin.right, height = 270 - margin.top - margin.bottom;\r\n    var barplot_data = {}\r\n    data.map(item => { if (barplot_data[item[feature]] > 0) { barplot_data[item[feature]] += 1 } else { barplot_data[item[feature]] = 1 } })\r\n\r\n    var temp_x = Object.keys(barplot_data),\r\n      temp_y = Object.values(barplot_data),\r\n      y = d3.scaleLinear().domain([d3.min(temp_y), d3.max(temp_y)]).range([height, 0]).nice(); // circles will start from y position 10 and go upto height-10\r\n\r\n    var x = d3.scaleBand().domain(temp_x).range([0, width]).padding(0.1);\r\n\r\n    // add the x Axis\r\n    //svg.append(\"g\").attr(\"transform\", \"translate(0,\" + height + \")\").call(d3.axisBottom(x));\r\n    //-------------------------------------------------------------All svgs\r\n    var parent_svg = d3.select(\"#\" + self.props.myid).attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom + margin.space_for_hist),\r\n      svg1 = parent_svg.selectAll('.svg11').data([0]).join('svg').attr(\"y\", margin.space_for_hist).attr(\"class\", \"svg11\").selectAll(\".myg\").data([0]).join('g').attr(\"class\", \"myg\").attr(\"transform\",\r\n        \"translate(\" + margin.left + \",\" + margin.top + \")\")\r\n\r\n    //------------------------------------------------------------------------------------------------------ Create Histogram starts here\r\n    var hist_height = margin.space_for_hist\r\n    y = d3.scaleLinear().domain([0, d3.max(temp_y)]).range([hist_height, 0]).nice();\r\n    var svg0 = parent_svg.selectAll('.svg0').data([0]).join('svg').attr(\"class\", \"svg0\").selectAll(\".myg0\").data([0]).join('g').attr(\"class\", \"myg0\")\r\n      .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\")\r\n    // Add line on the bottom of the histogram\r\n    svg0.selectAll(\".myline\").data([0]).join('line').attr(\"class\", \"myline\").attr(\"x1\", 0).attr(\"y1\", margin.space_for_hist).attr(\"x2\", width).attr(\"y2\", margin.space_for_hist).attr(\"stroke\", \"#EBEBEB\");\r\n    svg0.selectAll(\"rect\").data(Object.entries(barplot_data)).join('rect')\r\n      .attr(\"x\", d => x(d[0]))\r\n      .attr(\"fill\", \"#b7b7b7\")\r\n      .attr(\"width\", x.bandwidth())\r\n      .attr(\"y\", d => y(d[1]))\r\n      .attr(\"height\", d => hist_height - y(d[1]));\r\n    //------------------------------------------------------------------------------------------------------ Create Histogram ends here\r\n\r\n    var svg1 = parent_svg.selectAll('.svg11').data([0]).join('svg').attr(\"class\", \"svg11\").selectAll(\".myg\").data([0]).join('g').attr(\"class\", \"myg\").attr(\"transform\",\r\n      \"translate(\" + margin.left + \",\" + margin.top + \")\")\r\n    svg1.selectAll(\".myline2\").data([0]).join('line').attr(\"class\", \"myline2\").attr(\"x1\", 0).attr(\"y1\", 0).attr(\"x2\", 0).attr(\"y2\", height).attr(\"stroke\", \"#EBEBEB\");\r\n    svg1.selectAll(\".myline3\").data([0]).join('line').attr(\"class\", \"myline3\").attr(\"x1\", 0).attr(\"y1\", height).attr(\"x2\", width).attr(\"y2\", height).attr(\"stroke\", \"#EBEBEB\");\r\n\r\n\r\n    //------------- Add Y axis\r\n    var y2 = d3.scaleOrdinal().domain([\".\", \"0\", \"..\"]).range([height / 4, height / 2, (3 * height) / 4]); // circles will start from y position 10 and go upto height-10\r\n    svg1.selectAll(\".myYaxis\").data([0]).join('g').attr(\"class\", \"myYaxis\")\r\n      .call(d3.axisLeft(y2).tickSize(-width * 1.0).ticks(3).tickValues([\",\", \"0\", \"..\"]).tickFormat(d => d))\r\n      .select(\".domain\").remove()\r\n    svg1.selectAll(\".myYaxis\").selectAll('text').remove()\r\n    d3.selectAll('.svg11').selectAll('.myYtext').data([[\"++ve\", height / 8], [\"+ve\", (3 * height) / 8], [\"0\", height / 2], [\"-ve\", (5 * height) / 8], [\"--ve\", (7 * height) / 8]]).join(\"text\").attr(\"class\", \"myYtext\")\r\n      .attr(\"x\", 45).attr(\"y\", (d, i) => d[1] + 4).text(d => d[0]).attr('font-size', 14).attr(\"text-anchor\", \"end\")\r\n    d3.selectAll('.svg11').attr('add_horizontal_lines', function () { //horizontal lines starts here\r\n      d3.select(this).selectAll(\".horiz_line\").data([3.85, 1.31]).join('line').attr('class', \"horiz_line\")\r\n        .attr(\"x1\", 11)\r\n        .attr(\"x2\", 50)\r\n        .attr(\"y1\", d => (height / d) - 2)\r\n        .attr(\"y2\", d => (height / d) - 2)\r\n        .style(\"stroke\", \"#EBEBEB\")\r\n    })\r\n\r\n    d3.selectAll('.svg11').selectAll(\".line0\").data([0]).join('line').attr('class', \"line0\")\r\n      .attr(\"x1\", 11)\r\n      .attr(\"x2\", 35)\r\n      .attr(\"y1\", d => (height / 2))\r\n      .attr(\"y2\", d => (height / 2))\r\n      .style(\"stroke\", \"#EBEBEB\")\r\n\r\n\r\n    //------------- Add X axis\r\n    svg1.selectAll(\".myXaxis\").data([0]).join('g').attr(\"class\", \"myXaxis\")\r\n      .attr(\"transform\", \"translate(0,\" + height + \")\")\r\n      .call(d3.axisBottom(x).tickSize(-height * 1.3)).selectAll(\"text\")\r\n      .style(\"text-anchor\", \"end\")\r\n      .attr(\"dx\", \"-.8em\")\r\n      .attr(\"dy\", \"0em\")\r\n      .attr(\"transform\", \"rotate(-90)\")\r\n      .selectAll(\".tick line\").remove()\r\n    svg1.selectAll(\".domain\").remove()\r\n    svg1.selectAll(\".tick line\").attr(\"stroke\", \"#EBEBEB\")\r\n    //------------------------------------------------------------------------------------------------------ Create Histogram ends here\r\n    //------------------------------------------------------------------------------------------------------ Scatterplot starts here\r\n    svg1.selectAll(\".scatterplot_g\").data(scatterplot_data).join('g').attr(\"id\", d => d[0] + \"scatterplot_g_id\").attr(\"class\", \"scatterplot_g\").attr(\"ax\", function (d) {\r\n      var temp_y = d[1].map(item => parseFloat(item[feature + \"_contribution\"])) // d[1] \r\n      y = d3.scaleLinear().domain([d3.min(temp_y), d3.max(temp_y)]).range([height, 0]).nice();\r\n\r\n      d3.select(this).selectAll('circle').data(d[1])\r\n        .join(\"circle\")\r\n        .attr(\"cx\", (d, i) => {\r\n          return x(d[feature]) + x.bandwidth() / 2\r\n        })\r\n        .attr(\"cy\", (d, i) => {\r\n          if (y(parseFloat(d[feature_contribute])) < 10) {\r\n            return 10;\r\n          }\r\n          else if (y(parseFloat(d[feature_contribute])) > (height - 10)) {\r\n            return height - 10;\r\n          }\r\n          return y(parseFloat(d[feature_contribute])) - 0\r\n\r\n        })\r\n        .attr(\"actual_Y_valu\", d => d[feature_contribute])\r\n        .attr(\"r\", 4)\r\n        .attr(\"class\", \"random\")\r\n        .attr(\"fill\", (d) => self.props.diverginColor(d['two_realRank']))\r\n        .attr(\"id\", d => \"A\" + String(d['State']).replace(/ +/g, \"\"))\r\n        .attr(\"class\", function (d) {\r\n          return \"bar myid\" + String(d['two_realRank']) + \" exp_circles\"\r\n        })\r\n        .attr('dataset_name',d[0])\r\n        .on(\"click\", d => {\r\n          //self.props.textClickHandler_original(\"A\" + d[\"State\"])\r\n        })\r\n    })\r\n\r\n// Define the div for the tooltip\r\nvar div = d3.select(\"body\").append(\"div\")\r\n.attr(\"class\", \"tooltip2\")\r\n.style(\"opacity\", 0);\r\nd3.selectAll('.exp_circles')\r\n.on(\"mouseover\", function (d) {\r\n  div.transition()\r\n    .duration(200)\r\n    .style(\"opacity\", .9);\r\n  div.html(\"<p>\" + d['State'] + \"</p>\" + \"<p>\" + \"Model: \" + d3.select(this).attr('dataset_name') + \"</p>\")\r\n  //div.html(d['State'])\r\n    .style(\"left\", (d3.event.pageX) + \"px\")\r\n    .style(\"top\", (d3.event.pageY - 28) + \"px\");\r\n})\r\n.on(\"mouseout\", function (d) {\r\n  d3.selectAll('.tooltip2').transition()\r\n    .duration(500)\r\n    .style(\"opacity\", 0);\r\n})\r\n\r\n    //------------------------------------------------------------------------------------------------------ Scatterplot ends here\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div key={this.props.popup_chart_data[1]} style={{ margin: 10, padding: 10, border: this.props.index == 0 ? \"3px solid #e5e5e5\" : \"white\" }}>\r\n        <svg ref={this.myid} id={this.props.myid}> </svg>\r\n        <p style={{ color: \"#4f4c4c\", marginLeft: \"42%\", marginTop: -25, marginBottom: 0 }}>{this.props.popup_chart_data[1]}</p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst maptstateToprop = (state) => {\r\n  return {\r\n    //popup_chart_data: state.popup_chart_data,\r\n    pop_over_models: state.pop_over_models,\r\n    clicked_items_in_slopechart: state.clicked_items_in_slopechart,\r\n    config: state.config,\r\n    mode: state.mode,\r\n    range_mode_model: state.range_mode_model,\r\n    time_mode_model: state.time_mode_model,\r\n  }\r\n}\r\nconst mapdispatchToprop = (dispatch) => {\r\n  return {\r\n    Set_clicked_items_in_slopechart: (val) => dispatch({ type: \"clicked_items_in_slopechart\", value: val }),\r\n  }\r\n}\r\nexport default connect(maptstateToprop, mapdispatchToprop)(Chart);","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport { connect } from \"react-redux\";\r\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\r\nfunction FadeMenu(props) {\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const open = Boolean(anchorEl);\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n  //------------For list and chckbox\r\n  const [checked, setChecked] = React.useState([0]);\r\n  const handleToggle = (value) => () => {\r\n    const currentIndex = checked.indexOf(value);\r\n    const newChecked = [...checked];\r\n    if (currentIndex === -1) {\r\n      newChecked.push(value);\r\n    } else {\r\n      newChecked.splice(currentIndex, 1);\r\n    }\r\n    setChecked(newChecked);\r\n  };\r\n  //----------------\r\n  const checkboxChanged = (event) => {\r\n    let temp_Models=[...props.pop_over_models].filter(item=>item!=\"ListNet\")\r\n    if (temp_Models.includes(event.target.value)) {\r\n      temp_Models = props.pop_over_models.filter(item => item != event.target.value)\r\n      props.Set_pop_over_models(temp_Models)\r\n    }\r\n    else {\r\n      temp_Models.push(event.target.value)\r\n      props.Set_pop_over_models(temp_Models)\r\n    }\r\n  }\r\n  return (\r\n    <div>\r\n      <Button aria-controls=\"fade-menu\" aria-haspopup=\"true\" onClick={handleClick}>\r\n        Filter Models\r\n        <ArrowDropDownIcon></ArrowDropDownIcon>\r\n      </Button>\r\n      <Menu\r\n        id=\"fade-menu\"\r\n        anchorEl={anchorEl}\r\n        keepMounted\r\n        open={open}\r\n        onClose={handleClose}\r\n        TransitionComponent={Fade}\r\n      >\r\n        <div className=\"CheckboxContainer\">\r\n          <List>\r\n            {props.default_models.map((value) => {\r\n              const labelId = `checkbox-list-label-${value}`;\r\n              return (\r\n                <ListItem key={value} role={undefined} onClick={handleToggle(value)}>\r\n                  <Checkbox\r\n                    checked={props.pop_over_models.includes(value)}\r\n                    edge=\"start\"\r\n                    tabIndex={-1}\r\n                    value={value}\r\n                    onChange={(event, value) => {\r\n                      checkboxChanged(event, value)\r\n                    }\r\n                    }\r\n                  />\r\n                  <p className=\"list_item_label\" id={labelId}>{value}</p>\r\n                </ListItem>\r\n              );\r\n            })}\r\n          </List>\r\n        </div>\r\n      </Menu>\r\n    </div>\r\n  );\r\n}\r\nconst maptstateToprop = (state) => {\r\n  return {\r\n    pop_over_models:state.pop_over_models\r\n  }\r\n}\r\nconst mapdispatchToprop = (dispatch) => {\r\n  return {\r\n    Set_default_models: (val) => dispatch({ type: \"default_models\", value: val }),\r\n    Set_pop_over_models: (val) => dispatch({ type: \"pop_over_models\", value: val }),\r\n  }\r\n}\r\nexport default connect(maptstateToprop, mapdispatchToprop)(FadeMenu);\r\n//https://material-ui.com/components/menus/\r\n","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport { connect } from \"react-redux\";\r\nimport Chart_pop from './chart_pop'\r\nimport Draggable from 'react-draggable';\r\nimport * as d3 from 'd3';\r\nimport Grid from \"@material-ui/core/Grid\"\r\nimport FilterModel from \"./FilterModel\"\r\nimport * as $ from 'jquery';\r\nexport function SimplePopover(props) {\r\n    console.log('dbclicked_features:',props.dbclicked_features,'popup_chart_data:',props.popup_chart_data,\"clicked_data\")\r\n    const handleClose = () =>{\r\n        props.set_pop_over(false)\r\n        props.set_dbclicked_features([])\r\n    };\r\n    return (\r\n        <div className=\"pop_over\" style={{ position: \"relative\" }}>\r\n            {props.pop_over == true ?\r\n                <div style={{ top: \"2%\", left: \"14%\", position: \"fixed\",pointerEvents:\"none\",backgroundColor:\"transparent\" }}>\r\n                    <Draggable>\r\n                        <Grid style={{ backgroundColor: \"#ffffff\", boxShadow: \"3px 2px 15px -7px #000000\",pointerEvents:\"auto\" }}>\r\n                            <Grid container style={{ borderBottom: \"1px solid #e2e2e2\", marginBottom: 20 }}\r\n                                direction=\"row\"\r\n                                justify=\"space-between\"\r\n                                alignItems=\"center\"\r\n                            >\r\n                                <FilterModel default_models={props.default_models}></FilterModel>\r\n                                <Button color=\"secondary\" id=\"draggable-dialog-title\" onClick={handleClose}>close</Button>\r\n                            </Grid>\r\n                            <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\" style={{maxHeight:700,overflow:\"scroll\",maxWidth:1600}}>\r\n                                {\r\n                                props.dbclicked_features.length>0?props.dbclicked_features.map((item,index)=><Chart_pop index={index}\r\n                                popup_chart_data={[props.popup_chart_data[0],item]} default_models={props.default_models} \r\n                                myid={item.replace(/\\s/g, '').replace(/[`~!@#$%^&*()_|+\\-=?;:'\",.<>\\{\\}\\[\\]\\\\\\/]/gi, '')} diverginColor={props.diverginColor} \r\n                                textClickHandler_original={props.textClickHandler_original}></Chart_pop>):<Chart_pop popup_chart_data={props.popup_chart_data} \r\n                                default_models={props.default_models} myid=\"myid1\" \r\n                                diverginColor={props.diverginColor} textClickHandler_original={props.textClickHandler_original}></Chart_pop>\r\n                                }\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Draggable>\r\n                </div> : null}\r\n        </div>\r\n    );\r\n}\r\nconst maptstateToprop = (state) => {\r\n    return {\r\n        popup_chart_data: state.popup_chart_data,\r\n        pop_over: state.pop_over,\r\n        dbclicked_features:state.dbclicked_features,\r\n    }\r\n}\r\nconst mapdispatchToprop = (dispatch) => {\r\n    return {\r\n        set_pop_over: (val) => dispatch({ type: \"pop_over\", value: val }),\r\n        set_dbclicked_features: (val) => dispatch({ type: \"dbclicked_features\", value: val }),\r\n        set_clicked_features: (val) => dispatch({ type: \"clicked_features\", value: val }),\r\n    }\r\n}\r\nexport default connect(maptstateToprop, mapdispatchToprop)(SimplePopover);\r\n","import React, { Component } from 'react';\r\nimport * as d3 from 'd3';\r\nimport { connect } from \"react-redux\";\r\nimport * as deviation_chart from \"../DevPlot/deviation_chart\"\r\nimport * as misc_algo from '../misc_algo'\r\nimport * as $ from 'jquery';\r\nimport ModelSlider from './ModelSlider';\r\nimport ExpChart from '../ExpChart/ExpChartComponent';\r\nimport './ModelSlider.scss';\r\nimport YearModelSelection from \"./YearAndModelSelection/YearModelSelection\"\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Popover from '../Popover/Popover';\r\nclass SlopeChart extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.line_color = null;\r\n    this.state = { height_slope_exp_chart: 700, mouseX: 0, mouseY: 0 }\r\n  }\r\n  componentDidMount() { this.setState({ width: window.innerHeight }) }\r\n  shouldComponentUpdate(prevProps, prevState) { return true; }\r\n  componentDidUpdate(prevProps, prevState) {\r\n    var selected_instances = d3.range(this.props.state_range[0], this.props.state_range[1] + 1)\r\n    if (this.props.histogram_data.length > 0) { selected_instances = this.props.histogram_data }\r\n    //--------------------\r\n    /*\r\n    var under_threshold_instances = []\r\n    var year_data = this.props.original_data.filter(item => this.props.selected_year == item['1-qid'])\r\n    this.props.default_models.map(model_name => {\r\n      year_data.map(item => {\r\n        var two_realRank = parseInt(item['two_realRank'])\r\n        var predicted_rank = parseInt(item[model_name])\r\n        if (Math.abs(predicted_rank - two_realRank) > this.props.threshold) {\r\n          under_threshold_instances.push(two_realRank)\r\n        }\r\n      })\r\n    })\r\n    selected_instances = selected_instances.filter(item => !under_threshold_instances.includes(item))\r\n    */\r\n    //--------------------\r\n    var min = d3.min(selected_instances), max = d3.max(selected_instances);\r\n    var d = (max - min) / 8;\r\n    var diverginColor = d3.scaleLinear().domain([min + d * 7, min + d * 6, min + d * 5, min + d * 4, min + d * 3, min + d * 2, min]).interpolate(d3.interpolateRgb).range(['#00429d', '#4771b2', '#73a2c6', '#a5d5d8', /*'#ffffe0',*/ '#ffbcaf', '#f4777f', '#cf3759', '#93003a']);\r\n    //--------------------\r\n\r\n    deviation_chart.Create_deviation_chart('dev_plot_container_svg', 'exp', selected_instances, this.props.original_data, this.props.default_models, this.props.anim_config, this.props.selected_year, this.props.average_m, this.props.clicked_circles, this.props.Set_clicked_circles, diverginColor, this.props.sparkline_data, this.props.Set_selected_year, this.props.dataset, this.props.threshold)\r\n    misc_algo.handle_transparency(\"circle2\", this.props.clicked_circles, this.props.anim_config)\r\n  }\r\n  render() {\r\n    var selected_instances = d3.range(this.props.state_range[0], this.props.state_range[1] + 1)\r\n    if (this.props.histogram_data.length > 0) { selected_instances = this.props.histogram_data }\r\n    //--------------------\r\n    var min = d3.min(selected_instances), max = d3.max(selected_instances);\r\n    var d = (max - min) / 8;\r\n    var diverginColor = d3.scaleLinear().domain([min + d * 7, min + d * 6, min + d * 5, min + d * 4, min + d * 3, min + d * 2, min]).interpolate(d3.interpolateRgb).range(['#00429d', '#4771b2', '#73a2c6', '#a5d5d8', /*'#ffffe0',*/ '#ffbcaf', '#f4777f', '#cf3759', '#93003a']);\r\n    this.props.Set_selected_instances(selected_instances)\r\n    //--------------------\r\n    var deviation_array = []\r\n    this.props.default_models.map(model => {\r\n      this.props.lime_data[model].map(item => {\r\n        if (item['1-qid'] == this.props.selected_year && selected_instances.includes(parseInt(item['two_realRank']))) {\r\n          deviation_array.push(item['deviation'])\r\n        }\r\n      })\r\n    })\r\n    this.props.Set_deviation_array(deviation_array)\r\n    //console.log('deviation_array: ', d3.extent(deviation_array))\r\n    //--------------------\r\n    return (\r\n      <Grid className=\"ModelChartParent\" container direction=\"row\" justify=\"flex-start\" alignItems=\"center\" style={{ height: '100%', width: '100%', backgroundColor: 'white', margin: 2, padding: 2, boxShadow: \"-2px 1px 4px -1px white\" }}> {/* This model chart's height and width is the parent*/}\r\n        <Grid item className=\"left_container\" style={{ width: 420, backgroundColor: \"#fcfcfc\" }}>\r\n          {/* The deviation plot container starts below */}\r\n          <div className=\"year_and_model_selector_and_slider_container\"> {/* This is used to calculate the deviation plot height */}\r\n            <YearModelSelection></YearModelSelection><ModelSlider></ModelSlider>\r\n          </div>\r\n          {/* The deviation plot container starts below */}\r\n          <div class=\"deviation_plot_container_div\" style={{ width: \"100%\", height: $('.ModelChartParent').height() - $('.year_and_model_selector_and_slider_container').height(), marginBottom: 0, overflow: 'scroll' }}>\r\n            <svg id=\"dev_plot_container_svg\" style={{ width: \"100%\", overflow: 'hidden' }}></svg>\r\n          </div>\r\n          {/* The deviation plot container ends here */}\r\n        </Grid>\r\n        {/* The explanation plot container starts below */}\r\n        {this.props.rank_data != null ?\r\n          <Grid item className=\"right_container\" style={{ height: '100%', width: $('.ModelChartParent').width() - $('.left_container').width() }}>\r\n            <Grid container spacing={1} direction=\"row\" justify=\"flex-start\" alignItems=\"center\" style={{ width: '100%', height: '100%' }}>\r\n              {\r\n                this.props.default_models.map(model_name => {\r\n                  return <Grid item xs={parseInt(12 / this.props.default_models.length)} style={{ height: \"100%\", overflow: 'hidden' }}>\r\n                    <ExpChart diverginColor={diverginColor} exp_id=\"exp\" default_models={this.props.default_models} state_range={this.props.state_range} selected_year={this.props.selected_year} model_name={model_name}></ExpChart>\r\n                  </Grid>\r\n                })\r\n              }\r\n            </Grid>\r\n          </Grid> : null}\r\n        {/* The explanation plot container ends here */}\r\n        <Popover diverginColor={diverginColor} default_models={this.props.default_models}></Popover>\r\n      </Grid>\r\n    )\r\n  }\r\n}\r\nconst maptstateToprop = (state) => {\r\n  return {\r\n    histogram_data: state.histogram_data,\r\n    state_range: state.state_range,\r\n    selected_year: state.selected_year,\r\n    lime_data: state.lime_data,\r\n    default_models: state.default_models,\r\n    original_data: state.original_data,\r\n    dataset: state.dataset,\r\n    sparkline_data: state.sparkline_data,\r\n    dataset: state.dataset,\r\n    anim_config: state.anim_config,\r\n    average_m: state.average_m,\r\n    rank_data: state.rank_data,\r\n    clicked_circles: state.clicked_circles,\r\n    threshold: state.threshold\r\n  }\r\n}\r\nconst mapdispatchToprop = (dispatch) => {\r\n  return {\r\n    Set_selected_instances: (val) => dispatch({ type: \"selected_instances\", value: val }),\r\n    Set_deviation_array: (val) => dispatch({ type: \"deviation_array\", value: val }),\r\n    Set_clicked_circles: (val) => dispatch({ type: \"clicked_circles\", value: val }),\r\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: val }),\r\n  }\r\n}\r\nexport default connect(maptstateToprop, mapdispatchToprop)(SlopeChart);","import React from 'react';\r\nimport Slider from '@material-ui/core/Slider';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { connect } from \"react-redux\";\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from \"@material-ui/core/Button\";\r\nimport './ModelSlider.scss';\r\nimport * as $ from 'jquery'\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: '100%',\r\n    },\r\n    heading: {\r\n        fontSize: theme.typography.pxToRem(15),\r\n        flexBasis: '33.33%',\r\n        flexShrink: 0,\r\n    },\r\n    secondaryHeading: {\r\n        fontSize: theme.typography.pxToRem(15),\r\n        color: theme.palette.text.secondary,\r\n    },\r\n    tRoot: {\r\n        marginBottom: 35,\r\n    },\r\n    rang_input: {\r\n        marginLeft: 10,\r\n    },\r\n}));\r\nfunction Modes(props) {\r\n    const classes = useStyles();\r\n    // states \r\n    const [sliderRange, set_sliderRange] = React.useState(props.range_mode_range1);\r\n    //-----------------------------------------------------------------\r\n    var temp_marks = [];\r\n    var step = (props.slider_max - 1) / (6 - 1);\r\n    for (var i = 0; i < 6; i++) {\r\n        temp_marks.push(1 + (step * i));\r\n    }\r\n    var marks = temp_marks.map(item => {\r\n        var myitem = parseInt(item)\r\n        return { value: myitem, label: myitem }\r\n    })\r\n    //console.log(props.marks)\r\n    //-----------------------------------------------------------------\r\n    return (\r\n        <div className=\"Modelslider\" \r\n        style={{height: 70, width: '100%',marginBottom:5,padding: 30, border: \"1px solid rgb(178, 178, 178,0.5)\"}}>\r\n            <div className=\"lower\" style={{ padding: \"0px 0px\", marginTop: -20 }}>\r\n                <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Lower\" value={sliderRange[0]} style={{ width: \"100%\" }}\r\n                    onChange={event => {\r\n                        if (isNaN(parseInt(event.target.value))) {\r\n                            set_sliderRange([\"\", sliderRange[1]])\r\n                        } else {\r\n                            if (event.target.value > sliderRange[1]) {\r\n                                alert(\"Lower range can not be larger than the upper range\")\r\n                            }\r\n                            else {\r\n                                set_sliderRange([event.target.value, sliderRange[1]])\r\n                            }\r\n                        }\r\n                    }\r\n                    }\r\n                />\r\n            </div>\r\n            <div className=\"slider\" style={{width: \"100%\", margin: \"0px 0px\" }}>\r\n                <Slider value={sliderRange} onChange={(event, newValue) => set_sliderRange(newValue)} onChangeCommitted={(event, newValue) => props.Set_changed(\"range\")}\r\n                    valueLabelDisplay=\"auto\" aria-labelledby=\"range-slider\" valueLabelDisplay=\"on\" min={1} max={props.slider_max} marks={marks}\r\n                />\r\n            </div>\r\n            <div className=\"upper\" style={{ padding: \"0px 0px\", marginTop: -20 }}>\r\n                <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Upper\" value={sliderRange[1]} style={{ width: \"100%\" }}\r\n                    onChange={event => {\r\n                        if (isNaN(parseInt(event.target.value))) {\r\n                            set_sliderRange([sliderRange[0], \"\"])\r\n                        } else {\r\n                            if (parseInt(event.target.value) > props.slider_max) {\r\n                                alert(\"Upper range can not exceed maximum\")\r\n                                set_sliderRange([sliderRange[0], props.slider_max])\r\n                            }\r\n                            else {\r\n                                set_sliderRange([sliderRange[0], parseInt(event.target.value)])\r\n                            }\r\n                        }\r\n                    }\r\n                    }\r\n                />\r\n            </div>\r\n            <div className=\"button\" item xs=\"2\" style={{ marginTop: -10 }}>\r\n                <Button className=\"range_button\" style={{ backgroundColor: \"#ededed\", height: 30 }}\r\n                    onClick={() => {\r\n                        props.Set_range_mode_range1(sliderRange)\r\n                    }}\r\n                >Update range</Button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nconst maptstateToprop = (state) => {\r\n    return {\r\n        slider_max: state.slider_max,\r\n        range_mode_range1: state.range_mode_range1,\r\n    }\r\n}\r\nconst mapdispatchToprop = (dispatch) => {\r\n    return {\r\n        Set_range_mode_range1: (val) => dispatch({ type: \"range_mode_range1\", value: val }),\r\n        Set_changed: (val) => dispatch({ type: \"changed\", value: val }),\r\n    }\r\n}\r\nexport default connect(maptstateToprop, mapdispatchToprop)(Modes);","import React from 'react';\r\nimport Slider from '@material-ui/core/Slider';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { connect } from \"react-redux\";\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from \"@material-ui/core/Button\";\r\nimport './ModelSlider.scss';\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: '100%',\r\n    },\r\n    heading: {\r\n        fontSize: theme.typography.pxToRem(15),\r\n        flexBasis: '33.33%',\r\n        flexShrink: 0,\r\n    },\r\n    secondaryHeading: {\r\n        fontSize: theme.typography.pxToRem(15),\r\n        color: theme.palette.text.secondary,\r\n    },\r\n    tRoot: {\r\n        marginBottom: 35,\r\n    },\r\n    rang_input: {\r\n        marginLeft: 10,\r\n    },\r\n}));\r\nfunction Modes(props) {\r\n    const classes = useStyles();\r\n    // states \r\n    const [sliderRange, set_sliderRange] = React.useState(props.range_mode_range2);\r\n    //-----------------------------------------------------------------\r\n    var temp_marks = [];\r\n    var step = (props.slider_max - 1) / (6 - 1);\r\n    for (var i = 0; i < 6; i++) {\r\n        temp_marks.push(1 + (step * i));\r\n    }\r\n    var marks = temp_marks.map(item => {\r\n        var myitem = parseInt(item)\r\n        return { value: myitem, label: myitem }\r\n    })\r\n    //console.log(props.marks)\r\n    //-----------------------------------------------------------------\r\n    return (\r\n        <div className=\"Modelslider\" style={{height: 70, width: \"100%\",marginBottom:5, paddingTop: 30,paddingLeft:15, border: \"1px solid rgb(178, 178, 178,0.5)\"}}>\r\n            <div className=\"lower\" style={{ padding: \"0px 0px\", marginTop: -20 }}>\r\n                <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Lower\" value={sliderRange[0]} style={{ width: \"100%\" }}\r\n                    onChange={event => {\r\n                        if (isNaN(parseInt(event.target.value))) {\r\n                            set_sliderRange([\"\", sliderRange[1]])\r\n                        } else {\r\n                            if (event.target.value > sliderRange[1]) {\r\n                                alert(\"Lower range can not be larger than the upper range\")\r\n                            }\r\n                            else {\r\n                                set_sliderRange([event.target.value, sliderRange[1]])\r\n                            }\r\n                        }\r\n                    }\r\n                    }\r\n                />\r\n            </div>\r\n            <div className=\"slider\" style={{width: \"100%\", margin: \"0px 0px\" }}>\r\n                <Slider value={sliderRange} onChange={(event, newValue) => set_sliderRange(newValue)} onChangeCommitted={(event, newValue) => props.Set_changed(\"range\")}\r\n                    valueLabelDisplay=\"auto\" aria-labelledby=\"range-slider\" valueLabelDisplay=\"on\" min={1} max={props.slider_max} marks={marks}\r\n                />\r\n            </div>\r\n            <div className=\"upper\" style={{ padding: \"0px 0px\", marginTop: -20 }}>\r\n                <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Upper\" value={sliderRange[1]} style={{ width: \"100%\" }}\r\n                    onChange={event => {\r\n                        if (isNaN(parseInt(event.target.value))) {\r\n                            set_sliderRange([sliderRange[0], \"\"])\r\n                        } else {\r\n                            if (parseInt(event.target.value) > props.slider_max) {\r\n                                alert(\"Upper range can not exceed maximum\")\r\n                                set_sliderRange([sliderRange[0], props.slider_max])\r\n                            }\r\n                            else {\r\n                                set_sliderRange([sliderRange[0], parseInt(event.target.value)])\r\n                            }\r\n                        }\r\n                    }\r\n                    }\r\n                />\r\n            </div>\r\n            <div className=\"button\" item xs=\"2\" style={{ marginTop: -10 }}>\r\n                <Button className=\"range_button\" style={{ backgroundColor: \"#ededed\", height: 30 }}\r\n                    onClick={() => {\r\n                        props.Set_range_mode_range2(sliderRange)\r\n                    }}\r\n                >Update range</Button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nconst maptstateToprop = (state) => {\r\n    return {\r\n        slider_max: state.slider_max,\r\n        range_mode_range2: state.range_mode_range2,\r\n    }\r\n}\r\nconst mapdispatchToprop = (dispatch) => {\r\n    return {\r\n        Set_range_mode_range2: (val) => dispatch({ type: \"range_mode_range2\", value: val }),\r\n        Set_changed: (val) => dispatch({ type: \"changed\", value: val }),\r\n    }\r\n}\r\nexport default connect(maptstateToprop, mapdispatchToprop)(Modes);","import React from 'react';\r\nimport \"./YearModelSelection.scss\";\r\nimport { connect } from \"react-redux\";\r\nfunction YearModelSelection(props) {\r\n  var handle_year_click = (year) => {\r\n    props.Set_selected_year(year)\r\n  }\r\n  var handle_model_click=(model)=>props.Set_range_mode_model(model)\r\n  return (\r\n    <div className=\"range_topbar\" style={{width:\"100%\",marginBottom:2,display:'flex',justifyContent: \"center\",margin:0}}>\r\n    <div ><h5 style={{ display: \"inline-block\", marginLeft: 0,marginRight:3,fontSize:16,fontWeight:600 }}>Years: </h5>{props.years_for_dropdown.map(item => <p className={props.selected_year==item ? \"years_p_selected years_p\" : \"years_p\"} onClick={() => handle_year_click(item)}>{item}</p>)}</div>\r\n    <div style={{marginLeft:20}}><h5 style={{ display: \"inline-block\", marginLeft: 0,marginRight:3,fontSize:16,fontWeight:600}}>Models:</h5>{props.all_models.map(item => <p className={props.range_mode_model==item ? \"years_p_selected years_p\" : \"years_p\"} onClick={() => handle_model_click(item)}>{item}</p>)}</div>\r\n    </div>\r\n  );\r\n}\r\nconst maptstateToprop = (state) => {\r\n  return {\r\n    all_models:state.all_models,\r\n    selected_year: state.selected_year,\r\n    years_for_dropdown: state.years_for_dropdown,\r\n    default_models: state.default_models,\r\n    range_mode_model:state.range_mode_model,\r\n  }\r\n}\r\nconst mapdispatchToprop = (dispatch) => {\r\n  return {\r\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: val }),\r\n    Set_range_mode_model: (val) => dispatch({ type: \"range_mode_model\", value: val }),\r\n  }\r\n}\r\nexport default connect(maptstateToprop, mapdispatchToprop)(YearModelSelection);\r\n\r\n//https://material-ui.com/api/slider/\r\n//https://material-ui.com/components/expansion-panels/\r\n//https://material-ui.com/api/checkbox/\r\n//https://material-ui.com/components/radio-buttons/","import React, { Component } from 'react';\r\nimport * as d3 from 'd3';\r\nimport { connect } from \"react-redux\";\r\nimport Grid from '@material-ui/core/Grid';\r\nimport * as deviation_chart from \"../DevPlot/deviation_chart\"\r\nimport * as misc_algo from '../misc_algo'\r\nimport * as $ from 'jquery';\r\nimport SliderGroup1 from './SliderGroup1';\r\nimport SliderGroup2 from './SliderGroup2';\r\nimport YearModelSelection from \"./YearAndModelSelection/YearModelSelection\"\r\nimport ExpChart from '../ExpChart/ExpChartComponent';\r\nimport Popover from '../Popover/Popover';\r\n\r\nclass SlopeChart extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.line_color = null;\r\n    this.state = { height_slope_exp_chart: 700, mouseX: 0, mouseY: 0 }\r\n  }\r\n  componentDidMount() {\r\n    this.setState({ width: window.innerHeight })\r\n  }\r\n  shouldComponentUpdate(prevProps, prevState) {\r\n    return true;\r\n  }\r\n  componentDidUpdate(prevProps, prevState) {\r\n    //------------------------------\r\n    var selected_instances = d3.range(d3.min([this.props.range_mode_range1[0], this.props.range_mode_range2[0]]), d3.max([this.props.range_mode_range1[1], this.props.range_mode_range2[1]]) + 1)\r\n    var min = d3.min(selected_instances), max = d3.max(selected_instances);\r\n    var d = (max - min) / 8;\r\n    var diverginColor = d3.scaleLinear().domain([min + d * 7, min + d * 6, min + d * 5, min + d * 4, min + d * 3, min + d * 2, min]).interpolate(d3.interpolateRgb).range(['#00429d', '#4771b2', '#73a2c6', '#a5d5d8', '#ffbcaf', '#f4777f', '#cf3759', '#93003a']);\r\n    //------------------------------\r\n    var selected_instances1 = d3.range(this.props.range_mode_range1[0], this.props.range_mode_range1[1] + 1)\r\n    deviation_chart.Create_deviation_chart('r1d', 'r1exp', selected_instances1, this.props.original_data, [this.props.range_mode_model], this.props.anim_config, this.props.selected_year, this.props.average_m, this.props.clicked_circles, this.props.Set_clicked_circles, diverginColor, this.props.sparkline_data, this.props.Set_selected_year, this.props.dataset, this.props.threshold)\r\n    //------------------------------\r\n    var selected_instances2 = d3.range(this.props.range_mode_range2[0], this.props.range_mode_range2[1] + 1)\r\n    deviation_chart.Create_deviation_chart('r2d', 'r2exp', selected_instances2, this.props.original_data, [this.props.range_mode_model], this.props.anim_config, this.props.selected_year, this.props.average_m, this.props.clicked_circles, this.props.Set_clicked_circles, diverginColor, this.props.sparkline_data, this.props.Set_selected_year, this.props.dataset, this.props.threshold)\r\n\r\n    //------------------------------\r\n    misc_algo.handle_transparency(\"circle2\", this.props.clicked_circles, this.props.anim_config)\r\n\r\n  }\r\n  render() {\r\n    //------------------------------\r\n    var selected_instances = d3.range(d3.min([this.props.range_mode_range1[0], this.props.range_mode_range2[0]]), d3.max([this.props.range_mode_range1[1], this.props.range_mode_range2[1]]) + 1)\r\n    var min = d3.min(selected_instances), max = d3.max(selected_instances);\r\n    var d = (max - min) / 8;\r\n    var diverginColor = d3.scaleLinear().domain([min + d * 7, min + d * 6, min + d * 5, min + d * 4, min + d * 3, min + d * 2, min]).interpolate(d3.interpolateRgb).range(['#00429d', '#4771b2', '#73a2c6', '#a5d5d8', '#ffbcaf', '#f4777f', '#cf3759', '#93003a']);\r\n    this.props.Set_selected_instances(selected_instances)\r\n    //--------------------\r\n    var deviation_array = []\r\n    \r\n      this.props.lime_data[this.props.range_mode_model].map(item => {\r\n        if (item['1-qid'] == this.props.selected_year && selected_instances.includes(parseInt(item['two_realRank']))) {\r\n          deviation_array.push(item['deviation'])\r\n        }\r\n      })\r\n    this.props.Set_deviation_array(deviation_array)\r\n    //console.log('deviation_array: ', d3.extent(deviation_array))\r\n    //--------------------\r\n    return (\r\n      <Grid key={this.props.mode} className=\"RangeChartParent\" container direction=\"row\" justifyContent=\"space-between\"\r\n        className=\"slope_chart_exp\" style={{ width: \"100%\", height: '100%', backgroundColor: 'white', padding: \"0px 0px\", overflow: 'hidden' }}>\r\n        <div className=\"year_and_model_selector_and_slider_container\" style={{ width: \"100%\" }}> {/* This is used to calculate the deviation plot height */}\r\n          <YearModelSelection></YearModelSelection>\r\n        </div>\r\n        {/* Group 1 */}\r\n        <Grid className=\"Group1_container\" style={{ height: \"100%\", width: \"49.4%\", paddingRight: 0, border: \"2px solid #eaeaea\", overflow: 'hidden' }} container item direction=\"column\" justifyContent=\"space-between\">\r\n          <p className=\"title_p1\" style={{ margin: 0, paddingLeft: \"45%\", backgroundColor: \"rgb(232, 232, 232,0.4)\", fontWeight: \"bolder\", borderBottom: \"1px solid #cecece\" }}>Group 1</p>\r\n          <Grid className=\"slidergroup1\" item style={{ backgroundColor: \"rgb(232, 232, 232,0.4)\" }}><SliderGroup1></SliderGroup1></Grid>\r\n          <Grid className=\"dev_plot_and_exp_container\" style={{ width: '100%', height: $('.Group1_container').height() - ($('.title_p1').height() + $('.slidergroup1').height() + $('.year_and_model_selector_and_slider_container').height() + 5) }} container direction=\"row\" justify=\"center\" alignItems=\"center\">\r\n            <Grid className=\"deviation_plot_container_div\" item style={{ width: '49%', height: $('.Group1_container').height() - ($('.title_p1').height() + $('.slidergroup1').height() + $('.year_and_model_selector_and_slider_container').height() + 5), overflow: 'scroll', borderRight: '1px solid #dbdbdb' }}>\r\n              <svg id=\"r1d\" style={{ width: \"100%\", padding: 5 }}></svg>\r\n            </Grid>\r\n            {\r\n              this.props.rank_data != null ? <Grid className=\"explanation_plot_container\" item style={{ width: '49%', height: '100%' }}>\r\n                <ExpChart diverginColor={diverginColor} exp_id=\"r1exp\" default_models={[this.props.range_mode_model]} state_range={this.props.range_mode_range1} selected_year={this.props.selected_year} model_name={this.props.range_mode_model}></ExpChart>\r\n              </Grid> : null\r\n            }\r\n          </Grid>\r\n        </Grid>\r\n        {/* Group 2 */}\r\n        <Grid className=\"Group2_container\" style={{ height: \"100%\", width: \"49.4%\", marginLeft: '0.5%', paddingRight: 0, border: \"2px solid #eaeaea\", overflow: 'hidden' }} container item direction=\"column\" justifyContent=\"space-between\">\r\n          <p className=\"title_p2\" style={{ margin: 0, paddingLeft: \"45%\", backgroundColor: \"rgb(232, 232, 232,0.4)\", fontWeight: \"bolder\", borderBottom: \"1px solid #cecece\" }}>Group 2</p>\r\n          <Grid className=\"slidergroup2\" item style={{ backgroundColor: \"rgb(232, 232, 232,0.4)\" }}><SliderGroup2></SliderGroup2></Grid>\r\n          <Grid className=\"dev_plot_and_exp_container\" style={{ width: '100%', height: $('.Group2_container').height() - ($('.title_p2').height() + $('.slidergroup2').height() + $('.year_and_model_selector_and_slider_container').height() + 5) }} container direction=\"row\" justify=\"center\" alignItems=\"center\">\r\n            <Grid className=\"deviation_plot_container_div\" item style={{ width: '49%', height: $('.Group1_container').height() - ($('.title_p2').height() + $('.slidergroup2').height() + $('.year_and_model_selector_and_slider_container').height() + 5), overflow: 'scroll', borderRight: '1px solid #dbdbdb' }}>\r\n              <svg id=\"r2d\" style={{ width: \"100%\", padding: 5 }}></svg>\r\n            </Grid>\r\n            {\r\n              this.props.rank_data != null ? <Grid className=\"explanation_plot_container\" item style={{ width: '49%', height: '100%' }}>\r\n                <ExpChart diverginColor={diverginColor} exp_id=\"r2exp\" default_models={[this.props.range_mode_model]} state_range={this.props.range_mode_range2} selected_year={this.props.selected_year} model_name={this.props.range_mode_model}></ExpChart>\r\n              </Grid> : null\r\n            }\r\n          </Grid>\r\n        </Grid>\r\n        <Popover diverginColor={diverginColor} default_models={[this.props.range_mode_model]}></Popover>\r\n      </Grid>\r\n    )\r\n  }\r\n}\r\nconst maptstateToprop = (state) => {\r\n  return {\r\n    mode: state.mode,\r\n    range_mode_range1: state.range_mode_range1,\r\n    range_mode_range2: state.range_mode_range2,\r\n    range_mode_model: state.range_mode_model,\r\n    lime_data:state.lime_data,\r\n    selected_year: state.selected_year,\r\n    default_models: state.default_models,\r\n    original_data: state.original_data,\r\n    dataset: state.dataset,\r\n    sparkline_data: state.sparkline_data,\r\n    dataset: state.dataset,\r\n    anim_config: state.anim_config,\r\n    average_m: state.average_m,\r\n    rank_data: state.rank_data,\r\n    clicked_circles: state.clicked_circles,\r\n    threshold: state.threshold,\r\n    histogram_data: state.histogram_data,\r\n\r\n  }\r\n}\r\nconst mapdispatchToprop = (dispatch) => {\r\n  return {\r\n    Set_selected_instances: (val) => dispatch({ type: \"selected_instances\", value: val }),\r\n    Set_deviation_array: (val) => dispatch({ type: \"deviation_array\", value: val }),\r\n    Set_clicked_circles: (val) => dispatch({ type: \"clicked_circles\", value: val }),\r\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: val }),\r\n  }\r\n}\r\nexport default connect(maptstateToprop, mapdispatchToprop)(SlopeChart);","import { createMuiTheme } from \"@material-ui/core/styles\";\r\n\r\n// Create a theme instance.\r\nconst outerTheme = createMuiTheme({\r\n  palette: {\r\n    primary: {\r\n      main: \"#0069d9\"\r\n    },\r\n    secondary: {\r\n      main: \"#0069d9\"\r\n    }\r\n  }\r\n})\r\n\r\n\r\n\r\nexport var year1_drop_down = createMuiTheme({\r\n  overrides: { // This is the place we override classes applied to a component\r\n    MuiAutocomplete:{\r\n        root:{\r\n            \r\n        }\r\n    },\r\n    MuiFilledInput: { // This is the name of the component\r\n      root: { // This is the class we want to edit\r\n        backgroundColor: \"none\",\r\n        \r\n      }\r\n    },\r\n    MuiInputLabel: {\r\n      root: {\r\n\r\n      }\r\n    },\r\n    MuiTextField: {\r\n      root: {}\r\n    },\r\n    MuiButton: {\r\n      root: {\r\n        textTransform: \"none\",\r\n        padding: \"15px\"\r\n      },\r\n      fullWidth: {\r\n        maxWidth: \"100%\"\r\n      }\r\n    },\r\n    MuiFilledInput:{\r\n      root:{\r\n        padding:0,\r\n        backgroundColor:\"yellow\"\r\n      }\r\n    },\r\n    MuiAutocomplete:{\r\n      Root:{\r\n        padding:0\r\n      }\r\n    }\r\n\r\n  },\r\n  props: { // This is the place where we define props\r\n    MuiButton: {\r\n      disableRipple: true,\r\n      variant: \"contained\",\r\n      color: \"primary\"\r\n    },\r\n    MuiCheckbox: {\r\n      disableRipple: true\r\n    },\r\n    MuiTextField: {\r\n      variant: \"filled\",\r\n      InputLabelProps: {\r\n        shrink: true\r\n      }\r\n    },\r\n    MuiPaper: {\r\n      elevation: 12\r\n    },\r\n    MuiCard: {\r\n      elevation: 2\r\n    },\r\n  }\r\n});\r\n\r\nexport default outerTheme\r\n\r\n\r\n\r\n\r\n/*\r\nconst theme = createMuiTheme({\r\n  overrides: {\r\n    MuiOutlinedInput: {\r\n      root: {\r\n        \"& $notchedOutline\": {\r\n          borderColor: \"green\"\r\n        },\r\n        \"&:hover $notchedOutline\": {\r\n          borderColor: \"red\"\r\n        },\r\n        \"&$focused $notchedOutline\": {\r\n          borderColor: \"purple\"\r\n        },\r\n        \"&&& $input\": {\r\n          padding: \"1px\"\r\n        }\r\n      }\r\n    }\r\n  }\r\n});\r\n*/","import React from 'react';\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { connect } from \"react-redux\";\r\nimport * as themes from '../../themes'\r\nfunction FadeMenu(props) {\r\n    return (\r\n            <div className=\"year_drop_down_container1\">\r\n                <p style={{ margin: 0, marginTop: 3, fontSize: 16, fontWeight: 600 }}>Year 1 :</p>\r\n                <Autocomplete style={{ width: 100 }} disableClearable\r\n                    defaultValue={props.time_mode_year1.toString()}\r\n                    id=\"debug\"\r\n                    debug\r\n                    options={props.years_for_dropdown.map((option) => option)}\r\n                    renderInput={(params) => (\r\n                        <TextField {...params} margin=\"normal\" fullWidth={true} InputProps={{ ...params.InputProps, disableUnderline: true }} />\r\n                    )}\r\n                    onChange={(event, value) => {\r\n                        props.Set_time_mode_year1(value)\r\n                    }}\r\n                />\r\n            </div>\r\n        \r\n    );\r\n}\r\nconst maptstateToprop = (state) => {\r\n    return {\r\n        time_mode_year1: state.time_mode_year1,\r\n        years_for_dropdown: state.years_for_dropdown,\r\n    }\r\n}\r\nconst mapdispatchToprop = (dispatch) => {\r\n    return {\r\n        Set_time_mode_year1: (val) => dispatch({ type: \"time_mode_year1\", value: val }),\r\n    }\r\n}\r\nexport default connect(maptstateToprop, mapdispatchToprop)(FadeMenu);","import React from 'react';\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { connect } from \"react-redux\";\r\nfunction FadeMenu(props) {\r\n    return (\r\n        <div className=\"year_drop_down_container1\">\r\n            <p style={{margin:0,marginTop:3,fontSize:16,fontWeight:600}}>Year 2 :</p>\r\n            <Autocomplete style={{width:100}} disableClearable\r\n                defaultValue={props.time_mode_year2.toString()}\r\n                id=\"debug\"\r\n                debug\r\n                options={props.years_for_dropdown.map((option) => option)}\r\n                renderInput={(params) => (\r\n                    <TextField {...params} margin=\"normal\" fullWidth={true} InputProps={{ ...params.InputProps, disableUnderline: true }} />\r\n                )}\r\n                onChange={(event, value) => {\r\n                    props.Set_time_mode_year2(value)\r\n                }}\r\n            />\r\n        </div>\r\n    );\r\n}\r\nconst maptstateToprop = (state) => {\r\n    return {\r\n        time_mode_year2: state.time_mode_year2,\r\n        years_for_dropdown: state.years_for_dropdown,\r\n    }\r\n}\r\nconst mapdispatchToprop = (dispatch) => {\r\n    return {\r\n        Set_time_mode_year2: (val) => dispatch({ type: \"time_mode_year2\", value: val }),\r\n    }\r\n}\r\nexport default connect(maptstateToprop, mapdispatchToprop)(FadeMenu);","import React from 'react';\r\nimport Slider from '@material-ui/core/Slider';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { connect } from \"react-redux\";\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from \"@material-ui/core/Button\";\r\nimport './Slider.scss';\r\nimport * as $ from 'jquery'\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: '100%',\r\n    },\r\n    heading: {\r\n        fontSize: theme.typography.pxToRem(15),\r\n        flexBasis: '33.33%',\r\n        flexShrink: 0,\r\n    },\r\n    secondaryHeading: {\r\n        fontSize: theme.typography.pxToRem(15),\r\n        color: theme.palette.text.secondary,\r\n    },\r\n    tRoot: {\r\n        marginBottom: 35,\r\n    },\r\n    rang_input: {\r\n        marginLeft: 10,\r\n    },\r\n}));\r\nfunction Modes(props) {\r\n    const classes = useStyles();\r\n    // states \r\n    const [sliderRange, set_sliderRange] = React.useState(props.time_mode_range);\r\n    //-----------------------------------------------------------------\r\n    var temp_marks = [];\r\n    var step = (props.slider_max - 1) / (6 - 1);\r\n    for (var i = 0; i < 6; i++) {\r\n        temp_marks.push(1 + (step * i));\r\n    }\r\n    var marks = temp_marks.map(item => {\r\n        var myitem = parseInt(item)\r\n        return { value: myitem, label: myitem }\r\n    })\r\n    //console.log(props.marks)\r\n    //-----------------------------------------------------------------\r\n    return (\r\n        <div className=\"YearSlider\" \r\n        style={{height: 70, width:'100%',padding: 30}}>\r\n            <div className=\"lower\" style={{ padding: \"0px 0px\", marginTop: -20 }}>\r\n                <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Lower\" value={sliderRange[0]} style={{ width: \"100%\" }}\r\n                    onChange={event => {\r\n                        if (isNaN(parseInt(event.target.value))) {\r\n                            set_sliderRange([\"\", sliderRange[1]])\r\n                        } else {\r\n                            if (event.target.value > sliderRange[1]) {\r\n                                alert(\"Lower range can not be larger than the upper range\")\r\n                            }\r\n                            else {\r\n                                set_sliderRange([event.target.value, sliderRange[1]])\r\n                            }\r\n                        }\r\n                    }\r\n                    }\r\n                />\r\n            </div>\r\n            <div className=\"slider\" style={{width: \"100%\", margin: \"0px 0px\" }}>\r\n                <Slider value={sliderRange} onChange={(event, newValue) => set_sliderRange(newValue)} onChangeCommitted={(event, newValue) => props.Set_changed(\"range\")}\r\n                    valueLabelDisplay=\"auto\" aria-labelledby=\"range-slider\" valueLabelDisplay=\"on\" min={1} max={props.slider_max} marks={marks}\r\n                />\r\n            </div>\r\n            <div className=\"upper\" style={{ padding: \"0px 0px\", marginTop: -20 }}>\r\n                <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Upper\" value={sliderRange[1]} style={{ width: \"100%\" }}\r\n                    onChange={event => {\r\n                        if (isNaN(parseInt(event.target.value))) {\r\n                            set_sliderRange([sliderRange[0], \"\"])\r\n                        } else {\r\n                            if (parseInt(event.target.value) > props.slider_max) {\r\n                                alert(\"Upper range can not exceed maximum\")\r\n                                set_sliderRange([sliderRange[0], props.slider_max])\r\n                            }\r\n                            else {\r\n                                set_sliderRange([sliderRange[0], parseInt(event.target.value)])\r\n                            }\r\n                        }\r\n                    }\r\n                    }\r\n                />\r\n            </div>\r\n            <div className=\"button\" item style={{ marginTop: -10 }}>\r\n                <Button className=\"range_button\" style={{ backgroundColor: \"#ededed\", height: 30,fontWeight:600,fontSize:18 }}\r\n                    onClick={() => {\r\n                        props.Set_time_mode_range(sliderRange)\r\n                    }}\r\n                >Update range</Button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nconst maptstateToprop = (state) => {\r\n    return {\r\n        slider_max: state.slider_max,\r\n        time_mode_range: state.time_mode_range,\r\n    }\r\n}\r\nconst mapdispatchToprop = (dispatch) => {\r\n    return {\r\n        Set_time_mode_range: (val) => dispatch({ type: \"time_mode_range\", value: val }),\r\n        Set_changed: (val) => dispatch({ type: \"changed\", value: val }),\r\n    }\r\n}\r\nexport default connect(maptstateToprop, mapdispatchToprop)(Modes);","import React from 'react';\r\nimport \"./YearModelSelection.scss\";\r\nimport { connect } from \"react-redux\";\r\nimport Slider from './Slider'\r\nimport Grid from '@material-ui/core/Grid'\r\nfunction YearModelSelection(props) {\r\n  var handle_year_click = (year) => {\r\n    props.Set_selected_year(year)\r\n  }\r\n  var handle_model_click = (model) => props.Set_time_mode_model(model)\r\n  return (\r\n    <Grid container direction=\"row\" justifyContent=\"center\" alignItems=\"center\" style={{width:'100%',height:76,padding:3}}>\r\n      <Grid item xs={4} style={{marginTop:5, marginLeft: 5,verticalAlign:'baseline' }}><h5 style={{ display: \"inline-block\", marginRight: 5,marginTop:-4, fontSize: 20,fontWeight:600 }}>Models:</h5>{props.all_models.map(item => <p className={props.time_mode_model == item ? \"years_p_selected years_p\" : \"years_p\"} onClick={() => handle_model_click(item)}>{item}</p>)}</Grid>\r\n      <Grid item xs={6} style={{marginLeft:15,overflow:'scroll'}}><Slider></Slider></Grid>\r\n    </Grid>\r\n  );\r\n}\r\nconst maptstateToprop = (state) => {\r\n  return {\r\n    all_models: state.all_models,\r\n    selected_year: state.selected_year,\r\n    years_for_dropdown: state.years_for_dropdown,\r\n    default_models: state.default_models,\r\n    time_mode_model: state.time_mode_model,\r\n  }\r\n}\r\nconst mapdispatchToprop = (dispatch) => {\r\n  return {\r\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: val }),\r\n    Set_time_mode_model: (val) => dispatch({ type: \"time_mode_model\", value: val }),\r\n  }\r\n}\r\nexport default connect(maptstateToprop, mapdispatchToprop)(YearModelSelection);\r\n\r\n//https://material-ui.com/api/slider/\r\n//https://material-ui.com/components/expansion-panels/\r\n//https://material-ui.com/api/checkbox/\r\n//https://material-ui.com/components/radio-buttons/","import React, { Component } from 'react';\r\nimport * as d3 from 'd3';\r\nimport './YearModeComponent.scss';\r\nimport { connect } from \"react-redux\";\r\nimport Grid from '@material-ui/core/Grid';\r\nimport * as deviation_chart from \"../DevPlot/deviation_chart\"\r\nimport * as misc_algo from '../misc_algo'\r\nimport * as $ from 'jquery';\r\nimport Year1DropDown from './Year1DropDown';\r\nimport Year2DropDown from './Year2DropDown';\r\nimport YearModelSelection from \"./YearAndModelSelection/YearModelSelection\"\r\nimport ExpChart from '../ExpChart/ExpChartComponent';\r\nimport Popover from '../Popover/Popover';\r\n\r\nclass SlopeChart extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.line_color = null;\r\n    this.state = { height_slope_exp_chart: 700, mouseX: 0, mouseY: 0 }\r\n  }\r\n  componentDidMount() {\r\n    this.setState({ width: window.innerHeight })\r\n  }\r\n  shouldComponentUpdate(prevProps, prevState) {\r\n    return true;\r\n  }\r\n  componentDidUpdate(prevProps, prevState) {\r\n    //------------------------------\r\n    var selected_instances = d3.range(this.props.time_mode_range[0], this.props.time_mode_range[1] + 1)\r\n    var min = d3.min(selected_instances), max = d3.max(selected_instances);\r\n    var d = (max - min) / 8;\r\n    var diverginColor = d3.scaleLinear().domain([min + d * 7, min + d * 6, min + d * 5, min + d * 4, min + d * 3, min + d * 2, min]).interpolate(d3.interpolateRgb).range(['#00429d', '#4771b2', '#73a2c6', '#a5d5d8', '#ffbcaf', '#f4777f', '#cf3759', '#93003a']);\r\n    deviation_chart.Create_deviation_chart('r1d', 'r1exp', selected_instances, this.props.original_data, [this.props.time_mode_model], this.props.anim_config, this.props.time_mode_year1, this.props.average_m, this.props.clicked_circles, this.props.Set_clicked_circles, diverginColor, this.props.sparkline_data, this.props.Set_selected_year, this.props.dataset, this.props.threshold)\r\n    //------------------------------\r\n    deviation_chart.Create_deviation_chart('r2d', 'r2exp', selected_instances, this.props.original_data, [this.props.time_mode_model], this.props.anim_config, this.props.time_mode_year2, this.props.average_m, this.props.clicked_circles, this.props.Set_clicked_circles, diverginColor, this.props.sparkline_data, this.props.Set_selected_year, this.props.dataset, this.props.threshold)\r\n\r\n    //------------------------------\r\n    misc_algo.handle_transparency(\"circle2\", this.props.clicked_circles, this.props.anim_config)\r\n\r\n  }\r\n  render() {\r\n    var selected_instances = d3.range(this.props.time_mode_range[0], this.props.time_mode_range[1] + 1)\r\n    var min = d3.min(selected_instances), max = d3.max(selected_instances);\r\n    var d = (max - min) / 8;\r\n    var diverginColor = d3.scaleLinear().domain([min + d * 7, min + d * 6, min + d * 5, min + d * 4, min + d * 3, min + d * 2, min]).interpolate(d3.interpolateRgb).range(['#00429d', '#4771b2', '#73a2c6', '#a5d5d8', '#ffbcaf', '#f4777f', '#cf3759', '#93003a']);\r\n    this.props.Set_selected_instances(selected_instances)\r\n    return (\r\n      <Grid key={this.props.mode} className=\"RangeChartParent\" container direction=\"row\" justifyContent=\"space-between\" spacing={2}\r\n        className=\"slope_chart_exp\" style={{ width: \"100%\", height: '100%', backgroundColor: 'white', padding: \"0px 0px\", border: \"0px solid #eaeaea\", overflow: 'hidden' }}>\r\n        <div className=\"year_and_model_selector_and_slider_container\" style={{width:'100%'}}> {/* This is used to calculate the deviation plot height */}\r\n          <YearModelSelection></YearModelSelection>\r\n        </div>\r\n        {/* Group 1 */}\r\n        <Grid className=\"Group1_container\" xs={6} style={{ height: \"100%\", paddingRight: 0, border: \"2px solid #eaeaea\", overflow: 'hidden' }} container item direction=\"column\">\r\n          <Grid className=\"slidergroup1\" item style={{width:\"100%\",height:30, backgroundColor: \"rgb(232, 232, 232,0.4)\" }}><Year1DropDown></Year1DropDown></Grid>\r\n          <Grid className=\"dev_plot_and_exp_container\" style={{ width: '100%', height: $('.Group1_container').height() - ($('.title_p1').height() + $('.slidergroup1').height() + $('.year_and_model_selector_and_slider_container').height() + 5) }} container direction=\"row\" justify=\"center\" alignItems=\"center\">\r\n            <Grid className=\"deviation_plot_container_div\" item \r\n            style={{ width: '49%', height: $('.Group1_container').height() - ($('.slidergroup1').height() + $('.year_and_model_selector_and_slider_container').height() + 5), overflow: 'scroll',borderRight:'1px solid #dbdbdb' }}>\r\n              <svg id=\"r1d\" style={{ width: \"100%\", padding: 5 }}></svg>\r\n            </Grid>\r\n            {\r\n              this.props.rank_data != null ? <Grid className=\"explanation_plot_container\" item style={{ width: '49%', height: '100%' }}>\r\n                <ExpChart diverginColor={diverginColor} exp_id=\"r1exp\" default_models={[this.props.time_mode_model]} state_range={this.props.time_mode_range} selected_year={this.props.time_mode_year1} model_name={this.props.time_mode_model}></ExpChart>\r\n              </Grid> : null\r\n            }\r\n          </Grid>\r\n        </Grid>\r\n        {/* Group 2 */}\r\n        <Grid className=\"Group2_container\" xs={6} style={{ height: \"100%\", paddingRight: 0, border: \"2px solid #eaeaea\", overflow: 'hidden' }} container direction=\"column\">\r\n          <Grid className=\"slidergroup2\" item style={{width:\"100%\", backgroundColor: \"rgb(232, 232, 232,0.4)\" }}><Year2DropDown></Year2DropDown></Grid>\r\n          <Grid className=\"dev_plot_and_exp_container\" style={{ width: '100%', height: $('.Group2_container').height() - ($('.title_p2').height() + $('.slidergroup2').height() + $('.year_and_model_selector_and_slider_container').height() + 5) }} container direction=\"row\" justify=\"center\" alignItems=\"center\">\r\n            <Grid className=\"deviation_plot_container_div\" item style={{width: '49%', height: $('.Group1_container').height() - ($('.title_p2').height() + $('.slidergroup2').height() + $('.year_and_model_selector_and_slider_container').height() + 5), overflow: 'scroll',borderRight:'1px solid #dbdbdb' }}>\r\n              <svg id=\"r2d\" style={{ width: \"100%\", padding: 5 }}></svg>\r\n            </Grid>\r\n            {\r\n              this.props.rank_data != null ? <Grid className=\"explanation_plot_container\" item style={{ width: '49%', height: '100%' }}>\r\n                <ExpChart diverginColor={diverginColor} exp_id=\"r2exp\" default_models={[this.props.time_mode_model]} state_range={this.props.time_mode_range} selected_year={this.props.time_mode_year2} model_name={this.props.time_mode_model}></ExpChart>\r\n              </Grid> : null\r\n            }\r\n          </Grid>\r\n        </Grid>\r\n        <Popover diverginColor={diverginColor} default_models={[this.props.time_mode_model]}></Popover>\r\n      </Grid>\r\n    )\r\n  }\r\n}\r\nconst maptstateToprop = (state) => {\r\n  return {\r\n    time_mode_year1: state.time_mode_year1,\r\n    time_mode_year2: state.time_mode_year2,\r\n    mode: state.mode,\r\n    time_mode_range: state.time_mode_range,\r\n    time_mode_model: state.time_mode_model,\r\n    default_models: state.default_models,\r\n    original_data: state.original_data,\r\n    dataset: state.dataset,\r\n    sparkline_data: state.sparkline_data,\r\n    dataset: state.dataset,\r\n    anim_config: state.anim_config,\r\n    average_m: state.average_m,\r\n    rank_data: state.rank_data,\r\n    clicked_circles: state.clicked_circles,\r\n    threshold: state.threshold,\r\n    histogram_data: state.histogram_data,\r\n\r\n  }\r\n}\r\nconst mapdispatchToprop = (dispatch) => {\r\n  return {\r\n    Set_selected_instances: (val) => dispatch({ type: \"selected_instances\", value: val }),\r\n    Set_clicked_circles: (val) => dispatch({ type: \"clicked_circles\", value: val }),\r\n  }\r\n}\r\nexport default connect(maptstateToprop, mapdispatchToprop)(SlopeChart);","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport * as $ from \"jquery\"\r\nimport * as d3 from 'd3';\r\nimport exp_fiscal_CordAscent from \"../../../Data/data/fiscal/lime/chart1_data.csv\";\r\nimport exp_school_CordAscent from \"../../../Data/data/school/lime/chart1_data.csv\";\r\nimport exp_house_CordAscent from \"../../../Data/data/house/lime/chart1_data.csv\";\r\nimport * as algo1 from \"../../../Algorithms/algo1\";\r\nimport CreateHistogram from './CreateHistogram'\r\nimport CreateBarChart from './CreateBarChart';\r\nimport Button from '@material-ui/core/Button';\r\nimport { delay } from 'lodash';\r\nclass FeatureHistograms extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { feature_data: [] };\r\n    }\r\n    componentDidMount() {\r\n        var filename; if (this.props.dataset == \"fiscal\") { filename = exp_fiscal_CordAscent } else if (this.props.dataset == \"school\") { filename = exp_school_CordAscent } else if (this.props.dataset == \"house\") { filename = exp_house_CordAscent }\r\n        d3.csv(filename).then(feature_data => {\r\n            this.setState({ feature_data: feature_data,all_instances:{} })\r\n        })\r\n    }\r\n    store_instances=(feature_name,instances)=>{\r\n        var temp={...this.state.all_instances}\r\n        temp[feature_name]=instances\r\n        this.setState({all_instances:temp})\r\n    }\r\n    shouldComponentUpdate(nextProps, nextState) {\r\n        if(typeof(this.state.all_instances)!=\"undefined\" && JSON.stringify(nextState.all_instances)!==JSON.stringify(this.state.all_instances)){\r\n            return false\r\n        }\r\n        return true    \r\n    }\r\n    componentDidUpdate() {\r\n        var self = this\r\n        var filename;\r\n        var selected_instances = d3.range(this.props.state_range[0], this.props.state_range[1] + 1)\r\n        //--------------------\r\n        var number_of_charts = 9\r\n        var features_dict = algo1.features_with_score(this.props.dataset, this.props.default_models, selected_instances, this.props.selected_year, number_of_charts, this.props.rank_data)\r\n        var sorted_features = Object.entries(features_dict).sort((first, second) => second[1] - first[1]).map(element => element[0])\r\n        //--------------------\r\n        if (this.props.dataset == \"fiscal\") { filename = exp_fiscal_CordAscent } else if (this.props.dataset == \"school\") { filename = exp_school_CordAscent }\r\n        //--------------------------------Iterate through each features\r\n        const margin = { top: 10, right: 5, bottom: 50, left: 5 }; // Histogram\r\n        //const margin = { top: 10, right: 5, bottom: 40, left: 5 } // Barchart\r\n        d3.select(\".feature_histograms_container\").selectAll(\".feature\").data(sorted_features, d => d).join(\"svg\").attr(\"class\", 'feature')\r\n            //.attr(\"width\", feature_width)\r\n            //.attr(\"y\", (d, feature_index) => feature_height * feature_index)\r\n            .attr(\"add_histogram\", function (d, feature_index) {\r\n                var histogram_data = []\r\n                if (!isNaN(self.state.feature_data[0][d])) {\r\n                    self.state.feature_data.forEach(element => {\r\n                        if (element[\"1-qid\"] == self.props.selected_year) {\r\n                            var temp_dict = {}\r\n                            temp_dict[\"x\"] = parseInt(element['two_realRank'])\r\n                            temp_dict[\"y\"] = parseFloat(element[d])\r\n                            histogram_data.push(temp_dict)\r\n                        }\r\n                    });\r\n                    CreateHistogram(histogram_data, d3.select(this), d, feature_index, sorted_features.length,self.store_instances)\r\n                }\r\n                else {\r\n                    self.state.feature_data.forEach(element => {\r\n                        if (element[\"1-qid\"] == self.props.selected_year) {\r\n                            var temp_dict = {}\r\n                            temp_dict[\"x\"] = parseInt(element['two_realRank'])\r\n                            temp_dict[\"y\"] = element[d]\r\n                            histogram_data.push(temp_dict)\r\n                        }})\r\n                    CreateBarChart(histogram_data, d3.select(this), d, feature_index, sorted_features.length,self.store_instances,self.state.all_instances)\r\n                }\r\n            })\r\n            .attr('id',d=>d)\r\n            //.call(d3.brush().extent([[0, margin.top], [400, 65]]))\r\n        //--------------------------------Iterate through each features\r\n    }\r\n    render() {\r\n        return (\r\n            this.props.original_data != null ? <div style={{display:'relative', width: 400,marginTop:-8 }}>\r\n                <Button fullWidth style={{margin:0,position:'sticky',top:0,backgroundColor:\"gray\",borderRadius:0}} onClick={()=>{\r\n                    var selected_instances=[...new Set([].concat(...Object.values(this.state.all_instances)))]\r\n                    var filtered_instances=selected_instances.filter(item => item>=this.props.state_range[0] && item<=this.props.state_range[1])\r\n                    this.props.handleClose() // This will close the select menu\r\n                    if(filtered_instances.length==0){alert(\"No instance is available withing the selected range!\")}\r\n                    this.props.Set_histogram_data([...filtered_instances])\r\n                }}> Update </Button>\r\n                <div className=\"feature_histograms_container_div\" style={{display:'relative', width: 400, height: window.innerHeight, overflow: \"scroll\",marginTop:-8 }}>\r\n                <svg className=\"feature_histograms_container\" style={{ width: \"100%\", padding: 10 }}> </svg>\r\n                </div>\r\n            </div> : null\r\n        );\r\n    }\r\n}\r\nconst maptstateToprop = (state) => {\r\n    return {\r\n        dataset: state.dataset,\r\n        deviate_by: state.deviate_by,\r\n        state_range: state.state_range,\r\n        default_models: state.default_models,\r\n        selected_year: state.selected_year,\r\n        sparkline_data: state.sparkline_data,\r\n        show: state.show,\r\n        mode: state.mode,\r\n        original_data: state.original_data,\r\n        rank_data: state.rank_data,\r\n    }\r\n}\r\nconst mapdispatchToprop = (dispatch) => {\r\n    return {\r\n        Set_slider_max: (val) => dispatch({ type: \"slider_max\", value: val }),\r\n        Set_state_range: (val) => dispatch({ type: \"state_range\", value: val }),\r\n        Set_histogram_data: (val) => dispatch({ type: \"histogram_data\", value: val }),\r\n    }\r\n}\r\nexport default connect(maptstateToprop, mapdispatchToprop)(FeatureHistograms);\r\n\r\n//https://material-ui.com/api/slider/\r\n//https://material-ui.com/components/expansion-panels/\r\n//https://material-ui.com/api/checkbox/\r\n//https://material-ui.com/components/radio-buttons/","import * as d3 from 'd3';\r\nimport * as $ from \"jquery\"\r\nexport default function CreateChart(histogram_data, svg, feature_name, feature_index, number_of_features,store_instances,all_instances) {\r\n  //( feature_height, selected_year, handleHistogramselection, feature_data)\r\n  var parent_width = $(\".feature_histograms_container\").width()\r\n  var parent_height = $(\".feature_histograms_container\").height()\r\n  var feature_width = $(\".feature_histograms_container\").width()\r\n  var feature_height = 120\r\n  const margin = { top: 10, right: 5, bottom: 40, left: 5 }\r\n  d3.select(\".feature_histograms_container\").attr('height', feature_height * number_of_features + 20)\r\n  svg.attr('y', feature_height * feature_index).attr('width', parent_width).attr('height', feature_height)\r\n  //-----------------------------------------------------------\r\n  var occur = {}\r\n  histogram_data.map(item => {\r\n    if (item.y in occur) occur[item.y] = occur[item.y] + 1\r\n    else { occur[item.y] = 1 }\r\n  })\r\n  var items = Object.entries(occur).sort((first, second) => second[1] - first[1]);\r\n  var x = items.map(element => element[1]);\r\n  var sum_x = d3.sum(x)\r\n  svg.selectAll('.item_svg').data(items).join(\"svg\").attr(\"class\", 'item_svg').attr(\"x\", (d, i) => (d3.sum(x.slice(0, i)) / sum_x) * feature_width).attr('y',margin.top).attr('width', (d, i) => ((d[1] / sum_x) * feature_width) - .2).attr('height', feature_height - margin.bottom)\r\n    .attr('add_rectangle', function (d) {\r\n      d3.select(this).selectAll(\".my_rect\").data([0]).join('rect').attr(\"class\", \"my_rect\").attr(\"width\", \"100%\").attr(\"height\", feature_height - margin.bottom).style(\"fill\", \"gray\")\r\n      .attr(\"check\",function(){\r\n        if(feature_name+d[0] in all_instances){ if(all_instances[feature_name+d[0]].length>0){d3.select(this).classed('feature_clicked',true) }} // if the feature and the category exists we check the length and decide that it is clicked item. In categorical items if something is clicked it can not have empty instances\r\n      })\r\n      .on('click', function(){\r\n        if(!d3.select(this).classed('feature_clicked')){ // if not classed we add the class and the data\r\n          d3.select(this).classed('feature_clicked',true)\r\n          store_instances(feature_name+d[0],histogram_data.filter(item=>item['y']==d[0]).map(item=>item.x))\r\n        }\r\n        else{ // if claassed we already have it so we set it empty\r\n          d3.select(this).classed('feature_clicked',false)\r\n          store_instances(feature_name+d[0],[])\r\n        }\r\n      })\r\n      \r\n    \r\n    })\r\n    .attr('add_text', function (d) {\r\n      //if(d3.select(this).attr(\"width\")>9)\r\n      d3.select(this).selectAll(\"text\").data([0]).join(\"text\").text(d[0]).attr('x', \"50%\").attr(\"y\", '50%').attr('dominant-baseline', 'middle').style(\"font-size\", d3.select(this).attr(\"width\") > 11 ? 10 : d3.select(this).attr(\"width\") - 2).style(\"writing-mode\", \"tb\").style(\"text-anchor\", \"middle\").style('cursor', 'pointer')\r\n    })\r\n  //----------------------------------------------------------- Histogram creation ends here\r\n  svg.selectAll(\".hist_title\").data([0]).join(\"text\").attr(\"class\", \"hist_title\").attr(\"y\", feature_height-10).attr(\"x\", feature_width / 2).attr(\"text-anchor\", \"middle\").attr('font-size', 14).text(feature_name).style('text-transform','capitalize')\r\n}","import * as d3 from \"d3\"\r\nimport * as $ from \"jquery\"\r\nexport default function CreateHistogram(histogram_data, svg, feature_name, feature_index, number_of_features, store_instances) {\r\n  const margin = { top: 10, right: 5, bottom: 50, left: 5 };\r\n  var parent_width = $(\".feature_histograms_container\").width()\r\n  var feature_height = 120\r\n  var feature_width = parent_width\r\n  d3.select(\".feature_histograms_container\").attr('height', feature_height * number_of_features + 20)\r\n  svg.attr('y', feature_height * feature_index).attr('width', parent_width).attr('height', feature_height)\r\n  var item_data = histogram_data.map(item => item['y'])\r\n  var area_chart_height = feature_height - margin.top - margin.bottom;\r\n  var area_chart_width = feature_width - margin.left - margin.right\r\n  const y = d3.scaleLinear().domain(d3.extent(item_data)).range([margin.top, area_chart_height])\r\n\r\n  var myticks = y.ticks(25)\r\n  var binned_data = d3.histogram().value(d => d).domain(y.domain()).thresholds(myticks)(item_data)\r\n  //--------- Create the areaChart\r\n  var area_chart_data = []\r\n  binned_data.map((item, i) => area_chart_data.push([item.x1, item.length]))\r\n  var xScale = d3.scaleLinear().domain(d3.extent(area_chart_data.map(item => item[0]))).range([margin.left, feature_width - margin.right]) // 20 is the baseline\r\n  var yScale = d3.scaleLinear().domain([0, d3.max(area_chart_data.map(item => item[1]))]).range([area_chart_height, 0])\r\n  const areaGenerator = d3.area().curve(d3.curveMonotoneX).x(d => xScale(d[0])).y0(yScale(0)).y1(d => yScale(d[1]))\r\n\r\n  svg.append(\"path\").attr('transform', 'translate(0,' + margin.top + ')')\r\n    .attr(\"d\", areaGenerator(area_chart_data))\r\n    .style(\"fill\", \"gray\");\r\n  //svg.selectAll(\".graph_lines\").area_chart_data(ticks).join('line').attr(\"class\", \"graph_lines\").attr(\"x1\", 0).attr(\"x2\", baseline).attr(\"y1\",d=>y(d)).attr(\"y2\", d=>y(d)).attr(\"stroke-width\", 0.1).attr(\"stroke\", \"black\").raise()\r\n  svg.selectAll(\".xAxis_g\").data([0]).join('g').attr('class', 'xAxis_g').attr(\"transform\", \"translate(0,\" + (feature_height - margin.bottom) + \")\")\r\n    .call(d3.axisBottom(xScale).ticks(5).tickFormat(d3.format(\".2s\")));\r\n  //.call(d3.axisBottom(xScale).ticks(5));\r\n  svg.selectAll('.domain').attr('stroke', '#dddddd')\r\n  svg.selectAll(\".title\").data([0]).join('text').attr('x', feature_width / 2).attr('y', feature_height - 28).attr('dominant-baseline', 'hanging').attr('text-anchor', 'middle').text(feature_name).attr('font-size', 14).style('text-transform', 'capitalize')\r\n  svg.call(d3.brushX().extent([[0, margin.top], [400, area_chart_height + margin.top]]).on(\"end\", () => {\r\n    var extent = d3.event.selection\r\n    if (extent != null) {\r\n      var lower = xScale.invert(extent[0]), upper = xScale.invert(extent[1])\r\n      var instances = histogram_data.filter(item => item['y'] >= lower && item['y'] <= upper).map(item => item['x']) // x contains the ranking and y contains the value\r\n      store_instances(feature_name, instances)\r\n    }\r\n    else{store_instances(feature_name, [])}\r\n  }))\r\n}\r\n//https://stackoverflow.com/questions/54236051/how-to-draw-a-vertical-area-chart","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport FeatureHistograms from \"./FeatureHistograms/FeatureHistograms\"\r\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\r\n\r\nexport default function SimpleMenu() {\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  return (\r\n    <div style={{marginTop:-2}}>\r\n      <Button aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleClick}>Select Features<ArrowDropDownIcon></ArrowDropDownIcon></Button>\r\n      <Menu id=\"simple-menu\" anchorEl={anchorEl} keepMounted open={Boolean(anchorEl)} onClose={handleClose} style={{marginTop:0}}>\r\n       {anchorEl?<FeatureHistograms handleClose={handleClose}></FeatureHistograms>:null}\r\n      </Menu>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\r\nimport { connect } from 'react-redux';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\n\r\nexport function SimpleMenu(props) {\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  return (\r\n    <div style={{marginTop:-2}}>\r\n      <Button aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleClick}>Select Mode<ArrowDropDownIcon></ArrowDropDownIcon></Button>\r\n      <Menu id=\"simple-menu\" anchorEl={anchorEl} keepMounted open={Boolean(anchorEl)} onClose={handleClose} style={{marginTop:0}}>\r\n       {anchorEl?<div style={{paddingLeft:10}}><form onSubmit={() => this.buttonclickHandler(1, \"form\")}>\r\n                <FormControl component=\"fieldset\">\r\n                  <FormLabel component=\"legend\"></FormLabel>\r\n                  <RadioGroup aria-label=\"gender\" name=\"gender1\" onChange={(event, val) => {handleClose();props.Set_histogram_data([]);props.Set_mode(val)}}>\r\n                    {['Model', 'Ranges', 'Time'].map((value) => {\r\n                      return <FormControlLabel value={value} control={<Radio />} label={value} />\r\n                    })}\r\n                  </RadioGroup>\r\n                </FormControl>\r\n              </form></div>:null}\r\n      </Menu>\r\n    </div>\r\n  );\r\n}\r\nconst maptstateToprop = (state) => {\r\n  return {\r\n    state_range: state.state_range,\r\n  }\r\n}\r\nconst mapdispatchToprop = (dispatch) => {\r\n  return {\r\n    Set_mode: (val) => dispatch({ type: \"mode\", value: val }),\r\n    Set_histogram_data: (val) => dispatch({ type: \"histogram_data\", value: val }),\r\n  }\r\n}\r\nexport default connect(maptstateToprop, mapdispatchToprop)(SimpleMenu);\r\n","import React, { Component } from 'react';\r\n//------------------------------------------------All datasets imports ends here\r\nimport { Row, Col } from 'reactstrap';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\nimport * as $ from 'jquery';\r\nimport { connect } from \"react-redux\";\r\nimport Grid from '@material-ui/core/Grid';\r\nimport FeaturesDropdown from \"./FeaturesDropdown\"\r\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\r\nimport SelectMode from './SelectMode'\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    // mydata is original data\r\n    this.state = {\r\n      random: 10,\r\n      original_data: null, grouped_by_year_data: null, show: [\"Slope charts\", \"Rankings\", \"Explanation\"], view_data: 1,\r\n      histogram_data: [], ref_year: null, features_dict: {}, features_voted: null, Legend_ready_to_vis: null, legend_model: \"CordAscent\",\r\n    };\r\n  }\r\n  buttonclickHandler = (value, type) => {\r\n    setTimeout(() => { this.setState({ random: Math.random() }) }, 500);\r\n    type = \"button\" ? this.props.Set_view_data(value) : null\r\n    type = \"form\" ? this.setState({ view_data: value }) : null\r\n  }\r\n  shouldComponentUpdate() {\r\n    return true;\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Grid container>\r\n          <ButtonGroup aria-label=\"outlined button group\" style={{marginRight:150,border:'none'}}>\r\n          <Button style={{borderRadius:0,border:'none',borderRight:'1px solid #bfbfbf'}} onClick={() => this.buttonclickHandler(1, \"button\")}>View Data</Button>\r\n          <Button style={{borderRadius:0,border:'none', borderRight:'1px solid #bfbfbf'}} onClick={() => this.buttonclickHandler(0, \"button\")}>Load Data</Button>\r\n          </ButtonGroup>\r\n          {this.props.mode==\"Model\"?<FeaturesDropdown></FeaturesDropdown>:null}\r\n          <SelectMode></SelectMode>\r\n        </Grid>\r\n        {this.props.view_data == false ?\r\n          <Row className=\"Topbar_container\">\r\n            <div className=\"load\">\r\n              <form onSubmit={() => this.buttonclickHandler(1, \"form\")}>\r\n                <FormControl component=\"fieldset\">\r\n                  <FormLabel component=\"legend\"></FormLabel>\r\n                  <RadioGroup aria-label=\"gender\" name=\"gender1\" onChange={(event, val) => this.props.handleradioChange(val)}>\r\n                    {['Fiscal Dataset', 'School Dataset', 'House Dataset'].map((value) => {\r\n                      return <FormControlLabel value={value} control={<Radio />} label={value} />\r\n                    })}\r\n                  </RadioGroup>\r\n                  <Button type=\"submit\" variant=\"outlined\" color=\"primary\">Load</Button>\r\n                </FormControl>\r\n              </form>\r\n            </div></Row>\r\n          : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst maptstateToprop = (state) => {\r\n  return {\r\n    view_data: state.view_data,\r\n    mode:state.mode,\r\n  }\r\n}\r\nconst mapdispatchToprop = (dispatch) => {\r\n  return {\r\n    Set_view_data: (val) => dispatch({ type: \"view_data\", value: val }),\r\n  }\r\n}\r\nexport default connect(maptstateToprop, mapdispatchToprop)(App);","import React, { Component } from 'react';\r\nimport * as d3 from 'd3';\r\nimport { connect } from \"react-redux\";\r\n\r\nclass SlopeChart extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.line_color = null;\r\n        this.state = { height_slope_exp_chart: 700, mouseX: 0, mouseY: 0 }\r\n    }\r\n    componentDidMount() { this.setState({ width: window.innerHeight }) }\r\n    componentDidUpdate(prevProps, prevState) {\r\n        // Draw a circle\r\n        var myCircle = d3.select(\"#dataviz_brushing\")\r\n            .append(\"svg\")\r\n            .append(\"circle\")\r\n            .attr(\"cx\", 200)\r\n            .attr(\"cy\", 200)\r\n            .attr(\"r\", 40)\r\n            .attr(\"fill\", \"#69a3b2\")\r\n\r\n        // Add brushing\r\n        d3.select(\"#dataviz_brushing\")\r\n            .call(d3.brush()                     // Add the brush feature using the d3.brush function\r\n                .extent([[0, 0], [400, 400]])       // initialise the brush area: start at 0,0 and finishes at width,height: it means I select the whole graph area\r\n            )\r\n\r\n    }\r\n    render() {\r\n        //console.log(parseInt($(\".uploader_topbar\").height()),parseInt($(\".years_model_container\").height()),parseInt($(\".Modelslider\").height()))\r\n        return (\r\n            <div style={{ width: window.innerWidth, height: window.innerHeight }}>\r\n                <svg style={{ width: 400, height: 400 }} id=\"dataviz_brushing\"></svg>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nconst maptstateToprop = (state) => {\r\n    return {\r\n        state_range: state.state_range,\r\n        selected_year: state.selected_year\r\n    }\r\n}\r\nconst mapdispatchToprop = (dispatch) => {\r\n    return {\r\n        Set_clicked_features: (val) => dispatch({ type: \"clicked_features\", value: val }),\r\n        Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: val }),\r\n    }\r\n}\r\nexport default connect(maptstateToprop, mapdispatchToprop)(SlopeChart);","import React, { Component, PureComponent } from 'react';\r\nimport * as d3 from 'd3';\r\nimport * as $ from 'jquery';\r\nimport { connect } from \"react-redux\";\r\nimport './legend.scss'\r\nclass Legend extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {} // This is the default height\r\n  }\r\n  componentDidMount() { this.setState({ rand: 10 }) }\r\n  componentDidUpdate() {\r\n    var legend_container_width = $('.legend_container').width()\r\n    var legend_container_height = $('.legend_container').height()\r\n    //--------------------------- Legend 1\r\n    var legend1_height = 100\r\n    var legend1_rScale = d3.scaleLinear().domain(d3.extent(this.props.deviation_array)).range([5, 2])\r\n    var legend1_yScale = d3.scaleLinear().domain(d3.extent(this.props.deviation_array)).range([5, legend1_height - 5])\r\n    var legend1_ticks = legend1_yScale.ticks(4)\r\n    var legend1_svg = d3.select('#legend1').attr('width', legend_container_width).attr('height', legend1_height)\r\n    legend1_svg.selectAll('.legend1_circles').data(legend1_ticks).join('circle').attr('class', 'legend1_circles').attr('cx', 10).attr('cy', d => legend1_yScale(d)).attr('r', d => legend1_rScale(d)).attr('fill', 'grey')\r\n    legend1_svg.selectAll('.legend1_text').data(legend1_ticks).join('text').attr('class', 'legend1_text').attr('x', 20).attr('y', d => legend1_yScale(d)).text(d => d).attr('dominant-baseline', 'middle').attr('font-size', 10)\r\n\r\n    //--------------------------- Legend 2\r\n    var min = d3.min(this.props.selected_instances), max = d3.max(this.props.selected_instances);\r\n    var d = (max - min) / 8;\r\n    var diverginColor = d3.scaleLinear().domain([min + d * 7, min + d * 6, min + d * 5, min + d * 4, min + d * 3, min + d * 2, min]).interpolate(d3.interpolateRgb).range(['#00429d', '#4771b2', '#73a2c6', '#a5d5d8', /*'#ffffe0',*/ '#ffbcaf', '#f4777f', '#cf3759', '#93003a']);\r\n\r\n    var legend2_svg_height = legend_container_height/2 - 50\r\n    var legend2_height = legend2_svg_height - 50\r\n\r\n    var legend2_yScale = d3.scaleLinear().domain([min, max]).range([22, legend2_height - 15])\r\n    var legend2_ticks = d3.range(min, max + 1, max / 10)\r\n    var rect_height = (legend2_height - 30) / legend2_ticks.length\r\n    var rect_width=8\r\n    var legend2_svg = d3.select('#legend2').attr('width', legend_container_width).attr('height', legend2_svg_height)\r\n    legend2_svg.selectAll('.legend2_rects').data(legend2_ticks).join('rect').attr('class', 'legend2_rects').attr('x', 10).attr('y', (d, i) => legend2_yScale(d)).attr('width', rect_width).attr('height', rect_height).attr('fill', d => diverginColor(d))\r\n    //legend2_svg.selectAll('.legend2_text').data(legend1_ticks).join('text').attr('class','legend1_text').attr('x',20).attr('y',d=>legend1_yScale(d)).text(d=>d).attr('dominant-baseline','middle').attr('font-size',10)\r\n    legend2_svg.selectAll(\".High\").data(['High']).join(\"text\").attr(\"x\", 0).attr(\"class\", \"High\").attr('dominant-baseline', \"hanging\").attr(\"y\", 0).text('High').attr('font-size', 12)\r\n    legend2_svg.selectAll(\".Low\").data(['Low']).join(\"text\").attr(\"x\", 0).attr(\"class\", \"Low\").attr('dominant-baseline', \"hanging\").attr(\"y\", legend2_height).text('Low').attr('font-size', 12)\r\n    legend2_svg.selectAll(\".legend2_labels\").data([min,max/2,max]).join(\"text\").attr(\"x\", 10+rect_width+2).attr(\"class\", \"legend2_labels\").attr('dominant-baseline', \"middle\").attr('y', (d, i) => i==0?legend2_yScale(d)+rect_height/2:legend2_yScale(d)).text(d=>d).attr('font-size', 12)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"legend_container\" style={{ height: '100%', width: '100%'}}>\r\n        <div>\r\n        <div item style={{ backgroundColor: 'rgb(211, 211, 211,0.5)',padding:5,marginBottom:5 }}>\r\n        <p className=\"title\" style={{marginBottom:10}}> Model Precision</p>\r\n          <svg id=\"legend1\"> </svg>\r\n        </div>\r\n        <div item style={{ backgroundColor: 'rgb(211, 211, 211,0.5)',padding:5 }}>\r\n          <p className=\"title\" style={{marginBottom:10}}> Rank Range</p>\r\n          <svg id=\"legend2\"> </svg>\r\n        </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst maptstateToprop = (state) => {\r\n  return {\r\n    selected_instances: state.selected_instances,\r\n    deviation_array: state.deviation_array,\r\n  }\r\n}\r\nconst mapdispatchToprop = (dispatch) => {\r\n  return {\r\n    Set_legend_year: (val) => dispatch({ type: \"legend_year\", value: val }),\r\n  }\r\n}\r\nexport default connect(maptstateToprop, mapdispatchToprop)(Legend);","import React, { Component } from 'react';\r\n//------------------------------------------------All datasets imports\r\nimport fiscal from \"./Data/fiscal.csv\";\r\nimport school from \"./Data/school.csv\";\r\nimport house from \"./Data/house.csv\";\r\n\r\nimport fiscal_rank from \"./Data/data/fiscal/lime/fiscal_rank.csv\";\r\nimport fiscal_lime from \"./Data/data/fiscal/lime/fiscal_lime.csv\";\r\n\r\nimport school_rank from \"./Data/data/school/lime/school_rank.csv\";\r\nimport school_lime from \"./Data/data/school/lime/school_lime.csv\";\r\n\r\nimport house_rank from \"./Data/data/house/lime/house_rank.csv\";\r\nimport house_lime from \"./Data/data/house/lime/house_lime.csv\";\r\n\r\n//------------------------------------------------All datasets imports ends here\r\nimport \"./App.scss\";\r\nimport * as d3 from 'd3';\r\nimport * as algo1 from \"./Algorithms/algo1\";\r\nimport ModelChart from \"./components/Charts/Model/ModelChartComponent\"\r\nimport RangeChart from \"./components/Charts/Range/RangeChartComponent\"\r\nimport YearChart from \"./components/Charts/Time/YearChart\"\r\nimport { Row, Col } from 'reactstrap';\r\nimport * as $ from 'jquery';\r\nimport { connect } from \"react-redux\";\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Top from './components/Top/Top';\r\nimport BrushTest from './components/BrushTest/BrushTest';\r\nimport { Hidden } from '@material-ui/core';\r\nimport Legend from '../src/components/Legend/Legend'\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    // mydata is original data\r\n    this.state = {\r\n      random: 10,\r\n      original_data: null, grouped_by_year_data: null, show: [\"Slope charts\", \"Rankings\", \"Explanation\"], view_data: 1,\r\n      histogram_data: [], ref_year: null, features_dict: {}, features_voted: null, Legend_ready_to_vis: null, legend_model: \"CordAscent\",\r\n    };\r\n  }\r\n  componentDidMount() { this.dataprocessor(this.props.dataset) }\r\n  //-------------------------------------------------------------------------------------------------------------------- data processor processes data for initial render\r\n  dataprocessor = (dataset_name) => {\r\n    if (dataset_name == \"school\") { this.process_data(school, school_rank, school_lime, dataset_name) }\r\n    if (dataset_name == \"fiscal\") { this.process_data(fiscal, fiscal_rank, fiscal_lime, dataset_name) }\r\n    if (dataset_name == \"house\") { this.process_data(house, house_rank, house_lime, dataset_name) }\r\n  }\r\n  process_data = (slopechart_data_filename, rank_data_filename, lime_data_filename, dataset_name) => {\r\n    var self = this\r\n    //-------------\r\n    d3.csv(slopechart_data_filename).then(original_data => {\r\n      var grouped_by_year_data = algo1.groupby_year(original_data).years\r\n      var sparkline_data = algo1.groupby_year(original_data).sparkline_data\r\n      var years_for_dropdown = Object.keys(grouped_by_year_data)\r\n      //console.log(grouped_by_year_data,sparkline_data,years_for_dropdown,'selected_year')\r\n      self.props.Set_sparkline_data(sparkline_data)\r\n      self.props.Set_slider_max(grouped_by_year_data[years_for_dropdown[0]].length)\r\n      self.setState({ years_for_dropdown: years_for_dropdown })\r\n      self.props.Set_years_for_dropdown(years_for_dropdown)\r\n      self.props.Set_time_mode_year1(years_for_dropdown[0])\r\n      self.props.Set_time_mode_year2(years_for_dropdown[1])\r\n      self.props.Set_legend_year(years_for_dropdown[0])\r\n      self.setState({ ref_year: years_for_dropdown[0] })\r\n      self.props.Set_grouped_by_year_data(grouped_by_year_data)\r\n      self.setState({ grouped_by_year_data: grouped_by_year_data })\r\n      self.setState({ original_data: original_data })\r\n      self.props.Set_original_data(original_data)\r\n      self.props.Set_selected_year(years_for_dropdown[0])\r\n    })\r\n    //-------------\r\n    d3.csv(rank_data_filename).then(data => {\r\n      var nested_data = {}\r\n      d3.nest().key(function (d) { return d.model; }).entries(data).map(item => {\r\n        nested_data[item.key] = item.values\r\n      })\r\n      self.props.Set_rank_data(nested_data)\r\n    })\r\n    //-------------\r\n    d3.csv(lime_data_filename).then(temp_data => {\r\n      var data=temp_data.map(item=>{\r\n        item['predicted']=parseInt(item['predicted'])\r\n        item['two_realRank']=parseInt(item['two_realRank'])\r\n        item['deviation']=Math.abs(item['predicted']-item['two_realRank'])\r\n        return item\r\n      })\r\n      var nested_data = {}\r\n      d3.nest().key(function (d) { return d.model; }).entries(data).map(item => {\r\n        nested_data[item.key] = item.values\r\n      })\r\n      self.props.Set_lime_data(nested_data)\r\n    })\r\n  }\r\n  //-------------------------------------------------------------------------------------------------------------------- data processor processes data for initial render\r\n\r\n  handleradioChange = (selected_dataset) => {\r\n    this.props.Set_rank_data(null)\r\n    this.props.Set_clicked_items_in_slopechart([])\r\n    this.props.Set_state_range([1, 25])\r\n    this.props.Set_histogram_data([])\r\n    this.props.Set_mode(\"Model\")\r\n    this.props.Set_range_mode_range1([1, 25])\r\n    this.props.Set_range_mode_range2([15, 40])\r\n    this.props.Set_time_mode_range([5, 35])\r\n    if (selected_dataset == 'Fiscal Dataset') {\r\n      this.setState({ dataset: 'fiscal' })\r\n      this.props.Set_dataset('fiscal')\r\n      this.dataprocessor(\"fiscal\")\r\n    }\r\n    else if (selected_dataset == 'House Dataset') {\r\n      this.setState({ dataset: 'house' })\r\n      this.props.Set_dataset('house')\r\n      this.dataprocessor(\"house\")\r\n    }\r\n    else {\r\n      this.setState({ dataset: 'school' })\r\n      this.props.Set_dataset('school')\r\n      this.dataprocessor(\"school\")\r\n    }\r\n  };\r\n  render() {\r\n    var legend_width = 70\r\n    return (\r\n      <div className=\"root_container\" style={{ height: window.innerHeight, width: window.innerWidth, overflow: \"hidden\" }}>\r\n        <div className=\"topBar_root\" style={{ height: 30, width: window.innerWidth}}>\r\n          <Top handleradioChange={this.handleradioChange}></Top>\r\n        </div>\r\n        {this.props.view_data ? <Row>\r\n          <div style={{ width: window.innerWidth, height: window.innerHeight - $('.topBar_root').height(), padding: \"2px 0px\" }} key={this.props.view_data}>\r\n            {this.state.view_data == true ?\r\n              <Grid className=\"charts_and_legend_container\" style={{ height: '100%', width: '100%', border: \"2px solid grey\", overflow: \"hidden\" }} container direction=\"row\" justify=\"flex-start\" alignItems=\"center\" >\r\n                <Grid className=\"charts_container\" style={{ height: '100%', width: $('.charts_and_legend_container').width() - legend_width }} container spacing={0} direction=\"row\" justify=\"space-evenly\" >\r\n                  {this.props.mode == \"Model\" && this.state.grouped_by_year_data != null && this.props.original_data != null && this.props.lime_data != null ? <ModelChart></ModelChart> : null}\r\n                  {this.props.mode == \"Ranges\" && this.state.grouped_by_year_data != null && this.props.original_data != null && this.props.lime_data != null ? <RangeChart></RangeChart> : null}\r\n                  {this.props.mode == \"Time\" && this.state.grouped_by_year_data != null && this.props.original_data != null && this.props.lime_data != null ? <YearChart></YearChart> : null}\r\n                </Grid>\r\n                <div style={{ padding: 0,marginTop:5, height: '100%', width: legend_width }}><Legend legend_width={legend_width}></Legend></div>\r\n              </Grid> : null}\r\n          </div>\r\n        </Row> : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst maptstateToprop = (state) => {\r\n  return {\r\n    tracking: state.tracking,\r\n    state_range: state.state_range,\r\n    deviate_by: state.deviate_by,\r\n    default_models: state.default_models,\r\n    sparkline_data: state.sparkline_data,\r\n    selected_year: state.selected_year,\r\n    mode: state.mode,\r\n    range_mode_model: state.range_mode_model,\r\n    original_data: state.original_data,\r\n    time_mode_model: state.time_mode_model,\r\n    chart_scale_type: state.chart_scale_type,\r\n    dataset: state.dataset,\r\n    histogram_data: state.histogram_data,\r\n    sort_by: state.sort_by,\r\n    time_mode_year1: state.time_mode_year1,\r\n    time_mode_year2: state.time_mode_year2,\r\n    popup_chart_data: state.popup_chart_data,\r\n    clicked_items_in_slopechart: state.clicked_items_in_slopechart,\r\n    config: state.config,\r\n    lime_data: state.lime_data,\r\n    view_data: state.view_data\r\n  }\r\n}\r\nconst mapdispatchToprop = (dispatch) => {\r\n  return {\r\n    Set_dataset: (val) => dispatch({ type: \"dataset\", value: val }),\r\n    Set_default_models: (val) => dispatch({ type: \"default_models\", value: val }),\r\n    Set_sparkline_data: (val) => dispatch({ type: \"sparkline_data\", value: val }),\r\n    Set_slider_max: (val) => dispatch({ type: \"slider_max\", value: val }),\r\n    Set_years_for_dropdown: (val) => dispatch({ type: \"years_for_dropdown\", value: val }),\r\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: parseInt(val) }),\r\n    Set_ref_year: (val) => dispatch({ type: \"ref_year\", value: val }),\r\n    Set_original_data: (val) => dispatch({ type: \"original_data\", value: val }),\r\n    Set_grouped_by_year_data: (val) => dispatch({ type: \"grouped_by_year_data\", value: val }),\r\n    Set_slider_and_feature_value: (val) => dispatch({ type: \"slider_and_feature_value\", value: val }),\r\n    Set_clicked_items_in_slopechart: (val) => dispatch({ type: \"clicked_items_in_slopechart\", value: val }),\r\n    Set_histogram_data: (val) => dispatch({ type: \"histogram_data\", value: val }),\r\n    Set_state_range: (val) => dispatch({ type: \"state_range\", value: val }),\r\n    Set_legend_year: (val) => dispatch({ type: \"legend_year\", value: val }),\r\n\r\n    Set_mode: (val) => dispatch({ type: \"mode\", value: val }),\r\n    Set_range_mode_range1: (val) => dispatch({ type: \"range_mode_range1\", value: val }),\r\n    Set_range_mode_range2: (val) => dispatch({ type: \"range_mode_range2\", value: val }),\r\n    Set_time_mode_range: (val) => dispatch({ type: \"time_mode_range\", value: val }),\r\n    Set_time_mode_year1: (val) => dispatch({ type: \"time_mode_year1\", value: val }),\r\n    Set_time_mode_year2: (val) => dispatch({ type: \"time_mode_year2\", value: val }),\r\n\r\n    Set_rank_data: (val) => dispatch({ type: \"rank_data\", value: val }),\r\n    Set_lime_data: (val) => dispatch({ type: \"lime_data\", value: val }),\r\n    Set_pop_over_models: (val) => dispatch({ type: \"pop_over_models\", value: val }),\r\n    Set_default_model_scores: (val) => dispatch({ type: \"default_model_scores\", value: val }),\r\n\r\n  }\r\n}\r\nexport default connect(maptstateToprop, mapdispatchToprop)(App);","let initialState = {\r\n   anim_config: {rank_animation:3000,deviation_animation:3000,feature_animation:3000,circle_animation:3000},\r\n   appHandleChange: null,\r\n   sparkline_data: null,\r\n   sort_by: \"Average Precision\",\r\n   original_data: null,\r\n   rank_data: null,\r\n   lime_data: null,\r\n   grouped_by_year_data: null,\r\n   slope_chart_ready_to_vis: null,\r\n   default_models: [\"LinearReg\",\"CordAscent\"], // Change the pop_over_models as well\r\n   state_range: [1, 30], // Change in handleradioChange\r\n   deviate_by: 0,\r\n   show: [\r\n      \"Slope charts\", \"Rankings\", \"Explanation\" // change in app.js\r\n   ],\r\n   years_for_dropdown: [\r\n      \"2006\"\r\n   ],\r\n   selected_year: 2006,\r\n   slider_min: 1,\r\n   slider_max: 50,\r\n   view_data: 1,\r\n   dataset: \"school\", // change in componentDidmount in app.js too\r\n   histogram_data: [],\r\n   chart_scale_type: \"true\",\r\n   features_with_score: null,\r\n   ref_year: null,\r\n   cmodel: \"CordAscent\",\r\n   clicked_items_in_slopechart: [],\r\n   tracking: false,\r\n   dummy: null,\r\n   features_dict: {},\r\n   features_voted: null,\r\n   Legend_ready_to_vis: null,\r\n   legend_model: \"CordAscent\",\r\n   legend_show_option: \"Rank\",\r\n   legend_year: 2012,\r\n   mode: \"Model\",\r\n   range_mode_model: \"CordAscent\",\r\n   range_mode_range1: [1, 25],\r\n   range_mode_range2: [15, 40],\r\n   time_mode_model: \"CordAscent\",\r\n   time_mode_year1: \"Null\",\r\n   time_mode_year2: \"Null\",\r\n   time_mode_range: [6, 32],\r\n   chart_scale_type: \"true\",\r\n   slider_and_feature_value: { 'Rank range': 1, 'Feature': 1 },\r\n   prev_prop: {},\r\n   replay: false,\r\n   changed: \"year\",\r\n   popup_chart_data: null,\r\n   pop_over: false,\r\n   pop_over_models: [\"LinearReg\",\"CordAscent\"],\r\n   clicked_features: [],\r\n   drag_drop_feautre_data: {},\r\n   dbclicked_features: [],\r\n   default_model_scores: {},\r\n   all_models: [\"MART\", \"RandomFor\", \"LinearReg\", \"CordAscent\", \"LambdaMART\", \"LambdaRank\", \"RankBoost\", \"RankNet\"],\r\n   average_y: false,\r\n   average_m: false,\r\n   clicked_circles:[],\r\n   threshold:1000,\r\n   deviation_array:[], // This is for legend\r\n   selected_instances:[], // This is for legend\r\n   dragged_features:{},\r\n   //url:\"http://0.0.0.0:5000/test\",\r\n   url:\"http://privacyprofiling.njitvis.com:5000/api/v2/rieval_mds\",\r\n}\r\n//---InitialState ends here\r\nconst reducer = (state = initialState, action) => {\r\n   if (action.type === \"dragged_features\") {\r\n      console.log('dragged_features',action.value)\r\n      return { ...state, dragged_features: action.value }\r\n   }\r\n   if (action.type === \"selected_instances\") {\r\n      console.log('selected_instances',action.value)\r\n      return { ...state, selected_instances: action.value }\r\n   }\r\n   if (action.type === \"deviation_array\") {\r\n      return { ...state, deviation_array: action.value }\r\n   }\r\n   if (action.type === \"view_data\") {\r\n      return { ...state, view_data: action.value }\r\n   }\r\n   if (action.type === \"threshold\") {\r\n      return { ...state, threshold: action.value }\r\n   }\r\n   if (action.type === \"clicked_circles\") {\r\n      return { ...state, clicked_circles: action.value }\r\n   }\r\n   if (action.type === \"average_y\") {\r\n      \r\n      return { ...state, average_y: action.value }\r\n   }\r\n   if (action.type === \"average_m\") {\r\n      \r\n      return { ...state, average_m: action.value }\r\n   }\r\n   if (action.type === \"default_model_scores\") {\r\n     \r\n      return { ...state, default_model_scores: action.value }\r\n   }\r\n   if (action.type === \"dbclicked_features\") {\r\n      return { ...state, dbclicked_features: action.value }\r\n   }\r\n   if (action.type === \"drag_drop_feautre_data\") {\r\n      return { ...state, drag_drop_feautre_data: action.value }\r\n   }\r\n   if (action.type === \"anim_config\") {\r\n      return { ...state, config: action.value }\r\n   }\r\n   if (action.type === \"show\") {\r\n      return { ...state, show: action.value }\r\n   }\r\n   if (action.type === \"lime_data\") {\r\n      return { ...state, lime_data: action.value }\r\n   }\r\n   if (action.type === \"default_models\") {\r\n      return { ...state,pop_over_models:action.value, default_models: action.value }\r\n   }\r\n   if (action.type === \"rank_data\") {\r\n\r\n      return { ...state, rank_data: action.value }\r\n   }\r\n   if (action.type === \"original_data\") {\r\n      return { ...state, original_data: action.value }\r\n   }\r\n   if (action.type === \"years_for_dropdown\") {\r\n      return { ...state, years_for_dropdown: action.value }\r\n   }\r\n   if (action.type === \"appHandleChange\") {\r\n      return { ...state, appHandleChange: action.value }\r\n   }\r\n   if (action.type === \"state_range\") {\r\n      return { ...state, state_range: action.value }\r\n   }\r\n   if (action.type === \"selected_year\") {\r\n      return { ...state, selected_year: action.value}\r\n   }\r\n   if (action.type === \"tracking\") {\r\n      return { ...state, tracking: action.value }\r\n   }\r\n   if (action.type === \"grouped_by_year_data\") {\r\n     \r\n      return { ...state, grouped_by_year_data: action.value }\r\n   }\r\n   if (action.type === \"sort_by\") {\r\n      return { ...state, sort_by: action.value }\r\n   }\r\n   if (action.type === \"deviate_by\") {\r\n      return { ...state, deviate_by: action.value }\r\n   }\r\n   if (action.type === \"mode\") {\r\n      return { ...state, mode: action.value }\r\n   }\r\n   if (action.type === \"slider_max\") {\r\n      return { ...state, slider_max: action.value }\r\n   }\r\n   if (action.type === \"range_mode_model\") {\r\n      return { ...state,pop_over_models:[action.value],range_mode_model: action.value }\r\n   }\r\n   //----\r\n   if (action.type === \"range_mode_range1\") {\r\n      console.log(action.value)\r\n      return { ...state, range_mode_range1: action.value }\r\n   }\r\n   if (action.type === \"range_mode_range2\") {\r\n      console.log(action.value)\r\n      return { ...state, range_mode_range2: action.value }\r\n   }\r\n   if (action.type === \"time_mode_range\") {\r\n      return { ...state, time_mode_range: action.value }\r\n   }\r\n   if (action.type === \"time_mode_model\") {\r\n      return { ...state, pop_over_models:[action.value],time_mode_model: action.value }\r\n   }\r\n   if (action.type === \"time_mode_year1\") {\r\n      return { ...state, time_mode_year1: action.value }\r\n   }\r\n   if (action.type === \"time_mode_year2\") {\r\n      return { ...state, time_mode_year2: action.value }\r\n   }\r\n   if (action.type === \"clicked_items_in_slopechart\") {\r\n      return { ...state, clicked_items_in_slopechart: action.value }\r\n   }\r\n   if (action.type === \"features_with_score\") {\r\n      return { ...state, features_with_score: action.value }\r\n   }\r\n   if (action.type === \"sparkline_data\") {\r\n      return { ...state, sparkline_data: action.value }\r\n   }\r\n   if (action.type === \"legend_show_option\") {\r\n      return { ...state, legend_show_option: action.value }\r\n   }\r\n   if (action.type === \"legend_model\") {\r\n      return { ...state, legend_model: action.value }\r\n   }\r\n   if (action.type === \"histogram_data\") {\r\n      return { ...state, histogram_data: action.value }\r\n   }\r\n   if (action.type === \"dataset\") {\r\n      return { ...state, dataset: action.value }\r\n   }\r\n   if (action.type === \"slider_and_feature_value\") {\r\n      return { ...state, slider_and_feature_value: action.value }\r\n   }\r\n   if (action.type === \"legend_year\") {\r\n      return { ...state, legend_year: action.value }\r\n   }\r\n   if (action.type === \"prev_prop\") {\r\n      return { ...state, prev_prop: action.value }\r\n   }\r\n   if (action.type === \"replay\") {\r\n      return { ...state, replay: action.value }\r\n   }\r\n   if (action.type === \"changed\") {\r\n      return { ...state, changed: action.value }\r\n   }\r\n   if (action.type === \"popup_chart_data\") {\r\n      return { ...state, popup_chart_data: action.value }\r\n   }\r\n   if (action.type === \"pop_over\") {\r\n      return { ...state, pop_over: action.value }\r\n   }\r\n   if (action.type === \"pop_over_models\") {\r\n      var temp = action.value.filter(item => item != \"ListNet\")\r\n      return { ...state, pop_over_models: temp }\r\n   }\r\n   if (action.type === \"clicked_features\") {\r\n      //console.log(action.value)\r\n      return { ...state, clicked_features: action.value }\r\n   }\r\n   return state;\r\n}\r\nexport default reducer;","import { createMuiTheme } from '@material-ui/core/styles';\r\nconst theme = createMuiTheme({\r\n  spacing:3,      \r\n  typography: {\r\n    button: {\r\n      textTransform: 'none'\r\n    }\r\n  },\r\n  overrides:{\r\n    MuiGrid:{\r\n      root:{\r\n        margin:0,\r\n        padding:0\r\n      },\r\n    }\r\n  }\r\n});\r\nexport default theme;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport { createStore } from 'redux';\r\nimport {Provider} from 'react-redux';\r\nimport reducer from './store/reducer';\r\nimport theme from './Themes'; \r\nimport { ThemeProvider } from '@material-ui/styles';\r\nconst store=createStore(reducer);\r\nReactDOM.render( <ThemeProvider theme={theme}><Provider store={store}><App /></Provider></ThemeProvider>,document.getElementById('root'));\r\n\r\n\r\n"],"sourceRoot":""}