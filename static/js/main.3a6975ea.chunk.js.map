{"version":3,"sources":["Data/fiscal.csv","Data/school.csv","Data/house.csv","Data/data/fiscal/lime/fiscal_rank.csv","Data/data/fiscal/lime/fiscal_lime.csv","Data/data/school/lime/school_rank.csv","Data/data/school/lime/school_lime.csv","Data/data/house/lime/house_rank.csv","Data/data/house/lime/house_lime.csv","Data/data/house/lime/chart1_data.csv","Algorithms/algo1.js","components/Charts/misc_algo.js","components/Charts/lasso_circle.js","components/Charts/explanation_chart.js","components/Charts/deviation_chart.js","components/Charts/Sparkline.js","components/Charts/ThresholdSlider.js","components/Charts/Model/ModelSlider.js","components/Charts/Model/ModelChart.js","components/Charts/Range/SliderGroup1.js","components/Charts/Range/SliderGroup2.js","components/Charts/Range/RangeChart.js","components/Charts/Time/YearChart.js","components/TopBar/TopBar.js","components/Sidebar/Histogram.js","components/Sidebar/HistogramContainer.js","components/Sidebar/Modes.js","components/Sidebar/Sidebar.js","App.js","store/reducer.js","Themes.js","index.js","Data/data/fiscal/lime/chart1_data.csv","Data/data/school/lime/chart1_data.csv"],"names":["module","exports","groupby_year","original_data","years","sparkline_data","forEach","element","replace","temp_dict","year","parseInt","rank","push","features_with_score","dataset","models","state_range","selected_year","number_of_charts","rank_data","console","log","temp1","temp_final","key","map","model","temp2","v","top_nine","length","items","data","feautures","tempvoted_data_with_score","data2","filter","index","Object","keys","item","feauture","parseFloat","sort","first","second","items2","sorted_features","i","key2","handle_transparency","class_name","clicked_circles","anim_config","d3","attr","circle_id","draw_lines","diverginColor","remove","d","lines","two_realRank","parent_id","substring","points","selectAll","each","this","join","transition","duration","Create_lasso_circles","lime_data","defualt_models","selected_instances","Set_clicked_circles","temp_lime_data_label","temp_lime_data_mds","limedata_all_models","temp","includes","feature_arr","dist_matrix","temp_arr","j","eucDistance","mds_data","distances","dimensions","M","numeric","mean","A","apply","rowMeans","colMeans","totalMean","ret","eigenValues","S","U","row","splice","mds_classic","circle_data","margin","w","$","width","h","height","xScale","domain","range","r","yScale","svg","style","circles","lasso","d3lasso","closePathSelect","closePathDistance","targetArea","on","classed","possibleItems","notPossibleItems","selected_ids","selectedItems","notSelectedItems","call","a","b","x","Math","abs","reduce","sum","now","CreatexpChart","clicked_features","Set_clicked_features","parent_width","parent_height","item_width","item_height","parent_svg","text","enter","append","svg_index","update","feature_animation","delay","rank_animation","deviation_animation","exit","CreatexpCircle","x_transformation","feature_name","feature_contrib_name","circ_data","select","circle_animation","misc_algo","Create_deviation_chart","parent_exp_id","average","Set_selected_year","threshold","div","temp_scale_data","config","space_for_state_name","fontSize","font_dy","sparkline_width","font_line_gap","line_stroke_width","animation_duration","container_height","my_svg_top_margin","myg_top_margin","y_distance","circle_radius","dd","val","parent","s_margin","s_width","s_height","s_svg","datum","y0","y","y1","raise","preventDefault","Create_sparkline","data_for_all_years","line_data","model_name","temp_max","sclale1","d2","avg","html","pageX","pageY","useStyles","makeStyles","theme","root","heading","typography","pxToRem","flexBasis","flexShrink","secondaryHeading","color","palette","secondary","tRoot","marginBottom","rang_input","marginLeft","connect","state","dispatch","Set_threshold","type","value","props","React","useState","set_threshold","temp_marks","marks","myitem","label","className","marginTop","paddingTop","Typography","Slider","onChange","event","newValue","onChangeCommitted","valueLabelDisplay","min","max","aria-labelledby","mode","slider_max","range_mode_model","range_mode_range1","range_mode_range2","time_mode_model","time_mode_range","time_mode_year1","time_mode_year2","years_for_dropdown","slider_and_feature_value","sort_by","grouped_by_year_data","Set_state_range","Set_changed","classes","sliderRange","set_sliderRange","step","backgroundColor","borderBottom","Grid","container","direction","justifyContent","alignItems","xs","padding","TextField","input","id","isNaN","target","alert","Button","onClick","ThresholdSlider","SlopeChart","line_color","height_slope_exp_chart","mouseX","mouseY","setState","window","innerHeight","prevProps","prevState","histogram_data","under_threshold_instances","year_data","predicted_rank","interpolate","algo1","entries","slice","deviation_chart","average_m","explanation_chart","border","boxShadow","class","overflow","ModelSlider","Component","deviate_by","clicked_items_in_slopechart","tracking","chart_scale_type","show","default_model_scores","average_y","Set_prev_prop","Set_sparkline_data","Set_clicked_items_in_slopechart","Set_replay","Set_range_mode_range1","range_mode_slider_value1","set_range_mode_slider_value1","justify","Set_range_mode_range2","range_mode_slider_value2","set_range_mode_slider_value2","selected_years","selected_instances2","features_with_score2","sorted_features2","paddingRight","paddingLeft","fontWeight","SliderGroup1","marginRight","SliderGroup2","MuiAutocompleteroot","listroot","maxWidth","paper","fontWeightRegular","all_models","prev_prop","replay","add","set_tracking","Set_histogram_data","Set_slider_max","Set_time_mode_range","Set_pop_over_models","Set_defualt_models","Set_default_model_scores","Set_average_m","handle_model_click","display","CreateChart","feature","node","feature_height","handleHistogramselection","feature_data","feature_width","occur","sum_x","cScale","interpolator","svg1","statelist","country","cat_states","temp_x","tick_values","nice","ticks","hist_height","bins","thresholds","histogram","y_hist","svg0","x0","x1","tickValues","tickFormat","selectionRect","previousElement","currentY","currentX","originX","originY","setElement","ele","getNewAttributes","getCurrentAttributes","x2","y2","getCurrentAttributesAsText","attrs","init","newX","newY","rectElement","NewAttr","focus","removePrevious","dragBehavior","p","finalAttributes","myx1","myx2","temp_range","invert","toFixed","states","Chart","selected_states","update_histogram_data","filtered_states","myRef","createRef","feaures_dict","features_voted","filename","self","exp_fiscal_CordAscent","exp_school_CordAscent","exp_house_CordAscent","then","features_dict","feature_index","feature_id","setTimeout","Set_years_for_dropdown","Set_mode","Set_range_mode_model","Set_time_mode_model","Set_time_mode_year1","Set_time_mode_year2","Set_slider_and_feature_value","borderTop","Autocomplete","borderRadius","paddingBottom","defaultValue","debug","options","renderInput","params","fullWidth","InputProps","disableUnderline","Set_ref_year","Set_original_data","Set_deviate_by","Set_show","view_data","HistogramContainer","toString","Sidebar_width","App","handleradioChange","Set_dataset","dataprocessor","task2","reduced_opacity","idName","textClickHandler_original","state_name","dataset_name","process_data","school","school_rank","school_lime","fiscal","fiscal_rank","fiscal_lime","house","house_rank","house_lime","slopechart_data_filename","rank_data_filename","lime_data_filename","Set_legend_year","ref_year","Set_grouped_by_year_data","nested_data","values","Set_rank_data","Set_lime_data","buttonclickHandler","random","makeArr","startValue","stopValue","arr","Legend_ready_to_vis","legend_model","Row","Col","innerWidth","minHeight","spacing","left","borderRight","onSubmit","FormControl","component","FormLabel","RadioGroup","aria-label","name","FormControlLabel","control","Radio","variant","ModelChart","RangeChart","YearChart","popup_chart_data","initialState","appHandleChange","slope_chart_ready_to_vis","slider_min","cmodel","dummy","legend_show_option","legend_year","reducer","action","dbclicked_features","drag_drop_feautre_data","changed","pop_over","pop_over_models","createMuiTheme","button","textTransform","store","createStore","ReactDOM","render","ThemeProvider","document","getElementById"],"mappings":"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","file":"static/js/main.3a6975ea.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/fiscal.977bae2d.csv\";","module.exports = __webpack_public_path__ + \"static/media/school.2d2c77ef.csv\";","module.exports = __webpack_public_path__ + \"static/media/house.88979d03.csv\";","module.exports = __webpack_public_path__ + \"static/media/fiscal_rank.6e0a824e.csv\";","module.exports = __webpack_public_path__ + \"static/media/fiscal_lime.7992abf1.csv\";","module.exports = __webpack_public_path__ + \"static/media/school_rank.edf0b9e3.csv\";","module.exports = __webpack_public_path__ + \"static/media/school_lime.644683c6.csv\";","module.exports = __webpack_public_path__ + \"static/media/house_rank.f85c2352.csv\";","module.exports = __webpack_public_path__ + \"static/media/house_lime.b31dfb61.csv\";","module.exports = __webpack_public_path__ + \"static/media/chart1_data.45acbae8.csv\";","export function groupby_year(original_data) {\n  var years = {}\n  var sparkline_data = {}\n  original_data.forEach(element => {\n    years[element['1-qid']] = []\n    sparkline_data[element['State'].replace(/ /g, '').replace(/[^\\w\\s]/gi, '')] = []\n  });\n\n  original_data.forEach(element => {\n    var temp_dict = { year: parseInt(element['1-qid']), rank: parseInt(element['two_realRank']) }\n    sparkline_data[element['State'].replace(/ /g, '').replace(/[^\\w\\s]/gi, '')].push(temp_dict)\n    years[element['1-qid']].push(element)\n  });\n  return { years: years, sparkline_data: sparkline_data };\n}\nexport function features_with_score(dataset, models, state_range, selected_year, number_of_charts, rank_data) {\n  console.log(\"state_range\",state_range)\n  var temp1 = {}\n  var temp_final = {}\n  models.map(model => {\n    var temp2 = {}\n    var v = number_of_charts;\n    var top_nine = sorted_features(dataset, model, state_range, selected_year,rank_data)\n    if (top_nine.length < number_of_charts) { v = top_nine.length;; number_of_charts = top_nine.length } // This is because number of charts is calculated based on space but there are cases when we don't have that many features\n    for (var i = 0; i < number_of_charts; i++) {\n      temp2[top_nine[i]] = v;\n      v = v - 1\n    }\n    temp1[model] = temp2\n  });\n\n  for (var key in temp1) {\n    for (var key2 in temp1[key]) {\n      if (temp_final[key2] > 0) {\n\n        temp_final[key2] = temp_final[key2] + temp1[key][key2]\n      }\n      else {\n        temp_final[key2] = temp1[key][key2]\n      }\n    }\n  }\n  return temp_final;\n}\n\n\nexport function sorted_features(dataset, model, state_range, selected_year,rank_data) { // Uses feature rank to rank and return features name by removing the feature_rank string\n  if (!state_range.length > 0) { return [] }\n  state_range = state_range.map(element => element - 1)\n  var tempvoted_data_with_score = {},items,data,feautures;\n\n  if (model == \"ListNet\") { return [] }\n  var data2 = rank_data[model].filter(element => { if (parseInt(element['1-qid']) == parseInt(selected_year)) { return element } })\n  data = state_range.map(index => data2[index])\n  console.log('feautures',data2,selected_year)\n  feautures = Object.keys(data[0])\n\n  data.map(item => {\n    feautures.forEach(feauture => {\n      if (tempvoted_data_with_score[feauture] >= 0 || tempvoted_data_with_score[feauture] < 0) {\n        tempvoted_data_with_score[feauture] = tempvoted_data_with_score[feauture] + (parseFloat(item[feauture]))\n      }\n      else { tempvoted_data_with_score[feauture] = parseFloat(item[feauture]) }\n    })\n  })\n  //-----------------------------------------------------------------\n  // Create items array\n  items = Object.keys(tempvoted_data_with_score).map(function (key) {\n    return [key, tempvoted_data_with_score[key]];\n  });\n  // Sort the array based on the second element\n  items.sort(function (first, second) {\n    return first[1] - second[1];\n  });\n  var items2 = items.map((element) => element[0].replace(\"_feature_rank\", \"\"))\n  items2 = items2.filter(item => item != \"1-qid\" && item!=\"model\")\n  return items2;\n  //-----------------------------------------------------------------\n}\n","import * as d3 from 'd3';\nexport function handle_transparency(class_name, clicked_circles, anim_config) {\n    if (clicked_circles.length != 0) { // If there are no clicked circles make all opacity 1\n        d3.selectAll(\".items\").attr('opacity', 0.6) // Groups\n        d3.selectAll(\".\" + \"circle2\").attr('opacity', 0.3) // Circles\n        clicked_circles.map(circle_id => {\n            d3.selectAll(\".\" + circle_id).attr('opacity', 1) // Groups\n            d3.selectAll(\"#\" + circle_id).attr('opacity', 1) // Circles\n        })\n    }\n    else {\n        d3.selectAll(\".items\").attr('opacity', 1); // Groups\n        d3.selectAll(\".\" + \"circle2\").attr('opacity', 1) // Circles \n    }\n}\nexport function draw_lines(clicked_circles, diverginColor) {\n    d3.selectAll(\"#mylines\").remove()\n    clicked_circles.map(d => {\n        var lines = []\n        var two_realRank = 0\n        var parent_id = d3.select(\"#\" + d).attr('id').substring(0,3)\n        var points = []\n        d3.select(\"#\" + parent_id).selectAll(\"#\" + d).each(function (d) {\n            two_realRank = d3.select(this).attr('two_realRank')\n            points.push([d3.select(this).attr('cx2'), d3.select(this).attr('cy')])\n        })\n        lines.push([d, d3.line()(points), two_realRank])\n        d3.select(\"#\" + parent_id).selectAll('.' + d).data(lines, d => d[0]).join('path').attr(\"stroke\", d => diverginColor(d[2])).attr(\"stroke-width\", 2)\n            .attr('id', 'mylines').attr('State', d => d[2]).attr('class', d).transition().duration(0).attr('d', d => d[1]).attr(\"fill\", \"none\")\n    })\n}","import * as d3 from 'd3';\nimport * as $ from 'jquery';\nimport * as d3lasso from 'd3-lasso';\nimport * as numeric from \"numeric\"\nexport default function Create_lasso_circles(parent_id, lime_data, defualt_models, selected_year, selected_instances, sorted_features, diverginColor, Set_clicked_circles) {\n    // Create mds starts here\n    var temp_lime_data_label = []\n    var temp_lime_data_mds = []\n    var limedata_all_models = []\n\n    for (var i = 0; i < defualt_models.length; i++) { limedata_all_models = [...limedata_all_models, ...lime_data[defualt_models[i]]] }\n    limedata_all_models.map(item => {\n        var temp = []\n        if (item['1-qid'] == selected_year && selected_instances.includes(parseInt(item['two_realRank']))) {\n            temp_lime_data_label.push({ \"model\": item[\"model\"], \"State\": item['State'], \"1-qid\": item['1-qid'], 'two_realRank': parseInt(item['two_realRank']) })\n            sorted_features.map(feature_arr => temp.push(parseFloat(item[feature_arr[0]+'_contribution'])))\n            temp_lime_data_mds.push(temp)\n        }\n    })\n    //----------------------------------------------------------------------\n    var dist_matrix = []\n    for (var i = 0; i < temp_lime_data_mds.length; i++) {\n        var temp_arr = []\n        for (var j = 0; j < temp_lime_data_mds.length; j++) {\n            temp_arr.push(eucDistance(temp_lime_data_mds[i], temp_lime_data_mds[j]))\n        }\n        dist_matrix.push(temp_arr)\n    }\n    var mds_data = mds_classic(dist_matrix)\n    //---------------------------------------------------------------------------\n    var circle_data = []\n    temp_lime_data_label.map((item, index) => {\n        item['x'] = mds_data[index][0]\n        item['y'] = mds_data[index][1]\n        item['id'] = parent_id + item['State'].replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\") + item[\"model\"].replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\")\n        circle_data.push(item)\n    })\n    // Create mds ends here\n    var margin = { item_top_margin: 15, right: 14, bottom: 0, left: 20, circ_radius: 5, item_left_margin: 25, item_right_margin: 3 }\n    var w = $(\"#mds\").width() - margin.item_left_margin\n    var h = $(\"#mds\").height() - margin.item_top_margin * 2\n    var r = 5;\n    var xScale = d3.scaleLinear().domain(d3.extent(circle_data.map(item => item['x']))).range([r * 2, w - r * 2])\n    var yScale = d3.scaleLinear().domain(d3.extent(circle_data.map(item => item['y']))).range([r * 2, h - r * 2])\n\n    var svg = d3.select(\"#mds\").style(\"border\", \"1px solid #bcbcbc\")\n\n    var circles = svg.selectAll(\"circle\")\n        .data(circle_data)\n        .join(\"circle\")\n        .attr(\"cx\", d => xScale(d['x']))\n        .attr(\"cy\", d => yScale(d['y']))\n        .attr(\"r\", r)\n        .attr(\"fill\", d => diverginColor(d[\"two_realRank\"]))\n        .attr('id', d => d['id'])\n        .attr('class', 'circle2')\n    // Lasso functions\n    var lasso_start = function () {\n        lasso.items()\n            .attr(\"r\", 5) // reset size\n            .classed(\"not_possible\", true)\n            .classed(\"selected\", false);\n    };\n\n    var lasso_draw = function () {\n        // Style the possible dots\n        lasso.possibleItems()\n            .classed(\"not_possible\", false)\n            .classed(\"possible\", true);\n\n        // Style the not possible dot\n        lasso.notPossibleItems()\n            .classed(\"not_possible\", true)\n            .classed(\"possible\", false);\n    };\n\n    var lasso_end = function () {\n        var selected_ids = []\n        lasso.selectedItems().each(function () {\n            selected_ids.push(d3.select(this).attr(\"id\"))\n        })\n        Set_clicked_circles(selected_ids)\n        // Reset the color of all dots\n        lasso.items()\n            .classed(\"not_possible\", false)\n            .classed(\"possible\", false);\n\n        // Style the selected dots\n        lasso.selectedItems()\n            .classed(\"selected\", true)\n            .attr(\"r\", 6);\n\n        // Reset the style of the not selected dots\n        lasso.notSelectedItems()\n            .attr(\"r\", 5);\n\n    };\n    var lasso = d3lasso.lasso()\n        .closePathSelect(true)\n        .closePathDistance(100)\n        .items(circles)\n        .targetArea(svg)\n        .on(\"start\", lasso_start)\n        .on(\"draw\", lasso_draw)\n        .on(\"end\", lasso_end);\n    svg.call(lasso);\n}\nfunction mds_classic(distances, dimensions) {\n    dimensions = dimensions || 2;\n    // square distances\n    var M = numeric.mul(-0.5, numeric.pow(distances, 2));\n    // double centre the rows/columns\n    function mean(A) { return numeric.div(numeric.add.apply(null, A), A.length); }\n    var rowMeans = mean(M),\n        colMeans = mean(numeric.transpose(M)),\n        totalMean = mean(rowMeans);\n    for (var i = 0; i < M.length; ++i) {\n        for (var j = 0; j < M[0].length; ++j) {\n            M[i][j] += totalMean - rowMeans[i] - colMeans[j];\n        }\n    }\n    // take the SVD of the double centred matrix, and return the\n    // points from it\n    var ret = numeric.svd(M),\n        eigenValues = numeric.sqrt(ret.S);\n    return ret.U.map(function (row) {\n        return numeric.mul(row, eigenValues).splice(0, dimensions);\n    });\n\n};\nfunction eucDistance(a, b) {\n    return a\n        .map((x, i) => Math.abs(x - b[i]) ** 2) // square the difference\n        .reduce((sum, now) => sum + now) // sum\n        ** (1 / 2)\n}\n\n","\nimport * as d3 from 'd3';\nimport * as $ from 'jquery';\nimport * as misc_algo from './misc_algo'\nimport Create_lasso_circles from \"./lasso_circle\"\nexport function CreatexpChart(parent_id, selected_instances, sorted_features, lime_data, selected_year, defualt_models, clicked_circles, Set_clicked_circles, diverginColor, anim_config, clicked_features, Set_clicked_features) {\n  Create_lasso_circles(parent_id,lime_data,defualt_models,selected_year,selected_instances,sorted_features,diverginColor,Set_clicked_circles)\n  //----------------\n  var margin = { item_top_margin: 15, right: 14, bottom: 0, left: 20, circ_radius: 5, item_left_margin: 25, item_right_margin: 3 }\n  var parent_width = $(\"#\" + parent_id).width() - margin.item_left_margin\n  var parent_height = $(\"#\" + parent_id).height() - margin.item_top_margin * 2\n  var item_width = parent_width / sorted_features.length - margin.item_right_margin\n  var item_height = parent_height\n  var parent_svg = d3.select(\"#\" + parent_id)\n  // Draw ++ --\n  parent_svg.selectAll(\".ylabels\").data([[.125, \"++\"], [.375, \"+\"], [.5, \"0\"], [.625, \"-\"], [.875, \"--\"]]).join('text').attr('class', 'ylabels').attr(\"y\", d => d[0] * item_height).attr(\"x\", margin.item_left_margin - 5).attr('text-anchor', 'end').attr('dominant-baseline', 'hanging').text(d => d[1]).attr(\"font-size\", 14).attr('fill', \"#636363\")\n  // Add title rectangle, title text and rectangles around each feature\n  parent_svg.selectAll('.feature_g').data(sorted_features, d => d[0]).join(\n    enter => enter.append('g').attr('class', 'feature_g').attr('transform', (d, svg_index) => \"translate(\" + (margin.item_left_margin + item_width * svg_index + (margin.item_right_margin * svg_index)) + \",0)\").attr('x_transformation', (d, svg_index) => (margin.item_left_margin + item_width * svg_index + (margin.item_right_margin * svg_index)))\n      .attr(\"id\", d => d[0].replace(/[^\\w\\s]/gi, ''))\n      .attr('add_title_rect', function (d) { d3.select(this).selectAll('.title_rect').data([0]).join('rect').attr('class', 'title_rect').attr('width', item_width + 2).attr('x', -1).attr('height', margin.item_top_margin).attr('fill', '#d1d1d1') })\n      .attr('add_title_text', function (d, svg_index) { d3.select(this).selectAll(\".title_text\").data([0]).join('text').attr('class', 'title_text').text(d[0]).attr('y', 0).attr('dominant-baseline', 'hanging').attr(\"font-size\", 12).attr('x', 10).attr('text-anchor', 'start') })\n      .attr('add_item_rect', function (d, svg_index) { d3.select(this).selectAll('.item_rect').data([0]).join('rect').attr('class', 'item_rect').attr('width', item_width).attr('height', item_height).attr('y', margin.item_top_margin).attr('fill', clicked_features.includes(d[0]) ? \"#F8FDB8\" : '#f2f2f2').attr('fill-opacity', 1).attr('stroke', '#b2b0b0') })\n      .attr('svg_index', (d, svg_index) => svg_index)\n      .attr('add_contrib_lines', function (d, svg_index) {\n        d3.select(this).selectAll(\".mylines\").data([[.25], [.5], [.75]]).join('line').attr('class', 'mylines')\n          .attr('x1', 0).attr('x2', item_width)\n          .attr('y1', d => d * (item_height + margin.item_top_margin)).attr('y2', d => d * (item_height + margin.item_top_margin)).attr('stroke-width', 1).attr(\"stroke\", \"#bababa\")\n      })\n    , update => {\n      //parent_svg.selectAll('.feature_g').attr('opacity',0.5)\n      //update.attr('opacity',1)\n      return update.transition().duration(anim_config.feature_animation).delay(anim_config.rank_animation + anim_config.deviation_animation).attr('transform', (d, svg_index) => \"translate(\" + (margin.item_left_margin + item_width * svg_index + (margin.item_right_margin * svg_index)) + \",0)\").attr('x_transformation', (d, svg_index) => (margin.item_left_margin + item_width * svg_index + (margin.item_right_margin * svg_index)))\n        .attr(\"id\", d => d[0].replace(/[^\\w\\s]/gi, ''))\n        .attr('svg_index', (d, svg_index) => svg_index)\n        .attr('add_title_rect', function (d) { d3.select(this).selectAll('.title_rect').data([0]).join('rect').attr('class', 'title_rect').attr('width', item_width + 2).attr('x', -1).attr('height', margin.item_top_margin).attr('fill', '#d1d1d1') })\n        .attr('add_title_text', function (d, svg_index) { d3.select(this).selectAll(\".title_text\").data([0]).join('text').attr('class', 'title_text').text(d[0]).attr('y', 0).attr('dominant-baseline', 'hanging').attr(\"font-size\", 12).attr('x', 10).attr('text-anchor', 'start') })\n        .attr('add_item_rect', function (d, svg_index) { d3.select(this).selectAll('.item_rect').data([0]).join('rect').attr('class', 'item_rect').attr('width', item_width).attr('height', item_height).attr('y', margin.item_top_margin).attr('fill', clicked_features.includes(d[0]) ? \"#F8FDB8\" : '#f2f2f2').attr('fill-opacity', 1).attr('stroke', '#b2b0b0') })\n        //Add circles and lines to divide the rectangle\n        .attr('add_contrib_lines', function (d, svg_index) {\n          d3.select(this).selectAll(\".mylines\").data([[.25], [.5], [.75]]).join('line').attr('class', 'mylines')\n            .attr('x1', 0).attr('x2', item_width)\n            .attr('y1', d => d * (item_height + margin.item_top_margin)).attr('y2', d => d * (item_height + margin.item_top_margin)).attr('stroke-width', 1).attr(\"stroke\", \"#bababa\")\n        })\n    }\n    , exit => exit.remove())\n  //---------------------------------------------------------------------------------------------------------------------------------------------------\n}\nexport function CreatexpCircle(parent_id, selected_instances, sorted_features, lime_data, selected_year, defualt_models, clicked_circles, Set_clicked_circles, diverginColor, anim_config, clicked_features, Set_clicked_features) {\n  var margin = { item_top_margin: 15, right: 14, bottom: 0, left: 20, circ_radius: 5, item_left_margin: 25, item_right_margin: 3 }\n  var parent_width = $(\"#\" + parent_id).width() - margin.item_left_margin\n  var parent_height = $(\"#\" + parent_id).height() - margin.item_top_margin * 2\n  var item_width = parent_width / sorted_features.length - margin.item_right_margin\n  var item_height = parent_height\n  sorted_features.map((d, svg_index) => {\n    var x_transformation = margin.item_left_margin + item_width * svg_index + (margin.item_right_margin * svg_index)\n    var feature_name = d[0]\n    var feature_contrib_name = d[0] + \"_contribution\"\n    defualt_models.map(model => {\n      var circ_data = []\n      lime_data[model].map(item => {\n        if (item['1-qid'] == selected_year && selected_instances.includes(parseInt(item['two_realRank']))) {\n          item['id'] = parent_id + item['State'].replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\") + model.replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\")\n          circ_data.push(item)\n        }\n      })\n      // Draw circle starts here\n      var xScale = d3.scaleLinear().domain([d3.min(circ_data.map(item => parseFloat(item[d[0]]))), d3.max(circ_data.map(item => parseFloat(item[d[0]])))])\n        .range([2 * margin.circ_radius, item_width - 2 * margin.circ_radius])\n      var yScale = d3.scaleLinear().domain([d3.min(circ_data.map(item => parseFloat(item[feature_contrib_name]))), d3.max(circ_data.map(item => parseFloat(item[feature_contrib_name])))]).range([margin.item_top_margin + margin.circ_radius, item_height - margin.circ_radius])\n      var mycircles = d3.select(\"#\" + parent_id).select(\"#\" + d[0].replace(/[^\\w\\s]/gi, '')).selectAll(\".my_circles\" + model).data(circ_data, d => d['id']).join(\n        enter => enter.append('circle')\n          .attr('id', d => d['id'])\n          .attr('class', 'circle2 my_circles' + model)\n          .attr('r', margin.circ_radius)\n          .attr('cy', d => margin.circ_radius / 2 + yScale(parseFloat(d[feature_contrib_name])))\n          .attr('cx', (d, i) => xScale(parseFloat(d[feature_name])))\n          .attr('fill', d => diverginColor(d['two_realRank']))\n          .attr('cx2', (d, i) => x_transformation + xScale(parseFloat(d[feature_name])))\n          .attr('two_realRank', d => d['two_realRank'])\n        // Update\n        , update => update.attr('class', 'circle2 my_circles' + model)\n          .transition().duration(anim_config.circle_animation).delay(anim_config.rank_animation + anim_config.deviation_animation + anim_config.feature_animation)\n          .on(\"end\", () => misc_algo.draw_lines(clicked_circles, diverginColor))\n          .attr('id', d => d['id'])\n          .attr('class', 'circle2 my_circles' + model)\n          .attr('r', margin.circ_radius)\n          .attr('cy', d => margin.circ_radius / 2 + yScale(parseFloat(d[feature_contrib_name])))\n          .attr('cx', (d, i) => xScale(parseFloat(d[feature_name])))\n          .attr('fill', d => diverginColor(d['two_realRank']))\n          .attr('cx2', (d, i) => x_transformation + xScale(parseFloat(d[feature_name])))\n          .attr('two_realRank', d => d['two_realRank'])\n        , exit => exit.remove())\n      mycircles.attr('cx2', (d, i) => x_transformation + xScale(parseFloat(d[feature_name]))).on('click', d => {\n        Set_clicked_circles(clicked_circles.includes(d['id']) ? clicked_circles.filter(item => item != d['id']) : [...clicked_circles, d['id']])\n      }\n      )\n      // Draw circle ends here\n\n    })\n  })\n}","import * as d3 from 'd3';\nimport * as $ from 'jquery';\nimport Create_sparkline from \"./Sparkline\"\nexport function Create_deviation_chart(parent_id,parent_exp_id, selected_instances, original_data, defualt_models, anim_config, selected_year, average, clicked_circles, Set_clicked_circles, diverginColor,sparkline_data,Set_selected_year,dataset,threshold) {\n  console.log(threshold)\n\n  var div = d3.select(\"body\").selectAll('.tooltip').data([0]).join(\"div\").attr(\"class\", \"tooltip\").style(\"opacity\", 0);\n  var parent_width = $(\"#\" + parent_id).width() - 5\n  var data = original_data.filter(item => selected_year==item['1-qid'] && selected_instances.includes(parseInt(item['two_realRank'])))\n  var temp_scale_data = []\n  data.map(item => { defualt_models.map(model => temp_scale_data.push(Math.abs(parseInt(item[model]) - parseInt(item['two_realRank'])))) })\n  // font_line_gap=sparkline_width+4\n  var config = { space_for_state_name: 120,fontSize: 12, font_dy: -6, sparkline_width:20,font_line_gap: 24, line_stroke_width: 10, animation_duration: 0, container_height: 100, my_svg_top_margin: 10, myg_top_margin: 10 }\n  var y_distance = config.line_stroke_width + 2\n  var circle_radius = config.line_stroke_width / 2\n  var parent_g = d3.select(\"#\" + parent_id).attr('height', y_distance + data.length * y_distance)\n    .selectAll(\".parent_g\").data([0]).join('g').attr('class', 'parent_g').attr('transform', \"translate(\" + 0 + \",13)\")\n  var items_g = parent_g.selectAll(\".items\").data(data, d => d['State']).join(enter => enter.append(\"g\").attr(\"class\", \"items\")\n    .attr('transform', (d, i) => \"translate(\" + config.space_for_state_name + \",\" + i * y_distance + \")\")\n    , update => update.transition().duration(anim_config.rank_animation).attr('transform', (d, i) => \"translate(\" + config.space_for_state_name + \",\" + i * y_distance + \")\")\n    , exit => exit.remove()\n  )\n  items_g.attr(\"add_state\", function (d) {\n    d3.select(this).selectAll(\"text\").data([d]).join('text')\n    .text(dd=>{\n      var max_textsize=15\n      var val = d['State']\n          if (val.length > max_textsize) { val = val.replace(\"University\", \"U\") }\n          if(val.length > max_textsize){val = val.substring(0, max_textsize)+\"..\"}\n          return val + \" \" + d['two_realRank'] \n    })\n    .attr('fill', d => diverginColor(d['two_realRank'])).attr(\"dominant-baseline\", \"hanging\").attr(\"font-size\", config.fontSize)\n      .attr(\"x\", 0).attr('text-anchor', 'end').attr(\"dy\", config.font_dy)\n  }).attr(\"add_sparkline\", function (d) {\n    // sparkline height is y_distance\n    if(dataset!='house'){Create_sparkline(d3.select(this),config,y_distance,sparkline_data,d,diverginColor,selected_year,Set_selected_year)}\n  })\n    .attr(\"add_lines_and_circles\", function (d) {\n      var data_for_all_years = data.filter(item => d['two_realRank'] == parseInt(item['two_realRank']))\n      var line_data = []\n      defualt_models.map(model_name => {\n        data_for_all_years.map(item => {\n          var a = {}\n          a['two_realRank'] = parseInt(item['two_realRank'])\n          a['predicted_rank'] = parseInt(item[model_name])\n          a[\"model\"] = model_name\n          a['year'] = item['1-qid']\n          line_data.push(a)\n        })\n      })\n      // This is only for scaling starts here\n      var temp_scale_data = []\n      data.map(item => { defualt_models.map(model => temp_scale_data.push(Math.abs(parseInt(item[model]) - parseInt(item['two_realRank'])))) })\n      var temp_max = d3.max(temp_scale_data)\n      var sclale1 = d3.scaleLinear().domain([0, temp_max]).range([config.font_line_gap, parent_width - (config.space_for_state_name + circle_radius)])\n      if (temp_max == 0) { var sclale1 = d3.scaleLinear().domain([0, temp_max]).range([config.font_line_gap, 0]) }\n      // This is only for scaling ends here\n      d3.select(this).selectAll(\"line\").data([d]).join(enter => enter.append('line')\n        .attr(\"x1\", config.font_line_gap).attr(\"y1\", (d, i) => y_distance * i).attr(\"y2\", (d, i) => y_distance * i).attr(\"stroke-width\", config.line_stroke_width).attr(\"stroke\", \"#cecece\").attr(\"x2\", (d2) => {\n          var temp = []\n          line_data.map(item => temp.push(Math.abs(item[\"predicted_rank\"] - item[\"two_realRank\"])))\n          return sclale1(d3.max(temp))\n        })\n        // Update\n        , update => update.transition().duration(anim_config.deviation_animation).delay(anim_config.rank_animation).attr(\"x2\", (d2) => {\n          var temp = []\n          line_data.map(item => temp.push(Math.abs(item[\"predicted_rank\"] - item[\"two_realRank\"])))\n          return sclale1(d3.max(temp))\n        }))\n      // ------------ Circles start here\n      var data_for_all_years = data.filter(item => d['two_realRank'] == parseInt(item['two_realRank']))\n      var circ_data = []\n      defualt_models.map(model_name => {\n        data_for_all_years.map(item => {\n          var a = {}\n          a['two_realRank'] = parseInt(item['two_realRank'])\n          a['predicted_rank'] = parseInt(item[model_name])\n          a[\"model\"] = model_name\n          a['year'] = item['1-qid']\n          a['id'] =parent_exp_id+item['State'].replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\") + model_name.replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\")\n          circ_data.push(a)\n        })\n      })\n      if (average) {\n        var avg = d3.mean(circ_data.map(item => item['predicted_rank']))\n        circ_data = circ_data.map(item => {\n          item['predicted_rank'] = avg\n          item['model'] = \"Average\"\n          item['year'] = \"Average\"\n          return item;\n        })\n      }\n      var my_circs = d3.select(this).selectAll(\".circle2\").data(circ_data, d => d['id']).join(\n        enter => enter.append(\"circle\").attr('id', d => d['id']).attr('class', 'circle2').attr(\"cx\", (d2, i) => {\n          d3.select(this).classed(d2['id'], true)\n          if (d2[\"predicted_rank\"] - d2['two_realRank'] == 0) { return sclale1(Math.abs(d2[\"predicted_rank\"] - d2['two_realRank'])) + circle_radius }\n          return sclale1(Math.abs(d2[\"predicted_rank\"] - d2['two_realRank']))\n        })\n        // Update\n        , update => update.transition().duration(anim_config.deviation_animation).delay(anim_config.rank_animation).attr(\"cx\", (d2, i) => {\n          d3.select(this).classed(d2['id'], true)\n          if (d2[\"predicted_rank\"] - d2['two_realRank'] == 0) { return sclale1(Math.abs(d2[\"predicted_rank\"] - d2['two_realRank'])) + circle_radius }\n          return sclale1(Math.abs(d2[\"predicted_rank\"] - d2['two_realRank']))\n        })\n      )\n      my_circs.attr(\"r\", circle_radius).attr('fill', d => diverginColor(d['two_realRank'])).attr(\"parent_id\", parent_exp_id)\n        .on('click', d => Set_clicked_circles(clicked_circles.includes(d['id']) ? clicked_circles.filter(item => item != d['id']) : [...clicked_circles, d['id']]))\n        .on(\"mouseover\", function (d2) {\n          div.transition().duration(200).style(\"opacity\", .9);\n          div.html(\"Year : \" + d2[\"year\"] + \"<br></br>\" + \"Model: \" + d2[\"model\"] + \"<br></br>\" + \"Deviation: \" + Math.abs(d2[\"predicted_rank\"] - d2['two_realRank']))\n          .style(\"left\", (d3.event.pageX - 140) + \"px\").style(\"top\", (d3.event.pageY - 98) + \"px\");\n        }).on(\"mouseout\", function (d2) {\n          //d3.select(this).classed(d2['id'],true)\n          div.transition()\n            .duration(500)\n            .style(\"opacity\", 0);\n        })\n\n    })\n\n}","import * as d3 from 'd3';\nexport default function Create_sparkline(parent, config, y_distance, sparkline_data, d, diverginColor, selected_year, Set_selected_year) { // sparkline height is y_distance\n    var year = selected_year\n    var s_margin = { top: 0, right: 0, bottom: 0, left: 4 },\n        s_width = config.sparkline_width - 2,\n        s_height = y_distance - 5;\n    var s_svg = parent.selectAll(\".sparkline_svg\").data([0]).join(\"svg\").attr(\"class\", \"sparkline_svg\").attr(\"x\", 2).attr(\"y\", -3)\n        .attr(\"width\", s_width + s_margin.left + s_margin.right)\n        .attr(\"height\", s_height + s_margin.top + s_margin.bottom)\n    \n    var data = sparkline_data[d['State'].replace(/ /g, '').replace(/[^a-zA-Z ]/g, \"\")]\n    // Add X axis  \n    var x = d3.scaleLinear().domain(d3.extent(data, function (d) { return d.year; })).range([0, s_width]);\n    //-----------------------------------------------------------------------------------------------------------------------------------------Add the area\n    s_svg.selectAll(\"path\").remove()\n    s_svg.append(\"path\")\n        .datum(data, d => d)\n        .attr(\"id\", \"A\")\n        .attr(\"opacity\", 1)\n        .attr(\"fill\", diverginColor(d['two_realRank'])) //#969696\n        .attr(\"stroke\", diverginColor(d['two_realRank']))\n        .attr(\"stroke-width\", (d) => {\n            return 1.5\n        })\n        .attr(\"d\", d3.area()\n            .x(function (d) { return x(d.year) })\n            .y0(function () {\n                var y = d3.scaleLinear().domain([0, d3.max(data, function (d) { return +d.rank; })]).range([s_height, 0]);\n                return y(0)\n            })\n            .y1(function (d) {\n                var y = d3.scaleLinear().domain([0, d3.max(data, function (d) { return +d.rank; })]).range([0, s_height]);\n                return y(d.rank)\n            })\n        )\n    //------------Circles\n    s_svg.selectAll('circle').raise().data(data).join('circle')\n        .attr('cx', function (d, i) { return x(d.year) })\n        .attr('cy', s_height - 2)\n        .attr(\"class\", \"myid\")\n        .on(\"mouseover\", function (d) {\n            d3.select(this).style('fill', 'black')\n            d3.select(this).attr('r', 3)\n        })\n        .style('fill', (d) => d.year != year ? 'transparent' : 'black')\n        .attr('class', (d) => d.year != year ? 'transparent_class' : 'red_class')\n        .attr('r', 2)\n        .on('dblclick', (d, i) => {\n            d3.event.preventDefault();\n            Set_selected_year(d.year)\n        })\n        .on(\"mouseout\", function (d) {\n            d3.select(this).style('fill', 'transparent')\n            d3.select(this).style('fill', d.year != year ? 'transparent' : 'black')\n            d3.select(this).attr('r', 2)\n        })\n}","import React from 'react';\nimport \"./Sliders.scss\";\nimport Slider from '@material-ui/core/Slider';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { connect } from \"react-redux\";\nimport Typography from '@material-ui/core/Typography';\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: '100%',\n    },\n    heading: {\n        fontSize: theme.typography.pxToRem(15),\n        flexBasis: '33.33%',\n        flexShrink: 0,\n    },\n    secondaryHeading: {\n        fontSize: theme.typography.pxToRem(15),\n        color: theme.palette.text.secondary,\n    },\n    tRoot: {\n        marginBottom: 35,\n    },\n    rang_input: {\n        marginLeft: 10,\n    },\n}));\nfunction Modes(props) {\n    const classes = useStyles();\n    // states \n    const [threshold, set_threshold] = React.useState(props.threshold);\n    //-----------------------------------------------------------------\n    var temp_marks = [];\n    var min=0\n    var max=20\n    var number_marks=10\n    var step = (max - 1) / (number_marks - 1);\n    for (var i = 0; i < number_marks; i++) {\n        temp_marks.push(1 + (step * i));\n    }\n    var marks = temp_marks.map(item => {\n        var myitem = parseInt(item)\n        return { value: myitem, label: myitem }\n    })\n    //console.log(props.marks)\n    //-----------------------------------------------------------------\n    return (\n        <div className=\"rangeslider2\" style={{ marginLeft: 60,marginTop:-28, width: \"100%\", paddingTop: 0 }} >\n            <Typography>\n                Threshold\n            </Typography>\n            <Slider value={threshold} onChange={(event, newValue) => set_threshold(newValue)} onChangeCommitted={(event, newValue) => props.Set_threshold(newValue)}\n                valueLabelDisplay=\"auto\" min={min} max={max} aria-labelledby=\"input-slider\" marks={marks}\n            />\n        </div>\n    );\n}\nconst maptstateToprop = (state) => {\n    return {\n        threshold:state.threshold\n    }\n}\nconst mapdispatchToprop = (dispatch) => {\n    return {\n        Set_threshold: (val) => dispatch({ type: \"threshold\", value: val }),\n    }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Modes);","import React from 'react';\nimport \"../Sliders.scss\";\nimport * as $ from 'jquery';\nimport Slider from '@material-ui/core/Slider';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { connect } from \"react-redux\";\nimport TextField from '@material-ui/core/TextField';\nimport Button from \"@material-ui/core/Button\";\nimport Grid from '@material-ui/core/Grid';\nimport ThresholdSlider from '../ThresholdSlider';\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: '100%',\n    },\n    heading: {\n        fontSize: theme.typography.pxToRem(15),\n        flexBasis: '33.33%',\n        flexShrink: 0,\n    },\n    secondaryHeading: {\n        fontSize: theme.typography.pxToRem(15),\n        color: theme.palette.text.secondary,\n    },\n    tRoot: {\n        marginBottom: 35,\n    },\n    rang_input: {\n        marginLeft: 10,\n    },\n}));\nfunction Modes(props) {\n    const classes = useStyles();\n    // states \n    const [sliderRange, set_sliderRange] = React.useState(props.state_range);\n    //-----------------------------------------------------------------\n    var temp_marks = [];\n    var step = (props.slider_max - 1) / (6 - 1);\n    for (var i = 0; i < 6; i++) {\n        temp_marks.push(1 + (step * i));\n    }\n    var marks = temp_marks.map(item => {\n        var myitem = parseInt(item)\n        return { value: myitem, label: myitem }\n    })\n    //console.log(props.marks)\n    //-----------------------------------------------------------------\n    return (\n        <div className=\"rangeslider\" style={{backgroundColor: \"rgb(232, 232, 232,0.5)\",height:70, width: \"100%\", paddingTop: 30, borderBottom: \"2px solid #b2b2b2\" }} >\n            <Grid container direction=\"row\" justifyContent=\"space-around\" alignItems=\"center\">\n                <Grid item xs=\"1\" style={{ padding: \"0 20px\", marginTop: -40 }}>\n                    <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Lower\" value={sliderRange[0]} style={{ width: 40 }}\n                        onChange={event => {\n                            if (isNaN(parseInt(event.target.value))) {\n                                set_sliderRange([\"\", sliderRange[1]])\n                            } else {\n                                if (event.target.value > sliderRange[1]) {\n                                    alert(\"Lower range can not be larger than the upper range\")\n                                }\n                                else {\n                                    set_sliderRange([event.target.value, sliderRange[1]])\n                                }\n                            }\n                        }\n                        }\n                    />\n                </Grid>\n                <Grid item xs=\"4\" style={{ padding: \"0 20px\" }}>\n                    <Slider value={sliderRange} onChange={(event, newValue) => set_sliderRange(newValue)} onChangeCommitted={(event, newValue) => props.Set_changed(\"range\")}\n                        valueLabelDisplay=\"auto\" aria-labelledby=\"range-slider\" valueLabelDisplay=\"on\" min={1} max={props.slider_max} marks={marks}\n                    />\n                </Grid>\n                {\n                    <Grid item xs=\"1\" style={{ padding: \"0 20px\", marginTop: -40 }}>\n                        <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Upper\" value={sliderRange[1]} style={{ width: 40 }}\n                            onChange={event => {\n                                if (isNaN(parseInt(event.target.value))) {\n                                    set_sliderRange([sliderRange[0], \"\"])\n                                } else {\n                                    if (parseInt(event.target.value) > props.slider_max) {\n                                        alert(\"Upper range can not exceed maximum\")\n                                        set_sliderRange([sliderRange[0], props.slider_max])\n                                    }\n                                    else {\n                                        set_sliderRange([sliderRange[0], parseInt(event.target.value)])\n                                    }\n                                }\n                            }\n                            }\n                        />\n                    </Grid>\n                }\n                <Grid item style={{marginTop: -28 }}>\n                    <Button className=\"range_button\" style={{ backgroundColor: \"#ededed\", height: 30 }}\n                        onClick={() => {\n                            props.Set_state_range(sliderRange)\n                        }}\n                    >Update range</Button>\n                </Grid>\n                <Grid item xs=\"2\">\n                    <ThresholdSlider></ThresholdSlider>\n                </Grid>\n            </Grid>\n        </div>\n    );\n}\nconst maptstateToprop = (state) => {\n    return {\n        selected_year: state.selected_year,\n        state_range: state.state_range,\n        mode: state.mode, // Model mode model\n        slider_max: state.slider_max,\n        range_mode_model: state.range_mode_model, // Range mode model\n        range_mode_range1: state.range_mode_range1,\n        range_mode_range2: state.range_mode_range2,\n        time_mode_model: state.time_mode_model, // Time mode model\n        time_mode_range: state.time_mode_range,\n        time_mode_year1: state.time_mode_year1,\n        time_mode_year2: state.time_mode_year2,\n        years_for_dropdown: state.years_for_dropdown,\n        dataset: state.dataset,\n        defualt_models: state.defualt_models,\n        slider_and_feature_value: state.slider_and_feature_value,\n        sort_by: state.sort_by,\n        grouped_by_year_data: state.grouped_by_year_data\n    }\n}\nconst mapdispatchToprop = (dispatch) => {\n    return {\n        Set_state_range: (val) => dispatch({ type: \"state_range\", value: val }),\n        Set_changed: (val) => dispatch({ type: \"changed\", value: val }),\n    }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Modes);","import React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport * as explanation_chart from \"../explanation_chart\";\nimport { connect } from \"react-redux\";\nimport Grid from '@material-ui/core/Grid';\nimport * as algo1 from \"../../../Algorithms/algo1\";\nimport * as deviation_chart from \"../deviation_chart\"\nimport * as misc_algo from '../misc_algo'\nimport * as $ from 'jquery';\nimport ModelSlider from './ModelSlider';\nclass SlopeChart extends Component {\n  constructor(props) {\n    super(props);\n    this.line_color = null;\n    this.state = { height_slope_exp_chart: 700, mouseX: 0, mouseY: 0 }\n  }\n  componentDidMount() { this.setState({ width: window.innerHeight }) }\n  shouldComponentUpdate(prevProps, prevState) { return true; }\n  componentDidUpdate(prevProps, prevState) {\n    var selected_instances = d3.range(this.props.state_range[0], this.props.state_range[1] + 1)\n    if (this.props.histogram_data.length > 0) { selected_instances = this.props.histogram_data }\n    //--------------------\n    var under_threshold_instances = []\n    var year_data = this.props.original_data.filter(item => this.props.selected_year == item['1-qid'])\n    this.props.defualt_models.map(model_name => {\n      year_data.map(item => {\n        var two_realRank = parseInt(item['two_realRank'])\n        var predicted_rank = parseInt(item[model_name])\n        if (Math.abs(predicted_rank - two_realRank) > this.props.threshold) {\n          under_threshold_instances.push(two_realRank)\n        }\n      })\n    })\n    selected_instances = selected_instances.filter(item => !under_threshold_instances.includes(item))\n    //--------------------\n    var min = d3.min(selected_instances), max = d3.max(selected_instances);\n\n    var d = (max - min) / 8;\n    var diverginColor = d3.scaleLinear().domain([min + d * 7, min + d * 6, min + d * 5, min + d * 4, min + d * 3, min + d * 2, min]).interpolate(d3.interpolateRgb).range(['#00429d', '#4771b2', '#73a2c6', '#a5d5d8', /*'#ffffe0',*/ '#ffbcaf', '#f4777f', '#cf3759', '#93003a']);\n    var number_of_charts = 9\n    //algo1.features_with_score(this.props.dataset, this.props.defualt_models, selected_instances, this.props.selected_year,number_of_charts,this.props.rank_data)\n    var features_with_score = algo1.features_with_score(this.props.dataset, this.props.defualt_models, selected_instances, this.props.selected_year, number_of_charts, this.props.rank_data)\n    console.log(features_with_score)\n    var sorted_features = Object.entries(features_with_score).sort((a, b) => b[1] - a[1]).slice(0, 18)\n\n    deviation_chart.Create_deviation_chart('dev_plot_container', 'exp', selected_instances, this.props.original_data, this.props.defualt_models, this.props.anim_config, this.props.selected_year, this.props.average_m, this.props.clicked_circles, this.props.Set_clicked_circles, diverginColor, this.props.sparkline_data, this.props.Set_selected_year, this.props.dataset, this.props.threshold)\n    explanation_chart.CreatexpChart(\"exp\", selected_instances, sorted_features, this.props.lime_data, this.props.selected_year, this.props.defualt_models, this.props.clicked_circles, this.props.Set_clicked_circles, diverginColor, this.props.anim_config, this.props.clicked_features, this.props.Set_clicked_features)\n    explanation_chart.CreatexpCircle(\"exp\", selected_instances, sorted_features, this.props.lime_data, this.props.selected_year, this.props.defualt_models, this.props.clicked_circles, this.props.Set_clicked_circles, diverginColor, this.props.anim_config, this.props.clicked_features, this.props.Set_clicked_features)\n    misc_algo.draw_lines(this.props.clicked_circles, diverginColor, this.props.anim_config, sorted_features)\n    misc_algo.handle_transparency(\"circle2\", this.props.clicked_circles, this.props.anim_config)\n  }\n  render() {\n    return (\n      <Grid container className=\"slope_chart_exp\" style={{ backgroundColor: 'white', padding: \"0px 0px\", border: \"2px solid grey\", width: \"99%\", boxShadow: \"-2px 1px 4px -1px white\" }}>\n        <Grid class=\"dev_parent\" item style={{borderBottom: \"0px solid #b2b2b2\", width: \"100%\", height: ($(\".slope_chart_exp\").height() * 0.7 - 25), overflow: \"scroll\" }}>\n          <ModelSlider></ModelSlider>\n          <svg id=\"dev_plot_container\" style={{ width: \"100%\", marginBottom: 10 }}></svg>\n        </Grid>\n        <div style={{ width: \"100%\", height: \"30%\", marginLeft: 5 }}>\n          <svg id=\"exp\" style={{ width: \"90%\", height: \"100%\" }}></svg>\n        </div>\n      </Grid>\n    )\n  }\n}\nconst maptstateToprop = (state) => {\n  return {\n    state_range: state.state_range,\n    selected_year: state.selected_year,\n    deviate_by: state.deviate_by,\n    clicked_items_in_slopechart: state.clicked_items_in_slopechart,\n    tracking: state.tracking,\n    defualt_models: state.defualt_models,\n    original_data: state.original_data,\n    time_mode_model: state.time_mode_model,\n    chart_scale_type: state.chart_scale_type,\n    features_with_score: state.features_with_score,\n    dataset: state.dataset,\n    histogram_data: state.histogram_data,\n    sparkline_data: state.sparkline_data,\n    dataset: state.dataset,\n    anim_config: state.anim_config,\n    show: state.show,\n    default_model_scores: state.default_model_scores,\n    average_m: state.average_m,\n    average_y: state.average_y,\n    lime_data: state.lime_data,\n    features_with_score: state.features_with_score,\n    rank_data: state.rank_data,\n    clicked_circles: state.clicked_circles,\n    clicked_features: state.clicked_features,\n    threshold: state.threshold\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_clicked_circles: (val) => dispatch({ type: \"clicked_circles\", value: val }),\n    Set_prev_prop: (val) => dispatch({ type: \"prev_prop\", value: val }),\n    Set_sparkline_data: (val) => dispatch({ type: \"sparkline_data\", value: val }),\n    Set_clicked_items_in_slopechart: (val) => dispatch({ type: \"clicked_items_in_slopechart\", value: val }),\n    Set_replay: (val) => dispatch({ type: \"replay\", value: val }),\n    Set_clicked_features: (val) => dispatch({ type: \"clicked_features\", value: val }),\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(SlopeChart);","import React from 'react';\nimport \"../Sliders.scss\";\nimport * as $ from 'jquery';\nimport Slider from '@material-ui/core/Slider';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { connect } from \"react-redux\";\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport Button from \"@material-ui/core/Button\";\nimport Grid from '@material-ui/core/Grid';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: '100%',\n    },\n    heading: {\n        fontSize: theme.typography.pxToRem(15),\n        flexBasis: '33.33%',\n        flexShrink: 0,\n    },\n    secondaryHeading: {\n        fontSize: theme.typography.pxToRem(15),\n        color: theme.palette.text.secondary,\n    },\n    tRoot: {\n        marginBottom: 35,\n    },\n    rang_input: {\n        marginLeft: 10,\n    },\n}));\nfunction Modes(props) {\n    const classes = useStyles();\n    // states \n    const [range_mode_slider_value1, set_range_mode_slider_value1] = React.useState(props.range_mode_range1);\n    //-----------------------------------------------------------------\n    var temp_marks = [];\n    var step = (props.slider_max - 1) / (6 - 1);\n    for (var i = 0; i < 6; i++) {\n        temp_marks.push(1 + (step * i));\n    }\n    var marks = temp_marks.map(item => {\n        var myitem = parseInt(item)\n        return { value: myitem, label: myitem }\n    })\n    //console.log(props.marks)\n    //-----------------------------------------------------------------\n    return (\n        <div className=\"rangeslider\" style={{ width:\"95%\",marginTop:30 }} >\n                    <Slider\n                        value={range_mode_slider_value1}\n                        onChange={(event, newValue) => set_range_mode_slider_value1(newValue)}\n                        onChangeCommitted={(event, newValue) => props.Set_changed(\"range\")}\n                        valueLabelDisplay=\"auto\"\n                        aria-labelledby=\"range-slider\"\n                        valueLabelDisplay=\"on\"\n                        min={1}\n                        max={props.slider_max}\n                        marks={marks}\n                    />\n                    <Grid style={{ marginBottom: 15 }} container\n                        direction=\"row\"\n                        justify=\"space-around\"\n                        alignItems=\"center\">\n                            {\n                                /*\n                        <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Lower\" value={range_mode_slider_value1[0]} style={{ width: 40 }}\n                            onChange={event => {\n                                if (isNaN(parseInt(event.target.value))) {\n                                    set_range_mode_slider_value1([\"\", range_mode_slider_value1[1]])\n                                } else {\n                                    if (event.target.value > range_mode_slider_value1[1]) {\n                                        alert(\"Lower range can not be larger than the upper range\")\n                                    }\n                                    else {\n                                        set_range_mode_slider_value1([event.target.value, range_mode_slider_value1[1]])\n                                    }\n                                }\n                            }\n                            }\n                        />\n                        <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Upper\" value={range_mode_slider_value1[1]} style={{ width: 40 }}\n                            onChange={event => {\n                                if (isNaN(parseInt(event.target.value))) {\n                                    set_range_mode_slider_value1([range_mode_slider_value1[0], \"\"])\n                                } else {\n                                    if (parseInt(event.target.value) > props.slider_max) {\n                                        alert(\"Upper range can not exceed maximum\")\n                                        set_range_mode_slider_value1([range_mode_slider_value1[0], props.slider_max])\n                                    }\n                                    else {\n                                        set_range_mode_slider_value1([range_mode_slider_value1[0], parseInt(event.target.value)])\n                                    }\n                                }\n                            }\n                            }\n                        />\n\n                                */\n                            }\n                    </Grid>\n                    <Button className=\"range_button\" style={{ width: $('.Sidebar').width() - 11, backgroundColor: \"#ededed\", height: 30, marginBottom: 5, marginLeft: -3 }}\n                        onClick={() => props.Set_range_mode_range1(range_mode_slider_value1)}\n                    >Update range</Button>\n                </div>\n    );\n}\nconst maptstateToprop = (state) => {\n    return {\n        mode: state.mode, // Model mode model\n        slider_max: state.slider_max,\n        range_mode_range1: state.range_mode_range1,\n    }\n}\nconst mapdispatchToprop = (dispatch) => {\n    return {\n        Set_range_mode_range1: (val) => dispatch({ type: \"range_mode_range1\", value: val }),\n        Set_changed: (val) => dispatch({ type: \"changed\", value: val }),\n    }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Modes);","import React from 'react';\nimport \"../Sliders.scss\";\nimport * as $ from 'jquery';\nimport Slider from '@material-ui/core/Slider';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { connect } from \"react-redux\";\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport Button from \"@material-ui/core/Button\";\nimport Grid from '@material-ui/core/Grid';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: '100%',\n    },\n    heading: {\n        fontSize: theme.typography.pxToRem(15),\n        flexBasis: '33.33%',\n        flexShrink: 0,\n    },\n    secondaryHeading: {\n        fontSize: theme.typography.pxToRem(15),\n        color: theme.palette.text.secondary,\n    },\n    tRoot: {\n        marginBottom: 35,\n    },\n    rang_input: {\n        marginLeft: 10,\n    },\n}));\nfunction Modes(props) {\n    const classes = useStyles();\n    // states \n    const [range_mode_slider_value2, set_range_mode_slider_value2] = React.useState(props.range_mode_range2);\n    //-----------------------------------------------------------------\n    var temp_marks = [];\n    var step = (props.slider_max - 1) / (6 - 1);\n    for (var i = 0; i < 6; i++) {\n        temp_marks.push(1 + (step * i));\n    }\n    var marks = temp_marks.map(item => {\n        var myitem = parseInt(item)\n        return { value: myitem, label: myitem }\n    })\n    //console.log(props.marks)\n    //-----------------------------------------------------------------\n    return (\n        <div className=\"rangeslider\" style={{ width: \"95%\", marginTop: 30 }} >\n            <Slider\n                value={range_mode_slider_value2}\n                onChange={(event, newValue) => set_range_mode_slider_value2(newValue)}\n                onChangeCommitted={(event, newValue) => { props.Set_changed(\"range\") }}\n                valueLabelDisplay=\"auto\"\n                aria-labelledby=\"range-slider\"\n                valueLabelDisplay=\"on\"\n                min={1}\n                max={props.slider_max}\n                marks={marks}\n            />\n            <Grid style={{ marginBottom: 15 }} container\n                direction=\"row\"\n                justify=\"space-around\"\n                alignItems=\"center\">\n                {\n            /*\n                <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Lower\" value={range_mode_slider_value2[0]} style={{ width: 40 }}\n                    onChange={event => {\n                        if (isNaN(parseInt(event.target.value))) {\n                            set_range_mode_slider_value2([\"\", range_mode_slider_value2[1]])\n                        } else {\n                            if (event.target.value > range_mode_slider_value2[1]) {\n                                alert(\"Lower range can not be larger than the upper range\")\n                            }\n                            else {\n                                set_range_mode_slider_value2([event.target.value, range_mode_slider_value2[1]])\n                            }\n                        }\n                    }\n                    }\n                />\n                <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Upper\" value={range_mode_slider_value2[1]} style={{ width: 40 }}\n                    onChange={event => {\n                        if (isNaN(parseInt(event.target.value))) {\n                            set_range_mode_slider_value2([range_mode_slider_value2[0], \"\"])\n                        } else {\n                            if (parseInt(event.target.value) > props.slider_max) {\n                                alert(\"Upper range can not exceed maximum\")\n                                set_range_mode_slider_value2([range_mode_slider_value2[0], props.slider_max])\n                            }\n                            else {\n                                set_range_mode_slider_value2([range_mode_slider_value2[0], parseInt(event.target.value)])\n                            }\n                        }\n                    }\n                    }\n                />\n            */\n                }\n            </Grid>\n            <Button className=\"range_button\" style={{ width: $('.Sidebar').width() - 11, backgroundColor: \"#ededed\", height: 30, marginBottom: 5, marginLeft: 0 }}\n                onClick={() => props.Set_range_mode_range2(range_mode_slider_value2)}\n            >Update range</Button>\n\n        </div>\n    );\n}\nconst maptstateToprop = (state) => {\n    return {\n        selected_year: state.selected_year,\n        state_range: state.state_range,\n        mode: state.mode, // Model mode model\n        slider_max: state.slider_max,\n        range_mode_model: state.range_mode_model, // Range mode model\n        range_mode_range1: state.range_mode_range1,\n        range_mode_range2: state.range_mode_range2,\n        time_mode_model: state.time_mode_model, // Time mode model\n        time_mode_range: state.time_mode_range,\n        time_mode_year1: state.time_mode_year1,\n        time_mode_year2: state.time_mode_year2,\n        years_for_dropdown: state.years_for_dropdown,\n        dataset: state.dataset,\n        defualt_models: state.defualt_models,\n        slider_and_feature_value: state.slider_and_feature_value,\n        sort_by: state.sort_by,\n        grouped_by_year_data: state.grouped_by_year_data,\n    }\n}\nconst mapdispatchToprop = (dispatch) => {\n    return {\n        Set_range_mode_range2: (val) => dispatch({ type: \"range_mode_range2\", value: val }),\n        Set_changed: (val) => dispatch({ type: \"changed\", value: val }),\n    }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Modes);","import React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport * as explanation_chart from \"../explanation_chart\";\nimport { connect } from \"react-redux\";\nimport Grid from '@material-ui/core/Grid';\nimport * as algo1 from \"../../../Algorithms/algo1\";\nimport * as deviation_chart from \"../deviation_chart\"\nimport * as misc_algo from '../misc_algo'\nimport * as $ from 'jquery';\nimport SliderGroup1 from './SliderGroup1';\nimport SliderGroup2 from './SliderGroup2';\n\nclass SlopeChart extends Component {\n  constructor(props) {\n    super(props);\n    this.line_color = null;\n    this.state = { height_slope_exp_chart: 700, mouseX: 0, mouseY: 0 }\n  }\n  componentDidMount() {\n    this.setState({ width: window.innerHeight })\n  }\n  shouldComponentUpdate(prevProps, prevState) {\n    return true;\n  }\n  componentDidUpdate(prevProps, prevState) {\n    // Range1\n    var min = d3.min([this.props.range_mode_range1[0],this.props.range_mode_range2[0]]), max = d3.max([this.props.range_mode_range1[1],this.props.range_mode_range2[1]]);\n    var d = (max - min) / 8;\n    var diverginColor = d3.scaleLinear().domain([min + d * 7, min + d * 6, min + d * 5, min + d * 4, min + d * 3, min + d * 2, min]).interpolate(d3.interpolateRgb).range(['#00429d', '#4771b2', '#73a2c6', '#a5d5d8', /*'#ffffe0',*/ '#ffbcaf', '#f4777f', '#cf3759', '#93003a']);\n    \n    var selected_instances = d3.range(this.props.range_mode_range1[0], this.props.range_mode_range1[1] + 1)\n    var number_of_charts = 9\n    var features_with_score = algo1.features_with_score(this.props.dataset, this.props.defualt_models, this.props.range_mode_range1, this.props.selected_year, number_of_charts, this.props.rank_data)\n    var sorted_features = Object.entries(features_with_score).sort((a, b) => a[1] - b[1]).slice(0, number_of_charts)\n    deviation_chart.Create_deviation_chart('r1d','r1e', selected_instances, this.props.original_data, this.props.defualt_models, this.props.anim_config, this.props.selected_years, this.props.average_m, this.props.clicked_circles, this.props.Set_clicked_circles, diverginColor,this.props.sparkline_data,this.props.Set_selected_year)\n    explanation_chart.CreatexpChart('r1e', selected_instances, sorted_features, this.props.lime_data, this.props.selected_year, this.props.defualt_models, this.props.clicked_circles, this.props.Set_clicked_circles, diverginColor, this.props.anim_config, this.props.clicked_features, this.props.Set_clicked_features)\n    explanation_chart.CreatexpCircle('r1e', selected_instances, sorted_features, this.props.lime_data, this.props.selected_year, this.props.defualt_models, this.props.clicked_circles, this.props.Set_clicked_circles, diverginColor, this.props.anim_config, this.props.clicked_features, this.props.Set_clicked_features)\n    // Range2\n    var selected_instances2 = d3.range(this.props.range_mode_range2[0], this.props.range_mode_range2[1] + 1)\n    var features_with_score2 = algo1.features_with_score(this.props.dataset, this.props.defualt_models, this.props.range_mode_range2, this.props.selected_year, number_of_charts, this.props.rank_data)\n    var sorted_features2 = Object.entries(features_with_score2).sort((a, b) => a[1] - b[1]).slice(0, number_of_charts)\n    deviation_chart.Create_deviation_chart('r2d','r2e', selected_instances2, this.props.original_data, this.props.defualt_models, this.props.anim_config, this.props.selected_years, this.props.average_m, this.props.clicked_circles, this.props.Set_clicked_circles, diverginColor,this.props.sparkline_data,this.props.Set_selected_year)\n    explanation_chart.CreatexpChart('r2e', selected_instances2, sorted_features2, this.props.lime_data, this.props.selected_year, this.props.defualt_models, this.props.clicked_circles, this.props.Set_clicked_circles, diverginColor, this.props.anim_config, this.props.clicked_features, this.props.Set_clicked_features)\n    explanation_chart.CreatexpCircle('r2e', selected_instances2, sorted_features2, this.props.lime_data, this.props.selected_year, this.props.defualt_models, this.props.clicked_circles, this.props.Set_clicked_circles, diverginColor, this.props.anim_config, this.props.clicked_features, this.props.Set_clicked_features)\n    //---------------------------------\n    misc_algo.draw_lines(this.props.clicked_circles, diverginColor, this.props.anim_config, sorted_features)\n    misc_algo.handle_transparency(\"circle2\", this.props.clicked_circles, this.props.anim_config)\n\n  }\n  render() {\n    return (\n      <Grid container direction=\"row\" justifyContent=\"space-between\" className=\"slope_chart_exp\" style={{ backgroundColor: 'white', padding: \"0px 0px\", border: \"1px solid #eaeaea\", width: \"100%\", boxShadow: \"-2px 1px 4px -1px white\" }}>\n        <Grid container item direction=\"column\" justifyContent=\"space-between\" style={{ paddingRight: 0, border: \"1px solid #a0a0a0\", height: \"100%\", width: \"49.4%\" }}>\n          <p style={{ margin: 0, paddingLeft: \"45%\", backgroundColor: \"rgb(232, 232, 232,0.4)\", fontWeight: \"bolder\", borderBottom: \"1px solid #cecece\" }}>Group 1</p>\n          <Grid item style={{ backgroundColor: \"rgb(232, 232, 232,0.4)\"}}><SliderGroup1></SliderGroup1></Grid>\n          <Grid item style={{ backgroundColor: \"rgb(232, 232, 232,0.4)\", height: ($(\".slope_chart_exp\").height() * 0.5 - 25), overflow: \"scroll\" }}><svg id=\"r1d\" style={{ width: \"100%\", marginRight: \"3%\" }}></svg></Grid>\n          <Grid item style={{ backgroundColor: \"rgb(232, 232, 232,0.4)\", marginTop: 5, paddingTop: 5, paddingRight: 3, height: $(\".slope_chart_exp\").height() * 0.3 }}><svg id=\"r1e\" style={{ width: \"100%\", height: \"100%\" }}></svg></Grid>\n        </Grid>\n        <Grid container item direction=\"column\" justifyContent=\"space-between\" style={{ marginLeft: \"1%\", padding: 0, border: \"1px solid #a0a0a0\", height: \"100%\", width: \"49.4%\" }}>\n          <p style={{ margin: 0, paddingLeft: \"45%\", backgroundColor: \"rgb(232, 232, 232,0.4)\", fontWeight: \"bolder\", borderBottom: \"1px solid #cecece\" }}>Group 2</p>\n          <Grid item style={{ backgroundColor: \"rgb(232, 232, 232,0.4)\"}}><SliderGroup2></SliderGroup2></Grid>\n          <Grid item style={{ backgroundColor: \"rgb(232, 232, 232,0.4)\", height: ($(\".slope_chart_exp\").height() * 0.5 - 25), overflow: \"scroll\" }}><svg id=\"r2d\" style={{ width: \"100%\", marginRight: \"3%\" }}></svg></Grid>\n          <Grid item style={{ backgroundColor: \"rgb(232, 232, 232,0.4)\", marginTop: 5, paddingTop: 5, paddingRight: 3, height: $(\".slope_chart_exp\").height() * 0.3 }}><svg id=\"r2e\" style={{ width: \"100%\", height: \"100%\" }}></svg></Grid>\n        </Grid>\n      </Grid>\n    )\n  }\n}\nconst maptstateToprop = (state) => {\n  return {\n    range_mode_range1: state.range_mode_range1,\n    range_mode_range2: state.range_mode_range2,\n    selected_year: state.selected_year,\n    selected_years: state.selected_years,\n    deviate_by: state.deviate_by,\n    clicked_items_in_slopechart: state.clicked_items_in_slopechart,\n    tracking: state.tracking,\n    defualt_models: state.defualt_models,\n    original_data: state.original_data,\n    time_mode_model: state.time_mode_model,\n    chart_scale_type: state.chart_scale_type,\n    features_with_score: state.features_with_score,\n    dataset: state.dataset,\n    histogram_data: state.histogram_data,\n    sparkline_data: state.sparkline_data,\n    dataset: state.dataset,\n    anim_config: state.anim_config,\n    show: state.show,\n    default_model_scores: state.default_model_scores,\n    sort_by: state.sort_by,\n    average_m: state.average_m,\n    average_y: state.average_y,\n    lime_data: state.lime_data,\n    features_with_score: state.features_with_score,\n    rank_data: state.rank_data,\n    clicked_circles: state.clicked_circles,\n    clicked_features: state.clicked_features\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_clicked_circles: (val) => dispatch({ type: \"clicked_circles\", value: val }),\n    Set_prev_prop: (val) => dispatch({ type: \"prev_prop\", value: val }),\n    Set_sparkline_data: (val) => dispatch({ type: \"sparkline_data\", value: val }),\n    Set_clicked_items_in_slopechart: (val) => dispatch({ type: \"clicked_items_in_slopechart\", value: val }),\n    Set_replay: (val) => dispatch({ type: \"replay\", value: val }),\n    Set_clicked_features: (val) => dispatch({ type: \"clicked_features\", value: val }),\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(SlopeChart);","import React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport * as explanation_chart from \"../explanation_chart\";\nimport { connect } from \"react-redux\";\nimport Grid from '@material-ui/core/Grid';\nimport * as algo1 from \"../../../Algorithms/algo1\";\nimport * as deviation_chart from \"../deviation_chart\"\nimport * as misc_algo from '../misc_algo'\nimport * as $ from 'jquery';\nclass SlopeChart extends Component {\n  constructor(props) {\n    super(props);\n    this.line_color = null;\n    this.state = { height_slope_exp_chart: 700, mouseX: 0, mouseY: 0 }\n  }\n  componentDidMount() {\n    this.setState({ width: window.innerHeight })\n  }\n  shouldComponentUpdate(prevProps, prevState) {\n    return true;\n  }\n  componentDidUpdate(prevProps, prevState) {\n    // Range1\n    var min = this.props.time_mode_range[0], max = this.props.time_mode_range[1];\n    var d = (max - min) / 8;\n    var diverginColor = d3.scaleLinear().domain([min + d * 7, min + d * 6, min + d * 5, min + d * 4, min + d * 3, min + d * 2, min]).interpolate(d3.interpolateRgb).range(['#00429d', '#4771b2', '#73a2c6', '#a5d5d8', /*'#ffffe0',*/ '#ffbcaf', '#f4777f', '#cf3759', '#93003a']);\n    \n    var selected_instances = d3.range(this.props.time_mode_range[0], this.props.time_mode_range[1] + 1)\n    var number_of_charts = 9\n    var features_with_score = algo1.features_with_score(this.props.dataset, this.props.defualt_models, this.props.time_mode_range, this.props.time_mode_year1, number_of_charts, this.props.rank_data)\n    var sorted_features = Object.entries(features_with_score).sort((a, b) => a[1] - b[1]).slice(0, number_of_charts)\n    deviation_chart.Create_deviation_chart('y1d','y1e', selected_instances, this.props.original_data, this.props.defualt_models, this.props.anim_config, this.props.time_mode_year1, this.props.average_m, this.props.clicked_circles, this.props.Set_clicked_circles, diverginColor)\n    explanation_chart.CreatexpChart('y1e', selected_instances, sorted_features, this.props.lime_data, this.props.time_mode_year1, this.props.defualt_models, this.props.clicked_circles, this.props.Set_clicked_circles, diverginColor, this.props.anim_config, this.props.clicked_features, this.props.Set_clicked_features)\n\n    // Range2\n    var selected_instances2 = d3.range(this.props.time_mode_range[0], this.props.time_mode_range[1] + 1)\n    var features_with_score2 = algo1.features_with_score(this.props.dataset, this.props.defualt_models, this.props.time_mode_range, this.props.time_mode_year2, number_of_charts, this.props.rank_data)\n    var sorted_features2 = Object.entries(features_with_score2).sort((a, b) => a[1] - b[1]).slice(0, number_of_charts)\n    deviation_chart.Create_deviation_chart('y2d','y2e', selected_instances2, this.props.original_data, this.props.defualt_models, this.props.anim_config, this.props.time_mode_year2, this.props.average_m, this.props.clicked_circles, this.props.Set_clicked_circles, diverginColor)\n    explanation_chart.CreatexpChart('y2e', selected_instances2, sorted_features2, this.props.lime_data, this.props.time_mode_year2, this.props.defualt_models, this.props.clicked_circles, this.props.Set_clicked_circles, diverginColor, this.props.anim_config, this.props.clicked_features, this.props.Set_clicked_features)\n    //---------------------------------\n    misc_algo.draw_lines(this.props.clicked_circles, diverginColor, this.props.anim_config, sorted_features)\n    misc_algo.handle_transparency(\"circle2\", this.props.clicked_circles, this.props.anim_config)\n\n  }\n  render() {\n    return (\n      <Grid container direction=\"row\" justifyContent=\"space-between\" className=\"slope_chart_exp\" style={{ backgroundColor: 'white', padding: \"0px 0px\", border: \"1px solid #eaeaea\", width: \"100%\", boxShadow: \"-2px 1px 4px -1px white\" }}>\n        <Grid container item direction=\"column\" justifyContent=\"space-between\" style={{ paddingRight: 0, border: \"1px solid #a0a0a0\", height: \"100%\", width: \"49.4%\" }}>\n          <p style={{ margin: 0, paddingLeft: \"45%\", backgroundColor: \"rgb(232, 232, 232,0.4)\", fontWeight: \"bolder\", borderBottom: \"1px solid #cecece\" }}>{\"Year : \"+this.props.time_mode_year1}</p>\n          <Grid item style={{ backgroundColor: \"rgb(232, 232, 232,0.4)\", height: ($(\".slope_chart_exp\").height() * 0.69 - 25), overflow: \"scroll\" }}><svg id=\"y1d\" style={{ width: \"100%\", marginRight: \"3%\" }}></svg></Grid>\n          <Grid item style={{ backgroundColor: \"rgb(232, 232, 232,0.4)\", marginTop: 5, paddingTop: 5, paddingRight: 3, height: $(\".slope_chart_exp\").height() * 0.3 }}><svg id=\"y1e\" style={{ width: \"100%\", height: \"100%\" }}></svg></Grid>\n        </Grid>\n        <Grid container item direction=\"column\" justifyContent=\"space-between\" style={{ marginLeft: \"1%\", padding: 0, border: \"1px solid #a0a0a0\", height: \"100%\", width: \"49.4%\" }}>\n          <p style={{ margin: 0, paddingLeft: \"45%\", backgroundColor: \"rgb(232, 232, 232,0.4)\", fontWeight: \"bolder\", borderBottom: \"1px solid #cecece\" }}>{\"Year : \"+this.props.time_mode_year2}</p>\n          <Grid item style={{ backgroundColor: \"rgb(232, 232, 232,0.4)\", height: ($(\".slope_chart_exp\").height() * 0.69 - 25), overflow: \"scroll\" }}><svg id=\"y2d\" style={{ width: \"100%\", marginRight: \"3%\" }}></svg></Grid>\n          <Grid item style={{ backgroundColor: \"rgb(232, 232, 232,0.4)\", marginTop: 5, paddingTop: 5, paddingRight: 3, height: $(\".slope_chart_exp\").height() * 0.3 }}><svg id=\"y2e\" style={{ width: \"100%\", height: \"100%\" }}></svg></Grid>\n        </Grid>\n      </Grid>\n    )\n  }\n}\nconst maptstateToprop = (state) => {\n  return {\n    time_mode_model: state.time_mode_model,\n    time_mode_range: state.time_mode_range,\n    deviate_by: state.deviate_by,\n    time_mode_year1: state.time_mode_year1,\n    time_mode_year2: state.time_mode_year2,\n    deviate_by: state.deviate_by,\n    clicked_items_in_slopechart: state.clicked_items_in_slopechart,\n    tracking: state.tracking,\n    defualt_models: state.defualt_models,\n    original_data: state.original_data,\n    time_mode_model: state.time_mode_model,\n    chart_scale_type: state.chart_scale_type,\n    features_with_score: state.features_with_score,\n    dataset: state.dataset,\n    histogram_data: state.histogram_data,\n    sparkline_data: state.sparkline_data,\n    dataset: state.dataset,\n    anim_config: state.anim_config,\n    show: state.show,\n    default_model_scores: state.default_model_scores,\n    sort_by: state.sort_by,\n    average_m: state.average_m,\n    average_y: state.average_y,\n    lime_data: state.lime_data,\n    features_with_score: state.features_with_score,\n    rank_data: state.rank_data,\n    clicked_circles: state.clicked_circles,\n    clicked_features: state.clicked_features\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_clicked_circles: (val) => dispatch({ type: \"clicked_circles\", value: val }),\n    Set_prev_prop: (val) => dispatch({ type: \"prev_prop\", value: val }),\n    Set_sparkline_data: (val) => dispatch({ type: \"sparkline_data\", value: val }),\n    Set_clicked_items_in_slopechart: (val) => dispatch({ type: \"clicked_items_in_slopechart\", value: val }),\n    Set_replay: (val) => dispatch({ type: \"replay\", value: val }),\n    Set_clicked_features: (val) => dispatch({ type: \"clicked_features\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(SlopeChart);","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport \"./TopBar.scss\";\nimport { connect } from \"react-redux\";\nconst useStyles = makeStyles((theme) => ({\n  MuiAutocompleteroot: {\n    marginTop: 0,\n  },\n  root: {\n    width: '100%',\n  },\n  listroot: {\n    width: '100%',\n    maxWidth: 360,\n  },\n  paper: {\n  },\n  heading: {\n    fontSize: theme.typography.pxToRem(15),\n    fontWeight: theme.typography.fontWeightRegular,\n  },\n}));\nfunction TopBar(props) {\n  const classes = useStyles();\n  const handleyearChange = (event, value, reason) => {\n    if (reason == 'select-option') {\n      props.Set_selected_year(value)\n      var myfunc = props.appHandleChange\n      myfunc(value, \"year_changed\")\n    }\n  };\n  var handle_year_click = (year) => {\n    props.Set_selected_year(year)\n  }\n  var handle_model_click=(model)=>{\n    if(model==\"All\"){props.Set_defualt_models([...props.all_models])}\n    else if(model==\"Average\"){props.Set_average_m(!props.average_m)}\n    else{\n      if (props.defualt_models.includes(model)) {\n        props.Set_defualt_models(props.defualt_models.filter(item=>item!=model))\n      }\n      else {\n        props.Set_defualt_models([...props.defualt_models,model])\n      }  \n    }\n  }\n  return (\n    <div>\n    <div><h5 style={{ display: \"inline-block\", marginLeft: 30 }}>Years:</h5>{props.years_for_dropdown.map(item => <p className={props.selected_years.includes(item) ? \"years_p_selected years_p\" : \"years_p\"} onClick={() => handle_year_click(item)}>{item}</p>)}</div>\n    <div><h5 style={{ display: \"inline-block\", marginLeft: 30 }}>Models:</h5>{props.all_models.map(item => <p className={props.defualt_models.includes(item) ? \"years_p_selected years_p\" : \"years_p\"} onClick={() => handle_model_click(item)}>{item}</p>)}<p className=\"years_p\" style={{ display: \"inline-block\"}} onClick={() => handle_model_click(\"All\")}>All</p> <p className={props.average_m ? \"years_p_selected years_p\" : \"years_p\"} style={{ display: \"inline-block\"}} onClick={() => handle_model_click(\"Average\")}>Average</p></div>\n    </div>\n  );\n}\nconst maptstateToprop = (state) => {\n  return {\n    all_models:state.all_models,\n    selected_years: state.selected_years,\n    tracking: state.tracking,\n    selected_year: state.selected_year,\n    years_for_dropdown: state.years_for_dropdown,\n    defualt_models: state.defualt_models,\n    mode: state.mode,\n    prev_prop: state.prev_prop,\n    state_range: state.state_range,\n    replay: state.replay,\n    grouped_by_year_data: state.grouped_by_year_data,\n    clicked_items_in_slopechart: state.clicked_items_in_slopechart,\n    range_mode_range1: state.range_mode_range1,\n    range_mode_range2: state.range_mode_range2,\n    time_mode_range: state.time_mode_range,\n    mode: state.mode, // Model mode model\n    sort_by: state.sort_by,\n    average_m:state.average_m\n\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    add: (val) => dispatch({ type: \"add\", value: val }),\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: val }),\n    set_tracking: (val) => dispatch({ type: \"tracking\", value: val }),\n    Set_histogram_data: (val) => dispatch({ type: \"histogram_data\", value: val }),\n    Set_changed: (val) => dispatch({ type: \"changed\", value: val }),\n    Set_state_range: (val) => dispatch({ type: \"state_range\", value: val }),\n    Set_slider_max: (val) => dispatch({ type: \"slider_max\", value: val }),\n    Set_range_mode_range1: (val) => dispatch({ type: \"range_mode_range1\", value: val }),\n    Set_range_mode_range2: (val) => dispatch({ type: \"range_mode_range2\", value: val }),\n    Set_time_mode_range: (val) => dispatch({ type: \"time_mode_range\", value: val }),\n    Set_pop_over_models: (val) => dispatch({ type: \"pop_over_models\", value: val }),\n    Set_defualt_models: (val) => dispatch({ type: \"defualt_models\", value: val }),\n    Set_default_model_scores: (val) => dispatch({ type: \"default_model_scores\", value: val }),\n    Set_average_m: (val) => dispatch({ type: \"average_m\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(TopBar);\n\n//https://material-ui.com/api/slider/\n//https://material-ui.com/components/expansion-panels/\n//https://material-ui.com/api/checkbox/\n//https://material-ui.com/components/radio-buttons/","import * as d3 from 'd3';\nimport * as $ from \"jquery\"\nexport default function CreateChart(feature, data, node, feature_height, selected_year, handleHistogramselection, feature_data) {\n  var feature_width = $(\".Sidebar_parent\").width()\n  var svg = d3.select(node),\n    margin = { top: 30, right: 15, bottom: 20, left: 7 },\n    width = feature_width - margin.left - margin.right,\n    height = feature_height - margin.top - margin.bottom;\n  if (isNaN(data[0].y)) {\n    //-----------------------------------------------------------(handle the categorical features here)\n    var occur = {}\n    data.map(item => {\n      if (item.y in occur) {\n        occur[item.y] = occur[item.y] + 1\n      }\n      else {\n        occur[item.y] = 1\n      }\n    })\n    // Create items array\n    var items = Object.keys(occur).map(function (key) {\n      return [key, occur[key]];\n    });\n\n    // Sort the array based on the second element\n    items.sort(function (first, second) {\n      return second[1] - first[1];\n    });\n    //-----\n    var y = items.map(element => element[0]);\n    var x = items.map(element => element[1]);\n    var sum_x = d3.sum(x)\n    var cScale = d3.scaleSequential()\n      .interpolator(d3.interpolate(\"#999999b3\", \"#999999b3\"))\n      .domain([0, x.length]);\n    svg.selectAll(\".hist_title\").data([0]).join(\"text\").attr(\"class\", \"hist_title\").attr(\"y\", 15).attr(\"x\", width / 2).attr(\"text-anchor\", \"middle\").text(feature);\n    var g = svg.selectAll(\".g1\").data([0]).join(\"g\").attr(\"class\", \"g1\").attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n    var svg1 = g.selectAll(\".svg1\").data([0]).join('svg').attr(\"class\", \"svg1\").attr('width', width).attr('height', height)\n    svg1.selectAll('rect').data(x).join(\"rect\")\n      .style('fill', (d, i) => cScale(i)).attr(\"height\", height)\n      .attr('width', (d, i) => {\n        return (((d / sum_x) * width) - .2)\n      })\n      .attr(\"x\", (d, i) => {\n        var temp_sum = d3.sum(x.slice(0, i))\n        return ((temp_sum / sum_x) * width)\n      })\n      .attr(\"id\", (d, i) => y[i])\n      .on(\"click\", (d, i) => {\n        d3.select(\"#\" + y[i]).classed(\"cat_item_clicked\", () => {\n          if (d3.select(\"#\" + y[i]).classed(\"cat_item_clicked\")) {\n\n            return false\n          }\n          else {\n            var statelist = cat_states(feature_data, selected_year, y[i])\n            handleHistogramselection(statelist, \"histogram_data\")\n            return true\n          }\n        })\n\n      }\n      )\n    //---\n    svg1.selectAll(\"text\").data(y, d => d).join(\"text\")\n      .text((d, i) => {\n        if (((x[i] / sum_x) * width) > 12) { return d }\n        else { return \"\" }\n      })\n      .attr(\"x\", (d, i) => {\n        var temp_sum = d3.sum(x.slice(0, i))\n        return ((temp_sum / sum_x) * width) + 8\n      })\n      .attr(\"y\", height / 2)\n      .style(\"font-size\", 9)\n      .style(\"writing-mode\", \"tb\")\n      .style(\"text-anchor\", \"middle\")\n    //-----------------------------------------------------------Barchart ends here\n  }\n  else {\n    //----------------------------------------------------------- Handle the Numeric features here)\n    svg.selectAll(\".hist_title\").data([feature], d => d).join(\"text\").attr(\"class\", \"hist_title\").attr(\"y\", 15).attr(\"x\", width / 2).attr(\"text-anchor\", \"middle\").text(feature.replace(/_/g, ' '));\n\n    var temp_x = data.map(item => parseFloat(item['y'])),\n      x = d3.scaleLinear().domain([d3.min(temp_x), d3.max(temp_x)]).range([0, width]).nice(),\n      tick_values = x.ticks(4),\n      hist_height = height,\n      histogram = d3.histogram()\n        .value(d => d)   // I need to give the vector of value\n        .domain(x.domain())  // then the domain of the graphic\n        .thresholds(4); // then the numbers of bins\n    var bins = histogram(temp_x),\n      y_hist = d3.scaleLinear()\n        .range([hist_height, 0]);\n    y_hist.domain([0, d3.max(bins, function (d) { return d.length; })]);   // d3.hist has to be called before the Y axis obviously\n    var svg0 = svg.selectAll('.svg0').data([0]).join('svg').attr(\"class\", \"svg0\").selectAll(\".myg0\").data([0]).join('g').attr(\"class\", \"myg0\").attr(\"transform\",\n      \"translate(\" + margin.left + \",\" + margin.top + \")\")\n\n    svg0.selectAll(\"rect\").data(bins).join('rect')\n      .attr(\"x\", 1)\n      .attr(\"fill\", \"#999999b3\")\n      .attr(\"transform\", function (d) {\n        if(d.x0==d.x1){return \"translate(\" + 0 + \",\" + y_hist(d.length) + \")\"}\n        return \"translate(\" + x(d.x0) + \",\" + y_hist(d.length) + \")\";\n      })\n      .attr(\"width\", function (d) { \n        if(d.x0==d.x1){return width}\n        return x(d.x1) - x(d.x0) - 0.2; })\n      .attr(\"height\", function (d) { return hist_height - y_hist(d.length); });\n    //-------Add text of bars\n    \n    svg0.selectAll(\".mylabel\").data(bins).join('text').attr(\"class\",\"mylabel\")\n      .attr(\"x\", d=>x(d.x0)+((x(d.x1)-x(d.x0))/3))\n      .text(d=>d.length)\n      .attr('y',d=> y_hist(d.length)-2)\n      .attr('font-size',10)\n  \n    //------------- Add X axis\n    if(d3.max(tick_values)>1000){\n      svg0.selectAll(\".myXaxis\").data([0]).join('g').attr(\"class\", \"myXaxis\")\n      .attr(\"transform\", \"translate(0,\" + hist_height + \")\")\n      .call(d3.axisBottom(x).tickValues(tick_values).tickFormat(d3.format(\".2s\")))\n    }\n    else{\n      svg0.selectAll(\".myXaxis\").data([0]).join('g').attr(\"class\", \"myXaxis\")\n      .attr(\"transform\", \"translate(0,\" + hist_height + \")\")\n      .call(d3.axisBottom(x).tickValues(tick_values))\n    }\n\n    svg0.selectAll(\".tick line,.domain\").attr(\"stroke\", \"#adadad\")\n\n    //------------------------------------------------------------------------------------------------------ Create Histogram ends here    \n    //---drag starts here\n    var selectionRect = {\n      element: null,\n      previousElement: null,\n      currentY: 0,\n      currentX: 0,\n      originX: 0,\n      originY: 0,\n      setElement: function (ele) {\n        this.previousElement = this.element;\n        this.element = ele;\n      },\n      getNewAttributes: function () {\n        var x = this.currentX < this.originX ? this.currentX : this.originX;\n        var y = this.currentY < this.originY ? this.currentY : this.originY;\n        var width = Math.abs(this.currentX - this.originX);\n        var height = Math.abs(this.currentY - this.originY);\n        return { x: x, y: y, width: width, height: height }; // returning the javascript object\n      },\n      getCurrentAttributes: function () {\n        // use plus sign to convert string into number\n        var x = +this.element.attr(\"x\");\n        var y = +this.element.attr(\"y\");\n        var width = +this.element.attr(\"width\");\n        var height = +this.element.attr(\"height\");\n        return { x1: x, y1: y, x2: x + width, y2: y + height }; // returning the javascript object\n      },\n      getCurrentAttributesAsText: function () {\n        var attrs = this.getCurrentAttributes();\n        return \"x1: \" + attrs.x1 + \" x2: \" + attrs.x2 + \" y1: \" + attrs.y1 + \" y2: \" + attrs.y2;\n      },\n      init: function (newX, newY) {\n        var rectElement = svg.append(\"rect\")\n          .attr('rx', 1).attr('ry', 1).attr(\"x\", 0).attr(\"y\", 0)\n          .attr('width', 0).attr('height', 0).classed(\"selection\", true);\n        this.setElement(rectElement);\n        this.originX = newX;\n        this.originY = newY;\n        this.update(newX, newY);\n      },\n      update: function (newX, newY) {\n        this.currentX = newX;\n        this.currentY = newY;\n        var NewAttr = this.getNewAttributes()\n        this.element.attr(\"x\", NewAttr.x).attr(\"y\", NewAttr.y)\n          .attr('width', NewAttr.width).attr('height', NewAttr.height)\n      },\n      focus: function () {\n        this.element\n          .style(\"stroke\", \"\")\n          .style(\"stroke-width\", \"1\");\n      },\n      remove: function () {\n        this.element.remove();\n        this.element = null;\n      },\n      removePrevious: function () {\n        if (this.previousElement) {\n          this.previousElement.remove();\n        }\n      }\n    };\n\n    //-----------------\n    function dragStart() {\n      var p = d3.mouse(this);\n      selectionRect.init(p[0], p[1]);\n      selectionRect.removePrevious();\n    }\n    function dragMove() {\n      var p = d3.mouse(this);\n      selectionRect.update(p[0], p[1]);\n    }\n    function dragEnd() {\n      var finalAttributes = selectionRect.getCurrentAttributes();\n      if (finalAttributes.x1 != finalAttributes.x2) {\n        var myx1 = finalAttributes.x1 - margin.left\n        var myx2 = finalAttributes.x2 - margin.left\n        var temp_range = [x.invert(myx1).toFixed(4), x.invert(myx2).toFixed(4)]\n        var statelist = states(feature_data, temp_range, selected_year, feature)\n        handleHistogramselection(statelist, \"histogram_data\")\n      }\n      if (finalAttributes.x2 - finalAttributes.x1 > 1 && finalAttributes.y2 - finalAttributes.y1 > 1) {\n        // range selected\n       // d3.event.sourceEvent.preventDefault();\n        selectionRect.focus();\n      } else {\n        selectionRect.remove();\n      }\n    }\n    var dragBehavior = d3.drag()\n      .on(\"start\", dragStart)\n      .on(\"drag\", dragMove)\n      .on(\"end\", dragEnd);\n    svg.call(dragBehavior);\n    //---drag ends here\n  }\n  function states(original_data,range,year,feature){\n    var temp=[]\n    original_data.forEach(element => {\n      if(element[\"1-qid\"]==year && parseFloat(element[feature])>=range[0] && parseFloat(element[feature])<=range[1]){\n       temp.push(parseInt(element['two_realRank']))\n      }\n    });\n    return temp;\n  }\n  function cat_states(original_data,year,country){\n    var temp=[]\n    original_data.forEach(element => {\n      if(element[\"1-qid\"]==year && element[\"country\"]==country){\n       temp.push(parseInt(element['two_realRank']))\n      }\n    });\n    return temp;\n  }\n  //----------------------------------------------------------- Histogram creation ends here\n}\n\n//https://www.youtube.com/watch?v=N9nHQzboCUI","import React, { Component, PureComponent } from 'react';\nimport * as d3 from 'd3';\nimport './Histogram.css';\nimport * as algo1 from \"../../Algorithms/algo1\";\nimport CreateChart from \"./Histogram\"\nimport exp_fiscal_CordAscent from \"../../Data/data/fiscal/lime/chart1_data.csv\";\nimport exp_school_CordAscent from \"../../Data/data/school/lime/chart1_data.csv\";\nimport exp_house_CordAscent from \"../../Data/data/house/lime/chart1_data.csv\";\nimport { connect } from 'react-redux'\nimport { Button } from '@material-ui/core';\nimport * as $ from \"jquery\"\nclass Chart extends Component {\n  constructor(props) {\n    super(props);\n    this.myRef = React.createRef();\n    this.state = { feaures_dict: {}, features_voted: null, feature_data: null, selected_states: [] } // This is the default height\n  }\n  componentDidMount() {\n    var self = this\n    var filename; if (this.props.dataset == \"fiscal\") { filename = exp_fiscal_CordAscent } else if (this.props.dataset == \"school\") { filename = exp_school_CordAscent } else if (this.props.dataset == \"house\") { filename = exp_house_CordAscent }\n    d3.csv(filename).then(function (feature_data) {\n      self.setState({ feature_data: feature_data })\n    })\n  }\n  shouldComponentUpdate() {\n    return true;\n  }\n  componentDidUpdate() {\n    var self = this\n\n    var selected_instances = d3.range(this.props.state_range[0], this.props.state_range[1] + 1)\n    if (this.props.histogram_data.length > 0) { selected_instances = this.props.histogram_data }\n    //--------------------\n    var under_threshold_instances = []\n    var year_data = this.props.original_data.filter(item => this.props.selected_year == item['1-qid'])\n    this.props.defualt_models.map(model_name => {\n      year_data.map(item => {\n        var two_realRank = parseInt(item['two_realRank'])\n        var predicted_rank = parseInt(item[model_name])\n        if (Math.abs(predicted_rank - two_realRank) > this.props.threshold) {\n          under_threshold_instances.push(two_realRank)\n        }\n      })\n    })\n    selected_instances = selected_instances.filter(item => !under_threshold_instances.includes(item))\n    //--------------------\n    var number_of_charts = 9\n    //------\n    var features_dict = algo1.features_with_score(this.props.dataset, this.props.defualt_models, selected_instances, this.props.selected_year, number_of_charts, this.props.rank_data)\n    var items = Object.keys(features_dict).map(function (key) {\n      return [key, features_dict[key]];\n    });\n    items.sort(function (first, second) { // Sort the array based on the second element\n      return second[1] - first[1];\n    });\n    items = items.map((element) => element[0])\n    //--------\n    var filename; if (this.props.dataset == \"fiscal\") { filename = exp_fiscal_CordAscent } else if (this.props.dataset == \"school\") { filename = exp_school_CordAscent }\n    //--------------------------------Iterate through each features\n    if (this.state.feature_data != null) {\n      var feature_width = $(\".Sidebar_parent\").width()\n      var feature_height = 100; // Feature height for individual feature\n      //--------------------------------------------- Iterate trough eact item and create histograms\n      items.forEach((feature, feature_index) => {\n        var feature_id = \"feature\" + feature.replace(/[^\\w\\s]/gi, '')\n        var temp = []\n        this.state.feature_data.forEach(element => {\n          if (element[\"1-qid\"] == self.props.selected_year) {\n            var temp_dict = {}\n            temp_dict[\"x\"] = parseInt(element['two_realRank'])\n            temp_dict[\"y\"] = element[feature]\n            temp.push(temp_dict)\n          }\n        });\n        d3.select(\"#histogram_container\").attr(\"height\", items.length * feature_height).selectAll(\"#\" + feature_id).data([feature_id], d => d).join(\"svg\").attr(\"id\", feature_id).attr(\"width\", feature_width)\n          .attr(\"x\", d => {\n            //--------------------------------------------- Create chart is imported from the Histogram.js and this is the function that creates all the histograms\n            CreateChart(feature, temp, \"#\" + feature_id, feature_height, self.props.selected_year, self.handleHistogramselection, self.state.feature_data)\n            return 0;\n          })\n          .attr(\"y\", (d, i) => feature_height * feature_index)\n      })\n    }\n  }\n  handleHistogramselection = (data, type) => {\n    var temp = this.state.selected_states\n    data.forEach(element => {\n      if (!temp.includes(element)) { temp.push(element) }\n    });\n    this.setState({ selected_states: temp })\n  }\n  update_histogram_data = () => {\n    d3.selectAll(\".cat_item_clicked\").classed(\"cat_item_clicked\", false)\n    d3.selectAll(\".selection\").remove()\n    if (this.state.selected_states.length < 1) { alert(\"Empty selection!\"); return }\n    var filtered_states = this.state.selected_states.filter((item) => {\n      if (item >= this.props.state_range[0] && item <= this.props.state_range[1]) {\n        return item\n      }\n    })\n    if (filtered_states.length < 1) { alert(\"Empty Selection\") }\n    if (this.props.slider_and_feature_value[\"Feature\"] == 1 && this.props.slider_and_feature_value[\"Rank range\"] == 1) { // If rank range is selected then filter states within the range\n      console.log(\"temp\", filtered_states)\n      this.props.Set_histogram_data(filtered_states)\n    }\n    else {\n      this.props.Set_histogram_data(this.state.selected_states) // else set states as selected\n    }\n    this.setState({ selected_states: [] })\n  }\n  //-----------------------------------------------------------------\n  render() {\n    return (\n      <div>\n        <Button className=\"update\" style={{ marginLeft: 0, padding: 0, width: 197 }} onClick={() => {\n          var self = this\n          if (!this.props.slider_and_feature_value[\"Rank range\"]) {\n            if (d3.min(this.state.selected_states) < this.props.state_range[0]) {\n              this.props.Set_state_range([d3.min(this.state.selected_states), this.props.state_range[1]])\n            }\n            if (d3.max(this.state.selected_states) > this.props.state_range[1]) {\n              this.props.Set_state_range([this.props.state_range[0], d3.max(this.state.selected_states)])\n            }\n          }\n          setTimeout(function () { self.update_histogram_data(); }, 500);\n        }}\n        >Update</Button>\n        <div className=\"hitograms_container\" style={{ height: 420, borderBottom: \"0px solid #e5e5e5\" }}>\n          <svg id=\"histogram_container\" style={{ width: this.props.width }}></svg>\n        </div>\n      </div>\n    );\n  }\n}\nconst maptstateToprop = (state) => {\n  return {\n    state_range: state.state_range,\n    defualt_models: state.defualt_models,\n    dataset: state.dataset,\n    selected_year: state.selected_year,\n    slider_and_feature_value: state.slider_and_feature_value,\n    deviate_by: state.deviate_by,\n    rank_data: state.rank_data,\n    histogram_data: state.histogram_data,\n    original_data:state.original_data,\n    threshold:state.threshold,\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_defualt_models: (val) => dispatch({ type: \"defualt_models\", value: val }),\n    Set_sparkline_data: (val) => dispatch({ type: \"sparkline_data\", value: val }),\n    Set_histogram_data: (val) => dispatch({ type: \"histogram_data\", value: val }),\n    Set_state_range: (val) => dispatch({ type: \"state_range\", value: val }),\n    Set_clicked_items_in_slopechart: (val) => dispatch({ type: \"clicked_items_in_slopechart\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Chart);","import React from 'react';\nimport \"./Sidebar.scss\";\nimport * as $ from 'jquery';\nimport Histograms from \"./HistogramContainer\"\nimport { connect } from \"react-redux\";\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport TextField from '@material-ui/core/TextField';\nfunction Modes(props) {\n    //-----------------------------------------------------------------\n    return (\n        <div style={{ borderTop: \"1px solid #eaeaea\" }}>\n            <p className=\"title_show\" style={{ marginBottom: 8 }}>Compare:</p>\n            <Autocomplete className=\"autocomplete_mode\" style={{ border: \"1px solid grey\", borderRadius: 0, paddingTop: 0, paddingBottom: 0, marginLeft: 5, marginRight: 30, width: $('.Sidebar').width() - 10 }}\n                defaultValue={\"Models\"}\n                id=\"debug\"\n                debug\n                options={[\"Models\", \"Ranges\", \"Time\"]}\n                renderInput={(params) => (\n                    <TextField {...params} label=\"\" margin=\"normal\" fullWidth={true} InputProps={{ ...params.InputProps, disableUnderline: true }} />\n                )}\n                onChange={(event, val) => {\n                    var value = val.replace('s', \"\")\n                    props.Set_mode(value)\n                    props.Set_clicked_items_in_slopechart([])\n                }\n                }\n            />\n        </div>\n    );\n}\nconst maptstateToprop = (state) => {\n    return {\n        selected_year: state.selected_year,\n        state_range: state.state_range,\n        mode: state.mode, // Model mode model\n        slider_max: state.slider_max,\n        range_mode_model: state.range_mode_model, // Range mode model\n        range_mode_range1: state.range_mode_range1,\n        range_mode_range2: state.range_mode_range2,\n        time_mode_model: state.time_mode_model, // Time mode model\n        time_mode_range: state.time_mode_range,\n        time_mode_year1: state.time_mode_year1,\n        time_mode_year2: state.time_mode_year2,\n        years_for_dropdown: state.years_for_dropdown,\n        dataset: state.dataset,\n        defualt_models: state.defualt_models,\n        slider_and_feature_value: state.slider_and_feature_value,\n        sort_by: state.sort_by,\n        grouped_by_year_data: state.grouped_by_year_data,\n    }\n}\nconst mapdispatchToprop = (dispatch) => {\n    return {\n        Set_slider_max: (val) => dispatch({ type: \"slider_max\", value: val }),\n        Set_years_for_dropdown: (val) => dispatch({ type: \"years_for_dropdown\", value: val }),\n        Set_state_range: (val) => dispatch({ type: \"state_range\", value: val }),\n        Set_mode: (val) => dispatch({ type: \"mode\", value: val }),\n        Set_range_mode_model: (val) => dispatch({ type: \"range_mode_model\", value: val }),\n        Set_time_mode_model: (val) => dispatch({ type: \"time_mode_model\", value: val }),\n        Set_range_mode_range1: (val) => dispatch({ type: \"range_mode_range1\", value: val }),\n        Set_range_mode_range2: (val) => dispatch({ type: \"range_mode_range2\", value: val }),\n        Set_time_mode_range: (val) => dispatch({ type: \"time_mode_range\", value: val }),\n        Set_time_mode_year1: (val) => dispatch({ type: \"time_mode_year1\", value: val }),\n        Set_time_mode_year2: (val) => dispatch({ type: \"time_mode_year2\", value: val }),\n        Set_histogram_data: (val) => dispatch({ type: \"histogram_data\", value: val }),\n        Set_slider_and_feature_value: (val) => dispatch({ type: \"slider_and_feature_value\", value: val }),\n        Set_clicked_items_in_slopechart: (val) => dispatch({ type: \"clicked_items_in_slopechart\", value: val }),\n        Set_changed: (val) => dispatch({ type: \"changed\", value: val }),\n        Set_pop_over_models: (val) => dispatch({ type: \"pop_over_models\", value: val }),\n        Set_defualt_models: (val) => dispatch({ type: \"defualt_models\", value: val }),\n        Set_default_model_scores: (val) => dispatch({ type: \"default_model_scores\", value: val }),\n\n    }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Modes);","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport \"./Sidebar.scss\";\nimport { connect } from \"react-redux\";\nimport Modes from \"./Modes\"\nimport * as $ from \"jquery\"\nimport HistogramContainer from \"./HistogramContainer\"\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n  },\n  listroot: {\n    width: '100%',\n    maxWidth: 360,\n  },\n  paper: {\n\n  },\n  heading: {\n    fontSize: theme.typography.pxToRem(15),\n    fontWeight: theme.typography.fontWeightRegular,\n  },\n}));\n\nfunction Sidebar(props) {\n  const classes = useStyles();\n  //------------For list and chckbox\n  const [checked, setChecked] = React.useState([0]);\n  const handleToggle = (value) => () => {\n    const currentIndex = checked.indexOf(value);\n    const newChecked = [...checked];\n\n    if (currentIndex === -1) {\n      newChecked.push(value);\n    } else {\n      newChecked.splice(currentIndex, 1);\n    }\n    setChecked(newChecked);\n  };\n  const inputchanged = (event) => {\n    var val = parseInt(event.target.value)\n    if (val > -1) {\n      setTimeout(function () {\n        props.Set_deviate_by(val)\n      }, 100);\n\n    }\n  }\n  const show_checkboxChanged = (event, val) => {\n    var myfunc = props.appHandleChange\n    myfunc(val, \"show_checkboxChanged\")\n  }\n  return (\n    <div className=\"Sidebar_parent\" style={{ height: window.innerHeight }}>\n      {\n        // <h4 className=\"app_title\">RIEVAL </h4>\n      }\n      {props.view_data == 1 ?\n        <div className=\"rangeSlidercontainer\">\n          <Modes></Modes>\n          {props.mode == \"Model\" ? <div style={{ marginTop: 10, paddingLeft: 5, width: $('.Sidebar').width() }}>\n            <HistogramContainer\n              year={props.selected_year.toString()} state_range={props.state_range}\n              Sidebar_width={$('.Sidebar').width()} >\n            </HistogramContainer>\n          </div> : null}\n        </div> : null}\n        <p style={{margin:0,marginTop:20,marginLeft:\"30%\",fontWeight:\"bold\"}}>MDS Plot</p>\n        <svg id=\"mds\" style={{margin:5, width: \"95%\", height: 200 }}></svg>\n    </div>\n  );\n}\nconst maptstateToprop = (state) => {\n  return {\n    deviate_by: state.deviate_by,\n    state_range: state.state_range,\n    defualt_models: state.defualt_models,\n    selected_year: state.selected_year,\n    sparkline_data: state.sparkline_data,\n    show: state.show,\n    mode:state.mode,\n\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_defualt_models: (val) => dispatch({ type: \"defualt_models\", value: val }),\n    Set_sparkline_data: (val) => dispatch({ type: \"sparkline_data\", value: val }),\n    Set_slider_max: (val) => dispatch({ type: \"slider_max\", value: val }),\n    Set_years_for_dropdown: (val) => dispatch({ type: \"years_for_dropdown\", value: val }),\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: val }),\n    Set_ref_year: (val) => dispatch({ type: \"ref_year\", value: val }),\n    Set_original_data: (val) => dispatch({ type: \"original_data\", value: val }),\n    Set_state_range: (val) => dispatch({ type: \"state_range\", value: val }),\n    Set_deviate_by: (val) => dispatch({ type: \"deviate_by\", value: val }),\n    Set_show: (val) => dispatch({ type: \"show\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Sidebar);\n\n//https://material-ui.com/api/slider/\n//https://material-ui.com/components/expansion-panels/\n//https://material-ui.com/api/checkbox/\n//https://material-ui.com/components/radio-buttons/","import React, { Component } from 'react';\n//------------------------------------------------All datasets imports\nimport fiscal from \"./Data/fiscal.csv\";\nimport school from \"./Data/school.csv\";\nimport house from \"./Data/house.csv\";\n\nimport fiscal_rank from \"./Data/data/fiscal/lime/fiscal_rank.csv\";\nimport fiscal_lime from \"./Data/data/fiscal/lime/fiscal_lime.csv\";\n\nimport school_rank from \"./Data/data/school/lime/school_rank.csv\";\nimport school_lime from \"./Data/data/school/lime/school_lime.csv\";\n\nimport house_rank from \"./Data/data/house/lime/house_rank.csv\";\nimport house_lime from \"./Data/data/house/lime/house_lime.csv\";\n\n//------------------------------------------------All datasets imports ends here\nimport \"./App.scss\";\nimport * as d3 from 'd3';\nimport * as algo1 from \"./Algorithms/algo1\";\nimport ModelChart from \"./components/Charts/Model/ModelChart\"\nimport RangeChart from \"./components/Charts/Range/RangeChart\"\nimport YearChart from \"./components/Charts/Time/YearChart\"\nimport TopBar from \"./components/TopBar/TopBar\"\nimport { Row, Col } from 'reactstrap';\nimport Sidebar from \"./components/Sidebar/Sidebar\";\nimport Button from '@material-ui/core/Button';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport * as $ from 'jquery';\nimport { connect } from \"react-redux\";\nimport Grid from '@material-ui/core/Grid';\nimport \"./components/Charts/Charts.css\"\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    // mydata is original data\n    this.state = {\n      random: 10,\n      original_data: null, grouped_by_year_data: null, show: [\"Slope charts\", \"Rankings\", \"Explanation\"], view_data: 1,\n      histogram_data: [], ref_year: null, features_dict: {}, features_voted: null, Legend_ready_to_vis: null, legend_model: \"CordAscent\",\n    };\n  }\n  handleradioChange = (event) => {\n    this.setState({ show: [\"Slope charts\", \"Rankings\", \"Explanation\"] })\n    this.props.Set_slider_and_feature_value({ 'Rank range': 1, 'Feature': 0 })\n    this.props.Set_clicked_items_in_slopechart([])\n    this.props.Set_state_range([1, 25])\n    this.props.Set_histogram_data([])\n    this.props.Set_mode(\"Model\")\n    this.props.Set_range_mode_range1([1, 25])\n    this.props.Set_range_mode_range2([15, 40])\n    this.props.Set_time_mode_range([5, 35])\n    if (event.target.value == 'Fiscal Dataset') {\n      this.setState({ dataset: 'fiscal' })\n      this.props.Set_dataset('fiscal')\n      this.dataprocessor(\"fiscal\")\n    }\n    else if (event.target.value == 'House Dataset') {\n      this.setState({ dataset: 'house' })\n      this.props.Set_dataset('house')\n      this.dataprocessor(\"house\")\n    }\n    else {\n      this.setState({ dataset: 'school' })\n      this.props.Set_dataset('school')\n      this.dataprocessor(\"school\")\n    }\n  };\n\n  task2 = () => {\n    if (this.props.clicked_items_in_slopechart.length > 0) {\n      d3.selectAll('circle,.datapoint').attr('opacity', this.props.config.reduced_opacity)\n    }\n    this.props.clicked_items_in_slopechart.map(idName => d3.selectAll('#' + idName).attr('opacity', 1))\n  }\n\n  textClickHandler_original = (state_name) => { // state_name is set as the id of each element\n    var idName = state_name.replace(/ +/g, \"\")\n\n    //----Whatever properties are changed due to click change back here for the original \n    d3.selectAll('#' + idName).filter(d3.matcher('line')).style('stroke-width', 1)\n    //----Whatever properties are changed due to click change back here for the original\n\n    //-----Store the clicked items\n    var clicked_items_in_slopechart = [...this.props.clicked_items_in_slopechart]\n    if (clicked_items_in_slopechart.includes(idName)) {\n      clicked_items_in_slopechart = clicked_items_in_slopechart.filter(element => element != idName)\n    }\n    else { clicked_items_in_slopechart.push(idName) }\n    this.props.Set_clicked_items_in_slopechart(clicked_items_in_slopechart)\n    //-----Store the clicked items ends here\n\n    if (clicked_items_in_slopechart.length > 0) {\n      d3.selectAll('circle,.datapoint').attr('opacity', this.props.config.reduced_opacity)\n      this.props.clicked_items_in_slopechart.map(idName => {\n        d3.selectAll('#' + idName).attr('opacity', 1)\n        d3.selectAll('#' + idName).filter(d3.matcher('line')).style('stroke-width', 3)\n      })\n    }\n    else {\n      d3.selectAll('circle,.datapoint').attr('opacity', 1)\n    }\n\n    //d3.selectAll('.line1,.line2').attr('opacity',1)\n  }\n\n  //--------- data processor processes data for initial render\n  dataprocessor = (dataset_name) => {\n    if (dataset_name == \"school\") { this.process_data(school, school_rank, school_lime, dataset_name) }\n    if (dataset_name == \"fiscal\") { this.process_data(fiscal, fiscal_rank, fiscal_lime, dataset_name) }\n    if (dataset_name == \"house\") { this.process_data(house, house_rank, house_lime, dataset_name) }\n  }\n  process_data = (slopechart_data_filename, rank_data_filename, lime_data_filename, dataset_name) => {\n    var self = this\n    //-------------\n    d3.csv(slopechart_data_filename).then(original_data => {\n      var grouped_by_year_data = algo1.groupby_year(original_data).years\n      var sparkline_data = algo1.groupby_year(original_data).sparkline_data\n      var years_for_dropdown = Object.keys(grouped_by_year_data)\n      self.props.Set_sparkline_data(sparkline_data)\n      self.props.Set_slider_max(grouped_by_year_data[years_for_dropdown[0]].length)\n      self.setState({ years_for_dropdown: years_for_dropdown })\n      self.props.Set_years_for_dropdown(years_for_dropdown)\n      self.props.Set_time_mode_year1(years_for_dropdown[0])\n      self.props.Set_time_mode_year2(years_for_dropdown[1])\n      self.props.Set_legend_year(years_for_dropdown[0])\n      self.setState({ ref_year: years_for_dropdown[0] })\n      self.props.Set_grouped_by_year_data(grouped_by_year_data)\n      self.setState({ grouped_by_year_data: grouped_by_year_data })\n      self.setState({ original_data: original_data })\n      self.props.Set_original_data(original_data)\n      self.props.Set_selected_year(years_for_dropdown[0])\n    })\n    //-------------\n    d3.csv(rank_data_filename).then(data => {\n      var nested_data = {}\n      d3.nest().key(function (d) { return d.model; }).entries(data).map(item => {\n        nested_data[item.key] = item.values\n      })\n      self.props.Set_rank_data(nested_data)\n    })\n    //-------------\n    d3.csv(lime_data_filename).then(data => {\n      var nested_data = {}\n      d3.nest().key(function (d) { return d.model; }).entries(data).map(item => {\n        nested_data[item.key] = item.values\n      })\n      self.props.Set_lime_data(nested_data)\n    })\n\n  }\n  buttonclickHandler = (value, type) => {\n    setTimeout(() => { this.setState({ random: Math.random() }) }, 500);\n    type = \"button\" ? this.setState({ view_data: value }) : null\n    type = \"form\" ? this.setState({ view_data: value }) : null\n  }\n  //-----------------Models are generated ends here\n  componentDidMount() {\n    this.dataprocessor(\"fiscal\")\n  }\n  shouldComponentUpdate() {\n    return true;\n  }\n  render() {\n    return (\n      <div key={this.state.random}>\n        <Row>\n          <div style={{ width: 207 }} className=\"Sidebar\">\n            {this.props.original_data != null ?\n              <Sidebar view_data={this.state.view_data}\n                dataset={this.props.dataset} sort_by={this.props.sort_by} chart_scale_type={this.props.chart_scale_type}>\n              </Sidebar> : null}\n          </div>\n          <Col style={{ width: window.innerWidth - 200, minHeight: window.innerHeight }} className=\"container_header_and_components\">\n            <div className=\"uploader_topbar\">\n              <Grid container spacing={0} className=\"myheader\" style={{ left: $('.Sidebar').width() }}>\n                <Grid item style={{ borderRight: \"1px dashed #eaeaea\", width: 100 }}><Button onClick={() => this.buttonclickHandler(1, \"button\")}>View Data</Button></Grid>\n                <Grid item style={{ borderRight: \"1px dashed #eaeaea\", width: 120 }}><Button onClick={() => this.buttonclickHandler(0, \"button\")}>Load Data</Button></Grid>\n              </Grid>\n              {this.state.view_data == false ?\n                <Row className=\"Topbar_container\">\n                  <div className=\"load\">\n                    <form onSubmit={() => this.buttonclickHandler(1, \"form\")}>\n                      <FormControl component=\"fieldset\">\n                        <FormLabel component=\"legend\"></FormLabel>\n                        <RadioGroup aria-label=\"gender\" name=\"gender1\" onChange={this.handleradioChange}>\n                          {['Fiscal Dataset', 'School Dataset', 'House Dataset'].map((value) => {\n                            return <FormControlLabel value={value} control={<Radio />} label={value} />\n                          })}\n                        </RadioGroup>\n                        <Button type=\"submit\" variant=\"outlined\" color=\"primary\">Load</Button>\n                      </FormControl>\n                    </form>\n                  </div></Row>\n                : null}\n              {this.state.view_data == true ? <Row className=\"Topbar_container\"><TopBar key={this.props.selected_year}  tracking={this.props.tracking}></TopBar></Row> : null}\n            </div>\n            {this.state.view_data == true ?\n              <Grid container direction=\"row\" justify=\"flex-start\" alignItems=\"center\" >\n                <Grid container spacing={0} direction=\"row\" justify=\"space-evenly\" className=\"slopechart_container\" style={{ height: window.innerHeight - $('.uploader_topbar').height() - 5, marginLeft: 5, width: window.innerWidth - ($('.Sidebar_parent').width() + $('.legend').width() + 15) }}>\n                  {this.props.mode == \"Model\" && this.state.grouped_by_year_data != null && this.props.original_data != null && this.props.lime_data != null ? <ModelChart></ModelChart> : null}\n                  {this.props.mode == \"Range\" && this.state.grouped_by_year_data != null && this.props.original_data != null && this.props.lime_data != null ? <RangeChart></RangeChart> : null}\n                  {this.props.mode == \"Time\" && this.state.grouped_by_year_data != null && this.props.original_data != null && this.props.lime_data != null ? <YearChart></YearChart> : null}\n                </Grid>\n              </Grid> : null}\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n  makeArr = () => {\n    var startValue = this.props.state_range[0];\n    var stopValue = this.props.state_range[1];\n    var arr = [];\n    for (var i = startValue; i <= stopValue; i++) {\n      arr.push(i);\n    }\n    //hi\n    return arr;\n  }\n}\nconst maptstateToprop = (state) => {\n  return {\n    tracking: state.tracking,\n    state_range: state.state_range,\n    deviate_by: state.deviate_by,\n    defualt_models: state.defualt_models,\n    sparkline_data: state.sparkline_data,\n    selected_year: state.selected_year,\n    mode: state.mode,\n    range_mode_model: state.range_mode_model,\n    original_data: state.original_data,\n    time_mode_model: state.time_mode_model,\n    chart_scale_type: state.chart_scale_type,\n    dataset: state.dataset,\n    histogram_data: state.histogram_data,\n    sort_by: state.sort_by,\n    time_mode_year1: state.time_mode_year1,\n    time_mode_year2: state.time_mode_year2,\n    popup_chart_data: state.popup_chart_data,\n    clicked_items_in_slopechart: state.clicked_items_in_slopechart,\n    config: state.config,\n    lime_data: state.lime_data,\n    rank_data: state.rank_data,\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_dataset: (val) => dispatch({ type: \"dataset\", value: val }),\n    Set_defualt_models: (val) => dispatch({ type: \"defualt_models\", value: val }),\n    Set_sparkline_data: (val) => dispatch({ type: \"sparkline_data\", value: val }),\n    Set_slider_max: (val) => dispatch({ type: \"slider_max\", value: val }),\n    Set_years_for_dropdown: (val) => dispatch({ type: \"years_for_dropdown\", value: val }),\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: parseInt(val) }),\n    Set_ref_year: (val) => dispatch({ type: \"ref_year\", value: val }),\n    Set_original_data: (val) => dispatch({ type: \"original_data\", value: val }),\n    Set_grouped_by_year_data: (val) => dispatch({ type: \"grouped_by_year_data\", value: val }),\n    Set_slider_and_feature_value: (val) => dispatch({ type: \"slider_and_feature_value\", value: val }),\n    Set_clicked_items_in_slopechart: (val) => dispatch({ type: \"clicked_items_in_slopechart\", value: val }),\n    Set_histogram_data: (val) => dispatch({ type: \"histogram_data\", value: val }),\n    Set_state_range: (val) => dispatch({ type: \"state_range\", value: val }),\n    Set_legend_year: (val) => dispatch({ type: \"legend_year\", value: val }),\n\n    Set_mode: (val) => dispatch({ type: \"mode\", value: val }),\n    Set_range_mode_range1: (val) => dispatch({ type: \"range_mode_range1\", value: val }),\n    Set_range_mode_range2: (val) => dispatch({ type: \"range_mode_range2\", value: val }),\n    Set_time_mode_range: (val) => dispatch({ type: \"time_mode_range\", value: val }),\n    Set_time_mode_year1: (val) => dispatch({ type: \"time_mode_year1\", value: val }),\n    Set_time_mode_year2: (val) => dispatch({ type: \"time_mode_year2\", value: val }),\n\n    Set_rank_data: (val) => dispatch({ type: \"rank_data\", value: val }),\n    Set_lime_data: (val) => dispatch({ type: \"lime_data\", value: val }),\n    Set_pop_over_models: (val) => dispatch({ type: \"pop_over_models\", value: val }),\n    Set_default_model_scores: (val) => dispatch({ type: \"default_model_scores\", value: val }),\n\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(App);","let initialState = {\n   anim_config: {rank_animation:3000,deviation_animation:3000,feature_animation:3000,circle_animation:3000},\n   appHandleChange: null,\n   sparkline_data: null,\n   sort_by: \"Average Precision\",\n   original_data: null,\n   rank_data: null,\n   lime_data: null,\n   grouped_by_year_data: null,\n   slope_chart_ready_to_vis: null,\n   defualt_models: [\"LinearReg\"], // Change the pop_over_models as well\n   state_range: [1, 30], // Change in handleradioChange\n   deviate_by: 0,\n   show: [\n      \"Slope charts\", \"Rankings\", \"Explanation\" // change in app.js\n   ],\n   years_for_dropdown: [\n      \"2006\"\n   ],\n   selected_year: 2006,\n   selected_years: [\"2006\"],\n   slider_min: 1,\n   slider_max: 50,\n   view_data: 1,\n   dataset: \"fiscal\", // change in componentDidmount in app.js too\n   histogram_data: [],\n   chart_scale_type: \"true\",\n   features_with_score: null,\n   ref_year: null,\n   cmodel: \"CordAscent\",\n   clicked_items_in_slopechart: [],\n   tracking: false,\n   dummy: null,\n   features_dict: {},\n   features_voted: null,\n   Legend_ready_to_vis: null,\n   legend_model: \"CordAscent\",\n   legend_show_option: \"Rank\",\n   legend_year: 2012,\n   mode: \"Model\",\n   range_mode_model: \"CordAscent\",\n   range_mode_range1: [1, 25],\n   range_mode_range2: [15, 40],\n   time_mode_model: \"CordAscent\",\n   time_mode_year1: \"Null\",\n   time_mode_year2: \"Null\",\n   time_mode_range: [6, 32],\n   chart_scale_type: \"true\",\n   slider_and_feature_value: { 'Rank range': 1, 'Feature': 1 },\n   prev_prop: {},\n   replay: false,\n   changed: \"year\",\n   popup_chart_data: null,\n   pop_over: true,\n   pop_over_models: [\"MART\", \"LinearReg\"],\n   clicked_features: [],\n   drag_drop_feautre_data: {},\n   dbclicked_features: [],\n   default_model_scores: {},\n   all_models: [\"MART\", \"RandomFor\", \"LinearReg\", \"CordAscent\", \"LambdaMART\", \"LambdaRank\", \"RankBoost\", \"RankNet\"],\n   average_y: false,\n   average_m: false,\n   clicked_circles:[],\n   threshold:10,\n}\n//---InitialState ends here\nconst reducer = (state = initialState, action) => {\n   if (action.type === \"threshold\") {\n      //console.log(action.value)\n      return { ...state, threshold: action.value }\n   }\n   if (action.type === \"clicked_circles\") {\n      //console.log(action.value)\n      return { ...state, clicked_circles: action.value }\n   }\n   if (action.type === \"average_y\") {\n      console.log(action.value)\n      return { ...state, average_y: action.value }\n   }\n   if (action.type === \"average_m\") {\n      console.log(action.value)\n      return { ...state, average_m: action.value }\n   } \n   if (action.type === \"selected_years\") {\n      console.log(action.value)\n      return { ...state, selected_years: action.value[action.value.length-1],selected_year:action.value[action.value.length-1] }\n   }\n   if (action.type === \"default_model_scores\") {\n      //console.log(action.value)\n      return { ...state, default_model_scores: action.value }\n   }\n   if (action.type === \"dbclicked_features\") {\n      return { ...state, dbclicked_features: action.value }\n   }\n   if (action.type === \"drag_drop_feautre_data\") {\n      return { ...state, drag_drop_feautre_data: action.value }\n   }\n   if (action.type === \"anim_config\") {\n      return { ...state, config: action.value }\n   }\n   if (action.type === \"show\") {\n      return { ...state, show: action.value }\n   }\n   if (action.type === \"lime_data\") {\n      return { ...state, lime_data: action.value }\n   }\n   if (action.type === \"defualt_models\") {\n      return { ...state, defualt_models: action.value }\n   }\n   if (action.type === \"rank_data\") {\n      return { ...state, rank_data: action.value }\n   }\n   if (action.type === \"original_data\") {\n      return { ...state, original_data: action.value }\n   }\n   if (action.type === \"years_for_dropdown\") {\n      return { ...state, years_for_dropdown: action.value }\n   }\n   if (action.type === \"appHandleChange\") {\n      return { ...state, appHandleChange: action.value }\n   }\n   if (action.type === \"state_range\") {\n      return { ...state, state_range: action.value }\n   }\n   if (action.type === \"selected_year\") {\n      return { ...state, selected_year: action.value,selected_years: [action.value.toString()] }\n   }\n   if (action.type === \"tracking\") {\n      return { ...state, tracking: action.value }\n   }\n   if (action.type === \"grouped_by_year_data\") {\n      return { ...state, grouped_by_year_data: action.value }\n   }\n   if (action.type === \"sort_by\") {\n      return { ...state, sort_by: action.value }\n   }\n   if (action.type === \"deviate_by\") {\n      return { ...state, deviate_by: action.value }\n   }\n   if (action.type === \"mode\") {\n      return { ...state, mode: action.value }\n   }\n   if (action.type === \"slider_max\") {\n      return { ...state, slider_max: action.value }\n   }\n   if (action.type === \"range_mode_model\") {\n      return { ...state, range_mode_model: action.value }\n   }\n   //----\n   if (action.type === \"range_mode_range1\") {\n      return { ...state, range_mode_range1: action.value }\n   }\n   if (action.type === \"range_mode_range2\") {\n      return { ...state, range_mode_range2: action.value }\n   }\n   if (action.type === \"time_mode_range\") {\n      return { ...state, time_mode_range: action.value }\n   }\n   if (action.type === \"time_mode_model\") {\n      return { ...state, time_mode_model: action.value }\n   }\n   if (action.type === \"time_mode_year1\") {\n      return { ...state, time_mode_year1: action.value }\n   }\n   if (action.type === \"time_mode_year2\") {\n      return { ...state, time_mode_year2: action.value }\n   }\n   if (action.type === \"clicked_items_in_slopechart\") {\n      return { ...state, clicked_items_in_slopechart: action.value }\n   }\n   if (action.type === \"features_with_score\") {\n      return { ...state, features_with_score: action.value }\n   }\n   if (action.type === \"sparkline_data\") {\n      return { ...state, sparkline_data: action.value }\n   }\n   if (action.type === \"legend_show_option\") {\n      return { ...state, legend_show_option: action.value }\n   }\n   if (action.type === \"legend_model\") {\n      return { ...state, legend_model: action.value }\n   }\n   if (action.type === \"histogram_data\") {\n      return { ...state, histogram_data: action.value }\n   }\n   if (action.type === \"dataset\") {\n      return { ...state, dataset: action.value }\n   }\n   if (action.type === \"slider_and_feature_value\") {\n      return { ...state, slider_and_feature_value: action.value }\n   }\n   if (action.type === \"legend_year\") {\n      return { ...state, legend_year: action.value }\n   }\n   if (action.type === \"prev_prop\") {\n      return { ...state, prev_prop: action.value }\n   }\n   if (action.type === \"replay\") {\n      return { ...state, replay: action.value }\n   }\n   if (action.type === \"changed\") {\n      return { ...state, changed: action.value }\n   }\n   if (action.type === \"popup_chart_data\") {\n      return { ...state, popup_chart_data: action.value }\n   }\n   if (action.type === \"pop_over\") {\n      return { ...state, pop_over: action.value }\n   }\n   if (action.type === \"pop_over_models\") {\n      var temp = action.value.filter(item => item != \"ListNet\")\n      return { ...state, pop_over_models: temp }\n   }\n   if (action.type === \"clicked_features\") {\n      //console.log(action.value)\n      return { ...state, clicked_features: action.value }\n   }\n   return state;\n}\nexport default reducer;","import { createMuiTheme } from '@material-ui/core/styles';\nconst theme = createMuiTheme({      \n  typography: {\n    button: {\n      textTransform: 'none'\n    }\n  }\n});\nexport default theme;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { createStore } from 'redux';\nimport {Provider} from 'react-redux';\nimport reducer from './store/reducer';\nimport theme from './Themes'; \nimport { ThemeProvider } from '@material-ui/styles';\nconst store=createStore(reducer);\nReactDOM.render( <ThemeProvider theme={theme}><Provider store={store}><App /></Provider></ThemeProvider>,document.getElementById('root'));\n\n\n","module.exports = __webpack_public_path__ + \"static/media/chart1_data.d3b20544.csv\";","module.exports = __webpack_public_path__ + \"static/media/chart1_data.cca71c9e.csv\";"],"sourceRoot":""}