(this.webpackJsonp03_2slopechart=this.webpackJsonp03_2slopechart||[]).push([[0],{103:function(e,t,a){e.exports=a.p+"static/media/chart1_data.bbc13ad4.csv"},104:function(e,t,a){e.exports=a.p+"static/media/chart1_data.e95760f9.csv"},121:function(e,t,a){},127:function(e,t,a){},129:function(e,t,a){e.exports=a.p+"static/media/fiscal.977bae2d.csv"},130:function(e,t,a){e.exports=a.p+"static/media/school.2d2c77ef.csv"},131:function(e,t,a){e.exports=a.p+"static/media/house.88979d03.csv"},132:function(e,t,a){e.exports=a.p+"static/media/fiscal_rank.442b3a04.csv"},133:function(e,t,a){e.exports=a.p+"static/media/fiscal_lime.9d697bff.csv"},134:function(e,t,a){e.exports=a.p+"static/media/school_rank.a78bd499.csv"},135:function(e,t,a){e.exports=a.p+"static/media/school_lime.ef16e4c0.csv"},136:function(e,t,a){e.exports=a.p+"static/media/house_rank.e66c7c0d.csv"},137:function(e,t,a){e.exports=a.p+"static/media/house_lime.66415f13.csv"},147:function(e,t,a){e.exports=a.p+"static/media/chart1_data.81e362e3.csv"},209:function(e,t,a){e.exports=a(239)},214:function(e,t,a){},224:function(e,t,a){},225:function(e,t,a){},231:function(e,t,a){},232:function(e,t,a){},233:function(e,t,a){},234:function(e,t,a){},237:function(e,t,a){},239:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(15),o=a.n(i),l=a(17),s=a(18),c=a(44),d=a(19),_=a(20),u=a(129),p=a.n(u),m=a(130),f=a.n(m),g=a(131),h=a.n(g),y=a(132),v=a.n(y),b=a(133),k=a.n(b),x=a(134),w=a.n(x),j=a(135),E=a.n(j),O=a(136),S=a.n(O),C=a(137),N=a.n(C),A=(a(214),a(1));function R(e){var t={},a={};return e.forEach((function(e){t[e["1-qid"]]=[],a[e.State.replace(/ /g,"").replace(/[^\w\s]/gi,"")]=[]})),e.forEach((function(e){var r={year:parseInt(e["1-qid"]),rank:parseInt(e.two_realRank)};a[e.State.replace(/ /g,"").replace(/[^\w\s]/gi,"")].push(r),t[e["1-qid"]].push(e)})),{years:t,sparkline_data:a}}function I(e,t,a,r,n,i){var o={},l={};for(var s in t.map((function(e){var t={},l=n,s=function(e,t,a,r,n){if(!a.length>0)return[];a=a.map((function(e){return e-1}));var i,o,l,s={};if("ListNet"==t)return[];var c=n[t].filter((function(e){if(parseInt(e["1-qid"])==parseInt(r))return e}));o=a.map((function(e){return c[e]})),l=Object.keys(o[0]),o.map((function(e){l.forEach((function(t){s[t]>=0||s[t]<0?s[t]=s[t]+parseFloat(e[t]):s[t]=parseFloat(e[t])}))})),(i=Object.keys(s).map((function(e){return[e,s[e]]}))).sort((function(e,t){return e[1]-t[1]}));var d=i.map((function(e){return e[0].replace("_feature_rank","")}));return d=d.filter((function(e){return"1-qid"!=e&&"model"!=e}))}(0,e,a,r,i);s.length<n&&(l=s.length,n=s.length);for(var c=0;c<n;c++)t[s[c]]=l,l-=1;o[e]=t})),o)for(var c in o[s])l[c]>0?l[c]=l[c]+o[s][c]:l[c]=o[s][c];return l}var M=a(5),B=a(12),z=a(24),L=a(8),T=a(139);function F(e,t,a,r,n,i,o,l,s,c,d,_,u,p,m){var f=A.v("body").selectAll(".tooltip").data([0]).join("div").attr("class","tooltip").style("opacity",0),g=L("#"+e).width()-5,h=L(".deviation_plot_container_div").height();console.log(L(".Group1_container").height(),L(".title_p1").height(),L(".slidergroup1").height(),L(".year_and_model_selector_and_slider_container").height(),"parent_height");var y=r.filter((function(e){return o==e["1-qid"]&&a.includes(parseInt(e.two_realRank))})),v=[];y.map((function(e){n.map((function(t){return v.push(Math.abs(parseInt(e[t])-parseInt(e.two_realRank)))}))}));var b={space_for_state_name:120,fontSize:12,font_dy:-6,sparkline_width:20,font_line_gap:24,line_stroke_width:10,animation_duration:0,container_height:100,my_svg_top_margin:10,myg_top_margin:10};if((k=h/a.length)<15)var k=15;A.v("#"+e).attr("height",k*a);var x=b.line_stroke_width/2,w=T.a.lines().size(5).strokeWidth(2).stroke("#cccccc").background("gray");A.v("#"+e).attr("height",k+y.length*k).call(w).selectAll(".parent_g").data([0]).join("g").attr("class","parent_g").attr("transform","translate(0,13)").selectAll(".items").data(y,(function(e){return e.State})).join((function(e){return e.append("g").attr("class","items").attr("transform",(function(e,t){return"translate("+b.space_for_state_name+","+t*k+")"}))}),(function(e){return e.transition().duration(i.rank_animation).attr("transform",(function(e,t){return"translate("+b.space_for_state_name+","+t*k+")"}))}),(function(e){return e.remove()})).attr("add_state",(function(e){A.v(this).selectAll("text").data([e]).join("text").text((function(t){var a=e.State;return a.length>15&&(a=a.replace("University","U")),a.length>15&&(a=a.substring(0,15)+".."),a+" "+e.two_realRank})).attr("fill",(function(e){return d(e.two_realRank)})).attr("dominant-baseline","hanging").attr("font-size",b.fontSize).attr("x",0).attr("text-anchor","end").attr("dy",b.font_dy)})).attr("add_sparkline",(function(e){"house"!=p&&function(e,t,a,r,n,i,o,l){var s=o,c=0,d=0,_=0,u=4,p=t.sparkline_width-2,m=a-2,f=e.selectAll(".sparkline_svg").data([0]).join("svg").attr("class","sparkline_svg").attr("x",2).attr("y",-3).attr("width",p+u+d).attr("height",m+c+_),g=r[n.State.replace(/ /g,"").replace(/[^a-zA-Z ]/g,"")],h=A.t().domain(A.j(g,(function(e){return e.year}))).range([0,p]);f.selectAll("path").remove(),f.append("path").datum(g,(function(e){return e})).attr("id","A").attr("opacity",1).attr("fill",i(n.two_realRank)).attr("stroke",i(n.two_realRank)).attr("stroke-width",(function(e){return 1.5})).attr("d",A.a().x((function(e){return h(e.year)})).y0((function(){return A.t().domain([0,A.n(g,(function(e){return+e.rank}))]).range([m,0])(0)})).y1((function(e){return A.t().domain([0,A.n(g,(function(e){return+e.rank}))]).range([0,m])(e.rank)}))),f.selectAll("circle").raise().data(g).join("circle").attr("cx",(function(e,t){return h(e.year)})).attr("cy",m-2).attr("class","myid").on("mouseover",(function(e){A.v(this).style("fill","black"),A.v(this).attr("r",3)})).style("fill",(function(e){return e.year!=s?"transparent":"black"})).attr("class",(function(e){return e.year!=s?"transparent_class":"red_class"})).attr("r",2).on("dblclick",(function(e,t){A.i.preventDefault(),l(e.year)})).on("mouseout",(function(e){A.v(this).style("fill","transparent"),A.v(this).style("fill",e.year!=s?"transparent":"black"),A.v(this).attr("r",2)}))}(A.v(this),b,b.line_stroke_width,_,e,d,o,u)})).attr("add_lines_and_circles",(function(e){var a=this,r=y.filter((function(t){return e.two_realRank==parseInt(t.two_realRank)})),o=[];n.map((function(e){r.map((function(t){var a={};a.two_realRank=parseInt(t.two_realRank),a.predicted_rank=parseInt(t[e]),a.model=e,a.year=t["1-qid"],o.push(a)}))}));var l=[];y.map((function(e){n.map((function(t){return l.push(Math.abs(parseInt(e[t])-parseInt(e.two_realRank)))}))}));var _=A.n(l),u=A.t().domain([0,_]).range([b.font_line_gap,g-(b.space_for_state_name+x)]);if(0==_)u=A.t().domain([0,_]).range([b.font_line_gap,0]);A.v(this).selectAll("line").data([e]).join((function(e){return e.append("line").attr("x1",b.font_line_gap).attr("y1",(function(e,t){return k*t})).attr("y2",(function(e,t){return k*t})).attr("stroke-width",b.line_stroke_width).attr("stroke",w.url()).attr("x2",(function(e){var t=[];return o.map((function(e){return t.push(Math.abs(e.predicted_rank-e.two_realRank))})),u(A.n(t))}))}),(function(e){return e.transition().duration(i.deviation_animation).delay(i.rank_animation).attr("x2",(function(e){var t=[];return o.map((function(e){return t.push(Math.abs(e.predicted_rank-e.two_realRank))})),u(A.n(t))}))}));r=y.filter((function(t){return e.two_realRank==parseInt(t.two_realRank)}));var p=[];n.map((function(e){r.map((function(t){var a={};a.two_realRank=parseInt(t.two_realRank),a.predicted_rank=parseInt(t[e]),a.model=e,a.year=t["1-qid"],a.id=t.State.replace(/ /g,"").replace(/[^a-zA-Z ]/g,"")+e.replace(/ /g,"").replace(/[^a-zA-Z ]/g,""),p.push(a)}))})),A.v(this).selectAll(".my_circles").data(p,(function(e){return e.id})).join((function(e){return e.append("circle").attr("id",(function(e){return e.id})).attr("class","my_circles").attr("cx",(function(e,t){return A.v(a).classed(e.id,!0),e.predicted_rank-e.two_realRank==0?u(Math.abs(e.predicted_rank-e.two_realRank))+x:u(Math.abs(e.predicted_rank-e.two_realRank))}))}),(function(e){return e.transition().duration(i.deviation_animation).delay(i.rank_animation).attr("cx",(function(e,t){return A.v(a).classed(e.id,!0),e.predicted_rank-e.two_realRank==0?u(Math.abs(e.predicted_rank-e.two_realRank))+x:u(Math.abs(e.predicted_rank-e.two_realRank))}))})).attr("r",x).attr("fill",(function(e){return d(e.two_realRank)})).attr("parent_id",t).on("click",(function(e){return c(s.includes(e.id)?s.filter((function(t){return t!=e.id})):[].concat(Object(z.a)(s),[e.id]))})).on("mouseover",(function(e){f.transition().duration(200).style("opacity",.9),f.html("Year : "+e.year+"<br></br>Model: "+e.model+"<br></br>Deviation: "+Math.abs(e.predicted_rank-e.two_realRank)).style("left",A.i.pageX-140+"px").style("top",A.i.pageY-98+"px")})).on("mouseout",(function(e){f.transition().duration(500).style("opacity",0)}))}))}function D(e,t,a){0!=t.length?(A.w(".items").attr("opacity",.6),A.w(".my_circles").attr("opacity",.3),t.map((function(e){A.w("."+e).attr("opacity",1),A.w("#"+e).attr("opacity",1)}))):(A.w(".items").attr("opacity",1),A.w(".my_circles").attr("opacity",1))}var H=a(26),U=a(296),Y=a(277),W=a(291),P=a(240),J=(a(121),Object(Y.a)((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},tRoot:{marginBottom:35},rang_input:{marginLeft:10}}})));var q=Object(B.b)((function(e){return{selected_year:e.selected_year,state_range:e.state_range,mode:e.mode,slider_max:e.slider_max,range_mode_model:e.range_mode_model,range_mode_range1:e.range_mode_range1,range_mode_range2:e.range_mode_range2,time_mode_model:e.time_mode_model,time_mode_range:e.time_mode_range,time_mode_year1:e.time_mode_year1,time_mode_year2:e.time_mode_year2,years_for_dropdown:e.years_for_dropdown,dataset:e.dataset,default_models:e.default_models,slider_and_feature_value:e.slider_and_feature_value,sort_by:e.sort_by,grouped_by_year_data:e.grouped_by_year_data}}),(function(e){return{Set_state_range:function(t){return e({type:"state_range",value:t})},Set_changed:function(t){return e({type:"changed",value:t})}}}))((function(e){for(var t,a=J(),r=n.a.useState(e.state_range),i=Object(H.a)(r,2),o=i[0],l=i[1],s=[],c=(e.slider_max-1)/5,d=0;d<6;d++)s.push(1+c*d);var _=s.map((function(e){var t=parseInt(e);return{value:t,label:t}}));return n.a.createElement("div",{className:"Modelslider",style:{height:70,width:"99%",paddingTop:30,border:"2px solid rgb(178, 178, 178,0.5)"}},n.a.createElement("div",{className:"lower",style:{padding:"0px 0px",marginTop:-20}},n.a.createElement(W.a,{classes:{input:a.rang_input},id:"standard-basic",label:"Lower",value:o[0],style:{width:"100%"},onChange:function(e){isNaN(parseInt(e.target.value))?l(["",o[1]]):e.target.value>o[1]?alert("Lower range can not be larger than the upper range"):l([e.target.value,o[1]])}})),n.a.createElement("div",{className:"slider",style:{width:"100%",margin:"0px 0px"}},n.a.createElement(U.a,(t={value:o,onChange:function(e,t){return l(t)},onChangeCommitted:function(t,a){return e.Set_changed("range")},valueLabelDisplay:"auto","aria-labelledby":"range-slider"},Object(M.a)(t,"valueLabelDisplay","on"),Object(M.a)(t,"min",1),Object(M.a)(t,"max",e.slider_max),Object(M.a)(t,"marks",_),t))),n.a.createElement("div",{className:"upper",style:{padding:"0px 0px",marginTop:-20}},n.a.createElement(W.a,{classes:{input:a.rang_input},id:"standard-basic",label:"Upper",value:o[1],style:{width:"100%"},onChange:function(t){isNaN(parseInt(t.target.value))?l([o[0],""]):parseInt(t.target.value)>e.slider_max?(alert("Upper range can not exceed maximum"),l([o[0],e.slider_max])):l([o[0],parseInt(t.target.value)])}})),n.a.createElement("div",{className:"button",item:!0,xs:"2",style:{marginTop:-10}},n.a.createElement(P.a,{className:"range_button",style:{backgroundColor:"#ededed",height:30},onClick:function(){e.Set_state_range(o)}},"Update range")))}));var G=a(150);a(224);var X=function(e){Object(_.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).line_color=null,r.exp=n.a.createRef(),r.mds=n.a.createRef(),r.state={mds_height:110,mouseX:0,mouseY:0,excluded_features:[],sorted_features:null,circle_data:null,indexed_features:null,random:!0},r}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.setState({width:window.innerHeight})}},{key:"shouldComponentUpdate",value:function(e,t){return null==this.state.indexed_features||null==this.state.circle_data||(JSON.stringify(t.excluded_features)!=JSON.stringify(this.state.excluded_features)||JSON.stringify(this.props.state_range)!=JSON.stringify(e.state_range)||this.props.selected_year!=e.selected_year||JSON.stringify(this.props.dragged_features)!=JSON.stringify(e.dragged_features))}},{key:"componentDidUpdate",value:function(e,t){var a=this,r=this;JSON.stringify(t.excluded_features)==JSON.stringify(this.state.excluded_features)&&JSON.stringify(this.props.state_range)==JSON.stringify(e.state_range)&&this.props.selected_year==e.selected_year||(this.setState({indexed_features:null}),this.setState({circle_data:null}),this.props.Set_dragged_features({}));var n=A.r(this.props.state_range[0],this.props.state_range[1]+1);this.props.histogram_data.length>0&&(n=this.props.histogram_data);var i=8+r.state.excluded_features.length,o=I(this.props.dataset,[this.props.model_name],n,this.props.selected_year,i,this.props.rank_data),l=Object.entries(o).sort((function(e,t){return t[1]-e[1]})).map((function(e,t){return e[0]}));console.log(this.props.selected_year,l,"indexed_features"),null==this.state.indexed_features?this.setState({indexed_features:l}):l=Object(z.a)(this.state.indexed_features),Object.entries(this.props.dragged_features).map((function(e){var t=l.indexOf(e[0]),r=t+e[1][1];if(r<0||r>i-1);else{var n=l[t];l[t]=l[r],l[r]=n}JSON.stringify(a.state.indexed_features)!=JSON.stringify(l)&&a.setState({indexed_features:l})}));var s,c,d=l.filter((function(e){return!a.state.excluded_features.includes(e)})).slice(0,i+1).map((function(e,t){return[e,t]})),_=parseInt(L(".explanation_chart_parent").height())-this.state.mds_height-parseInt(L(".title_p").height()),u=parseInt(L("#"+this.props.exp_id).width()),p=(_-10)/d.length-5,m=A.v(this.exp.current).attr("height",_).selectAll(".feature_items").data(d,(function(e){return e[0]})).join((function(e){return e.append("svg").attr("y",(function(e,t){return 5+t*(p+5)}))}),(function(e){return e.transition().duration(2e3).attr("y",(function(e,t){return 5+t*(p+5)}))}),(function(e){return e.remove()}));if(m.attr("class",(function(e){return"feature_items "+e[0]})).attr("myindex",(function(e,t){return t})).attr("feature_name",(function(e){return e[0]})),m.attr("add_title_text_and_rect_for_title_text",(function(e,t){A.v(this).selectAll(".title_rect").data([0]).join("rect").attr("class","title_rect").attr("myindex",t).attr("feature_name",e[0]).attr("width","100%").attr("height",18).attr("fill","#e2e2e2").attr("y",0).attr("x",0),A.v(this).selectAll(".title_text").data([0]).join("text").attr("class","title_text").attr("myindex",t).attr("feature_name",e[0]).attr("x",u/2).text(e[0]).attr("dominant-baseline","hanging").attr("y",2).attr("text-anchor","middle").attr("font-size",12)})),m.attr("add_cross_button",(function(e,t){A.v(this).selectAll(".cross_button").data([0]).join("text").attr("y",7.3).attr("dominant-baseline","middle").attr("myindex",t).attr("feature_name",e[0]).raise().attr("x",u-15).style("cursor","pointer").attr("font-size",12).attr("fill","black").text("\uf410").attr("class","cross_button fa make_cursor").on("click",(function(){A.i.preventDefault(),r.setState({excluded_features:[].concat(Object(z.a)(r.state.excluded_features),[e[0]])})}))})),m.attr("add_rect_for_circle_background_and_handle_clicks",(function(e,t){A.v(this).selectAll(".circ_rect").data([0]).join("rect").attr("class","circ_rect").attr("myindex",t).attr("feature_name",e[0]).attr("width","100%").attr("height",p-18).attr("fill","#f2f2f2").attr("y",18).attr("x",0).on("click",(function(){r.props.clicked_features.includes(e[0])?(r.props.Set_clicked_features(r.props.clicked_features.filter((function(t){return t!=e[0]}))),A.w("."+e[0]).selectAll(".border_rect").remove()):(r.props.Set_clicked_features([].concat(Object(z.a)(r.props.clicked_features),[e[0]])),A.w("."+e[0]).selectAll(".border_rect").data([0]).join("rect").attr("class","border_rect").attr("width","100%").attr("height","100%").style("stroke","black").style("fill","none").style("stroke-width",5))})).on("dblclick",(function(){var t=e[0],a=r.props.selected_year;A.i.preventDefault();var i=Object(z.a)(r.props.dbclicked_features);i.includes(t)||(i.unshift(t),A.w(".rect").classed("exp_chart_clicked",!0)),r.props.set_dbclicked_features(i);var o={};r.props.default_models.filter((function(e){return"ListNet"!=e})).map((function(e){var t=[];t=r.props.histogram_data.length>0?r.props.lime_data[e].filter((function(e){if(parseInt(e["1-qid"])==parseInt(a)&&r.props.histogram_data.includes(parseInt(e.two_realRank)))return e})):r.props.lime_data[e].filter((function(e){return parseInt(e["1-qid"])==parseInt(a)&&n.includes(parseInt(e.two_realRank))})),o[e]=t})),r.props.Set_popup_chart_data([o,t]),r.props.set_pop_over(!0)}))})),m.attr("CreatexpCircle",(function(e,t){!function(e,t,a,r,n,i,o,l,s,c,d,_,u,p){var m=25,f=6,g=6,h=6,y=e[0],v=e[0]+"_contribution",b=[],k=[];if(i.map((function(e){r[e].map((function(t){t["1-qid"]==n&&a.includes(parseInt(t.two_realRank))&&(k.push(parseFloat(t[v])),t.id=t.State.replace(/ /g,"").replace(/[^a-zA-Z ]/g,"")+e.replace(/ /g,"").replace(/[^a-zA-Z ]/g,""),b.push(t))}))})),isNaN(r[i[0]][0][y]))A.s().domain(r[i[0]].map((function(e){return e[y]}))).range([m,_-f]);else A.t().domain([A.p(b.map((function(t){return parseFloat(t[e[0]])}))),A.n(b.map((function(t){return parseFloat(t[e[0]])})))]).range([m,_-f]);var x=A.t().domain([A.p(b.map((function(e){return parseFloat(e[v])}))),A.n(b.map((function(e){return parseFloat(e[v])})))]).range([g,d-h]),w=A.o(k);t.selectAll(".my_mean_line").data([0]).join("line").attr("class","my_mean_line").attr("x1",x(w)).attr("x2",x(w)).attr("y1",18).attr("y2",_).attr("stroke","rgb(96, 96, 96,0.5)").attr("stroke-width",1);var j=A.t().domain(A.j(u)).range([5,2]);function E(e,t,a){var r;if(e=e||0,t=t||1,"number"===typeof a){var n=(a=(9301*a+49297)%233280)/233280,i=Math.abs(Math.sin(a));n=n+i-Math.floor(n+i),r=Math.floor(e+n*(t-e+1))}else r=Math.floor(Math.random()*(t-e+1))+e;return r}t.selectAll(".my_circles").data(b,(function(e){return e.id})).join((function(e){return e.append("circle").attr("id",(function(e){return e.id})).attr("class",(function(e){return"my_circles"})).attr("fill",(function(e){return s(e.two_realRank)})).attr("transform",(function(e,t){return"translate("+x(parseFloat(e[v]))+","+E(m,_-f,t)+")"})).attr("r",(function(e){return j(e.deviation)}))}),(function(e){return e.attr("class",(function(e){return e.id+" items circle2 my_circles"})).transition().duration(c.circle_animation).delay(c.rank_animation+c.deviation_animation+c.feature_animation).attr("transform",(function(e,t){return"translate("+x(parseFloat(e[v]))+","+E(m,_-f,t)+")"})).attr("id",(function(e){return e.id}))}),(function(e){return e.remove()})).attr("myindex",p).attr("feature_name",e[0]).on("click",(function(e){l(o.includes(e.id)?o.filter((function(t){return t!=e.id})):[].concat(Object(z.a)(o),[e.id]))})),0==p?t.selectAll(".avg_text").data(["avg"]).join("text").attr("x",x(w)+5).attr("class","avg_text").attr("myindex",p).attr("y",(_-m-f)/2+m).text("avg").attr("font-size",12).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("transform",(function(e){return"rotate(-90,"+(x(w)+5)+","+((_-m-f)/2+m)+")"})):t.selectAll(".avg_text").remove()}(e,A.v(this),n,r.props.lime_data,r.props.selected_year,[r.props.model_name],r.props.clicked_circles,r.props.Set_clicked_circles,r.props.diverginColor,r.props.anim_config,u,p,r.props.deviation_array,t)})).attr("height",p).attr("width",u),m.attr("check_clicked_features",(function(e){r.props.clicked_features.includes(e[0])&&A.w("."+e[0]).selectAll(".border_rect").data([0]).join("rect").attr("class","border_rect").attr("width","100%").attr("height","100%").style("stroke","black").style("fill","none").style("stroke-width",5)})),m.attr("add_drag_drop",(function(e,t){var a;A.v(this).selectAll(".my_rect").data([0]).join("rect").attr("class","my_rect").attr("myindex",t).attr("feature_name",e[0]).attr("width",u-18).attr("height",18).style("fill","transparent").style("cursor","move").call(A.h().on("start",(function(e,t){A.v(this.parentNode).raise(),a=A.v(this.parentNode).attr("y")-A.i.y})).on("drag",(function(e,t){!0,A.v(this.parentNode).raise(),A.v(this.parentNode).attr("y",A.i.y+a)})).on("end",(function(e,t){var n=parseInt(A.v(this).attr("myindex"));A.v(this.parentNode).lower(),A.v(this.parentNode).attr("y",A.i.y+a);var i=parseInt(A.v(document.elementFromPoint(A.i.sourceEvent.clientX,A.i.sourceEvent.clientY)).attr("myindex"));isNaN(i)&&(alert("Please drop properly!"),i=n);var o=A.v(this).attr("feature_name"),l=A.v(document.elementFromPoint(A.i.sourceEvent.clientX,A.i.sourceEvent.clientY)).attr("feature_name"),s={};s[o]=[l,i-n],console.log(r.state.indexed_features,"indexed features"),r.props.Set_dragged_features(s),A.v(this).raise(),setTimeout((function(){return r.props.Set_dragged_features({})}),5e3)})).container(this.parentNode.parentNode))})),null==this.state.circle_data){var f=this.props.lime_data[this.props.model_name].filter((function(e){return e.year==a.props.selected_year&&n.includes(e.two_realRank)}));(s=this.props.url,c={data:f,weight:o},fetch(s,{method:"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return console.log(e),e})).catch((function(e){return console.error("Error: from Json Handler",e)}))).then((function(e){if("undefined"!=typeof e){var t=JSON.parse(e.response),n=f.map((function(e,a){return e.x=t[a][0],e.y=t[a][1],e.id=e.State.replace(/ /g,"").replace(/[^a-zA-Z ]/g,"")+e.model.replace(/ /g,"").replace(/[^a-zA-Z ]/g,""),e}));a.setState({circle_data:n}),function(e,t,a,r,n){var i=15,o=25,l=L(a).width()-o,s=L(a).height()-2*i,c=A.t().domain(A.j(t.map((function(e){return e.x})))).range([10,l-10]),d=A.t().domain(A.j(t.map((function(e){return e.y})))).range([10,s-10]),_=A.v(e.current).style("border","1px solid #eaeaea"),u=_.selectAll("circle").data(t).join("circle").attr("cx",(function(e){return c(e.x)})).attr("cy",(function(e){return d(e.y)})).attr("r",5).attr("fill",(function(e){return r(e.two_realRank)})).attr("id",(function(e){return e.id})).attr("class","my_circles"),p=G.a().closePathSelect(!0).closePathDistance(100).items(u).targetArea(_).on("start",(function(){p.items().attr("r",5).classed("not_possible",!0).classed("selected",!1)})).on("draw",(function(){p.possibleItems().classed("not_possible",!1).classed("possible",!0),p.notPossibleItems().classed("not_possible",!0).classed("possible",!1)})).on("end",(function(){var e=[];p.selectedItems().each((function(){e.push(A.v(this).attr("id"))})),n(e),p.items().classed("not_possible",!1).classed("possible",!1),p.selectedItems().classed("selected",!0).attr("r",6),p.notSelectedItems().attr("r",5)}));_.call(p)}(a.mds,n,"#mds"+a.props.model_name,r.props.diverginColor,a.props.Set_clicked_circles)}}))}}},{key:"render",value:function(){return n.a.createElement("div",{className:"explanation_chart_parent exp"+this.props.model_name,style:{width:"100%",height:"100%",border:"Model"==this.props.mode?"2px solid #e2e2e2":"none",padding:"2px 5px"}},n.a.createElement("p",{className:"title_p",style:{padding:0,margin:0}},this.props.model_name),n.a.createElement("svg",{ref:this.mds,id:"mds"+this.props.model_name,style:{margin:0,width:"100%",height:this.state.mds_height}}),n.a.createElement("svg",{ref:this.exp,id:this.props.exp_id,style:{marginTop:0,width:"100%"}}))}}]),a}(r.Component),V=Object(B.b)((function(e){var t;return t={deviation_array:e.deviation_array,original_data:e.original_data,time_mode_model:e.time_mode_model,chart_scale_type:e.chart_scale_type,dataset:e.dataset,histogram_data:e.histogram_data,sparkline_data:e.sparkline_data},Object(M.a)(t,"dataset",e.dataset),Object(M.a)(t,"anim_config",e.anim_config),Object(M.a)(t,"show",e.show),Object(M.a)(t,"average_m",e.average_m),Object(M.a)(t,"average_y",e.average_y),Object(M.a)(t,"lime_data",e.lime_data),Object(M.a)(t,"rank_data",e.rank_data),Object(M.a)(t,"clicked_circles",e.clicked_circles),Object(M.a)(t,"clicked_features",e.clicked_features),Object(M.a)(t,"threshold",e.threshold),Object(M.a)(t,"mode",e.mode),Object(M.a)(t,"dbclicked_features",e.dbclicked_features),Object(M.a)(t,"dragged_features",e.dragged_features),Object(M.a)(t,"url",e.url),t}),(function(e){return{Set_dragged_features:function(t){return e({type:"dragged_features",value:t})},Set_clicked_circles:function(t){return e({type:"clicked_circles",value:t})},Set_prev_prop:function(t){return e({type:"prev_prop",value:t})},Set_sparkline_data:function(t){return e({type:"sparkline_data",value:t})},Set_replay:function(t){return e({type:"replay",value:t})},Set_clicked_features:function(t){return e({type:"clicked_features",value:t})},Set_selected_year:function(t){return e({type:"selected_year",value:t})},set_dbclicked_features:function(t){return e({type:"dbclicked_features",value:t})},Set_popup_chart_data:function(t){return e({type:"popup_chart_data",value:t})},set_pop_over:function(t){return e({type:"pop_over",value:t})}}}))(X);a(225);var Z=Object(B.b)((function(e){return{all_models:e.all_models,selected_year:e.selected_year,years_for_dropdown:e.years_for_dropdown,default_models:e.default_models}}),(function(e){return{Set_selected_year:function(t){return e({type:"selected_year",value:t})},Set_default_models:function(t){return e({type:"default_models",value:t})}}}))((function(e){return n.a.createElement("div",{className:"model_topbar",style:{width:"100%",marginBottom:2,display:"flex",justifyContent:"center",margin:0}},n.a.createElement("div",null,n.a.createElement("h5",{style:{display:"inline-block",marginLeft:0,marginRight:3,fontSize:16,fontWeight:600}},"Years: "),e.years_for_dropdown.map((function(t){return n.a.createElement("p",{className:e.selected_year==t?"years_p_selected years_p":"years_p",onClick:function(){return a=t,void e.Set_selected_year(a);var a}},t)}))),n.a.createElement("div",{style:{marginLeft:20}},n.a.createElement("h5",{style:{display:"inline-block",marginLeft:0,marginRight:3,fontSize:16,fontWeight:600}},"Models:"),e.all_models.map((function(t){return n.a.createElement("p",{className:e.default_models.includes(t)?"years_p_selected years_p":"years_p",onClick:function(){return a=t,void(e.default_models.includes(a)?e.Set_default_models(e.default_models.filter((function(e){return e!=a}))):e.Set_default_models([].concat(Object(z.a)(e.default_models),[a])));var a}},t)}))))})),$=a(288),K=function(e){Object(_.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).CreateChart=function(e,t,a){var n=Object(c.a)(r),i=t+"_contribution",o=0,l=30,s=45,d=50,_=50,u=520-d-l,p=250-o-s,m=e.map((function(e){return parseFloat(e[t])})),f=e.map((function(e){return parseFloat(e[i])})),g=A.t().domain([A.p(m),A.n(m)]).range([0,u]).nice(),h=A.t().domain([A.p(f),A.n(f)]).range([p,0]).nice(),y=A.v("#"+n.props.myid).attr("width",u+d+l).attr("height",p+o+s+_),v=y.selectAll(".svg11").data([0]).join("svg").attr("y",_).attr("class","svg11").selectAll(".myg").data([0]).join("g").attr("class","myg").attr("transform","translate("+d+","+o+")"),b=_,k=A.l().value((function(e){return e})).domain(g.domain())(m),x=A.t().range([b,0]);x.domain([0,A.n(k,(function(e){return e.length}))]);var w=y.selectAll(".svg0").data([0]).join("svg").attr("class","svg0").selectAll(".myg0").data([0]).join("g").attr("class","myg0").attr("transform","translate("+d+","+o+")");w.selectAll(".myline").data([0]).join("line").attr("class","myline").attr("x1",0).attr("y1",_).attr("x2",u).attr("y2",_).attr("stroke","#EBEBEB"),w.selectAll("rect").data(k).join("rect").attr("x",1).attr("fill","#b7b7b7").attr("transform",(function(e){return e.x0==e.x1?"translate(0,"+x(e.length)+")":"translate("+g(e.x0)+","+x(e.length)+")"})).attr("width",(function(e){return e.x0==e.x1?u:g(e.x1)-g(e.x0)-.2})).attr("height",(function(e){return b-x(e.length)})),(v=y.selectAll(".svg11").data([0]).join("svg").attr("class","svg11").selectAll(".myg").data([0]).join("g").attr("class","myg").attr("transform","translate("+d+","+o+")")).selectAll(".myline2").data([0]).join("line").attr("class","myline2").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",p).attr("stroke","#EBEBEB");var j=A.u().domain([".","0",".."]).range([p/4,p/2,3*p/4]);v.selectAll(".myYaxis").data([0]).join("g").attr("class","myYaxis").call(A.c(j).tickSize(1*-u).ticks(3).tickValues([",","0",".."]).tickFormat((function(e){return e}))).select(".domain").remove(),v.selectAll(".myYaxis").selectAll("text").remove(),A.w(".svg11").selectAll(".myYtext").data([["++ ve",p/8],["+ ve",3*p/8],["0",p/2],["- ve",5*p/8],["-- ve",7*p/8]]).join("text").attr("class","myYtext").attr("x",45).attr("y",(function(e,t){return e[1]+4})).text((function(e){return e[0]})).attr("font-size",14).attr("text-anchor","end"),A.w(".svg11").attr("add_horizontal_lines",(function(){A.v(this).selectAll(".horiz_line").data([3.85,1.31]).join("line").attr("class","horiz_line").attr("x1",11).attr("x2",50).attr("y1",(function(e){return p/e-2})).attr("y2",(function(e){return p/e-2})).style("stroke","#EBEBEB")})),A.w(".svg11").selectAll(".line0").data([0]).join("line").attr("class","line0").attr("x1",11).attr("x2",35).attr("y1",(function(e){return p/2})).attr("y2",(function(e){return p/2})).style("stroke","#EBEBEB"),A.n(A.n(k))>1e3?v.selectAll(".myXaxis").data([0]).join("g").attr("class","myXaxis").attr("transform","translate(0,"+p+")").call(A.b(g).tickSize(1.3*-p).tickValues(k.map((function(e){return e.x1}))).tickFormat(A.k(".2s"))).select(".domain").remove():v.selectAll(".myXaxis").data([0]).join("g").attr("class","myXaxis").attr("transform","translate(0,"+p+")").call(A.b(g).tickSize(1.3*-p).tickValues(k.map((function(e){return e.x1})))).select(".domain").remove(),v.selectAll(".tick line").attr("stroke","#EBEBEB"),v.selectAll(".scatterplot_g").data(a).join("g").attr("id",(function(e){return e[0]+"scatterplot_g_id"})).attr("class","scatterplot_g").attr("ax",(function(e){m=e[1].map((function(e){return parseFloat(e[t])})),f=e[1].map((function(e){return parseFloat(e[i])})),g=A.t().domain([A.p(m),A.n(m)]).range([0,u]).nice(),h=A.t().domain([A.p(f),A.n(f)]).range([p,0]).nice(),A.v(this).selectAll("circle").data(e[1]).join("circle").attr("cx",(function(e,a){return g(parseFloat(e[t]))<10?10:g(parseFloat(e[t]))>u-10?u-10:g(e[t])+2})).attr("cy",(function(e,t){return h(parseFloat(e[i]))<10?10:h(parseFloat(e[i]))>p-10?p-10:h(parseFloat(e[i]))-0})).attr("actual_Y_valu",(function(e){return e[i]})).attr("r",4).attr("class","random").attr("fill",(function(e){return n.props.diverginColor(e.two_realRank)})).attr("id",(function(e){return"A"+String(e.State).replace(/ +/g,"")})).attr("class",(function(e){return"bar myid"+String(e.two_realRank)+" exp_circles"})).attr("dataset_name",e[0]).on("click",(function(e){}))}));var E=A.v("body").append("div").attr("class","tooltip2").style("opacity",0);A.w(".exp_circles").on("mouseover",(function(e){E.transition().duration(200).style("opacity",.9),E.html("<p>"+e.State+"</p><p>Model: "+A.v(this).attr("dataset_name")+"</p>").style("left",A.i.pageX+"px").style("top",A.i.pageY-28+"px")})).on("mouseout",(function(e){A.w(".tooltip2").transition().duration(500).style("opacity",0)}))},r.CreateChart_cat=function(e,t,a){var n=Object(c.a)(r),i=t+"_contribution",o=0,l=30,s=75,d=50,_=50,u=520-d-l,p=270-o-s,m={};e.map((function(e){m[e[t]]>0?m[e[t]]+=1:m[e[t]]=1}));var f=Object.keys(m),g=Object.values(m),h=A.t().domain([A.p(g),A.n(g)]).range([p,0]).nice(),y=A.s().domain(f).range([0,u]).padding(.1),v=A.v("#"+n.props.myid).attr("width",u+d+l).attr("height",p+o+s+_),b=v.selectAll(".svg11").data([0]).join("svg").attr("y",_).attr("class","svg11").selectAll(".myg").data([0]).join("g").attr("class","myg").attr("transform","translate("+d+","+o+")"),k=_;h=A.t().domain([0,A.n(g)]).range([k,0]).nice();var x=v.selectAll(".svg0").data([0]).join("svg").attr("class","svg0").selectAll(".myg0").data([0]).join("g").attr("class","myg0").attr("transform","translate("+d+","+o+")");x.selectAll(".myline").data([0]).join("line").attr("class","myline").attr("x1",0).attr("y1",_).attr("x2",u).attr("y2",_).attr("stroke","#EBEBEB"),x.selectAll("rect").data(Object.entries(m)).join("rect").attr("x",(function(e){return y(e[0])})).attr("fill","#b7b7b7").attr("width",y.bandwidth()).attr("y",(function(e){return h(e[1])})).attr("height",(function(e){return k-h(e[1])})),(b=v.selectAll(".svg11").data([0]).join("svg").attr("class","svg11").selectAll(".myg").data([0]).join("g").attr("class","myg").attr("transform","translate("+d+","+o+")")).selectAll(".myline2").data([0]).join("line").attr("class","myline2").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",p).attr("stroke","#EBEBEB"),b.selectAll(".myline3").data([0]).join("line").attr("class","myline3").attr("x1",0).attr("y1",p).attr("x2",u).attr("y2",p).attr("stroke","#EBEBEB");var w=A.u().domain([".","0",".."]).range([p/4,p/2,3*p/4]);b.selectAll(".myYaxis").data([0]).join("g").attr("class","myYaxis").call(A.c(w).tickSize(1*-u).ticks(3).tickValues([",","0",".."]).tickFormat((function(e){return e}))).select(".domain").remove(),b.selectAll(".myYaxis").selectAll("text").remove(),A.w(".svg11").selectAll(".myYtext").data([["++ve",p/8],["+ve",3*p/8],["0",p/2],["-ve",5*p/8],["--ve",7*p/8]]).join("text").attr("class","myYtext").attr("x",45).attr("y",(function(e,t){return e[1]+4})).text((function(e){return e[0]})).attr("font-size",14).attr("text-anchor","end"),A.w(".svg11").attr("add_horizontal_lines",(function(){A.v(this).selectAll(".horiz_line").data([3.85,1.31]).join("line").attr("class","horiz_line").attr("x1",11).attr("x2",50).attr("y1",(function(e){return p/e-2})).attr("y2",(function(e){return p/e-2})).style("stroke","#EBEBEB")})),A.w(".svg11").selectAll(".line0").data([0]).join("line").attr("class","line0").attr("x1",11).attr("x2",35).attr("y1",(function(e){return p/2})).attr("y2",(function(e){return p/2})).style("stroke","#EBEBEB"),b.selectAll(".myXaxis").data([0]).join("g").attr("class","myXaxis").attr("transform","translate(0,"+p+")").call(A.b(y).tickSize(1.3*-p)).selectAll("text").style("text-anchor","end").attr("dx","-.8em").attr("dy","0em").attr("transform","rotate(-90)").selectAll(".tick line").remove(),b.selectAll(".domain").remove(),b.selectAll(".tick line").attr("stroke","#EBEBEB"),b.selectAll(".scatterplot_g").data(a).join("g").attr("id",(function(e){return e[0]+"scatterplot_g_id"})).attr("class","scatterplot_g").attr("ax",(function(e){var a=e[1].map((function(e){return parseFloat(e[t+"_contribution"])}));h=A.t().domain([A.p(a),A.n(a)]).range([p,0]).nice(),A.v(this).selectAll("circle").data(e[1]).join("circle").attr("cx",(function(e,a){return y(e[t])+y.bandwidth()/2})).attr("cy",(function(e,t){return h(parseFloat(e[i]))<10?10:h(parseFloat(e[i]))>p-10?p-10:h(parseFloat(e[i]))-0})).attr("actual_Y_valu",(function(e){return e[i]})).attr("r",4).attr("class","random").attr("fill",(function(e){return n.props.diverginColor(e.two_realRank)})).attr("id",(function(e){return"A"+String(e.State).replace(/ +/g,"")})).attr("class",(function(e){return"bar myid"+String(e.two_realRank)+" exp_circles"})).attr("dataset_name",e[0]).on("click",(function(e){}))}));var j=A.v("body").append("div").attr("class","tooltip2").style("opacity",0);A.w(".exp_circles").on("mouseover",(function(e){j.transition().duration(200).style("opacity",.9),j.html("<p>"+e.State+"</p><p>Model: "+A.v(this).attr("dataset_name")+"</p>").style("left",A.i.pageX+"px").style("top",A.i.pageY-28+"px")})).on("mouseout",(function(e){A.w(".tooltip2").transition().duration(500).style("opacity",0)}))},r.state={a:10},r.myid=n.a.createRef(),r}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.setState({a:5})}},{key:"componentDidUpdate",value:function(){var e=this,t={};this.props.default_models.filter((function(e){return"ListNet"!=e})).map((function(a){t[a]=e.props.popup_chart_data[0][a]}));var a=[].concat.apply([],Object.values(t)),r=Object.entries(this.props.popup_chart_data[0]).filter((function(t){return e.props.pop_over_models.includes(t[0])}));a.length>0&&isNaN(a[0][this.props.popup_chart_data[1]])?this.CreateChart_cat(a,this.props.popup_chart_data[1],r):this.CreateChart(a,this.props.popup_chart_data[1],r),this.props.clicked_items_in_slopechart.length>0&&A.w("circle,.datapoint").attr("opacity",this.props.config.reduced_opacity),this.props.clicked_items_in_slopechart.map((function(e){return A.w("#"+e).attr("opacity",1)}))}},{key:"render",value:function(){return n.a.createElement("div",{key:this.props.popup_chart_data[1],style:{margin:10,padding:10,border:0==this.props.index?"3px solid #e5e5e5":"white"}},n.a.createElement("svg",{ref:this.myid,id:this.props.myid}," "),n.a.createElement("p",{style:{color:"#4f4c4c",marginLeft:"42%",marginTop:-25,marginBottom:0}},this.props.popup_chart_data[1]))}}]),a}(r.Component),Q=Object(B.b)((function(e){return{pop_over_models:e.pop_over_models,clicked_items_in_slopechart:e.clicked_items_in_slopechart,config:e.config,mode:e.mode,range_mode_model:e.range_mode_model,time_mode_model:e.time_mode_model}}),(function(e){return{Set_clicked_items_in_slopechart:function(t){return e({type:"clicked_items_in_slopechart",value:t})}}}))(K),ee=a(144),te=a.n(ee),ae=a(149),re=a(285),ne=a(287),ie=a(294),oe=a(286),le=a(59),se=a.n(le);var ce=Object(B.b)((function(e){return{pop_over_models:e.pop_over_models}}),(function(e){return{Set_default_models:function(t){return e({type:"default_models",value:t})},Set_pop_over_models:function(t){return e({type:"pop_over_models",value:t})}}}))((function(e){var t=n.a.useState(null),a=Object(H.a)(t,2),r=a[0],i=a[1],o=Boolean(r),l=n.a.useState([0]),s=Object(H.a)(l,2),c=s[0],d=s[1],_=function(e){return function(){var t=c.indexOf(e),a=Object(z.a)(c);-1===t?a.push(e):a.splice(t,1),d(a)}};return n.a.createElement("div",null,n.a.createElement(P.a,{"aria-controls":"fade-menu","aria-haspopup":"true",onClick:function(e){i(e.currentTarget)}},"Filter Models",n.a.createElement(se.a,null)),n.a.createElement(ae.a,{id:"fade-menu",anchorEl:r,keepMounted:!0,open:o,onClose:function(){i(null)},TransitionComponent:oe.a},n.a.createElement("div",{className:"CheckboxContainer"},n.a.createElement(re.a,null,e.default_models.map((function(t){var a="checkbox-list-label-".concat(t);return n.a.createElement(ne.a,{key:t,role:void 0,onClick:_(t)},n.a.createElement(ie.a,{checked:e.pop_over_models.includes(t),edge:"start",tabIndex:-1,value:t,onChange:function(t,a){!function(t){var a=Object(z.a)(e.pop_over_models).filter((function(e){return"ListNet"!=e}));a.includes(t.target.value)?(a=e.pop_over_models.filter((function(e){return e!=t.target.value})),e.Set_pop_over_models(a)):(a.push(t.target.value),e.Set_pop_over_models(a))}(t)}}),n.a.createElement("p",{className:"list_item_label",id:a},t))}))))))}));var de=Object(B.b)((function(e){return{popup_chart_data:e.popup_chart_data,pop_over:e.pop_over,dbclicked_features:e.dbclicked_features}}),(function(e){return{set_pop_over:function(t){return e({type:"pop_over",value:t})},set_dbclicked_features:function(t){return e({type:"dbclicked_features",value:t})},set_clicked_features:function(t){return e({type:"clicked_features",value:t})}}}))((function(e){return console.log("dbclicked_features:",e.dbclicked_features,"popup_chart_data:",e.popup_chart_data,"clicked_data"),n.a.createElement("div",{className:"pop_over",style:{position:"relative"}},1==e.pop_over?n.a.createElement("div",{style:{top:"2%",left:"14%",position:"fixed",pointerEvents:"none",backgroundColor:"transparent"}},n.a.createElement(te.a,null,n.a.createElement($.a,{style:{backgroundColor:"#ffffff",boxShadow:"3px 2px 15px -7px #000000",pointerEvents:"auto"}},n.a.createElement($.a,{container:!0,style:{borderBottom:"1px solid #e2e2e2",marginBottom:20},direction:"row",justify:"space-between",alignItems:"center"},n.a.createElement(ce,{default_models:e.default_models}),n.a.createElement(P.a,{color:"secondary",id:"draggable-dialog-title",onClick:function(){e.set_pop_over(!1),e.set_dbclicked_features([])}},"close")),n.a.createElement($.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{maxHeight:700,overflow:"scroll",maxWidth:1600}},e.dbclicked_features.length>0?e.dbclicked_features.map((function(t,a){return n.a.createElement(Q,{index:a,popup_chart_data:[e.popup_chart_data[0],t],default_models:e.default_models,myid:t.replace(/\s/g,"").replace(/[`~!@#$%^&*()_|+\-=?;:'",.<>\{\}\[\]\\\/]/gi,""),diverginColor:e.diverginColor,textClickHandler_original:e.textClickHandler_original})})):n.a.createElement(Q,{popup_chart_data:e.popup_chart_data,default_models:e.default_models,myid:"myid1",diverginColor:e.diverginColor,textClickHandler_original:e.textClickHandler_original}))))):null)})),_e=function(e){Object(_.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).line_color=null,r.state={height_slope_exp_chart:700,mouseX:0,mouseY:0},r}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.setState({width:window.innerHeight})}},{key:"shouldComponentUpdate",value:function(e,t){return!0}},{key:"componentDidUpdate",value:function(e,t){var a=A.r(this.props.state_range[0],this.props.state_range[1]+1);this.props.histogram_data.length>0&&(a=this.props.histogram_data);var r=A.p(a),n=(A.n(a)-r)/8,i=A.t().domain([r+7*n,r+6*n,r+5*n,r+4*n,r+3*n,r+2*n,r]).interpolate(A.m).range(["#00429d","#4771b2","#73a2c6","#a5d5d8","#ffbcaf","#f4777f","#cf3759","#93003a"]);F("dev_plot_container_svg","exp",a,this.props.original_data,this.props.default_models,this.props.anim_config,this.props.selected_year,this.props.average_m,this.props.clicked_circles,this.props.Set_clicked_circles,i,this.props.sparkline_data,this.props.Set_selected_year,this.props.dataset,this.props.threshold),D(0,this.props.clicked_circles,this.props.anim_config)}},{key:"render",value:function(){var e=this,t=A.r(this.props.state_range[0],this.props.state_range[1]+1);this.props.histogram_data.length>0&&(t=this.props.histogram_data);var a=A.p(t),r=(A.n(t)-a)/8,i=A.t().domain([a+7*r,a+6*r,a+5*r,a+4*r,a+3*r,a+2*r,a]).interpolate(A.m).range(["#00429d","#4771b2","#73a2c6","#a5d5d8","#ffbcaf","#f4777f","#cf3759","#93003a"]);this.props.Set_selected_instances(t);var o=[];return this.props.default_models.map((function(a){e.props.lime_data[a].map((function(a){a["1-qid"]==e.props.selected_year&&t.includes(parseInt(a.two_realRank))&&o.push(a.deviation)}))})),this.props.Set_deviation_array(o),n.a.createElement($.a,{className:"ModelChartParent",container:!0,direction:"row",justify:"flex-start",alignItems:"center",style:{height:"100%",width:"100%",backgroundColor:"white",margin:2,padding:2,boxShadow:"-2px 1px 4px -1px white"}}," ",n.a.createElement($.a,{item:!0,className:"left_container",style:{width:420,backgroundColor:"#fcfcfc"}},n.a.createElement("div",{className:"year_and_model_selector_and_slider_container"}," ",n.a.createElement(Z,null),n.a.createElement(q,null)),n.a.createElement("div",{class:"deviation_plot_container_div",style:{width:"100%",height:L(".ModelChartParent").height()-L(".year_and_model_selector_and_slider_container").height(),marginBottom:0,overflow:"scroll"}},n.a.createElement("svg",{id:"dev_plot_container_svg",style:{width:"100%",overflow:"hidden"}}))),null!=this.props.rank_data?n.a.createElement($.a,{item:!0,className:"right_container",style:{height:"100%",width:L(".ModelChartParent").width()-L(".left_container").width()}},n.a.createElement($.a,{container:!0,spacing:1,direction:"row",justify:"flex-start",alignItems:"center",style:{width:"100%",height:"100%"}},this.props.default_models.map((function(t){return n.a.createElement($.a,{item:!0,xs:parseInt(12/e.props.default_models.length),style:{height:"100%",overflow:"hidden"}},n.a.createElement(V,{diverginColor:i,exp_id:"exp",default_models:e.props.default_models,state_range:e.props.state_range,selected_year:e.props.selected_year,model_name:t}))})))):null,n.a.createElement(de,{diverginColor:i,default_models:this.props.default_models}))}}]),a}(r.Component),ue=Object(B.b)((function(e){var t;return t={histogram_data:e.histogram_data,state_range:e.state_range,selected_year:e.selected_year,lime_data:e.lime_data,default_models:e.default_models,original_data:e.original_data,dataset:e.dataset,sparkline_data:e.sparkline_data},Object(M.a)(t,"dataset",e.dataset),Object(M.a)(t,"anim_config",e.anim_config),Object(M.a)(t,"average_m",e.average_m),Object(M.a)(t,"rank_data",e.rank_data),Object(M.a)(t,"clicked_circles",e.clicked_circles),Object(M.a)(t,"threshold",e.threshold),t}),(function(e){return{Set_selected_instances:function(t){return e({type:"selected_instances",value:t})},Set_deviation_array:function(t){return e({type:"deviation_array",value:t})},Set_clicked_circles:function(t){return e({type:"clicked_circles",value:t})},Set_selected_year:function(t){return e({type:"selected_year",value:t})}}}))(_e),pe=(a(127),Object(Y.a)((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},tRoot:{marginBottom:35},rang_input:{marginLeft:10}}})));var me=Object(B.b)((function(e){return{slider_max:e.slider_max,range_mode_range1:e.range_mode_range1}}),(function(e){return{Set_range_mode_range1:function(t){return e({type:"range_mode_range1",value:t})},Set_changed:function(t){return e({type:"changed",value:t})}}}))((function(e){for(var t,a=pe(),r=n.a.useState(e.range_mode_range1),i=Object(H.a)(r,2),o=i[0],l=i[1],s=[],c=(e.slider_max-1)/5,d=0;d<6;d++)s.push(1+c*d);var _=s.map((function(e){var t=parseInt(e);return{value:t,label:t}}));return n.a.createElement("div",{className:"Modelslider",style:{height:70,width:"100%",marginBottom:5,padding:30,border:"1px solid rgb(178, 178, 178,0.5)"}},n.a.createElement("div",{className:"lower",style:{padding:"0px 0px",marginTop:-20}},n.a.createElement(W.a,{classes:{input:a.rang_input},id:"standard-basic",label:"Lower",value:o[0],style:{width:"100%"},onChange:function(e){isNaN(parseInt(e.target.value))?l(["",o[1]]):e.target.value>o[1]?alert("Lower range can not be larger than the upper range"):l([e.target.value,o[1]])}})),n.a.createElement("div",{className:"slider",style:{width:"100%",margin:"0px 0px"}},n.a.createElement(U.a,(t={value:o,onChange:function(e,t){return l(t)},onChangeCommitted:function(t,a){return e.Set_changed("range")},valueLabelDisplay:"auto","aria-labelledby":"range-slider"},Object(M.a)(t,"valueLabelDisplay","on"),Object(M.a)(t,"min",1),Object(M.a)(t,"max",e.slider_max),Object(M.a)(t,"marks",_),t))),n.a.createElement("div",{className:"upper",style:{padding:"0px 0px",marginTop:-20}},n.a.createElement(W.a,{classes:{input:a.rang_input},id:"standard-basic",label:"Upper",value:o[1],style:{width:"100%"},onChange:function(t){isNaN(parseInt(t.target.value))?l([o[0],""]):parseInt(t.target.value)>e.slider_max?(alert("Upper range can not exceed maximum"),l([o[0],e.slider_max])):l([o[0],parseInt(t.target.value)])}})),n.a.createElement("div",{className:"button",item:!0,xs:"2",style:{marginTop:-10}},n.a.createElement(P.a,{className:"range_button",style:{backgroundColor:"#ededed",height:30},onClick:function(){e.Set_range_mode_range1(o)}},"Update range")))})),fe=Object(Y.a)((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},tRoot:{marginBottom:35},rang_input:{marginLeft:10}}}));var ge=Object(B.b)((function(e){return{slider_max:e.slider_max,range_mode_range2:e.range_mode_range2}}),(function(e){return{Set_range_mode_range2:function(t){return e({type:"range_mode_range2",value:t})},Set_changed:function(t){return e({type:"changed",value:t})}}}))((function(e){for(var t,a=fe(),r=n.a.useState(e.range_mode_range2),i=Object(H.a)(r,2),o=i[0],l=i[1],s=[],c=(e.slider_max-1)/5,d=0;d<6;d++)s.push(1+c*d);var _=s.map((function(e){var t=parseInt(e);return{value:t,label:t}}));return n.a.createElement("div",{className:"Modelslider",style:{height:70,width:"100%",marginBottom:5,paddingTop:30,paddingLeft:15,border:"1px solid rgb(178, 178, 178,0.5)"}},n.a.createElement("div",{className:"lower",style:{padding:"0px 0px",marginTop:-20}},n.a.createElement(W.a,{classes:{input:a.rang_input},id:"standard-basic",label:"Lower",value:o[0],style:{width:"100%"},onChange:function(e){isNaN(parseInt(e.target.value))?l(["",o[1]]):e.target.value>o[1]?alert("Lower range can not be larger than the upper range"):l([e.target.value,o[1]])}})),n.a.createElement("div",{className:"slider",style:{width:"100%",margin:"0px 0px"}},n.a.createElement(U.a,(t={value:o,onChange:function(e,t){return l(t)},onChangeCommitted:function(t,a){return e.Set_changed("range")},valueLabelDisplay:"auto","aria-labelledby":"range-slider"},Object(M.a)(t,"valueLabelDisplay","on"),Object(M.a)(t,"min",1),Object(M.a)(t,"max",e.slider_max),Object(M.a)(t,"marks",_),t))),n.a.createElement("div",{className:"upper",style:{padding:"0px 0px",marginTop:-20}},n.a.createElement(W.a,{classes:{input:a.rang_input},id:"standard-basic",label:"Upper",value:o[1],style:{width:"100%"},onChange:function(t){isNaN(parseInt(t.target.value))?l([o[0],""]):parseInt(t.target.value)>e.slider_max?(alert("Upper range can not exceed maximum"),l([o[0],e.slider_max])):l([o[0],parseInt(t.target.value)])}})),n.a.createElement("div",{className:"button",item:!0,xs:"2",style:{marginTop:-10}},n.a.createElement(P.a,{className:"range_button",style:{backgroundColor:"#ededed",height:30},onClick:function(){e.Set_range_mode_range2(o)}},"Update range")))}));a(231);var he,ye=Object(B.b)((function(e){return{all_models:e.all_models,selected_year:e.selected_year,years_for_dropdown:e.years_for_dropdown,default_models:e.default_models,range_mode_model:e.range_mode_model}}),(function(e){return{Set_selected_year:function(t){return e({type:"selected_year",value:t})},Set_range_mode_model:function(t){return e({type:"range_mode_model",value:t})}}}))((function(e){return n.a.createElement("div",{className:"range_topbar",style:{width:"100%",marginBottom:2,display:"flex",justifyContent:"center",margin:0}},n.a.createElement("div",null,n.a.createElement("h5",{style:{display:"inline-block",marginLeft:0,marginRight:3,fontSize:16,fontWeight:600}},"Years: "),e.years_for_dropdown.map((function(t){return n.a.createElement("p",{className:e.selected_year==t?"years_p_selected years_p":"years_p",onClick:function(){return a=t,void e.Set_selected_year(a);var a}},t)}))),n.a.createElement("div",{style:{marginLeft:20}},n.a.createElement("h5",{style:{display:"inline-block",marginLeft:0,marginRight:3,fontSize:16,fontWeight:600}},"Models:"),e.all_models.map((function(t){return n.a.createElement("p",{className:e.range_mode_model==t?"years_p_selected years_p":"years_p",onClick:function(){return a=t,e.Set_range_mode_model(a);var a}},t)}))))})),ve=function(e){Object(_.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).line_color=null,r.state={height_slope_exp_chart:700,mouseX:0,mouseY:0},r}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.setState({width:window.innerHeight})}},{key:"shouldComponentUpdate",value:function(e,t){return!0}},{key:"componentDidUpdate",value:function(e,t){var a=A.r(A.p([this.props.range_mode_range1[0],this.props.range_mode_range2[0]]),A.n([this.props.range_mode_range1[1],this.props.range_mode_range2[1]])+1),r=A.p(a),n=(A.n(a)-r)/8,i=A.t().domain([r+7*n,r+6*n,r+5*n,r+4*n,r+3*n,r+2*n,r]).interpolate(A.m).range(["#00429d","#4771b2","#73a2c6","#a5d5d8","#ffbcaf","#f4777f","#cf3759","#93003a"]);F("r1d","r1exp",A.r(this.props.range_mode_range1[0],this.props.range_mode_range1[1]+1),this.props.original_data,[this.props.range_mode_model],this.props.anim_config,this.props.selected_year,this.props.average_m,this.props.clicked_circles,this.props.Set_clicked_circles,i,this.props.sparkline_data,this.props.Set_selected_year,this.props.dataset,this.props.threshold),F("r2d","r2exp",A.r(this.props.range_mode_range2[0],this.props.range_mode_range2[1]+1),this.props.original_data,[this.props.range_mode_model],this.props.anim_config,this.props.selected_year,this.props.average_m,this.props.clicked_circles,this.props.Set_clicked_circles,i,this.props.sparkline_data,this.props.Set_selected_year,this.props.dataset,this.props.threshold),D(0,this.props.clicked_circles,this.props.anim_config)}},{key:"render",value:function(){var e,t=this,a=A.r(A.p([this.props.range_mode_range1[0],this.props.range_mode_range2[0]]),A.n([this.props.range_mode_range1[1],this.props.range_mode_range2[1]])+1),r=A.p(a),i=(A.n(a)-r)/8,o=A.t().domain([r+7*i,r+6*i,r+5*i,r+4*i,r+3*i,r+2*i,r]).interpolate(A.m).range(["#00429d","#4771b2","#73a2c6","#a5d5d8","#ffbcaf","#f4777f","#cf3759","#93003a"]);this.props.Set_selected_instances(a);var l=[];return this.props.lime_data[this.props.range_mode_model].map((function(e){e["1-qid"]==t.props.selected_year&&a.includes(parseInt(e.two_realRank))&&l.push(e.deviation)})),this.props.Set_deviation_array(l),n.a.createElement($.a,(e={key:this.props.mode,className:"RangeChartParent",container:!0,direction:"row",justifyContent:"space-between"},Object(M.a)(e,"className","slope_chart_exp"),Object(M.a)(e,"style",{width:"100%",height:"100%",backgroundColor:"white",padding:"0px 0px",overflow:"hidden"}),e),n.a.createElement("div",{className:"year_and_model_selector_and_slider_container",style:{width:"100%"}}," ",n.a.createElement(ye,null)),n.a.createElement($.a,{className:"Group1_container",style:{height:"100%",width:"49.4%",paddingRight:0,border:"2px solid #eaeaea",overflow:"hidden"},container:!0,item:!0,direction:"column",justifyContent:"space-between"},n.a.createElement("p",{className:"title_p1",style:{margin:0,paddingLeft:"45%",backgroundColor:"rgb(232, 232, 232,0.4)",fontWeight:"bolder",borderBottom:"1px solid #cecece"}},"Group 1"),n.a.createElement($.a,{className:"slidergroup1",item:!0,style:{backgroundColor:"rgb(232, 232, 232,0.4)"}},n.a.createElement(me,null)),n.a.createElement($.a,{className:"dev_plot_and_exp_container",style:{width:"100%",height:L(".Group1_container").height()-(L(".title_p1").height()+L(".slidergroup1").height()+L(".year_and_model_selector_and_slider_container").height()+5)},container:!0,direction:"row",justify:"center",alignItems:"center"},n.a.createElement($.a,{className:"deviation_plot_container_div",item:!0,style:{width:"49%",height:L(".Group1_container").height()-(L(".title_p1").height()+L(".slidergroup1").height()+L(".year_and_model_selector_and_slider_container").height()+5),overflow:"scroll",borderRight:"1px solid #dbdbdb"}},n.a.createElement("svg",{id:"r1d",style:{width:"100%",padding:5}})),null!=this.props.rank_data?n.a.createElement($.a,{className:"explanation_plot_container",item:!0,style:{width:"49%",height:"100%"}},n.a.createElement(V,{diverginColor:o,exp_id:"r1exp",default_models:[this.props.range_mode_model],state_range:this.props.range_mode_range1,selected_year:this.props.selected_year,model_name:this.props.range_mode_model})):null)),n.a.createElement($.a,{className:"Group2_container",style:{height:"100%",width:"49.4%",marginLeft:"0.5%",paddingRight:0,border:"2px solid #eaeaea",overflow:"hidden"},container:!0,item:!0,direction:"column",justifyContent:"space-between"},n.a.createElement("p",{className:"title_p2",style:{margin:0,paddingLeft:"45%",backgroundColor:"rgb(232, 232, 232,0.4)",fontWeight:"bolder",borderBottom:"1px solid #cecece"}},"Group 2"),n.a.createElement($.a,{className:"slidergroup2",item:!0,style:{backgroundColor:"rgb(232, 232, 232,0.4)"}},n.a.createElement(ge,null)),n.a.createElement($.a,{className:"dev_plot_and_exp_container",style:{width:"100%",height:L(".Group2_container").height()-(L(".title_p2").height()+L(".slidergroup2").height()+L(".year_and_model_selector_and_slider_container").height()+5)},container:!0,direction:"row",justify:"center",alignItems:"center"},n.a.createElement($.a,{className:"deviation_plot_container_div",item:!0,style:{width:"49%",height:L(".Group1_container").height()-(L(".title_p2").height()+L(".slidergroup2").height()+L(".year_and_model_selector_and_slider_container").height()+5),overflow:"scroll",borderRight:"1px solid #dbdbdb"}},n.a.createElement("svg",{id:"r2d",style:{width:"100%",padding:5}})),null!=this.props.rank_data?n.a.createElement($.a,{className:"explanation_plot_container",item:!0,style:{width:"49%",height:"100%"}},n.a.createElement(V,{diverginColor:o,exp_id:"r2exp",default_models:[this.props.range_mode_model],state_range:this.props.range_mode_range2,selected_year:this.props.selected_year,model_name:this.props.range_mode_model})):null)),n.a.createElement(de,{diverginColor:o,default_models:[this.props.range_mode_model]}))}}]),a}(r.Component),be=Object(B.b)((function(e){var t;return t={mode:e.mode,range_mode_range1:e.range_mode_range1,range_mode_range2:e.range_mode_range2,range_mode_model:e.range_mode_model,lime_data:e.lime_data,selected_year:e.selected_year,default_models:e.default_models,original_data:e.original_data,dataset:e.dataset,sparkline_data:e.sparkline_data},Object(M.a)(t,"dataset",e.dataset),Object(M.a)(t,"anim_config",e.anim_config),Object(M.a)(t,"average_m",e.average_m),Object(M.a)(t,"rank_data",e.rank_data),Object(M.a)(t,"clicked_circles",e.clicked_circles),Object(M.a)(t,"threshold",e.threshold),Object(M.a)(t,"histogram_data",e.histogram_data),t}),(function(e){return{Set_selected_instances:function(t){return e({type:"selected_instances",value:t})},Set_deviation_array:function(t){return e({type:"deviation_array",value:t})},Set_clicked_circles:function(t){return e({type:"clicked_circles",value:t})},Set_selected_year:function(t){return e({type:"selected_year",value:t})}}}))(ve),ke=(a(232),a(9)),xe=a(292),we=a(148);Object(we.a)({palette:{primary:{main:"#0069d9"},secondary:{main:"#0069d9"}}}),Object(we.a)({overrides:(he={MuiAutocomplete:{root:{}},MuiFilledInput:{root:{backgroundColor:"none"}},MuiInputLabel:{root:{}},MuiTextField:{root:{}},MuiButton:{root:{textTransform:"none",padding:"15px"},fullWidth:{maxWidth:"100%"}}},Object(M.a)(he,"MuiFilledInput",{root:{padding:0,backgroundColor:"yellow"}}),Object(M.a)(he,"MuiAutocomplete",{Root:{padding:0}}),he),props:{MuiButton:{disableRipple:!0,variant:"contained",color:"primary"},MuiCheckbox:{disableRipple:!0},MuiTextField:{variant:"filled",InputLabelProps:{shrink:!0}},MuiPaper:{elevation:12},MuiCard:{elevation:2}}});var je=Object(B.b)((function(e){return{time_mode_year1:e.time_mode_year1,years_for_dropdown:e.years_for_dropdown}}),(function(e){return{Set_time_mode_year1:function(t){return e({type:"time_mode_year1",value:t})}}}))((function(e){return n.a.createElement("div",{className:"year_drop_down_container1"},n.a.createElement("p",{style:{margin:0,marginTop:3,fontSize:16,fontWeight:600}},"Year 1 :"),n.a.createElement(xe.a,{style:{width:100},disableClearable:!0,defaultValue:e.time_mode_year1.toString(),id:"debug",debug:!0,options:e.years_for_dropdown.map((function(e){return e})),renderInput:function(e){return n.a.createElement(W.a,Object.assign({},e,{margin:"normal",fullWidth:!0,InputProps:Object(ke.a)({},e.InputProps,{disableUnderline:!0})}))},onChange:function(t,a){e.Set_time_mode_year1(a)}}))}));var Ee=Object(B.b)((function(e){return{time_mode_year2:e.time_mode_year2,years_for_dropdown:e.years_for_dropdown}}),(function(e){return{Set_time_mode_year2:function(t){return e({type:"time_mode_year2",value:t})}}}))((function(e){return n.a.createElement("div",{className:"year_drop_down_container1"},n.a.createElement("p",{style:{margin:0,marginTop:3,fontSize:16,fontWeight:600}},"Year 2 :"),n.a.createElement(xe.a,{style:{width:100},disableClearable:!0,defaultValue:e.time_mode_year2.toString(),id:"debug",debug:!0,options:e.years_for_dropdown.map((function(e){return e})),renderInput:function(e){return n.a.createElement(W.a,Object.assign({},e,{margin:"normal",fullWidth:!0,InputProps:Object(ke.a)({},e.InputProps,{disableUnderline:!0})}))},onChange:function(t,a){e.Set_time_mode_year2(a)}}))})),Oe=(a(233),a(234),Object(Y.a)((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},tRoot:{marginBottom:35},rang_input:{marginLeft:10}}})));var Se=Object(B.b)((function(e){return{slider_max:e.slider_max,time_mode_range:e.time_mode_range}}),(function(e){return{Set_time_mode_range:function(t){return e({type:"time_mode_range",value:t})},Set_changed:function(t){return e({type:"changed",value:t})}}}))((function(e){for(var t,a=Oe(),r=n.a.useState(e.time_mode_range),i=Object(H.a)(r,2),o=i[0],l=i[1],s=[],c=(e.slider_max-1)/5,d=0;d<6;d++)s.push(1+c*d);var _=s.map((function(e){var t=parseInt(e);return{value:t,label:t}}));return n.a.createElement("div",{className:"YearSlider",style:{height:70,width:"100%",padding:30}},n.a.createElement("div",{className:"lower",style:{padding:"0px 0px",marginTop:-20}},n.a.createElement(W.a,{classes:{input:a.rang_input},id:"standard-basic",label:"Lower",value:o[0],style:{width:"100%"},onChange:function(e){isNaN(parseInt(e.target.value))?l(["",o[1]]):e.target.value>o[1]?alert("Lower range can not be larger than the upper range"):l([e.target.value,o[1]])}})),n.a.createElement("div",{className:"slider",style:{width:"100%",margin:"0px 0px"}},n.a.createElement(U.a,(t={value:o,onChange:function(e,t){return l(t)},onChangeCommitted:function(t,a){return e.Set_changed("range")},valueLabelDisplay:"auto","aria-labelledby":"range-slider"},Object(M.a)(t,"valueLabelDisplay","on"),Object(M.a)(t,"min",1),Object(M.a)(t,"max",e.slider_max),Object(M.a)(t,"marks",_),t))),n.a.createElement("div",{className:"upper",style:{padding:"0px 0px",marginTop:-20}},n.a.createElement(W.a,{classes:{input:a.rang_input},id:"standard-basic",label:"Upper",value:o[1],style:{width:"100%"},onChange:function(t){isNaN(parseInt(t.target.value))?l([o[0],""]):parseInt(t.target.value)>e.slider_max?(alert("Upper range can not exceed maximum"),l([o[0],e.slider_max])):l([o[0],parseInt(t.target.value)])}})),n.a.createElement("div",{className:"button",item:!0,style:{marginTop:-10}},n.a.createElement(P.a,{className:"range_button",style:{backgroundColor:"#ededed",height:30,fontWeight:600,fontSize:18},onClick:function(){e.Set_time_mode_range(o)}},"Update range")))}));var Ce=Object(B.b)((function(e){return{all_models:e.all_models,selected_year:e.selected_year,years_for_dropdown:e.years_for_dropdown,default_models:e.default_models,time_mode_model:e.time_mode_model}}),(function(e){return{Set_selected_year:function(t){return e({type:"selected_year",value:t})},Set_time_mode_model:function(t){return e({type:"time_mode_model",value:t})}}}))((function(e){return n.a.createElement($.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",style:{width:"100%",height:76,padding:3}},n.a.createElement($.a,{item:!0,xs:4,style:{marginTop:5,marginLeft:5,verticalAlign:"baseline"}},n.a.createElement("h5",{style:{display:"inline-block",marginRight:5,marginTop:-4,fontSize:20,fontWeight:600}},"Models:"),e.all_models.map((function(t){return n.a.createElement("p",{className:e.time_mode_model==t?"years_p_selected years_p":"years_p",onClick:function(){return a=t,e.Set_time_mode_model(a);var a}},t)}))),n.a.createElement($.a,{item:!0,xs:6,style:{marginLeft:15,overflow:"scroll"}},n.a.createElement(Se,null)))})),Ne=function(e){Object(_.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).line_color=null,r.state={height_slope_exp_chart:700,mouseX:0,mouseY:0},r}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.setState({width:window.innerHeight})}},{key:"shouldComponentUpdate",value:function(e,t){return!0}},{key:"componentDidUpdate",value:function(e,t){var a=A.r(this.props.time_mode_range[0],this.props.time_mode_range[1]+1),r=A.p(a),n=(A.n(a)-r)/8,i=A.t().domain([r+7*n,r+6*n,r+5*n,r+4*n,r+3*n,r+2*n,r]).interpolate(A.m).range(["#00429d","#4771b2","#73a2c6","#a5d5d8","#ffbcaf","#f4777f","#cf3759","#93003a"]);F("r1d","r1exp",a,this.props.original_data,[this.props.time_mode_model],this.props.anim_config,this.props.time_mode_year1,this.props.average_m,this.props.clicked_circles,this.props.Set_clicked_circles,i,this.props.sparkline_data,this.props.Set_selected_year,this.props.dataset,this.props.threshold),F("r2d","r2exp",a,this.props.original_data,[this.props.time_mode_model],this.props.anim_config,this.props.time_mode_year2,this.props.average_m,this.props.clicked_circles,this.props.Set_clicked_circles,i,this.props.sparkline_data,this.props.Set_selected_year,this.props.dataset,this.props.threshold),D(0,this.props.clicked_circles,this.props.anim_config)}},{key:"render",value:function(){var e,t=A.r(this.props.time_mode_range[0],this.props.time_mode_range[1]+1),a=A.p(t),r=(A.n(t)-a)/8,i=A.t().domain([a+7*r,a+6*r,a+5*r,a+4*r,a+3*r,a+2*r,a]).interpolate(A.m).range(["#00429d","#4771b2","#73a2c6","#a5d5d8","#ffbcaf","#f4777f","#cf3759","#93003a"]);return this.props.Set_selected_instances(t),n.a.createElement($.a,(e={key:this.props.mode,className:"RangeChartParent",container:!0,direction:"row",justifyContent:"space-between",spacing:2},Object(M.a)(e,"className","slope_chart_exp"),Object(M.a)(e,"style",{width:"100%",height:"100%",backgroundColor:"white",padding:"0px 0px",border:"0px solid #eaeaea",overflow:"hidden"}),e),n.a.createElement("div",{className:"year_and_model_selector_and_slider_container",style:{width:"100%"}}," ",n.a.createElement(Ce,null)),n.a.createElement($.a,{className:"Group1_container",xs:6,style:{height:"100%",paddingRight:0,border:"2px solid #eaeaea",overflow:"hidden"},container:!0,item:!0,direction:"column"},n.a.createElement($.a,{className:"slidergroup1",item:!0,style:{width:"100%",height:30,backgroundColor:"rgb(232, 232, 232,0.4)"}},n.a.createElement(je,null)),n.a.createElement($.a,{className:"dev_plot_and_exp_container",style:{width:"100%",height:L(".Group1_container").height()-(L(".title_p1").height()+L(".slidergroup1").height()+L(".year_and_model_selector_and_slider_container").height()+5)},container:!0,direction:"row",justify:"center",alignItems:"center"},n.a.createElement($.a,{className:"deviation_plot_container_div",item:!0,style:{width:"49%",height:L(".Group1_container").height()-(L(".slidergroup1").height()+L(".year_and_model_selector_and_slider_container").height()+5),overflow:"scroll",borderRight:"1px solid #dbdbdb"}},n.a.createElement("svg",{id:"r1d",style:{width:"100%",padding:5}})),null!=this.props.rank_data?n.a.createElement($.a,{className:"explanation_plot_container",item:!0,style:{width:"49%",height:"100%"}},n.a.createElement(V,{diverginColor:i,exp_id:"r1exp",default_models:[this.props.time_mode_model],state_range:this.props.time_mode_range,selected_year:this.props.time_mode_year1,model_name:this.props.time_mode_model})):null)),n.a.createElement($.a,{className:"Group2_container",xs:6,style:{height:"100%",paddingRight:0,border:"2px solid #eaeaea",overflow:"hidden"},container:!0,direction:"column"},n.a.createElement($.a,{className:"slidergroup2",item:!0,style:{width:"100%",backgroundColor:"rgb(232, 232, 232,0.4)"}},n.a.createElement(Ee,null)),n.a.createElement($.a,{className:"dev_plot_and_exp_container",style:{width:"100%",height:L(".Group2_container").height()-(L(".title_p2").height()+L(".slidergroup2").height()+L(".year_and_model_selector_and_slider_container").height()+5)},container:!0,direction:"row",justify:"center",alignItems:"center"},n.a.createElement($.a,{className:"deviation_plot_container_div",item:!0,style:{width:"49%",height:L(".Group1_container").height()-(L(".title_p2").height()+L(".slidergroup2").height()+L(".year_and_model_selector_and_slider_container").height()+5),overflow:"scroll",borderRight:"1px solid #dbdbdb"}},n.a.createElement("svg",{id:"r2d",style:{width:"100%",padding:5}})),null!=this.props.rank_data?n.a.createElement($.a,{className:"explanation_plot_container",item:!0,style:{width:"49%",height:"100%"}},n.a.createElement(V,{diverginColor:i,exp_id:"r2exp",default_models:[this.props.time_mode_model],state_range:this.props.time_mode_range,selected_year:this.props.time_mode_year2,model_name:this.props.time_mode_model})):null)),n.a.createElement(de,{diverginColor:i,default_models:[this.props.time_mode_model]}))}}]),a}(r.Component),Ae=Object(B.b)((function(e){var t;return t={time_mode_year1:e.time_mode_year1,time_mode_year2:e.time_mode_year2,mode:e.mode,time_mode_range:e.time_mode_range,time_mode_model:e.time_mode_model,default_models:e.default_models,original_data:e.original_data,dataset:e.dataset,sparkline_data:e.sparkline_data},Object(M.a)(t,"dataset",e.dataset),Object(M.a)(t,"anim_config",e.anim_config),Object(M.a)(t,"average_m",e.average_m),Object(M.a)(t,"rank_data",e.rank_data),Object(M.a)(t,"clicked_circles",e.clicked_circles),Object(M.a)(t,"threshold",e.threshold),Object(M.a)(t,"histogram_data",e.histogram_data),t}),(function(e){return{Set_selected_instances:function(t){return e({type:"selected_instances",value:t})},Set_clicked_circles:function(t){return e({type:"clicked_circles",value:t})}}}))(Ne),Re=a(295),Ie=a(298),Me=a(281),Be=a(293),ze=a(297),Le=a(282),Te=a(103),Fe=a.n(Te),De=a(104),He=a.n(De),Ue=a(147),Ye=a.n(Ue);a(235);var We=function(e){Object(_.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).store_instances=function(e,t){var a=Object(ke.a)({},r.state.all_instances);a[e]=t,r.setState({all_instances:a})},r.state={feature_data:[]},r}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e,t=this;"fiscal"==this.props.dataset?e=Fe.a:"school"==this.props.dataset?e=He.a:"house"==this.props.dataset&&(e=Ye.a),A.f(e).then((function(e){t.setState({feature_data:e,all_instances:{}})}))}},{key:"shouldComponentUpdate",value:function(e,t){return"undefined"==typeof this.state.all_instances||JSON.stringify(t.all_instances)===JSON.stringify(this.state.all_instances)}},{key:"componentDidUpdate",value:function(){var e=this,t=A.r(this.props.state_range[0],this.props.state_range[1]+1),a=I(this.props.dataset,this.props.default_models,t,this.props.selected_year,9,this.props.rank_data),r=Object.entries(a).sort((function(e,t){return t[1]-e[1]})).map((function(e){return e[0]}));"fiscal"==this.props.dataset?Fe.a:"school"==this.props.dataset&&He.a;A.v(".feature_histograms_container").selectAll(".feature").data(r,(function(e){return e})).join("svg").attr("class","feature").attr("add_histogram",(function(t,a){var n=[];isNaN(e.state.feature_data[0][t])?(e.state.feature_data.forEach((function(a){if(a["1-qid"]==e.props.selected_year){var r={};r.x=parseInt(a.two_realRank),r.y=a[t],n.push(r)}})),function(e,t,a,r,n,i,o){var l=L(".feature_histograms_container").width(),s=(L(".feature_histograms_container").height(),L(".feature_histograms_container").width()),c=10,d=40;A.v(".feature_histograms_container").attr("height",120*n+20),t.attr("y",120*r).attr("width",l).attr("height",120);var _={};e.map((function(e){e.y in _?_[e.y]=_[e.y]+1:_[e.y]=1}));var u=Object.entries(_).sort((function(e,t){return t[1]-e[1]})),p=u.map((function(e){return e[1]})),m=A.x(p);t.selectAll(".item_svg").data(u).join("svg").attr("class","item_svg").attr("x",(function(e,t){return A.x(p.slice(0,t))/m*s})).attr("y",c).attr("width",(function(e,t){return e[1]/m*s-.2})).attr("height",120-d).attr("add_rectangle",(function(t){A.v(this).selectAll(".my_rect").data([0]).join("rect").attr("class","my_rect").attr("width","100%").attr("height",120-d).style("fill","gray").attr("check",(function(){a+t[0]in o&&o[a+t[0]].length>0&&A.v(this).classed("feature_clicked",!0)})).on("click",(function(){A.v(this).classed("feature_clicked")?(A.v(this).classed("feature_clicked",!1),i(a+t[0],[])):(A.v(this).classed("feature_clicked",!0),i(a+t[0],e.filter((function(e){return e.y==t[0]})).map((function(e){return e.x}))))}))})).attr("add_text",(function(e){A.v(this).selectAll("text").data([0]).join("text").text(e[0]).attr("x","50%").attr("y","50%").attr("dominant-baseline","middle").style("font-size",A.v(this).attr("width")>11?10:A.v(this).attr("width")-2).style("writing-mode","tb").style("text-anchor","middle").style("cursor","pointer")})),t.selectAll(".hist_title").data([0]).join("text").attr("class","hist_title").attr("y",110).attr("x",s/2).attr("text-anchor","middle").attr("font-size",14).text(a).style("text-transform","capitalize")}(n,A.v(this),t,a,r.length,e.store_instances,e.state.all_instances)):(e.state.feature_data.forEach((function(a){if(a["1-qid"]==e.props.selected_year){var r={};r.x=parseInt(a.two_realRank),r.y=parseFloat(a[t]),n.push(r)}})),function(e,t,a,r,n,i){var o=10,l=5,s=50,c=5,d=L(".feature_histograms_container").width(),_=d;A.v(".feature_histograms_container").attr("height",120*n+20),t.attr("y",120*r).attr("width",d).attr("height",120);var u=e.map((function(e){return e.y})),p=120-o-s,m=A.t().domain(A.j(u)).range([o,p]),f=m.ticks(25),g=A.l().value((function(e){return e})).domain(m.domain()).thresholds(f)(u),h=[];g.map((function(e,t){return h.push([e.x1,e.length])}));var y=A.t().domain(A.j(h.map((function(e){return e[0]})))).range([c,_-l]),v=A.t().domain([0,A.n(h.map((function(e){return e[1]})))]).range([p,0]),b=A.a().curve(A.g).x((function(e){return y(e[0])})).y0(v(0)).y1((function(e){return v(e[1])}));t.append("path").attr("transform","translate(0,"+o+")").attr("d",b(h)).style("fill","gray"),t.selectAll(".xAxis_g").data([0]).join("g").attr("class","xAxis_g").attr("transform","translate(0,"+(120-s)+")").call(A.b(y).ticks(5).tickFormat(A.k(".2s"))),t.selectAll(".domain").attr("stroke","#dddddd"),t.selectAll(".title").data([0]).join("text").attr("x",_/2).attr("y",92).attr("dominant-baseline","hanging").attr("text-anchor","middle").text(a).attr("font-size",14).style("text-transform","capitalize"),t.call(A.e().extent([[0,o],[400,p+o]]).on("end",(function(){var t=A.i.selection;if(null!=t){var r=y.invert(t[0]),n=y.invert(t[1]),o=e.filter((function(e){return e.y>=r&&e.y<=n})).map((function(e){return e.x}));i(a,o)}else i(a,[])})))}(n,A.v(this),t,a,r.length,e.store_instances))})).attr("id",(function(e){return e}))}},{key:"render",value:function(){var e=this;return null!=this.props.original_data?n.a.createElement("div",{style:{display:"relative",width:400,marginTop:-8}},n.a.createElement(P.a,{fullWidth:!0,style:{margin:0,position:"sticky",top:0,backgroundColor:"gray",borderRadius:0},onClick:function(){var t,a=Object(z.a)(new Set((t=[]).concat.apply(t,Object(z.a)(Object.values(e.state.all_instances))))).filter((function(t){return t>=e.props.state_range[0]&&t<=e.props.state_range[1]}));e.props.handleClose(),0==a.length&&alert("No instance is available withing the selected range!"),e.props.Set_histogram_data(Object(z.a)(a))}}," Update "),n.a.createElement("div",{className:"feature_histograms_container_div",style:{display:"relative",width:400,height:window.innerHeight,overflow:"scroll",marginTop:-8}},n.a.createElement("svg",{className:"feature_histograms_container",style:{width:"100%",padding:10}}," "))):null}}]),a}(r.Component),Pe=Object(B.b)((function(e){return{dataset:e.dataset,deviate_by:e.deviate_by,state_range:e.state_range,default_models:e.default_models,selected_year:e.selected_year,sparkline_data:e.sparkline_data,show:e.show,mode:e.mode,original_data:e.original_data,rank_data:e.rank_data}}),(function(e){return{Set_slider_max:function(t){return e({type:"slider_max",value:t})},Set_state_range:function(t){return e({type:"state_range",value:t})},Set_histogram_data:function(t){return e({type:"histogram_data",value:t})}}}))(We);function Je(){var e=n.a.useState(null),t=Object(H.a)(e,2),a=t[0],r=t[1],i=function(){r(null)};return n.a.createElement("div",{style:{marginTop:-2}},n.a.createElement(P.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){r(e.currentTarget)}},"Select Features",n.a.createElement(se.a,null)),n.a.createElement(ae.a,{id:"simple-menu",anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:i,style:{marginTop:0}},a?n.a.createElement(Pe,{handleClose:i}):null))}var qe=a(289);var Ge,Xe=Object(B.b)((function(e){return{state_range:e.state_range}}),(function(e){return{Set_mode:function(t){return e({type:"mode",value:t})},Set_histogram_data:function(t){return e({type:"histogram_data",value:t})}}}))((function(e){var t=this,a=n.a.useState(null),r=Object(H.a)(a,2),i=r[0],o=r[1],l=function(){o(null)};return n.a.createElement("div",{style:{marginTop:-2}},n.a.createElement(P.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){o(e.currentTarget)}},"Select Mode",n.a.createElement(se.a,null)),n.a.createElement(ae.a,{id:"simple-menu",anchorEl:i,keepMounted:!0,open:Boolean(i),onClose:l,style:{marginTop:0}},i?n.a.createElement("div",{style:{paddingLeft:10}},n.a.createElement("form",{onSubmit:function(){return t.buttonclickHandler(1,"form")}},n.a.createElement(Me.a,{component:"fieldset"},n.a.createElement(Le.a,{component:"legend"}),n.a.createElement(ze.a,{"aria-label":"gender",name:"gender1",onChange:function(t,a){l(),e.Set_histogram_data([]),e.Set_mode(a)}},["Model","Ranges","Time"].map((function(e){return n.a.createElement(Ie.a,{value:e,control:n.a.createElement(Be.a,null),label:e})})))))):null))})),Ve=function(e){Object(_.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).buttonclickHandler=function(e,t){setTimeout((function(){r.setState({random:Math.random()})}),500),r.props.Set_view_data(e),r.setState({view_data:e})},r.state={random:10,original_data:null,grouped_by_year_data:null,show:["Slope charts","Rankings","Explanation"],view_data:1,histogram_data:[],ref_year:null,features_dict:{},features_voted:null,Legend_ready_to_vis:null,legend_model:"CordAscent"},r}return Object(s.a)(a,[{key:"shouldComponentUpdate",value:function(){return!0}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement($.a,{container:!0},n.a.createElement(qe.a,{"aria-label":"outlined button group",style:{marginRight:150,border:"none"}},n.a.createElement(P.a,{style:{borderRadius:0,border:"none",borderRight:"1px solid #bfbfbf"},onClick:function(){return e.buttonclickHandler(1,"button")}},"View Data"),n.a.createElement(P.a,{style:{borderRadius:0,border:"none",borderRight:"1px solid #bfbfbf"},onClick:function(){return e.buttonclickHandler(0,"button")}},"Load Data")),"Model"==this.props.mode?n.a.createElement(Je,null):null,n.a.createElement(Xe,null)),0==this.props.view_data?n.a.createElement(Re.a,{className:"Topbar_container"},n.a.createElement("div",{className:"load"},n.a.createElement("form",{onSubmit:function(){return e.buttonclickHandler(1,"form")}},n.a.createElement(Me.a,{component:"fieldset"},n.a.createElement(Le.a,{component:"legend"}),n.a.createElement(ze.a,{"aria-label":"gender",name:"gender1",onChange:function(t,a){return e.props.handleradioChange(a)}},["Fiscal Dataset","School Dataset","House Dataset"].map((function(e){return n.a.createElement(Ie.a,{value:e,control:n.a.createElement(Be.a,null),label:e})}))),n.a.createElement(P.a,{type:"submit",variant:"outlined",color:"primary"},"Load"))))):null)}}]),a}(r.Component),Ze=Object(B.b)((function(e){return{view_data:e.view_data,mode:e.mode}}),(function(e){return{Set_view_data:function(t){return e({type:"view_data",value:t})}}}))(Ve),$e=function(e){Object(_.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).line_color=null,r.state={height_slope_exp_chart:700,mouseX:0,mouseY:0},r}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.setState({width:window.innerHeight})}},{key:"componentDidUpdate",value:function(e,t){A.v("#dataviz_brushing").append("svg").append("circle").attr("cx",200).attr("cy",200).attr("r",40).attr("fill","#69a3b2");A.v("#dataviz_brushing").call(A.d().extent([[0,0],[400,400]]))}},{key:"render",value:function(){return n.a.createElement("div",{style:{width:window.innerWidth,height:window.innerHeight}},n.a.createElement("svg",{style:{width:400,height:400},id:"dataviz_brushing"}))}}]),a}(r.Component),Ke=(Object(B.b)((function(e){return{state_range:e.state_range,selected_year:e.selected_year}}),(function(e){return{Set_clicked_features:function(t){return e({type:"clicked_features",value:t})},Set_selected_year:function(t){return e({type:"selected_year",value:t})}}}))($e),a(237),function(e){Object(_.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).state={},r}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.setState({rand:10})}},{key:"componentDidUpdate",value:function(){var e=L(".legend_container").width(),t=L(".legend_container").height(),a=A.t().domain(A.j(this.props.deviation_array)).range([5,2]),r=A.t().domain(A.j(this.props.deviation_array)).range([5,95]),n=r.ticks(4),i=A.v("#legend1").attr("width",e).attr("height",100);i.selectAll(".legend1_circles").data(n).join("circle").attr("class","legend1_circles").attr("cx",10).attr("cy",(function(e){return r(e)})).attr("r",(function(e){return a(e)})).attr("fill","grey"),i.selectAll(".legend1_text").data(n).join("text").attr("class","legend1_text").attr("x",20).attr("y",(function(e){return r(e)})).text((function(e){return e})).attr("dominant-baseline","middle").attr("font-size",10);var o=A.p(this.props.selected_instances),l=A.n(this.props.selected_instances),s=(l-o)/8,c=A.t().domain([o+7*s,o+6*s,o+5*s,o+4*s,o+3*s,o+2*s,o]).interpolate(A.m).range(["#00429d","#4771b2","#73a2c6","#a5d5d8","#ffbcaf","#f4777f","#cf3759","#93003a"]),d=t/2-50,_=d-50,u=A.t().domain([o,l]).range([22,_-15]),p=A.r(o,l+1,l/10),m=(_-30)/p.length,f=A.v("#legend2").attr("width",e).attr("height",d);f.selectAll(".legend2_rects").data(p).join("rect").attr("class","legend2_rects").attr("x",10).attr("y",(function(e,t){return u(e)})).attr("width",8).attr("height",m).attr("fill",(function(e){return c(e)})),f.selectAll(".High").data(["High"]).join("text").attr("x",0).attr("class","High").attr("dominant-baseline","hanging").attr("y",0).text("High").attr("font-size",12),f.selectAll(".Low").data(["Low"]).join("text").attr("x",0).attr("class","Low").attr("dominant-baseline","hanging").attr("y",_).text("Low").attr("font-size",12),f.selectAll(".legend2_labels").data([o,l/2,l]).join("text").attr("x",20).attr("class","legend2_labels").attr("dominant-baseline","middle").attr("y",(function(e,t){return 0==t?u(e)+m/2:u(e)})).text((function(e){return e})).attr("font-size",12)}},{key:"render",value:function(){return n.a.createElement("div",{className:"legend_container",style:{height:"100%",width:"100%"}},n.a.createElement("div",null,n.a.createElement("div",{item:!0,style:{backgroundColor:"rgb(211, 211, 211,0.5)",padding:5,marginBottom:5}},n.a.createElement("p",{className:"title",style:{marginBottom:10}}," Model Precision"),n.a.createElement("svg",{id:"legend1"}," ")),n.a.createElement("div",{item:!0,style:{backgroundColor:"rgb(211, 211, 211,0.5)",padding:5}},n.a.createElement("p",{className:"title",style:{marginBottom:10}}," Rank Range"),n.a.createElement("svg",{id:"legend2"}," "))))}}]),a}(r.Component)),Qe=Object(B.b)((function(e){return{selected_instances:e.selected_instances,deviation_array:e.deviation_array}}),(function(e){return{Set_legend_year:function(t){return e({type:"legend_year",value:t})}}}))(Ke),et=function(e){Object(_.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).dataprocessor=function(e){"school"==e&&r.process_data(f.a,w.a,E.a,e),"fiscal"==e&&r.process_data(p.a,v.a,k.a,e),"house"==e&&r.process_data(h.a,S.a,N.a,e)},r.process_data=function(e,t,a,n){var i=Object(c.a)(r);A.f(e).then((function(e){var t=R(e).years,a=R(e).sparkline_data,r=Object.keys(t);i.props.Set_sparkline_data(a),i.props.Set_slider_max(t[r[0]].length),i.setState({years_for_dropdown:r}),i.props.Set_years_for_dropdown(r),i.props.Set_time_mode_year1(r[0]),i.props.Set_time_mode_year2(r[1]),i.props.Set_legend_year(r[0]),i.setState({ref_year:r[0]}),i.props.Set_grouped_by_year_data(t),i.setState({grouped_by_year_data:t}),i.setState({original_data:e}),i.props.Set_original_data(e),i.props.Set_selected_year(r[0])})),A.f(t).then((function(e){var t={};A.q().key((function(e){return e.model})).entries(e).map((function(e){t[e.key]=e.values})),i.props.Set_rank_data(t)})),A.f(a).then((function(e){var t=e.map((function(e){return e.predicted=parseInt(e.predicted),e.two_realRank=parseInt(e.two_realRank),e.deviation=Math.abs(e.predicted-e.two_realRank),e})),a={};A.q().key((function(e){return e.model})).entries(t).map((function(e){a[e.key]=e.values})),i.props.Set_lime_data(a)}))},r.handleradioChange=function(e){r.props.Set_rank_data(null),r.props.Set_clicked_items_in_slopechart([]),r.props.Set_state_range([1,25]),r.props.Set_histogram_data([]),r.props.Set_mode("Model"),r.props.Set_range_mode_range1([1,25]),r.props.Set_range_mode_range2([15,40]),r.props.Set_time_mode_range([5,35]),"Fiscal Dataset"==e?(r.setState({dataset:"fiscal"}),r.props.Set_dataset("fiscal"),r.dataprocessor("fiscal")):"House Dataset"==e?(r.setState({dataset:"house"}),r.props.Set_dataset("house"),r.dataprocessor("house")):(r.setState({dataset:"school"}),r.props.Set_dataset("school"),r.dataprocessor("school"))},r.state={random:10,original_data:null,grouped_by_year_data:null,show:["Slope charts","Rankings","Explanation"],view_data:1,histogram_data:[],ref_year:null,features_dict:{},features_voted:null,Legend_ready_to_vis:null,legend_model:"CordAscent"},r}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.dataprocessor(this.props.dataset)}},{key:"render",value:function(){return n.a.createElement("div",{className:"root_container",style:{height:window.innerHeight,width:window.innerWidth,overflow:"hidden"}},n.a.createElement("div",{className:"topBar_root",style:{height:30,width:window.innerWidth}},n.a.createElement(Ze,{handleradioChange:this.handleradioChange})),this.props.view_data?n.a.createElement(Re.a,null,n.a.createElement("div",{style:{width:window.innerWidth,height:window.innerHeight-L(".topBar_root").height(),padding:"2px 0px"},key:this.props.view_data},1==this.state.view_data?n.a.createElement($.a,{className:"charts_and_legend_container",style:{height:"100%",width:"100%",border:"2px solid grey",overflow:"hidden"},container:!0,direction:"row",justify:"flex-start",alignItems:"center"},n.a.createElement($.a,{className:"charts_container",style:{height:"100%",width:L(".charts_and_legend_container").width()-70},container:!0,spacing:0,direction:"row",justify:"space-evenly"},"Model"==this.props.mode&&null!=this.state.grouped_by_year_data&&null!=this.props.original_data&&null!=this.props.lime_data?n.a.createElement(ue,null):null,"Ranges"==this.props.mode&&null!=this.state.grouped_by_year_data&&null!=this.props.original_data&&null!=this.props.lime_data?n.a.createElement(be,null):null,"Time"==this.props.mode&&null!=this.state.grouped_by_year_data&&null!=this.props.original_data&&null!=this.props.lime_data?n.a.createElement(Ae,null):null),n.a.createElement("div",{style:{padding:0,marginTop:5,height:"100%",width:70}},n.a.createElement(Qe,{legend_width:70}))):null)):null)}}]),a}(r.Component),tt=Object(B.b)((function(e){return{tracking:e.tracking,state_range:e.state_range,deviate_by:e.deviate_by,default_models:e.default_models,sparkline_data:e.sparkline_data,selected_year:e.selected_year,mode:e.mode,range_mode_model:e.range_mode_model,original_data:e.original_data,time_mode_model:e.time_mode_model,chart_scale_type:e.chart_scale_type,dataset:e.dataset,histogram_data:e.histogram_data,sort_by:e.sort_by,time_mode_year1:e.time_mode_year1,time_mode_year2:e.time_mode_year2,popup_chart_data:e.popup_chart_data,clicked_items_in_slopechart:e.clicked_items_in_slopechart,config:e.config,lime_data:e.lime_data,view_data:e.view_data}}),(function(e){return{Set_dataset:function(t){return e({type:"dataset",value:t})},Set_default_models:function(t){return e({type:"default_models",value:t})},Set_sparkline_data:function(t){return e({type:"sparkline_data",value:t})},Set_slider_max:function(t){return e({type:"slider_max",value:t})},Set_years_for_dropdown:function(t){return e({type:"years_for_dropdown",value:t})},Set_selected_year:function(t){return e({type:"selected_year",value:parseInt(t)})},Set_ref_year:function(t){return e({type:"ref_year",value:t})},Set_original_data:function(t){return e({type:"original_data",value:t})},Set_grouped_by_year_data:function(t){return e({type:"grouped_by_year_data",value:t})},Set_slider_and_feature_value:function(t){return e({type:"slider_and_feature_value",value:t})},Set_clicked_items_in_slopechart:function(t){return e({type:"clicked_items_in_slopechart",value:t})},Set_histogram_data:function(t){return e({type:"histogram_data",value:t})},Set_state_range:function(t){return e({type:"state_range",value:t})},Set_legend_year:function(t){return e({type:"legend_year",value:t})},Set_mode:function(t){return e({type:"mode",value:t})},Set_range_mode_range1:function(t){return e({type:"range_mode_range1",value:t})},Set_range_mode_range2:function(t){return e({type:"range_mode_range2",value:t})},Set_time_mode_range:function(t){return e({type:"time_mode_range",value:t})},Set_time_mode_year1:function(t){return e({type:"time_mode_year1",value:t})},Set_time_mode_year2:function(t){return e({type:"time_mode_year2",value:t})},Set_rank_data:function(t){return e({type:"rank_data",value:t})},Set_lime_data:function(t){return e({type:"lime_data",value:t})},Set_pop_over_models:function(t){return e({type:"pop_over_models",value:t})},Set_default_model_scores:function(t){return e({type:"default_model_scores",value:t})}}}))(et),at=(a(238),a(80)),rt=(Ge={anim_config:{rank_animation:3e3,deviation_animation:3e3,feature_animation:3e3,circle_animation:3e3},appHandleChange:null,sparkline_data:null,sort_by:"Average Precision",original_data:null,rank_data:null,lime_data:null,grouped_by_year_data:null,slope_chart_ready_to_vis:null,default_models:["LinearReg","CordAscent"],state_range:[1,30],deviate_by:0,show:["Slope charts","Rankings","Explanation"],years_for_dropdown:["2006"],selected_year:2006,slider_min:1,slider_max:50,view_data:1,dataset:"school",histogram_data:[],chart_scale_type:"true",features_with_score:null,ref_year:null,cmodel:"CordAscent",clicked_items_in_slopechart:[],tracking:!1,dummy:null,features_dict:{},features_voted:null,Legend_ready_to_vis:null,legend_model:"CordAscent",legend_show_option:"Rank",legend_year:2012,mode:"Model",range_mode_model:"CordAscent",range_mode_range1:[1,25],range_mode_range2:[15,40],time_mode_model:"CordAscent",time_mode_year1:"Null",time_mode_year2:"Null",time_mode_range:[6,32]},Object(M.a)(Ge,"chart_scale_type","true"),Object(M.a)(Ge,"slider_and_feature_value",{"Rank range":1,Feature:1}),Object(M.a)(Ge,"prev_prop",{}),Object(M.a)(Ge,"replay",!1),Object(M.a)(Ge,"changed","year"),Object(M.a)(Ge,"popup_chart_data",null),Object(M.a)(Ge,"pop_over",!1),Object(M.a)(Ge,"pop_over_models",["LinearReg","CordAscent"]),Object(M.a)(Ge,"clicked_features",[]),Object(M.a)(Ge,"drag_drop_feautre_data",{}),Object(M.a)(Ge,"dbclicked_features",[]),Object(M.a)(Ge,"default_model_scores",{}),Object(M.a)(Ge,"all_models",["MART","RandomFor","LinearReg","CordAscent","LambdaMART","LambdaRank","RankBoost","RankNet"]),Object(M.a)(Ge,"average_y",!1),Object(M.a)(Ge,"average_m",!1),Object(M.a)(Ge,"clicked_circles",[]),Object(M.a)(Ge,"threshold",1e3),Object(M.a)(Ge,"deviation_array",[]),Object(M.a)(Ge,"selected_instances",[]),Object(M.a)(Ge,"dragged_features",{}),Object(M.a)(Ge,"url","http://privacyprofiling.njitvis.com:5000/api/v2/rieval_mds"),Ge),nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,t=arguments.length>1?arguments[1]:void 0;if("dragged_features"===t.type)return console.log("dragged_features",t.value),Object(ke.a)({},e,{dragged_features:t.value});if("selected_instances"===t.type)return console.log("selected_instances",t.value),Object(ke.a)({},e,{selected_instances:t.value});if("deviation_array"===t.type)return Object(ke.a)({},e,{deviation_array:t.value});if("view_data"===t.type)return Object(ke.a)({},e,{view_data:t.value});if("threshold"===t.type)return Object(ke.a)({},e,{threshold:t.value});if("clicked_circles"===t.type)return Object(ke.a)({},e,{clicked_circles:t.value});if("average_y"===t.type)return Object(ke.a)({},e,{average_y:t.value});if("average_m"===t.type)return Object(ke.a)({},e,{average_m:t.value});if("default_model_scores"===t.type)return Object(ke.a)({},e,{default_model_scores:t.value});if("dbclicked_features"===t.type)return Object(ke.a)({},e,{dbclicked_features:t.value});if("drag_drop_feautre_data"===t.type)return Object(ke.a)({},e,{drag_drop_feautre_data:t.value});if("anim_config"===t.type)return Object(ke.a)({},e,{config:t.value});if("show"===t.type)return Object(ke.a)({},e,{show:t.value});if("lime_data"===t.type)return Object(ke.a)({},e,{lime_data:t.value});if("default_models"===t.type)return Object(ke.a)({},e,{pop_over_models:t.value,default_models:t.value});if("rank_data"===t.type)return Object(ke.a)({},e,{rank_data:t.value});if("original_data"===t.type)return Object(ke.a)({},e,{original_data:t.value});if("years_for_dropdown"===t.type)return Object(ke.a)({},e,{years_for_dropdown:t.value});if("appHandleChange"===t.type)return Object(ke.a)({},e,{appHandleChange:t.value});if("state_range"===t.type)return Object(ke.a)({},e,{state_range:t.value});if("selected_year"===t.type)return Object(ke.a)({},e,{selected_year:t.value});if("tracking"===t.type)return Object(ke.a)({},e,{tracking:t.value});if("grouped_by_year_data"===t.type)return Object(ke.a)({},e,{grouped_by_year_data:t.value});if("sort_by"===t.type)return Object(ke.a)({},e,{sort_by:t.value});if("deviate_by"===t.type)return Object(ke.a)({},e,{deviate_by:t.value});if("mode"===t.type)return Object(ke.a)({},e,{mode:t.value});if("slider_max"===t.type)return Object(ke.a)({},e,{slider_max:t.value});if("range_mode_model"===t.type)return Object(ke.a)({},e,{pop_over_models:[t.value],range_mode_model:t.value});if("range_mode_range1"===t.type)return console.log(t.value),Object(ke.a)({},e,{range_mode_range1:t.value});if("range_mode_range2"===t.type)return console.log(t.value),Object(ke.a)({},e,{range_mode_range2:t.value});if("time_mode_range"===t.type)return Object(ke.a)({},e,{time_mode_range:t.value});if("time_mode_model"===t.type)return Object(ke.a)({},e,{pop_over_models:[t.value],time_mode_model:t.value});if("time_mode_year1"===t.type)return Object(ke.a)({},e,{time_mode_year1:t.value});if("time_mode_year2"===t.type)return Object(ke.a)({},e,{time_mode_year2:t.value});if("clicked_items_in_slopechart"===t.type)return Object(ke.a)({},e,{clicked_items_in_slopechart:t.value});if("features_with_score"===t.type)return Object(ke.a)({},e,{features_with_score:t.value});if("sparkline_data"===t.type)return Object(ke.a)({},e,{sparkline_data:t.value});if("legend_show_option"===t.type)return Object(ke.a)({},e,{legend_show_option:t.value});if("legend_model"===t.type)return Object(ke.a)({},e,{legend_model:t.value});if("histogram_data"===t.type)return Object(ke.a)({},e,{histogram_data:t.value});if("dataset"===t.type)return Object(ke.a)({},e,{dataset:t.value});if("slider_and_feature_value"===t.type)return Object(ke.a)({},e,{slider_and_feature_value:t.value});if("legend_year"===t.type)return Object(ke.a)({},e,{legend_year:t.value});if("prev_prop"===t.type)return Object(ke.a)({},e,{prev_prop:t.value});if("replay"===t.type)return Object(ke.a)({},e,{replay:t.value});if("changed"===t.type)return Object(ke.a)({},e,{changed:t.value});if("popup_chart_data"===t.type)return Object(ke.a)({},e,{popup_chart_data:t.value});if("pop_over"===t.type)return Object(ke.a)({},e,{pop_over:t.value});if("pop_over_models"===t.type){var a=t.value.filter((function(e){return"ListNet"!=e}));return Object(ke.a)({},e,{pop_over_models:a})}return"clicked_features"===t.type?Object(ke.a)({},e,{clicked_features:t.value}):e},it=Object(we.a)({spacing:3,typography:{button:{textTransform:"none"}},overrides:{MuiGrid:{root:{margin:0,padding:0}}}}),ot=a(290),lt=Object(at.b)(nt);o.a.render(n.a.createElement(ot.a,{theme:it},n.a.createElement(B.a,{store:lt},n.a.createElement(tt,null))),document.getElementById("root"))}},[[209,1,2]]]);
//# sourceMappingURL=main.b6b0f474.chunk.js.map