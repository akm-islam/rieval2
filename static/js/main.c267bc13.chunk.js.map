{"version":3,"sources":["Data/fiscal.csv","Data/school.csv","Data/house.csv","Data/data/fiscal/lime/fiscal_rank.csv","Data/data/fiscal/lime/fiscal_lime.csv","Data/data/school/lime/school_rank.csv","Data/data/school/lime/school_lime.csv","Data/data/house/lime/house_rank.csv","Data/data/house/lime/house_lime.csv","Data/data/house/lime/chart1_data.csv","Algorithms/algo1.js","components/Slopecharts/Legend.js","components/Slopecharts/Model/SlopeChart.js","components/Slopecharts/Model/slopechart1.js","components/Slopecharts/Range/sparkline1.js","components/Slopecharts/Range/sparkline2.js","components/Slopecharts/Exp_Chart/Chart2.js","components/Slopecharts/Exp_Chart/Popover/chart_pop.js","components/Slopecharts/Exp_Chart/Popover/FilterModel.js","components/Slopecharts/Exp_Chart/Popover/Popover.js","components/Slopecharts/Range/RangeChart.js","components/Slopecharts/Range/slopechart1.js","components/Slopecharts/Time/sparkline1.js","components/Slopecharts/Time/sparkline2.js","components/Slopecharts/Time/YearChart.js","components/Slopecharts/Time/slopechart1.js","components/TopBar/DefaultModels.js","components/TopBar/Sort.js","components/TopBar/TopBar.js","components/Sidebar/Histogram.js","components/Sidebar/Histograms.js","components/Sidebar/Tracking.js","components/Sidebar/Modes.js","components/Sidebar/Sidebar.js","components/Slopecharts/Replay.js","App.js","store/reducer.js","Themes.js","index.js","Data/data/fiscal/lime/chart1_data.csv","Data/data/school/lime/chart1_data.csv"],"names":["module","exports","groupby_year","original_data","years","sparkline_data","forEach","element","replace","temp_dict","year","parseInt","rank","push","sort","type","state_range","default_models","selected_year","grouped_by_year_data","nDCG_dict","i","Object","keys","key","parseFloat","items","map","substring","first","second","temp_ndcg","length","includes","temp1","myitem","console","log","mydict","model","temp","Math","sqrt","temp_ap","features_with_score","dataset","models","number_of_charts","rank_data","temp_final","temp2","v","top_nine","sorted_features","key2","data","feautures","tempvoted_data_with_score","data2","filter","index","item","feauture","items2","createLegend","container","range","color","entries","parent_width","$","width","parent_height","height","svg","d3","select","attr","rect_height","selectAll","join","d","x_shift","text","SlopeChart","props","line_color","state","height_slope_exp_chart","mouseX","mouseY","this","setState","window","innerHeight","prevProps","prevState","selected_instances","defualt_models","config","selected_years","average","div","append","style","temp_scale_data","abs","y_distance","circle_radius","data_for_all_years","line_data","model_name","a","sclale1","domain","transition","duration","d2","circ_data","avg","on","html","pageX","pageY","slopechart1","average_m","algo1","lime_data","item_width","item_height","feature_contrib_name","b","Grid","className","padding","border","boxShadow","id","Component","connect","deviate_by","clicked_items_in_slopechart","tracking","time_mode_model","chart_scale_type","histogram_data","show","default_model_scores","sort_by","average_y","dispatch","Set_prev_prop","val","value","Set_defualt_models","Set_sparkline_data","Set_clicked_items_in_slopechart","Set_replay","sparklineGen","appHandleChange","className2","sparkline_color","path_id","s_margin","s_width","s_height","s_svg","x","datum","y0","y","y1","preventDefault","divid","remove","temp_data","enter","Chart","CreateChart","feature_className","feature","feature_height","margin","self","myindex","animation4","delay4","animation1","animation2","animation3","left2","right2","space_for_feature_title","bottom2","number_of_filters_start","number_of_filters_end","two_realRank","svg1","model_name2","clicked_features","event","defaultPrevented","classed","set_clicked_features","dbclicked_features","unshift","set_dbclicked_features","popup_chart_data","Set_popup_chart_data","set_pop_over","svg2","temp_x","nice","temp_y","isNaN","String","reduced_opacity","color_gen","textClickHandler_original","update","delay","delay3","top","right","bottom","space_for_contribution_text","vertical_space_between_features","horizontal_space_between_features","horizontal_capacity","floor","vertical_capacity","feature_width","total_capacity","number_of_features","drag_drop_feautre_data","feature_name","diff","dest_index","indexOf","splice","ceil","deltaX","deltaY","is_dragging","top_features","slice","feature_container","call","raise","e","origin_index","lower","document","elementFromPoint","sourceEvent","clientX","clientY","set_config","alert","set_drag_drop_feautre_data","undefined","concat","prev_prop","scatterplot_data","feature_contribute","parent_svg","myid","hist_height","bins","histogram","y_hist","svg0","x0","x1","y2","tickSize","ticks","tickValues","tickFormat","CreateChart_cat","barplot_data","values","bandwidth","merged_arr","apply","pop_over_models","idName","marginLeft","marginTop","marginBottom","mode","range_mode_model","Set_pop_over_models","React","useState","anchorEl","setAnchorEl","open","Boolean","checked","setChecked","handleToggle","currentIndex","newChecked","Button","aria-controls","aria-haspopup","onClick","currentTarget","Menu","keepMounted","onClose","TransitionComponent","Fade","List","labelId","ListItem","role","Checkbox","edge","tabIndex","onChange","temp_Models","target","checkboxChanged","pop_over","position","left","pointerEvents","backgroundColor","borderBottom","direction","justify","alignItems","FilterModel","maxHeight","overflow","maxWidth","CreateCharts","animate","range_mode_range1","range_mode_range2","mydata3","selected_by_year_data","max_rank","start_range","deviate_check_lower","end_range","deviate_check_upper","tempA","tempB","node","actual_model_for_range_and_time_mode","slope_chart_anim1","slope_chart_anim2","number_of_elements","all_together","nestedByName","name","range_chart_col_range1_height","height_between","range_chart_col_range2_height","yOffset","labelGroupOffset","labelKeyOffset","radius","sparkline_height","yScale","var_to_lift_up","borderLines","selection","g","sparkline1","split","sparkline2","my_state_range","ref_year","track_states_ranged_dictionary","track_states_year_data","min","max","line_color2","interpolate","Rgbdict","Legend","addEventListener","innerWidth","JSON","stringify","replay","task2","marginRight","paddingRight","xs","ref","Chart2","Popover","changed","task1","time_mode_year1","time_mode_year2","time_mode_range","cmodel","slopechart_col_height","myRef","createRef","random","borderRight","myfunc","Set_sort_by","Set_default_model_scores","set_sort_by","FormControl","component","FormLabel","RadioGroup","aria-label","FormControlLabel","control","Radio","label","useStyles","makeStyles","theme","MuiAutocompleteroot","root","listroot","paper","heading","fontSize","typography","pxToRem","fontWeight","fontWeightRegular","all_models","years_for_dropdown","add","Set_selected_years","Set_selected_year","set_tracking","Set_histogram_data","Set_changed","Set_state_range","Set_slider_max","Set_range_mode_range1","Set_range_mode_range2","Set_time_mode_range","Set_average_m","handle_year_click","handle_model_click","display","handleHistogramselection","feature_data","occur","sum_x","cScale","interpolator","statelist","country","cat_states","tick_values","thresholds","selectionRect","previousElement","currentY","currentX","originX","originY","setElement","ele","getNewAttributes","getCurrentAttributes","x2","getCurrentAttributesAsText","attrs","init","newX","newY","rectElement","NewAttr","focus","removePrevious","dragBehavior","p","finalAttributes","myx1","myx2","temp_range","invert","toFixed","states","selected_states","update_histogram_data","filtered_states","slider_and_feature_value","makeArr","startValue","stopValue","arr","feaures_dict","features_voted","filename","exp_fiscal_CordAscent","exp_school_CordAscent","exp_house_CordAscent","then","legend_data","exp_chart_height","features_dict","feature_index","feature_id","setTimeout","labelPlacement","flexBasis","flexShrink","secondaryHeading","palette","secondary","tRoot","rang_input","slider_max","Set_years_for_dropdown","Set_mode","Set_range_mode_model","Set_time_mode_model","Set_time_mode_year1","Set_time_mode_year2","Set_slider_and_feature_value","classes","sliderRange","set_sliderRange","range_mode_slider_value1","set_range_mode_slider_value1","range_mode_slider_value2","set_range_mode_slider_value2","time_mode_slider_value","set_time_mode_slider_value","set_dummy","temp_marks","step","marks","borderTop","Autocomplete","borderRadius","paddingTop","paddingBottom","defaultValue","debug","options","renderInput","params","TextField","fullWidth","InputProps","disableUnderline","paddingLeft","temp_val","Slider","newValue","onChangeCommitted","valueLabelDisplay","aria-labelledby","input","Histograms","toString","Sidebar_width","option","Typography","Set_ref_year","Set_original_data","Set_deviate_by","Set_show","view_data","variant","inputchanged","temp_show","background","shadows","spacing","SimpleModal","setOpen","setmouseX","setmouseY","useEffect","handleClose","body","Modal","aria-describedby","App","handleradioChange","Set_dataset","dataprocessor","state_name","dataset_name","process_data","school","school_rank","school_lime","fiscal","fiscal_rank","fiscal_lime","house","house_rank","house_lime","slopechart_data_filename","rank_data_filename","lime_data_filename","Set_legend_year","Set_grouped_by_year_data","nested_data","Set_rank_data","Set_lime_data","buttonclickHandler","Legend_ready_to_vis","legend_model","Replay","Row","Col","minHeight","onSubmit","RangeChart","YearChart","initialState","slope_chart_ready_to_vis","slider_min","dummy","legend_show_option","legend_year","reducer","action","createMuiTheme","button","textTransform","store","createStore","ReactDOM","render","ThemeProvider","getElementById"],"mappings":"2HAAAA,EAAOC,QAAU,IAA0B,oC,oBCA3CD,EAAOC,QAAU,IAA0B,oC,oBCA3CD,EAAOC,QAAU,IAA0B,mC,oBCA3CD,EAAOC,QAAU,IAA0B,yC,oBCA3CD,EAAOC,QAAU,IAA0B,yC,oBCA3CD,EAAOC,QAAU,IAA0B,yC,oBCA3CD,EAAOC,QAAU,IAA0B,yC,oBCA3CD,EAAOC,QAAU,IAA0B,wC,oBCA3CD,EAAOC,QAAU,IAA0B,wC,oBCA3CD,EAAOC,QAAU,IAA0B,yC,mcCApC,SAASC,EAAaC,GAC3B,IAAIC,EAAQ,GACRC,EAAiB,GAWrB,OAVAF,EAAcG,SAAQ,SAAAC,GACpBH,EAAMG,EAAQ,UAAY,GAC1BF,EAAeE,EAAO,MAAUC,QAAQ,KAAM,IAAIA,QAAQ,YAAa,KAAO,MAGhFL,EAAcG,SAAQ,SAAAC,GACpB,IAAIE,EAAY,CAAEC,KAAMC,SAASJ,EAAQ,UAAWK,KAAMD,SAASJ,EAAO,eAC1EF,EAAeE,EAAO,MAAUC,QAAQ,KAAM,IAAIA,QAAQ,YAAa,KAAKK,KAAKJ,GACjFL,EAAMG,EAAQ,UAAUM,KAAKN,MAExB,CAAEH,MAAOA,EAAOC,eAAgBA,GAGlC,SAASS,EAAKC,EAAMC,EAAaC,EAAgBC,EAAeC,GAErE,GAAY,8BAARJ,EAAsC,CAExC,IADA,IAAIK,EAAY,CAAE,qBAAwB,EAAG,qBAAwB,EAAG,qBAAwB,EAAG,oBAAuB,EAAG,kBAAqB,EAAG,eAAkB,EAAG,oBAAuB,EAAG,oBAAuB,EAAG,kBAAqB,GAC1OC,EAAIL,EAAY,GAAIK,EAAIL,EAAY,GAAIK,IAC/CC,OAAOC,KAAKH,GAAWd,SAAQ,SAAAkB,GAC3BJ,EAAUI,GAAOJ,EAAUI,GAAOC,WAAWN,EAAqBD,GAAeG,GAAGG,QAItFE,EAAQJ,OAAOC,KAAKH,GAAWO,KAAI,SAAUH,GAC/C,MAAO,CAACA,EAAII,UAAU,IAAKR,EAAUI,QAEjCV,MAAK,SAAUe,EAAOC,GAC1B,OAAOA,EAAO,GAAKD,EAAM,MAE3B,IAAIE,EAAY,GAChB,IAASV,EAAI,EAAGA,EAAIK,EAAMM,OAAQX,IAC5BJ,EAAegB,SAASP,EAAML,GAAG,KACnCU,EAAUlB,KAAKa,EAAML,GAAG,IAG5B,IAAIa,EAAM,GAGV,OAFAR,EAAMC,KAAI,SAAAQ,GAASD,EAAMC,EAAO,IAAIA,EAAO,MAC3CC,QAAQC,IAAIX,GACL,CAACK,EAAUG,GAKpB,GAAY,qBAARnB,EAA6B,CAC/B,IASIW,EATAY,EAAS,GACbrB,EAAeX,SAAQ,SAACiC,GAEtB,IADA,IAAIC,EAAO,EACFnB,EAAIL,EAAY,GAAIK,EAAIL,EAAY,GAAIK,IAC/CmB,GAAW,SAAIrB,EAAqBD,GAAeG,GAApC,aAAyDF,EAAqBD,GAAeG,GAAGkB,GAAW,GAE5HD,EAAOC,IAAWvB,EAAY,GAAKA,EAAY,GAAM,GAAMyB,KAAKC,KAAKF,OAGnEd,EAAQJ,OAAOC,KAAKe,GAAQX,KAAI,SAAUH,GAC5C,MAAO,CAACA,EAAKc,EAAOd,QAEhBV,MAAK,SAAUe,EAAOC,GAC1B,OAAOA,EAAO,GAAKD,EAAM,MAE3B,IAAIc,EAAU,GACd,IAAStB,EAAI,EAAGA,EAAIK,EAAMM,OAAQX,IAC5BJ,EAAegB,SAASP,EAAML,GAAG,KACnCsB,EAAQ9B,KAAKa,EAAML,GAAG,IAG1B,MAAO,CAACsB,EAAQL,GAGlB,GAAY,kBAARvB,EAEF,MAAO,CADEE,EAAeH,OACX,CAAC,IAKX,SAAS8B,EAAoBC,EAASC,EAAQ9B,EAAaE,EAAe6B,EAAkBC,GACjG,IAAId,EAAQ,GACRe,EAAa,GAajB,IAAK,IAAIzB,KAZTsB,EAAOnB,KAAI,SAAAY,GACT,IAAIW,EAAQ,GACRC,EAAIJ,EACJK,EAAWC,EAAgBR,EAASN,EAAOvB,EAAaE,EAAc8B,GACtEI,EAASpB,OAASe,IAAoBI,EAAIC,EAASpB,OAASe,EAAmBK,EAASpB,QAC5F,IAAK,IAAIX,EAAI,EAAGA,EAAI0B,EAAkB1B,IACpC6B,EAAME,EAAS/B,IAAM8B,EACrBA,GAAQ,EAEVjB,EAAMK,GAASW,KAGDhB,EACd,IAAK,IAAIoB,KAAQpB,EAAMV,GACjByB,EAAWK,GAAQ,EAErBL,EAAWK,GAAQL,EAAWK,GAAQpB,EAAMV,GAAK8B,GAGjDL,EAAWK,GAAQpB,EAAMV,GAAK8B,GAIpC,OAAOL,EAIF,SAASI,EAAgBR,EAASN,EAAOvB,EAAaE,EAAc8B,GACzE,IAAKhC,EAAYgB,OAAS,EAAK,MAAO,GACtChB,EAAcA,EAAYW,KAAI,SAAApB,GAAO,OAAIA,EAAU,KACnD,IAAmCmB,EAAM6B,EAAKC,EAA1CC,EAA4B,GAEhC,GAAa,WAATlB,EAAsB,MAAO,GACjC,IAAImB,EAAQV,EAAUT,GAAOoB,QAAO,SAAApD,GAAa,GAAII,SAASJ,EAAQ,WAAaI,SAASO,GAAkB,OAAOX,KACrHgD,EAAOvC,EAAYW,KAAI,SAAAiC,GAAK,OAAIF,EAAME,MACtCJ,EAAYlC,OAAOC,KAAKgC,EAAK,IAE7BA,EAAK5B,KAAI,SAAAkC,GACPL,EAAUlD,SAAQ,SAAAwD,GACZL,EAA0BK,IAAa,GAAKL,EAA0BK,GAAY,EACpFL,EAA0BK,GAAYL,EAA0BK,GAAarC,WAAWoC,EAAKC,IAExFL,EAA0BK,GAAYrC,WAAWoC,EAAKC,WAKjEpC,EAAQJ,OAAOC,KAAKkC,GAA2B9B,KAAI,SAAUH,GAC3D,MAAO,CAACA,EAAKiC,EAA0BjC,QAGnCV,MAAK,SAAUe,EAAOC,GAC1B,OAAOD,EAAM,GAAKC,EAAO,MAE3B,IAAIiC,EAASrC,EAAMC,KAAI,SAACpB,GAAD,OAAaA,EAAQ,GAAGC,QAAQ,gBAAiB,OAExE,OADAuD,EAASA,EAAOJ,QAAO,SAAAE,GAAI,MAAY,SAARA,GAAyB,SAANA,K,uCCrI7C,SAASG,EAAaC,EAAUC,EAAMC,GACzC,IAAIZ,EAAKjC,OAAO8C,QAAQD,GACpBE,EAAaC,EAAE,IAAIL,GAAWM,QAC9BC,EAAcF,EAAE,IAAIL,GAAWQ,SAC/BC,EAAIC,IAAU,IAAIV,GAAWW,OAAO,OAAOC,KAAK,QAAQR,GAAcQ,KAAK,SAASL,GAGpFM,EAAcN,EAAcjB,EAAKvB,OAErC0C,EAAIK,UAAU,aAAaxB,KAAKA,GAAMyB,KAAK,QAAQH,KAAK,QAAS,YAAYA,KAAK,IAAK,GAAGA,KAAK,KAAK,SAACI,EAAG5D,GAAJ,OAAWyD,EAAYzD,KAC1HwD,KAAK,QAJW,IAIUA,KAAK,SAAUC,GAAaD,KAAK,QAAQ,SAAAI,GAAC,OAAIA,EAAE,MAE3EP,EAAIK,UAAU,aAAaxB,KAAK,CAAC,CAAC,GAAGW,EAAM,IAAI,CAACM,EAAc,EAAE7D,UAAUuD,EAAM,GAAGA,EAAM,IAAI,IAAI,CAACM,EAAc,EAAEN,EAAM,MAAMc,KAAK,QAAQH,KAAK,QAAS,YAAYA,KAAK,IAAKK,IAC9KL,KAAK,KAAK,SAAAI,GAAC,OAAGA,EAAE,MAChBE,MAAK,SAAAF,GAAC,OAAEA,EAAE,MAAIJ,KAAK,YAAa,I,ICT/BO,E,kDACJ,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IACDC,WAAa,KAClB,EAAKC,MAAQ,CAAEC,uBAAwB,IAAKC,OAAQ,EAAGC,OAAQ,GAH9C,E,gEAMjBC,KAAKC,SAAS,CAAErB,MAAOsB,OAAOC,gB,4CAEVC,EAAWC,GAC/B,OAAO,I,yCAEUD,EAAWC,GAC5B,IAAIC,EAAmBtB,IAASgB,KAAKN,MAAMrE,YAAY,GAAI2E,KAAKN,MAAMrE,YAAY,GAAG,ICjBlF,SAA2BiF,EAAoB9F,EAAe+F,EAAgBC,EAAQC,EAAgBC,GAC3G,IAAIC,EAAM3B,IAAU,QAAQ4B,OAAO,OAAO1B,KAAK,QAAS,WAAW2B,MAAM,UAAW,GAChFnC,EAAeC,EAAE,uBAAuBC,QACxChB,EAAOpD,EAAcwD,QAAO,SAAAE,GAAI,OAAIuC,EAAenE,SAAS4B,EAAK,WAAaoC,EAAmBhE,SAAStB,SAASkD,EAAI,kBAEvH4C,EAAkB,GACtBlD,EAAK5B,KAAI,SAAAkC,GAAUqC,EAAevE,KAAI,SAAAY,GAAK,OAAIkE,EAAgB5F,KAAK4B,KAAKiE,IAAI/F,SAASkD,EAAKtB,IAAU5B,SAASkD,EAAI,sBAElH,IAAIsC,EAAqB,GAArBA,GAAmC,EAAnCA,EAAqD,EAArDA,EAA2E,GAA3EA,EAAmG,EAAnGA,EAAqL,IACrLQ,EAAaR,EAA2B,EACxCS,EAAgBT,EAA2B,EAEhCxB,IAAU,uBAAuB6B,MAAM,mBAAoB,WAAW3B,KAAK,SAAU8B,EAAapD,EAAKvB,OAAS2E,GAC5H5B,UAAU,aAAaxB,KAAK,CAAC,IAAIyB,KAAK,KAAKH,KAAK,QAAS,YAAYA,KAAK,YAAa,mBACjFE,UAAU,UAAUxB,KAAK0C,GAAoBjB,KAAK,KAAKH,KAAK,QAAS,SAASA,KAAK,aAAa,SAACI,EAAG5D,GAAJ,MAAU,aAAe8E,EAAqB,IAAM9E,EAAIsF,EAAa,OAC3K9B,KAAK,aAAa,SAAUI,GAC3BN,IAAUgB,MAAMZ,UAAU,QAAQxB,KAAK,CAAC0B,IAAID,KAAK,QAAQG,KAAKhF,EAAc8E,GAAd,OAA2BJ,KAAK,OAAQ,WAAWA,KAAK,oBAAqB,WAAWA,KAAK,YAAasB,GACrKtB,KAAK,IAAK,GAAGA,KAAK,cAAe,OAAOA,KAAK,KAAMsB,MAEvDtB,KAAK,yBAAyB,SAAUI,GACvC,IAAI4B,EAAqBtD,EAAKI,QAAO,SAAAE,GAAI,OAAIoB,GAAKtE,SAASkD,EAAI,iBAC3DiD,EAAY,GAChBZ,EAAevE,KAAI,SAAAoF,GACjBF,EAAmBlF,KAAI,SAAAkC,GACrB,IAAImD,EAAI,GACRA,EAAC,aAAmBrG,SAASkD,EAAI,cACjCmD,EAAC,eAAqBrG,SAASkD,EAAKkD,IACpCC,EAAC,MAAYD,EACbC,EAAC,KAAWnD,EAAK,SACjBiD,EAAUjG,KAAKmG,SAInB,IAAIP,EAAkB,GACtBlD,EAAK5B,KAAI,SAAAkC,GAAUqC,EAAevE,KAAI,SAAAY,GAAK,OAAIkE,EAAgB5F,KAAK4B,KAAKiE,IAAI/F,SAASkD,EAAKtB,IAAU5B,SAASkD,EAAI,sBAClH,IAAIoD,EAAUtC,MAAiBuC,OAAO,CAAC,EAAGvC,IAAO8B,KAAmBvC,MAAM,CAACiC,EAAsB9B,GAAgB8B,EAAqBS,KAEtIjC,IAAUgB,MAAMZ,UAAU,QAAQxB,KAAK,CAAC0B,IAAID,KAAK,QAC9CH,KAAK,KAAMsB,GAAsBtB,KAAK,MAAM,SAACI,EAAG5D,GAAJ,OAAUsF,EAAatF,KAAGwD,KAAK,MAAM,SAACI,EAAG5D,GAAJ,OAAUsF,EAAatF,KAAGwD,KAAK,eAAgBsB,GAA0BtB,KAAK,SAAU,WACzKsC,aAAaC,SAASjB,GAA2BtB,KAAK,MAAM,SAACwC,GAC5D,IAAI7E,EAAO,GAEX,OADAsE,EAAUnF,KAAI,SAAAkC,GAAI,OAAIrB,EAAK3B,KAAK4B,KAAKiE,IAAI7C,EAAI,eAAqBA,EAAI,kBAC/DoD,EAAQtC,IAAOnC,OAGtBqE,EAAqBtD,EAAKI,QAAO,SAAAE,GAAI,OAAIoB,GAAKtE,SAASkD,EAAI,iBAA/D,IACIyD,EAAY,GAWhB,GAVApB,EAAevE,KAAI,SAAAoF,GACjBF,EAAmBlF,KAAI,SAAAkC,GACrB,IAAImD,EAAI,GACRA,EAAC,aAAmBrG,SAASkD,EAAI,cACjCmD,EAAC,eAAqBrG,SAASkD,EAAKkD,IACpCC,EAAC,MAAYD,EACbC,EAAC,KAAWnD,EAAK,SACjByD,EAAUzG,KAAKmG,SAGfX,EAAS,CACX,IAAIkB,EAAM5C,IAAQ2C,EAAU3F,KAAI,SAAAkC,GAAI,OAAIA,EAAI,mBAC5CyD,EAAYA,EAAU3F,KAAI,SAAAkC,GAIxB,OAHAA,EAAI,eAAqB0D,EACzB1D,EAAI,MAAY,UAChBA,EAAI,KAAW,UACRA,KAGXc,IAAUgB,MAAMZ,UAAU,UAAUxB,KAAK+D,GAAWtC,KAAK,UACtDH,KAAK,IAAK+B,GAAe/B,KAAK,OAAQ,WAEtCA,KAAK,MAAM,SAACwC,EAAIhG,GACf,OAAIgG,EAAE,eAAqBA,EAAE,cAAoB,EAAYJ,EAAQxE,KAAKiE,IAAIW,EAAE,eAAqBA,EAAE,eAAqBT,EACrHK,EAAQxE,KAAKiE,IAAIW,EAAE,eAAqBA,EAAE,kBAElDG,GAAG,aAAa,SAAUH,GACzBf,EAAIa,aAAaC,SAAS,KAAKZ,MAAM,UAAW,IAChDF,EAAImB,KAAK,UAAYJ,EAAE,KAAW,YAAcA,EAAE,MAAY,MAAQ5E,KAAKiE,IAAIW,EAAE,eAAqBA,EAAE,eAAmBb,MAAM,OAAS7B,IAAS+C,MAAQ,IAAO,MAAMlB,MAAM,MAAQ7B,IAASgD,MAAQ,GAAM,SAC5MH,GAAG,YAAY,SAAUH,GAC1Bf,EAAIa,aACDC,SAAS,KACTZ,MAAM,UAAW,SD7D1BoB,CAA8B3B,EAAoBN,KAAKN,MAAMlF,cAAewF,KAAKN,MAAMa,eAAgBP,KAAKN,MAAMc,OAAQR,KAAKN,MAAMe,eAAgBT,KAAKN,MAAMwC,WAChK,IACIjF,EAAoBkF,EAA0BnC,KAAKN,MAAMxC,QAAS8C,KAAKN,MAAMa,eAAgBP,KAAKN,MAAMrE,YAAa2E,KAAKN,MAAMnE,cAD/G,EACgJyE,KAAKN,MAAMrC,YCgE7K,SAAuBiD,EAAmB5C,EAAiB0E,EAAU7G,EAAcgF,GACxF,IAAI7B,EAAeC,EAAE,kBAAkBC,QACnCC,EAAgBF,EAAE,kBAAkBG,SACpCuD,EAAW3D,EAAahB,EAAgBrB,OACxCiG,EAAYzD,EAAcnB,EAAgBrB,OAC9C2C,IAAU,kBAAkBI,UAAU,cAAcxB,KAAKF,GAAiB2B,KAAK,OAAOH,KAAK,QAAQ,aAAaA,KAAK,QAAQmD,GAAYnD,KAAK,SAASoD,GACtJpD,KAAK,KAAI,SAACI,EAAE5D,GAAH,OAAO2G,EAAW3G,KAC3BwD,KAAK,cAAa,SAASI,GAC1B,IAAIiD,EAAqBjD,EAAE,GAAG,gBAC9B7C,QAAQC,IAAI6D,EAAe6B,GAC3B,IAAIT,EAAU,GACdpB,EAAevE,KAAI,SAAAY,GACjBwF,EAAUxF,GAAOZ,KAAI,SAAAkC,GAChBA,EAAK,UAAU3C,GAAgB+E,EAAmBhE,SAAStB,SAASkD,EAAI,gBAAoByD,EAAUzG,KAAKgD,SAKlHzB,QAAQC,IAAI6F,MDhFZN,CAA0B3B,EADN3E,OAAO8C,QAAQxB,GAAqB9B,MAAK,SAACkG,EAAEmB,GAAH,OAAOnB,EAAE,GAAGmB,EAAE,MACdxC,KAAKN,MAAM0C,UAAUpC,KAAKN,MAAMnE,cAAcyE,KAAKN,MAAMa,kB,+BAGtH,OACE,kBAACkC,EAAA,EAAD,CAAMnE,WAAS,EAACoE,UAAU,kBAAkB7B,MAAO,CAAE8B,QAAS,UAAWC,OAAQ,oBAAqBhE,MAAO,MAAOiE,UAAW,4BAC7H,yBAAKC,GAAG,qBAAqBjC,MAAO,CAAEjC,MAAO,OAAQE,OAAQ,SAC7D,yBAAKgE,GAAG,gBAAgBjC,MAAO,CAAEjC,MAAO,OAAQE,OAAQ,c,GAxBvCiE,aAkEVC,eArCS,SAACpD,GAAW,IAAD,EACjC,OAAO,EAAP,CACEvE,YAAauE,EAAMvE,YACnBE,cAAeqE,EAAMrE,cACrBkF,eAAgBb,EAAMa,eACtBwC,WAAYrD,EAAMqD,WAClBC,4BAA6BtD,EAAMsD,4BACnCC,SAAUvD,EAAMuD,SAChB5C,eAAgBX,EAAMW,eACtB/F,cAAeoF,EAAMpF,cACrB4I,gBAAiBxD,EAAMwD,gBACvBC,iBAAkBzD,EAAMyD,iBACxBpG,oBAAqB2C,EAAM3C,oBAC3BC,QAAS0C,EAAM1C,QACfoG,eAAgB1D,EAAM0D,eACtB5I,eAAgBkF,EAAMlF,gBAdxB,wBAeWkF,EAAM1C,SAfjB,uBAgBU0C,EAAMY,QAhBhB,qBAiBQZ,EAAM2D,MAjBd,qCAkBwB3D,EAAM4D,sBAlB9B,wBAmBW5D,EAAM6D,SAnBjB,0BAoBa7D,EAAMsC,WApBnB,0BAqBatC,EAAM8D,WArBnB,0BAsBa9D,EAAMwC,WAtBnB,oCAuBuBxC,EAAM3C,qBAvB7B,0BAwBa2C,EAAMvC,WAxBnB,KA2BwB,SAACsG,GACzB,MAAO,CACLC,cAAe,SAACC,GAAD,OAASF,EAAS,CAAEvI,KAAM,YAAa0I,MAAOD,KAC7DE,mBAAoB,SAACF,GAAD,OAASF,EAAS,CAAEvI,KAAM,iBAAkB0I,MAAOD,KACvEG,mBAAoB,SAACH,GAAD,OAASF,EAAS,CAAEvI,KAAM,iBAAkB0I,MAAOD,KACvEI,gCAAiC,SAACJ,GAAD,OAASF,EAAS,CAAEvI,KAAM,8BAA+B0I,MAAOD,KACjGK,WAAY,SAACL,GAAD,OAASF,EAAS,CAAEvI,KAAM,SAAU0I,MAAOD,QAG5Cb,CAA4CvD,GEvEpD,SAAS0E,EAAazB,EAAWhI,EAAgBmB,EAAK+D,EAAO7E,EAAMqJ,EAAiBC,EAAYC,EAAiBC,GACtH,IACIC,EAAkB,EAAlBA,EAA4B,EAA5BA,EAAuC,EAAvCA,EAAgD,EAClDC,EAF6B,GAEK,EAAI,EACtCC,EAH8D,GAGzB,EACnCC,EAAQ3F,IAAU,IAAI0D,GACvBxD,KAAK,QAASuF,EAAUD,EAAgBA,GACxCtF,KAAK,SAAUwF,EAAWF,EAAeA,GACxC5G,EAAOlD,EAAemB,GAEtB+I,EAAI5F,MACLuC,OAAOvC,IAAUpB,GAAM,SAAU0B,GAAK,OAAOA,EAAEvE,SAC/CwD,MAAM,CAAC,EAAGkG,IAEbE,EAAM1F,OAAO,QACV4F,MAAMjH,GAAM,SAAA0B,GAAC,OAAIA,KACjBJ,KAAK,KAAM,IAAIqF,GACfrF,KAAK,UAAU,GACfA,KAAK,OAAQoF,GACbpF,KAAK,SAAUoF,GACfpF,KAAK,gBAAgB,SAACI,GACrB,OAAO,OAERJ,KAAK,IAAKF,MACR4F,GAAE,SAAUtF,GAAK,OAAOsF,EAAEtF,EAAEvE,SAC5B+J,IAAG,WAEF,OADQ9F,MAAiBuC,OAAO,CAAC,EAAGvC,IAAOpB,GAAM,SAAU0B,GAAK,OAAQA,EAAErE,UAAWsD,MAAM,CAACmG,EAAU,GAC/FK,CAAE,MAEVC,IAAG,SAAU1F,GAEZ,OADQN,MAAiBuC,OAAO,CAAC,EAAGvC,IAAOpB,GAAM,SAAU0B,GAAK,OAAQA,EAAErE,UAAWsD,MAAM,CAAC,EAAGmG,GACxFK,CAAEzF,EAAErE,UAIjB0J,EAAMvF,UAAU,UAAUxB,KAAKA,GAAMyB,KAAK,UACvCH,KAAK,MAAM,SAAUI,EAAG5D,GAAK,OAAOkJ,EAAEtF,EAAEvE,SACxCmE,KAAK,KAAMwF,EAAW,GACtBxF,KAAK,QAAS,OAASmF,GACvBxC,GAAG,aAAa,SAAUvC,GACzBN,IAAUgB,MAAMa,MAAM,OAAQ,SAC9B7B,IAAUgB,MAAMd,KAAK,IAAK,MAE3B2B,MAAM,QAAQ,SAACvB,GAAD,OAAOA,EAAEvE,MAAQA,EAAO,cAAgB,WACtDmE,KAAK,SAAS,SAACI,GAAD,OAAOA,EAAEvE,MAAQA,EAAO,oBAAsB,eAC5DmE,KAAK,IAAK,GACV2C,GAAG,YAAY,SAACvC,EAAG5D,GAClBsD,IAASiG,iBACTb,EAAgB9E,EAAEvE,KAAM,mBAEzB8G,GAAG,YAAY,SAAUvC,GACxBN,IAAUgB,MAAMa,MAAM,OAAQ,eAC9B,IAAIqE,EAAM,OAAOxC,EACjB1D,IAAakG,GAAOC,YAErBtD,GAAG,SAAS,SAACvC,GACZN,IAAU,QAAQ4B,OAAO,OACtB1B,KAAK,KAAM,MAAMwD,GACjBxD,KAAK,QAAS,WACd2B,MAAM,UAAW,GACjBiB,KAAK,YAAmBxC,EAAEvE,KAAO,gBAA4BuE,EAAErE,KAAO,QACtE4F,MAAM,QAAS,SAACvB,GAEf,OADqBX,EAAE,mBAAmBC,QAClB,IAAM,QAE/BiC,MAAM,MAAQ7B,IAASgD,MAAQ,GAAM,MACrCR,aACAC,SAAS,KACTZ,MAAM,UAAW,QCpEnB,SAASsD,EAAazB,EAAWhI,EAAgBmB,EAAKuF,EAAY5G,EAAeoF,EAAO7E,EAAMqJ,EAAiBC,EAAYC,EAAiBC,GACjJ,IAAIa,EAAY,GAChB5K,EAAcG,SAAQ,SAAAC,GAChBA,EAAO,OAAagF,GAAShF,EAAQwG,IACvCgE,EAAUlK,KAAK,CAAEH,KAAMC,SAASJ,EAAQ,UAAWK,KAAMD,SAASJ,EAAQwG,SAG9E,IACIoD,EAAkB,EAAlBA,EAA4B,EAA5BA,EAAuC,EAAvCA,EAAgD,EAClDC,EAF6B,GAEK,EAClCC,EAH8D,GAGzB,EACnCC,EAAQ3F,IAAa,IAAI0D,GAE1BxD,KAAK,QAASuF,EAAUD,EAAgBA,GACxCtF,KAAK,SAAUwF,EAAWF,EAAeA,GACxC5G,EAAOwH,EAEPR,EAAI5F,MACLuC,OAAOvC,IAAUpB,GAAM,SAAU0B,GAAK,OAAOA,EAAEvE,SAC/CwD,MAAM,CAAC,EAAGkG,IAEbE,EAAM1F,OAAO,QACV4F,MAAMjH,GAAM,SAAA0B,GAAC,OAAIA,KACjBJ,KAAK,KAAM,IAAIqF,GACfrF,KAAK,OAAQoF,GACbpF,KAAK,SAAUoF,GACfpF,KAAK,gBAAgB,SAACI,GACrB,OAAO,OAERJ,KAAK,IAAKF,MACR4F,GAAE,SAAUtF,GAAK,OAAOsF,EAAEtF,EAAEvE,SAC5B+J,IAAG,WAEF,OADQ9F,MAAiBuC,OAAO,CAAC,EAAGvC,IAAOpB,GAAM,SAAU0B,GAAK,OAAQA,EAAErE,UAAWsD,MAAM,CAACmG,EAAU,GAC/FK,CAAE,MAEVC,IAAG,SAAU1F,GAEZ,OADQN,MAAiBuC,OAAO,CAAC,EAAGvC,IAAOpB,GAAM,SAAU0B,GAAK,OAAQA,EAAErE,UAAWsD,MAAM,CAAC,EAAGmG,GACxFK,CAAEzF,EAAErE,UAIP+D,IAAU,QAAQ4B,OAAO,OAChC1B,KAAK,QAAS,WACd2B,MAAM,UAAW,GAEpB8D,EAAMvF,UAAU,UAAUxB,KAAKA,GAAMyH,QAAQzE,OAAO,UACjD1B,KAAK,MAAM,SAAUI,EAAG5D,GAAK,OAAOkJ,EAAEtF,EAAEvE,SACxCmE,KAAK,KAAMwF,EAAW,GACtBxF,KAAK,QAAS,OAASmF,GACvBxC,GAAG,aAAa,SAAUvC,GACzBN,IAAUgB,MAAMa,MAAM,OAAQ,SAC9B7B,IAAUgB,MAAMd,KAAK,IAAK,MAE3B2C,GAAG,YAAY,SAAUvC,GACxBN,IAAUgB,MAAMa,MAAM,OAAQ,eAC9B,IAAIqE,EAAM,OAAOxC,EACjB1D,IAAakG,GAAOC,YAErBtE,MAAM,QAAQ,SAACvB,GAAD,OAAOA,EAAEvE,MAAQA,EAAO,cAAgB,WACtDmE,KAAK,SAAS,SAACI,GAAD,OAAOA,EAAEvE,MAAQA,EAAO,oBAAsB,eAC5DmE,KAAK,IAAK,GACV2C,GAAG,YAAY,SAACvC,EAAG5D,GAClBsD,IAASiG,iBACTb,EAAgB9E,EAAEvE,KAAM,mBAEzB8G,GAAG,SAAS,SAACvC,GACZN,IAAU,QAAQ4B,OAAO,OACtB1B,KAAK,KAAM,MAAMwD,GACjBxD,KAAK,QAAS,WACd2B,MAAM,UAAW,GACjBiB,KAAK,YAAmBxC,EAAEvE,KAAO,gBAA4BuE,EAAErE,KAAO,QACtE4F,MAAM,QAAS,SAACvB,GAEf,OADqBX,EAAE,mBAAmBC,QAClB,IAAM,QAE/BiC,MAAM,MAAQ7B,IAASgD,MAAQ,GAAM,MACrCR,aACAC,SAAS,KACTZ,MAAM,UAAW,Q,WC3EpByE,G,yDACJ,WAAY5F,GAAQ,IAAD,8BACjB,cAAMA,IAgKR6F,YAAc,SAACC,EAAmBC,EAAS7G,EAAO8G,EAAgBC,EAAQC,EAAMC,GAE9E,IAAIC,EAAa,EAAKpG,MAAMc,OAAOsF,WAC/BC,EAAS,EAAKrG,MAAMc,OAAOwF,WAAa,EAAKtG,MAAMc,OAAOyF,WAAa,EAAKvG,MAAMc,OAAO0F,WAK3FpH,GADEF,EAAQA,EAAQ+G,EAAOQ,MAAQR,EAAOS,OAC/BV,EAAiBC,EAAOU,wBAA0BV,EAAOW,SAChEvL,EAAO6K,EAAKlG,MAAMnE,cAClBgL,EAA0BX,EAAKlG,MAAMrE,YAAY,GACjDmL,EAAwBZ,EAAKlG,MAAMrE,YAAY,GAC/CiI,EAAiBsC,EAAKlG,MAAM4D,eAE5B1F,EAAO,MAEsBA,EAA7B0F,EAAejH,OAAS,EAAYuJ,EAAKlG,MAAM0C,UAAUwD,EAAKlG,MAAM0B,YAAYpD,QAAO,SAAApD,GAAa,GAAKI,SAASJ,EAAQ,WAAaI,SAASD,IAAWuI,EAAehH,SAAStB,SAASJ,EAAO,eAAuB,OAAOA,KACvNgL,EAAKlG,MAAM0C,UAAUwD,EAAKlG,MAAM0B,YAAYpD,QAAO,SAAApD,GAAa,GAAKI,SAASJ,EAAQ,WAAaI,SAASD,IAAWC,SAASJ,EAAO,eAAqBI,SAASuL,IAA6BvL,SAASJ,EAAO,eAAqBI,SAASwL,GAA4B,OAAO5L,MAE3QoB,KAAI,SAAUsD,GAAK,OAAOtE,SAASsE,EAAEmH,iBAC5CtL,MAAK,SAAUkG,EAAGmB,GAAK,OAAOnB,EAAImB,KAEjD,IAAIkE,EAAO1H,IAAU,qBAAuB4G,EAAKlG,MAAMiH,YAAY9L,QAAQ,MAAO,IAAIA,QAAQ,8CAA+C,KAAKoE,OAAO,IAAMuG,GAC5JtG,KAAK,QAASN,EAAQ+G,EAAOQ,MAAQR,EAAOS,QAAQlH,KAAK,SAAUJ,EAAS6G,EAAOU,wBAA0BV,EAAOW,SAASpH,KAAK,QAAS,QAE9IwH,EAAKtH,UAAU,QAAQxB,KAAK,CAAC,IAAIyB,KAAK,QAAQH,KAAK,QAASN,EAAQ+G,EAAOQ,MAAQR,EAAOS,QAAQlH,KAAK,SAAUJ,EAAS6G,EAAOW,SAASpH,KAAK,IAAKyG,EAAOU,yBACxJnH,KAAK,OAAQ,WACbA,KAAK,SAAS,SAAAI,GAEb,OAAIsG,EAAKlG,MAAMkH,iBAAiBtK,SAASmJ,GAChC,yBAA2BD,EAG3B,OAASA,KAGnBtG,KAAK,UAAW2G,GAChBhE,GAAG,SAAS,SAAUgF,EAAOvH,GAC5B,IAAIuH,EAAMC,iBAAV,CACA,IAAIjK,EAAI,YAAO+I,EAAKlG,MAAMkH,kBACoD,GAA1E5H,IAAa,QAAUwG,GAAmBuB,QAAQ,sBACpDlK,EAAO+I,EAAKlG,MAAMkH,iBAAiB5I,QAAO,SAAAE,GAAI,OAAIA,GAAQuH,KAC1DzG,IAAa,QAAUwG,GAAmBuB,QAAQ,qBAAqB,KAGvElK,EAAK3B,KAAKuK,GACVzG,IAAa,QAAUwG,GAAmBuB,QAAQ,qBAAqB,IAEzEnB,EAAKlG,MAAMsH,qBAAqBnK,OAEjCgF,GAAG,YAAY,SAACvC,GACfN,IAASiG,iBACT,IAAIpI,EAAI,YAAO+I,EAAKlG,MAAMuH,oBACnBpK,EAAKP,SAASmJ,KACjB5I,EAAKqK,QAAQzB,GACbzG,IAAa,QAAUwG,GAAmBuB,QAAQ,qBAAqB,IAE3EnB,EAAKlG,MAAMyH,uBAAuBtK,GAElC,IAAIuK,EAAmB,GACvBxB,EAAKlG,MAAMa,eAAevC,QAAO,SAAAE,GAAI,MAAQ,WAANA,KAAiBlC,KAAI,SAAAoF,GAGxDxD,EADE0F,EAAejH,OAAS,EACnBuJ,EAAKlG,MAAM0C,UAAUhB,GAAYpD,QAAO,SAAApD,GAAa,GAAKI,SAASJ,EAAQ,WAAaI,SAASD,IAAWuI,EAAehH,SAAStB,SAASJ,EAAO,eAAuB,OAAOA,KAE7KgL,EAAKlG,MAAM0C,UAAUhB,GAAYpD,QAAO,SAAApD,GAAa,GAAKI,SAASJ,EAAQ,WAAaI,SAASD,IAAWC,SAASJ,EAAO,eAAqBI,SAASuL,IAA6BvL,SAASJ,EAAO,eAAqBI,SAASwL,GAA4B,OAAO5L,KACtRwM,EAAiBhG,GAAcxD,KAGjCgI,EAAKlG,MAAM2H,qBAAqB,CAACD,EAAkB3B,IACnDG,EAAKlG,MAAM4H,cAAa,MAG5B,IAAIC,EAAOb,EAAKtH,UAAU,SAASxB,KAAK,CAAC,IAAIyB,KAAK,OAAOH,KAAK,QAAS,QAAQA,KAAK,QAASN,EAAQ+G,EAAOQ,MAAQR,EAAOS,QAAQlH,KAAK,SAAUJ,EAAS6G,EAAOU,wBAA0BV,EAAOW,SAChMpH,KAAK,IAAKyG,EAAOQ,OAAOjH,KAAK,IAAKyG,EAAOU,yBAC5CK,EAAKtH,UAAU,QAAQxB,KAAK,CAAC6H,IAAUpG,KAAK,QAAQH,KAAK,QAAS,YAAYA,KAAK,IAAK,IAAIA,KAAK,IAAKJ,EAAS,GAAGU,MAAK,SAAAF,GAAC,OAAIA,KAAGJ,KAAK,YAAa,IAAI2B,MAAM,cAAe,UACvKA,MAAM,eAAgB,MAEzB0G,EAAKnI,UAAU,QAAQxB,KAAK,CAAC,EAAG,EAAG,MAAMyB,KAAK,QAC3CH,KAAK,KAAM,GACXA,KAAK,KAAMN,GACXM,KAAK,MAAM,SAAAI,GAAC,OAAIR,EAASQ,KACzBJ,KAAK,MAAM,SAAAI,GAAC,OAAIR,EAASQ,KACzBuB,MAAM,SAAU,WAGnB,IAAI2G,EAAS5J,EAAK5B,KAAI,SAAAkC,GAAI,OAAIpC,WAAWoC,EAAKuH,OAC1Cb,EAAI5F,MAAiBuC,OAAO,CAACvC,IAAOwI,GAASxI,IAAOwI,KAAUjJ,MAAM,CAAC,EAAGK,IAAQ6I,OAChFC,EAAS9J,EAAK5B,KAAI,SAAAkC,GAAI,OAAIpC,WAAWoC,EAAKuH,EAAU,qBACpDV,EAAI/F,MAAiBuC,OAAO,CAACvC,IAAO0I,GAAS1I,IAAO0I,KAAUnJ,MAAM,CAACO,EAAQ,IAAI2I,OAErF,GAAI7J,EAAKvB,OAAS,GACZsL,MAAM/J,EAAK,GAAG6H,IACZ+B,EAAS5J,EAAK5B,KAAI,SAAAkC,GAAI,OAAIA,EAAKuH,MAC/Bb,EAAI5F,MAAkBuC,OAAOiG,GAAQjJ,MAAM,CAAC,EAAGK,IAG3C2I,EAAKnI,UAAU,UAAUxB,KAAKA,GAAM,SAAA0B,GAAC,OAAIA,EAAEmG,EAAU,oBAC3DpG,MACJ,SAAAgG,GAAK,OAAIA,EAAMzE,OAAO,UACnB1B,KAAK,MAAM,SAACI,EAAG5D,GACd,OAAIkJ,EAAEtF,EAAEmG,IAAY,GACX,GAEFb,EAAEtF,EAAEmG,OAEZvG,KAAK,MAAM,SAACI,EAAG5D,GACd,OAAIqJ,EAAEjJ,WAAWwD,EAAEmG,EAAU,mBAAqB,GACzC,GAEAV,EAAEjJ,WAAWwD,EAAEmG,EAAU,mBAAsB3G,EAAS,GACxDA,EAAS,GAEXiG,EAAEjJ,WAAWwD,EAAEmG,EAAU,mBAAqB,KAEtDvG,KAAK,iBAAiB,SAAAI,GAAC,OAAIA,EAAEmG,EAAU,oBACvCvG,KAAK,IAAK,GACVA,KAAK,WAAW,SAAAI,GACf,OAAKsG,EAAKlG,MAAMwD,4BAA4B7G,OAAS,GAAKuJ,EAAKlG,MAAMwD,4BAA4B5G,SAAS,IAAMsL,OAAOtI,EAAC,OAAWzE,QAAQ,MAAO,MAA0D,GAAjD+K,EAAKlG,MAAMwD,4BAA4B7G,OACzL,EAGAuJ,EAAKlG,MAAMc,OAAOqH,mBAG5B3I,KAAK,QAAQ,SAACI,GAAD,OAAOsG,EAAKlG,MAAMoI,UAAUxI,EAAC,UAC1CJ,KAAK,MAAM,SAAAI,GAAC,MAAI,IAAMsI,OAAOtI,EAAC,OAAWzE,QAAQ,MAAO,OACxDqE,KAAK,SAAS,SAAAI,GAAC,MAAI,WAAasI,OAAOtI,EAAC,cAAoB,kBAC5DJ,KAAK,UAAW2G,GAChBhE,GAAG,SAAS,SAAAvC,GAAC,OAAIsG,EAAKlG,MAAMqI,0BAA0B,IAAMzI,EAAC,aAEhE,SAAA0I,GAAM,OACJA,EACG9I,KAAK,MAAM,SAACI,EAAG5D,GACd,OAAIkJ,EAAEtF,EAAEmG,IAAY,GACX,GAEFb,EAAEtF,EAAEmG,IAAY,KAExBvG,KAAK,WAAW,SAAAI,GACf,OAAKsG,EAAKlG,MAAMwD,4BAA4B7G,OAAS,GAAKuJ,EAAKlG,MAAMwD,4BAA4B5G,SAAS,IAAMsL,OAAOtI,EAAC,OAAWzE,QAAQ,MAAO,MAA0D,GAAjD+K,EAAKlG,MAAMwD,4BAA4B7G,OACzL,EAGAuJ,EAAKlG,MAAMc,OAAOqH,mBAG5BhG,GAAG,SAAS,SAAUvC,GACrBsG,EAAKlG,MAAMqI,0BAA0B,IAAMzI,EAAC,UAE7CkC,aACAC,SAASqE,GACTmC,MAAMlC,GACN7G,KAAK,MAAM,SAACI,EAAG5D,GACd,OAAIqJ,EAAEjJ,WAAWwD,EAAEmG,EAAU,mBAAqB,GACzC,GAEAV,EAAEjJ,WAAWwD,EAAEmG,EAAU,mBAAsB3G,EAAS,GACxDA,EAAS,GAEXiG,EAAEjJ,WAAWwD,EAAEmG,EAAU,mBAAqB,KAEtDvG,KAAK,iBAAiB,SAAAI,GAAC,OAAIA,EAAEmG,EAAU,oBACvCvG,KAAK,IAAK,GACVA,KAAK,QAAQ,SAACI,GAAD,OAAOsG,EAAKlG,MAAMoI,UAAUxI,EAAC,UAC1CJ,KAAK,MAAM,SAAAI,GAAC,MAAI,IAAMsI,OAAOtI,EAAC,OAAWzE,QAAQ,MAAO,OACxDqE,KAAK,UAAW2G,GAChB3G,KAAK,SAAS,SAAUI,GACvB,MAAO,WAAasI,OAAOtI,EAAC,cAAoB,qBAKxD,IAAIqB,EAAM3B,IAAU,QAAQ4B,OAAO,OAChC1B,KAAK,QAAS,YACd2B,MAAM,UAAW,GACpB7B,IAAa,gBACV6C,GAAG,aAAa,SAAUvC,GACzBqB,EAAIa,aACDC,SAAS,KACTZ,MAAM,UAAW,IAEpBF,EAAImB,KAAKxC,EAAC,OACPuB,MAAM,OAAS7B,IAAS+C,MAAS,MACjClB,MAAM,MAAQ7B,IAASgD,MAAQ,GAAM,SAEzCH,GAAG,YAAY,SAAUvC,GACxBN,IAAa,aAAawC,aACvBC,SAAS,KACTZ,MAAM,UAAW,OA5VxB,EAAKjB,MAAQ,CAAE,wBAA2B,MAFzB,E,gEAKjBI,KAAKC,SAAS,CAAE,gBAAmB,S,2CAEf,IAAD,OACf2F,EAAO5F,KACPkG,EAAalG,KAAKN,MAAMc,OAAO0F,WAC/BgC,EAASlI,KAAKN,MAAMc,OAAOwF,WAAahG,KAAKN,MAAMc,OAAOyF,WAE1DN,EAAS,CACXwC,IAAK,EAAGC,MAAO,GAAIC,OAAQ,EAAGC,4BAA6B,GAAIjC,wBAAyB,EAAGD,OAAQ,EACnGE,QAAS,EAAGH,MAAO,GAAIoC,gCAAiC,EAAGC,kCAAmC,GAG5F9J,EAAeC,EAAE,kBAAyBqB,KAAKN,MAAMiH,YAAY9L,QAAQ,MAAO,IAAIA,QAAQ,8CAA+C,KAAK+D,QAAgD,EAArC+G,EAAO2C,4BACpKzJ,EAAgBF,EAAE,kBAAyBqB,KAAKN,MAAMiH,YAAY9L,QAAQ,MAAO,IAAIA,QAAQ,8CAA+C,KAAKiE,SAE/I2J,EAAsB3L,KAAK4L,MAAMhK,EADZ,IAErBiK,EAAoB7L,KAAK4L,MAAM7J,EAFgB,KAI/C+J,EAAiBlK,EAAe+J,EAClC/C,EAAkB7G,EAAgB8J,EAAqBhD,EAAOwC,IAAMxC,EAAO0C,OAEzEQ,EAAiBJ,EAAsBE,EACvCG,EAAqBD,EAErBnL,EAAkByE,EAAsBnC,KAAKN,MAAMxC,QAAS8C,KAAKN,MAAM0B,WAAYpC,IAASgB,KAAKN,MAAMrE,YAAY,GAAI2E,KAAKN,MAAMrE,YAAY,IAAK2E,KAAKN,MAAMnE,cAAeyE,KAAKN,MAAMrC,WACxL1B,OAAOC,KAAKoE,KAAKN,MAAMqJ,wBAAwB1M,OAAS,GAC1DV,OAAOC,KAAKoE,KAAKN,MAAMqJ,wBAAwB/M,KAAI,SAAAgN,GACjD,IAAIC,EAAO,EAAKvJ,MAAMqJ,uBAAuBC,GAGzCE,EAFaxL,EAAgByL,QAAQH,GAEXC,GAD9BvL,EAAkBA,EAAgBM,QAAO,SAAAE,GAAI,OAAIA,GAAQ8K,MAEzCI,OAAOF,EAAY,EAAGF,MAItCtL,EAAgBrB,OAASwM,IAC3BF,EAAoB7L,KAAKuM,KAAK3L,EAAgBrB,OAASoM,GACvDK,EAAqBpL,EAAgBrB,QAEvC,IA4BIiN,EAAQC,EAAQC,EA5BhBC,EAAe/L,EAAgBgM,MAAM,EAAGZ,GAAoB9M,KAAI,SAAAkC,GAAI,MAAI,CAACA,EAAKrD,QAAQ,MAAO,IAAIA,QAAQ,8CAA+C,IAAKqD,MAM7JyL,EAAoB3K,IAAa,qBAAuBgB,KAAKN,MAAMiH,YAAY9L,QAAQ,MAAO,IAAIA,QAAQ,8CAA+C,KAC1JqE,KAAK,QAASR,GAAcQ,KAAK,SAAUL,GAAeK,KAAK,IAAKyG,EAAO2C,6BAG9EqB,EAAkBvK,UAAU,SAASxB,KAAK6L,GAAc,SAAAnK,GAAC,OAAIA,EAAE,MAC5DD,MACC,SAAAgG,GAAK,OAAIA,EAAMzE,OAAO,OAAO1B,KAAK,SAAS,SAAAI,GAAC,OAAIA,EAAE,GAAK,WACpDJ,KAAK,KAAK,SAACI,EAAG5D,GAAJ,OAAWA,EAAI+M,EAAuBG,KAChD1J,KAAK,KAAK,SAACI,EAAG5D,GAAJ,OAAUV,SAASU,EAAI+M,GAAuB/C,KACxDxG,KAAK,WAAW,SAACI,EAAG5D,GAAJ,OAAUA,QAE7B,SAAAsM,GAAM,OAAIA,EAAOxG,aAAaC,SAASyE,GAAY+B,MAAMC,GAAQhJ,KAAK,SAAS,SAAAI,GAAC,OAAIA,EAAE,GAAK,WACxFJ,KAAK,KAAK,SAACI,EAAG5D,GAAJ,OAAWA,EAAI+M,EAAuBG,KAChD1J,KAAK,KAAK,SAACI,EAAG5D,GAAJ,OAAUV,SAASU,EAAI+M,GAAuB/C,KACxDxG,KAAK,WAAW,SAACI,EAAG5D,GAAJ,OAAUA,QAE9BwD,KAAK,gBAAgB,SAAAI,GAAC,OAAIA,EAAE,MAC5BsK,KAAK5K,MACH6C,GAAG,SAKR,SAAqBvC,GACnBgK,EAAStK,IAAUgB,MAAMd,KAAK,KAAOF,IAAS4F,EAC9C2E,EAASvK,IAAUgB,MAAMd,KAAK,KAAOF,IAAS+F,KAN3ClD,GAAG,QAQR,SAAiBvC,GACfkK,GAAc,EACdxK,IAAUgB,MAAM6J,QAChB7K,IAAUgB,MAAMd,KAAK,IAAKF,IAAS4F,EAAI0E,GAAQpK,KAAK,IAAKF,IAAS+F,EAAIwE,MAVnE1H,GAAG,OAYR,SAAmBvC,EAAGwK,GACpB,GAAIN,EAAa,CACf,IAAIO,EAAe/O,SAASgE,IAAUgB,MAAMd,KAAK,YAAaF,IAAUgB,MAAMgK,QAAShL,IAAUgB,MAAMf,OAAO,QAAQ8H,QAAQ,qBAAqB,GACnJ,IAAImC,EAAalO,SAASgE,IAAUiL,SAASC,iBAAiBlL,IAASmL,YAAYC,QAASpL,IAASmL,YAAYE,UAAUnL,KAAK,YAAa8J,EAAehK,IAAUgB,MAAMd,KAAK,gBAAiBF,IAAUgB,MAAM6J,QAClNjE,EAAKlG,MAAM4K,WAAX,eAA2B1E,EAAKlG,MAAMc,OAAtC,CAA8CwF,WAAY,EAAGC,WAAY,KAGzE,IAAIgD,EAAOC,EAAaa,EACxB,GAAIpC,MAAMuB,GACRqB,MAAM,yBAEH,CACH,IAAI1N,EAAI,eAAQ+I,EAAKlG,MAAMqJ,wBACvBC,KAAgBpD,EAAKlG,MAAMqJ,yBAC7BE,GAAcrD,EAAKlG,MAAMqJ,uBAAuBC,IAElDnM,EAAKmM,GAAgBC,EACrBrD,EAAKlG,MAAM8K,2BAA2B3N,GAGxC+I,EAAKlG,MAAM4K,WAAX,eAA2B1E,EAAKlG,MAAMc,OAAtC,CAA8CwF,WAAY,IAAMC,WAAY,OACvEL,EAAKlG,MAAMkH,iBAAiBtK,SAAS0M,IAAiBpD,EAAKlG,MAAMsH,qBAAX,sBAAoCpB,EAAKlG,MAAMkH,kBAA/C,CAAiEoC,UAGxHpD,EAAKlG,MAAMkH,iBAAiBtK,SAAS0M,GAAiBpD,EAAKlG,MAAMsH,qBAAqBpB,EAAKlG,MAAMkH,iBAAiB5I,QAAO,SAAAE,GAAI,OAAIA,GAAQ8K,WAEvHyB,GAAhBzB,GAA6BpD,EAAKlG,MAAMsH,qBAAX,sBAAoCpB,EAAKlG,MAAMkH,kBAA/C,CAAiEoC,SAOxGW,EAAkBvK,UAAU,SAASxB,KAAK6L,GAAc,SAAAnK,GAAC,OAAIA,EAAE,MAAID,KAAK,OAAOH,KAAK,SAAS,SAAAI,GAAC,MAAI,OAASA,EAAE,GAAK,WAC/GJ,KAAK,KAAK,SAACI,EAAG5D,GAEb,OADA,EAAK6J,YAAY,OAASjG,EAAE,GAAIA,EAAE,GAAIsJ,EAAgBjD,EAAO6C,kCAAmC9C,EAAiBC,EAAO4C,gCAAiC5C,EAAQC,EAAMlK,GAChKA,KAIXsD,IAAU,kBAAyBgB,KAAKN,MAAMiH,YAAY9L,QAAQ,MAAO,IAAIA,QAAQ,8CAA+C,KACjIuE,UAAU,2BAA2BxB,KAAKoB,IAAS2J,GAAmB+B,OAAO1L,IAAS2J,KAAqBtJ,KAAK,OAAOH,KAAK,QAAS,0BAA0BA,KAAK,QAASyG,EAAO2C,6BACpLpJ,KAAK,SAAUwG,EAAiBC,EAAO4C,iCACvCrJ,KAAK,KAAK,SAACI,EAAG5D,GACb,OAAQgK,EAAiB5I,KAAK4L,MAAMhN,EAAI,MAEzCwD,KAAK,YAAY,WAChBF,IAAUgB,MAAMZ,UAAU,QAAQxB,KAAK,CAAC,IAAIyB,KAAK,QAAQH,KAAK,QAASyG,EAAO2C,6BAA6BpJ,KAAK,SAAUwG,EAAiBC,EAAOU,yBAAyBnH,KAAK,OAAQ,cAEzLA,KAAK,KAAK,SAACI,EAAG5D,GAAJ,OAAUA,EAAI,GAAK,EAAI,EAAIiK,EAAO2C,4BAA8B5J,EAAeiH,EAAO6C,qCAChGtJ,KAAK,YAAY,SAAUI,EAAG5D,GAC7BsD,IAAUgB,MAAMZ,UAAU,QAAQxB,KAAK,CAAC,CAAC,EAAG,SAAU,CAAC,IAAK,QAAS,CAAC,MAAO,KAAM,CAAC,IAAK,QAAS,CAAC,KAAM,WAAWyB,KAAK,QACtHH,KAAK,IAAKxD,EAAI,GAAK,EAAIiK,EAAO2C,4BAA8B,EAAI,GAChEpJ,KAAK,KAAK,SAACI,EAAG5D,GAAJ,OAAWgK,EAAiBpG,EAAE,GAAM,KAC9CE,MAAK,SAAAF,GAAC,OAAIA,EAAE,MACZJ,KAAK,YAAa,IAClBA,KAAK,cAAexD,EAAI,GAAK,EAAI,MAAQ,YAE7CwD,KAAK,wBAAwB,WAC5BF,IAAUgB,MAAMZ,UAAU,QAAQxB,KAAK,CAAC,IAAK,OAAOyB,KAAK,QACtDH,KAAK,KAAM,GACXA,KAAK,KAAMyG,EAAO2C,6BAClBpJ,KAAK,MAAM,SAAAI,GAAC,OAAKoG,EAAiBpG,EAAK,KACvCJ,KAAK,MAAM,SAAAI,GAAC,OAAKoG,EAAiBpG,EAAK,KACvCuB,MAAM,SAAU,cAGpB3B,KAAK,wBAAwB,SAAUI,EAAG5D,GACzCsD,IAAUgB,MAAMZ,UAAU,UAAUxB,KAAK,CAAC,IAAIyB,KAAK,QAAQH,KAAK,QAAS,SACtEA,KAAK,KAAMxD,EAAI,GAAK,EAAI,EAAI,IAC5BwD,KAAK,KAAMxD,EAAI,GAAK,EAAIiK,EAAO2C,4BAA8B,GAAK3C,EAAO2C,6BACzEpJ,KAAK,MAAM,SAAAI,GAAC,OAAKoG,EAAiB,EAAK,KACvCxG,KAAK,MAAM,SAAAI,GAAC,OAAKoG,EAAiB,EAAK,KACvC7E,MAAM,SAAU,gB,+BAwMvB,OACE,yBAAKiC,GAAI,iBAAmB9C,KAAKN,MAAMiH,YAAY9L,QAAQ,MAAO,IAAIA,QAAQ,8CAA+C,IAAKgG,MAAO,CAAEjC,MAAO,OAAQE,OAAQ,SAChK,yBAAKgE,GAAI,oBAAsB9C,KAAKN,MAAMiH,YAAY9L,QAAQ,MAAO,IAAIA,QAAQ,8CAA+C,KAAhI,U,GAtWYkI,cA0YLC,eA/BS,SAACpD,GACvB,MAAO,CACLsD,4BAA6BtD,EAAMsD,4BACnC1I,cAAeoF,EAAMpF,cACrB6I,iBAAkBzD,EAAMyD,iBACxBpG,oBAAqB2C,EAAM3C,oBAC3BC,QAAS0C,EAAM1C,QACfoG,eAAgB1D,EAAM0D,eACtBL,WAAYrD,EAAMqD,WAClB0H,UAAW/K,EAAM+K,UACjB/D,iBAAkBhH,EAAMgH,iBACxBpG,OAAQZ,EAAMY,OACdnD,UAAWuC,EAAMvC,UACjB+E,UAAWxC,EAAMwC,UACjB7B,eAAgBX,EAAMW,eACtBwI,uBAAwBnJ,EAAMmJ,uBAC9B9B,mBAAoBrH,EAAMqH,uBAGJ,SAACtD,GACzB,MAAO,CACLI,mBAAoB,SAACF,GAAD,OAASF,EAAS,CAAEvI,KAAM,iBAAkB0I,MAAOD,KACvEI,gCAAiC,SAACJ,GAAD,OAASF,EAAS,CAAEvI,KAAM,8BAA+B0I,MAAOD,KACjGwD,qBAAsB,SAACxD,GAAD,OAASF,EAAS,CAAEvI,KAAM,mBAAoB0I,MAAOD,KAC3EyD,aAAc,SAACzD,GAAD,OAASF,EAAS,CAAEvI,KAAM,WAAY0I,MAAOD,KAC3DmD,qBAAsB,SAACnD,GAAD,OAASF,EAAS,CAAEvI,KAAM,mBAAoB0I,MAAOD,KAC3EyG,WAAY,SAACzG,GAAD,OAASF,EAAS,CAAEvI,KAAM,SAAU0I,MAAOD,KACvD2G,2BAA4B,SAAC3G,GAAD,OAASF,EAAS,CAAEvI,KAAM,yBAA0B0I,MAAOD,KACvFsD,uBAAwB,SAACtD,GAAD,OAASF,EAAS,CAAEvI,KAAM,qBAAsB0I,MAAOD,QAGpEb,CAA4CsC,G,SC3YrDA,E,kDACJ,WAAY5F,GAAQ,IAAD,8BACjB,cAAMA,IAmCR6F,YAAc,SAAC3H,EAAM6H,EAASmF,GAC5BnO,QAAQC,IAAIkO,GACZ,IAAIhF,EAAI,eACNiF,EAAqBpF,EAAU,gBAE7BE,EAAgB,EAAhBA,EAA0B,GAA1BA,EAAsC,GAAtCA,EAAgD,GAAhDA,EAAoE,GACtE/G,EAAQ,IAAM+G,EAAcA,EAC5B7G,EAAS,IAAM6G,EAAaA,EAC1B6B,EAAS5J,EAAK5B,KAAI,SAAAkC,GAAI,OAAIpC,WAAWoC,EAAKuH,OAC5CiC,EAAS9J,EAAK5B,KAAI,SAAAkC,GAAI,OAAIpC,WAAWoC,EAAK2M,OACxCjG,EAAI5F,MAAiBuC,OAAO,CAACvC,IAAOwI,GAASxI,IAAOwI,KAAUjJ,MAAM,CAAC,EAAGK,IAAQ6I,OAClF1C,EAAI/F,MAAiBuC,OAAO,CAACvC,IAAO0I,GAAS1I,IAAO0I,KAAUnJ,MAAM,CAACO,EAAQ,IAAI2I,OAG/EqD,EAAa9L,IAAU,IAAM4G,EAAKlG,MAAMqL,MAAM7L,KAAK,QAASN,EAAQ+G,EAAcA,GAAczG,KAAK,SAAUJ,EAAS6G,EAAaA,EAAgBA,GACvJe,EAAOoE,EAAW1L,UAAU,UAAUxB,KAAK,CAAC,IAAIyB,KAAK,OAAOH,KAAK,IAAKyG,GAAuBzG,KAAK,QAAS,SAASE,UAAU,QAAQxB,KAAK,CAAC,IAAIyB,KAAK,KAAKH,KAAK,QAAS,OAAOA,KAAK,YAClL,aAAeyG,EAAc,IAAMA,EAAa,KAGhDqF,EAAcrF,EAKdsF,EAJUjM,MACT8E,OAAM,SAAAxE,GAAC,OAAIA,KACXiC,OAAOqD,EAAErD,SAEH2J,CAAU1D,GACnB2D,EAASnM,MACNT,MAAM,CAACyM,EAAa,IAEzBG,EAAO5J,OAAO,CAAC,EAAGvC,IAAOiM,GAAM,SAAU3L,GAAK,OAAOA,EAAEjD,YACvD,IAAI+O,EAAON,EAAW1L,UAAU,SAASxB,KAAK,CAAC,IAAIyB,KAAK,OAAOH,KAAK,QAAS,QAAQE,UAAU,SAASxB,KAAK,CAAC,IAAIyB,KAAK,KAAKH,KAAK,QAAS,QAAQA,KAAK,YACrJ,aAAeyG,EAAc,IAAMA,EAAa,KAElDyF,EAAKhM,UAAU,WAAWxB,KAAK,CAAC,IAAIyB,KAAK,QAAQH,KAAK,QAAS,UAAUA,KAAK,KAAM,GAAGA,KAAK,KAAMyG,GAAuBzG,KAAK,KAAMN,GAAOM,KAAK,KAAMyG,GAAuBzG,KAAK,SAAU,WAC5LkM,EAAKhM,UAAU,QAAQxB,KAAKqN,GAAM5L,KAAK,QACpCH,KAAK,IAAK,GACVA,KAAK,OAAQ,WACbA,KAAK,aAAa,SAAUI,GAC3B,OAAIA,EAAE+L,IAAM/L,EAAEgM,GAAa,eAAyBH,EAAO7L,EAAEjD,QAAU,IAChE,aAAeuI,EAAEtF,EAAE+L,IAAM,IAAMF,EAAO7L,EAAEjD,QAAU,OAE1D6C,KAAK,SAAS,SAAUI,GACvB,OAAIA,EAAE+L,IAAM/L,EAAEgM,GAAa1M,EACpBgG,EAAEtF,EAAEgM,IAAM1G,EAAEtF,EAAE+L,IAAM,MAE5BnM,KAAK,UAAU,SAAUI,GAAK,OAAO0L,EAAcG,EAAO7L,EAAEjD,YAG3DqK,EAAOoE,EAAW1L,UAAU,UAAUxB,KAAK,CAAC,IAAIyB,KAAK,OAAOH,KAAK,QAAS,SAASE,UAAU,QAAQxB,KAAK,CAAC,IAAIyB,KAAK,KAAKH,KAAK,QAAS,OAAOA,KAAK,YACrJ,aAAeyG,EAAc,IAAMA,EAAa,MAC7CvG,UAAU,YAAYxB,KAAK,CAAC,IAAIyB,KAAK,QAAQH,KAAK,QAAS,WAAWA,KAAK,KAAM,GAAGA,KAAK,KAAM,GAAGA,KAAK,KAAM,GAAGA,KAAK,KAAMJ,GAAQI,KAAK,SAAU,WAIvJ,IAAIqM,EAAKvM,MAAkBuC,OAAO,CAAC,IAAK,IAAK,OAAOhD,MAAM,CAACO,EAAS,EAAGA,EAAS,EAAI,EAAIA,EAAU,IAClG4H,EAAKtH,UAAU,YAAYxB,KAAK,CAAC,IAAIyB,KAAK,KAAKH,KAAK,QAAS,WAC1D0K,KAAK5K,IAAYuM,GAAIC,SAAkB,GAAR5M,GAAa6M,MAAM,GAAGC,WAAW,CAAC,IAAK,IAAK,OAAOC,YAAW,SAAArM,GAAC,OAAIA,MAClGL,OAAO,WAAWkG,SACrBuB,EAAKtH,UAAU,YAAYA,UAAU,QAAQ+F,SAE7CnG,IAAa,UAAUI,UAAU,YAAYxB,KAAK,CAAC,CAAC,QAASkB,EAAS,GAAI,CAAC,OAAS,EAAIA,EAAU,GAAI,CAAC,IAAKA,EAAS,GAAI,CAAC,OAAS,EAAIA,EAAU,GAAI,CAAC,QAAU,EAAIA,EAAU,KAAKO,KAAK,QAAQH,KAAK,QAAS,WAC3MA,KAAK,IAAK,IAAIA,KAAK,KAAK,SAACI,EAAG5D,GAAJ,OAAU4D,EAAE,GAAK,KAAGE,MAAK,SAAAF,GAAC,OAAIA,EAAE,MAAIJ,KAAK,YAAa,IAAIA,KAAK,cAAe,OACzGF,IAAa,UAAUE,KAAK,wBAAwB,WAClDF,IAAUgB,MAAMZ,UAAU,eAAexB,KAAK,CAAC,KAAM,OAAOyB,KAAK,QAAQH,KAAK,QAAS,cACpFA,KAAK,KAAM,IACXA,KAAK,KAAM,IACXA,KAAK,MAAM,SAAAI,GAAC,OAAKR,EAASQ,EAAK,KAC/BJ,KAAK,MAAM,SAAAI,GAAC,OAAKR,EAASQ,EAAK,KAC/BuB,MAAM,SAAU,cAGrB7B,IAAa,UAAUI,UAAU,UAAUxB,KAAK,CAAC,IAAIyB,KAAK,QAAQH,KAAK,QAAS,SAC7EA,KAAK,KAAM,IACXA,KAAK,KAAM,IACXA,KAAK,MAAM,SAAAI,GAAC,OAAKR,EAAS,KAC1BI,KAAK,MAAM,SAAAI,GAAC,OAAKR,EAAS,KAC1B+B,MAAM,SAAU,WAIf7B,IAAOA,IAAOiM,IAAS,IACzBvE,EAAKtH,UAAU,YAAYxB,KAAK,CAAC,IAAIyB,KAAK,KAAKH,KAAK,QAAS,WAC1DA,KAAK,YAAa,eAAiBJ,EAAS,KAC5C8K,KAAK5K,IAAc4F,GAAG4G,SAAmB,KAAT1M,GAAc4M,WAAWT,EAAKjP,KAAI,SAAAkC,GAAI,OAAIA,EAAI,OAASyN,WAAW3M,IAAU,SAC5GC,OAAO,WAAWkG,SAGrBuB,EAAKtH,UAAU,YAAYxB,KAAK,CAAC,IAAIyB,KAAK,KAAKH,KAAK,QAAS,WAC1DA,KAAK,YAAa,eAAiBJ,EAAS,KAC5C8K,KAAK5K,IAAc4F,GAAG4G,SAAmB,KAAT1M,GAAc4M,WAAWT,EAAKjP,KAAI,SAAAkC,GAAI,OAAIA,EAAI,QAC9Ee,OAAO,WAAWkG,SAEvBuB,EAAKtH,UAAU,cAAcF,KAAK,SAAU,WAG5CwH,EAAKtH,UAAU,kBAAkBxB,KAAKgN,GAAkBvL,KAAK,KAAKH,KAAK,MAAM,SAAAI,GAAC,OAAIA,EAAE,GAAK,sBAAoBJ,KAAK,QAAS,iBAAiBA,KAAK,MAAM,SAAUI,GAC/JkI,EAASlI,EAAE,GAAGtD,KAAI,SAAAkC,GAAI,OAAIpC,WAAWoC,EAAKuH,OAC1CiC,EAASpI,EAAE,GAAGtD,KAAI,SAAAkC,GAAI,OAAIpC,WAAWoC,EAAK2M,OAE1CjG,EAAI5F,MAAiBuC,OAAO,CAACvC,IAAOwI,GAASxI,IAAOwI,KAAUjJ,MAAM,CAAC,EAAGK,IAAQ6I,OAChF1C,EAAI/F,MAAiBuC,OAAO,CAACvC,IAAO0I,GAAS1I,IAAO0I,KAAUnJ,MAAM,CAACO,EAAQ,IAAI2I,OAEjFzI,IAAUgB,MAAMZ,UAAU,UAAUxB,KAAK0B,EAAE,IACxCD,KAAK,UACLH,KAAK,MAAM,SAACI,EAAG5D,GACd,OAAIkJ,EAAE9I,WAAWwD,EAAEmG,KAAa,GACvB,GAEAb,EAAE9I,WAAWwD,EAAEmG,KAAa7G,EAAQ,GACpCA,EAAQ,GAEVgG,EAAEtF,EAAEmG,IAAY,KAExBvG,KAAK,MAAM,SAACI,EAAG5D,GACd,OAAIqJ,EAAEjJ,WAAWwD,EAAEuL,KAAwB,GAClC,GAEA9F,EAAEjJ,WAAWwD,EAAEuL,KAAyB/L,EAAS,GACjDA,EAAS,GAEXiG,EAAEjJ,WAAWwD,EAAEuL,KAAwB,KAG/C3L,KAAK,iBAAiB,SAAAI,GAAC,OAAIA,EAAEuL,MAC7B3L,KAAK,IAAK,GACVA,KAAK,QAAS,UACdA,KAAK,QAAQ,SAACI,GAAD,OAAOsG,EAAKlG,MAAMoI,UAAUxI,EAAC,UAC1CJ,KAAK,MAAM,SAAAI,GAAC,MAAI,IAAMsI,OAAOtI,EAAC,OAAWzE,QAAQ,MAAO,OACxDqE,KAAK,SAAS,SAAUI,GACvB,MAAO,WAAasI,OAAOtI,EAAC,cAAoB,kBAEjDJ,KAAK,eAAeI,EAAE,IACtBuC,GAAG,SAAS,SAAAvC,GACXsG,EAAKlG,MAAMqI,0BAA0B,IAAMzI,EAAC,aAKlD,IAAIqB,EAAM3B,IAAU,QAAQ4B,OAAO,OAChC1B,KAAK,QAAS,YACd2B,MAAM,UAAW,GACpB7B,IAAa,gBACV6C,GAAG,aAAa,SAAUvC,GACzBqB,EAAIa,aACDC,SAAS,KACTZ,MAAM,UAAW,IACpBF,EAAImB,KAAK,MAAQxC,EAAC,MAAY,iBAA6BN,IAAUgB,MAAMd,KAAK,gBAAkB,QAE/F2B,MAAM,OAAS7B,IAAS+C,MAAS,MACjClB,MAAM,MAAQ7B,IAASgD,MAAQ,GAAM,SAEzCH,GAAG,YAAY,SAAUvC,GACxBN,IAAa,aAAawC,aACvBC,SAAS,KACTZ,MAAM,UAAW,OA7LP,EAmMnB+K,gBAAkB,SAAChO,EAAM6H,EAASmF,GAChC,IAAIhF,EAAI,eACNiF,EAAqBpF,EAAU,gBAC7BE,EAAgB,EAAhBA,EAA0B,GAA1BA,EAAsC,GAAtCA,EAAgD,GAAhDA,EAAoE,GAAM/G,EAAQ,IAAM+G,EAAcA,EAAc7G,EAAS,IAAM6G,EAAaA,EAChJkG,EAAe,GACnBjO,EAAK5B,KAAI,SAAAkC,GAAc2N,EAAa3N,EAAKuH,IAAY,EAAKoG,EAAa3N,EAAKuH,KAAa,EAAWoG,EAAa3N,EAAKuH,IAAY,KAElI,IAAI+B,EAAS7L,OAAOC,KAAKiQ,GACvBnE,EAAS/L,OAAOmQ,OAAOD,GACvB9G,EAAI/F,MAAiBuC,OAAO,CAACvC,IAAO0I,GAAS1I,IAAO0I,KAAUnJ,MAAM,CAACO,EAAQ,IAAI2I,OAE/E7C,EAAI5F,MAAeuC,OAAOiG,GAAQjJ,MAAM,CAAC,EAAGK,IAAQ+D,QAAQ,IAO5DmI,EAAa9L,IAAU,IAAM4G,EAAKlG,MAAMqL,MAAM7L,KAAK,QAASN,EAAQ+G,EAAcA,GAAczG,KAAK,SAAUJ,EAAS6G,EAAaA,EAAgBA,GACvJe,EAAOoE,EAAW1L,UAAU,UAAUxB,KAAK,CAAC,IAAIyB,KAAK,OAAOH,KAAK,IAAKyG,GAAuBzG,KAAK,QAAS,SAASE,UAAU,QAAQxB,KAAK,CAAC,IAAIyB,KAAK,KAAKH,KAAK,QAAS,OAAOA,KAAK,YAClL,aAAeyG,EAAc,IAAMA,EAAa,KAGhDqF,EAAcrF,EAClBZ,EAAI/F,MAAiBuC,OAAO,CAAC,EAAGvC,IAAO0I,KAAUnJ,MAAM,CAACyM,EAAa,IAAIvD,OACzE,IAAI2D,EAAON,EAAW1L,UAAU,SAASxB,KAAK,CAAC,IAAIyB,KAAK,OAAOH,KAAK,QAAS,QAAQE,UAAU,SAASxB,KAAK,CAAC,IAAIyB,KAAK,KAAKH,KAAK,QAAS,QACvIA,KAAK,YAAa,aAAeyG,EAAc,IAAMA,EAAa,KAErEyF,EAAKhM,UAAU,WAAWxB,KAAK,CAAC,IAAIyB,KAAK,QAAQH,KAAK,QAAS,UAAUA,KAAK,KAAM,GAAGA,KAAK,KAAMyG,GAAuBzG,KAAK,KAAMN,GAAOM,KAAK,KAAMyG,GAAuBzG,KAAK,SAAU,WAC5LkM,EAAKhM,UAAU,QAAQxB,KAAKjC,OAAO8C,QAAQoN,IAAexM,KAAK,QAC5DH,KAAK,KAAK,SAAAI,GAAC,OAAIsF,EAAEtF,EAAE,OACnBJ,KAAK,OAAQ,WACbA,KAAK,QAAS0F,EAAEmH,aAChB7M,KAAK,KAAK,SAAAI,GAAC,OAAIyF,EAAEzF,EAAE,OACnBJ,KAAK,UAAU,SAAAI,GAAC,OAAI0L,EAAcjG,EAAEzF,EAAE,QAGrCoH,EAAOoE,EAAW1L,UAAU,UAAUxB,KAAK,CAAC,IAAIyB,KAAK,OAAOH,KAAK,QAAS,SAASE,UAAU,QAAQxB,KAAK,CAAC,IAAIyB,KAAK,KAAKH,KAAK,QAAS,OAAOA,KAAK,YACrJ,aAAeyG,EAAc,IAAMA,EAAa,MAC7CvG,UAAU,YAAYxB,KAAK,CAAC,IAAIyB,KAAK,QAAQH,KAAK,QAAS,WAAWA,KAAK,KAAM,GAAGA,KAAK,KAAM,GAAGA,KAAK,KAAM,GAAGA,KAAK,KAAMJ,GAAQI,KAAK,SAAU,WACvJwH,EAAKtH,UAAU,YAAYxB,KAAK,CAAC,IAAIyB,KAAK,QAAQH,KAAK,QAAS,WAAWA,KAAK,KAAM,GAAGA,KAAK,KAAMJ,GAAQI,KAAK,KAAMN,GAAOM,KAAK,KAAMJ,GAAQI,KAAK,SAAU,WAIhK,IAAIqM,EAAKvM,MAAkBuC,OAAO,CAAC,IAAK,IAAK,OAAOhD,MAAM,CAACO,EAAS,EAAGA,EAAS,EAAI,EAAIA,EAAU,IAClG4H,EAAKtH,UAAU,YAAYxB,KAAK,CAAC,IAAIyB,KAAK,KAAKH,KAAK,QAAS,WAC1D0K,KAAK5K,IAAYuM,GAAIC,SAAkB,GAAR5M,GAAa6M,MAAM,GAAGC,WAAW,CAAC,IAAK,IAAK,OAAOC,YAAW,SAAArM,GAAC,OAAIA,MAClGL,OAAO,WAAWkG,SACrBuB,EAAKtH,UAAU,YAAYA,UAAU,QAAQ+F,SAC7CnG,IAAa,UAAUI,UAAU,YAAYxB,KAAK,CAAC,CAAC,OAAQkB,EAAS,GAAI,CAAC,MAAQ,EAAIA,EAAU,GAAI,CAAC,IAAKA,EAAS,GAAI,CAAC,MAAQ,EAAIA,EAAU,GAAI,CAAC,OAAS,EAAIA,EAAU,KAAKO,KAAK,QAAQH,KAAK,QAAS,WACvMA,KAAK,IAAK,IAAIA,KAAK,KAAK,SAACI,EAAG5D,GAAJ,OAAU4D,EAAE,GAAK,KAAGE,MAAK,SAAAF,GAAC,OAAIA,EAAE,MAAIJ,KAAK,YAAa,IAAIA,KAAK,cAAe,OACzGF,IAAa,UAAUE,KAAK,wBAAwB,WAClDF,IAAUgB,MAAMZ,UAAU,eAAexB,KAAK,CAAC,KAAM,OAAOyB,KAAK,QAAQH,KAAK,QAAS,cACpFA,KAAK,KAAM,IACXA,KAAK,KAAM,IACXA,KAAK,MAAM,SAAAI,GAAC,OAAKR,EAASQ,EAAK,KAC/BJ,KAAK,MAAM,SAAAI,GAAC,OAAKR,EAASQ,EAAK,KAC/BuB,MAAM,SAAU,cAGrB7B,IAAa,UAAUI,UAAU,UAAUxB,KAAK,CAAC,IAAIyB,KAAK,QAAQH,KAAK,QAAS,SAC7EA,KAAK,KAAM,IACXA,KAAK,KAAM,IACXA,KAAK,MAAM,SAAAI,GAAC,OAAKR,EAAS,KAC1BI,KAAK,MAAM,SAAAI,GAAC,OAAKR,EAAS,KAC1B+B,MAAM,SAAU,WAInB6F,EAAKtH,UAAU,YAAYxB,KAAK,CAAC,IAAIyB,KAAK,KAAKH,KAAK,QAAS,WAC1DA,KAAK,YAAa,eAAiBJ,EAAS,KAC5C8K,KAAK5K,IAAc4F,GAAG4G,SAAmB,KAAT1M,IAAeM,UAAU,QACzDyB,MAAM,cAAe,OACrB3B,KAAK,KAAM,SACXA,KAAK,KAAM,OACXA,KAAK,YAAa,eAClBE,UAAU,cAAc+F,SAC3BuB,EAAKtH,UAAU,WAAW+F,SAC1BuB,EAAKtH,UAAU,cAAcF,KAAK,SAAU,WAG5CwH,EAAKtH,UAAU,kBAAkBxB,KAAKgN,GAAkBvL,KAAK,KAAKH,KAAK,MAAM,SAAAI,GAAC,OAAIA,EAAE,GAAK,sBAAoBJ,KAAK,QAAS,iBAAiBA,KAAK,MAAM,SAAUI,GAC/J,IAAIoI,EAASpI,EAAE,GAAGtD,KAAI,SAAAkC,GAAI,OAAIpC,WAAWoC,EAAKuH,EAAU,qBACxDV,EAAI/F,MAAiBuC,OAAO,CAACvC,IAAO0I,GAAS1I,IAAO0I,KAAUnJ,MAAM,CAACO,EAAQ,IAAI2I,OAEjFzI,IAAUgB,MAAMZ,UAAU,UAAUxB,KAAK0B,EAAE,IACxCD,KAAK,UACLH,KAAK,MAAM,SAACI,EAAG5D,GACd,OAAOkJ,EAAEtF,EAAEmG,IAAYb,EAAEmH,YAAc,KAExC7M,KAAK,MAAM,SAACI,EAAG5D,GACd,OAAIqJ,EAAEjJ,WAAWwD,EAAEuL,KAAwB,GAClC,GAEA9F,EAAEjJ,WAAWwD,EAAEuL,KAAyB/L,EAAS,GACjDA,EAAS,GAEXiG,EAAEjJ,WAAWwD,EAAEuL,KAAwB,KAG/C3L,KAAK,iBAAiB,SAAAI,GAAC,OAAIA,EAAEuL,MAC7B3L,KAAK,IAAK,GACVA,KAAK,QAAS,UACdA,KAAK,QAAQ,SAACI,GAAD,OAAOsG,EAAKlG,MAAMoI,UAAUxI,EAAC,UAC1CJ,KAAK,MAAM,SAAAI,GAAC,MAAI,IAAMsI,OAAOtI,EAAC,OAAWzE,QAAQ,MAAO,OACxDqE,KAAK,SAAS,SAAUI,GACvB,MAAO,WAAasI,OAAOtI,EAAC,cAAoB,kBAEjDJ,KAAK,eAAeI,EAAE,IACtBuC,GAAG,SAAS,SAAAvC,GACXsG,EAAKlG,MAAMqI,0BAA0B,IAAMzI,EAAC,aAKtD,IAAIqB,EAAM3B,IAAU,QAAQ4B,OAAO,OAClC1B,KAAK,QAAS,YACd2B,MAAM,UAAW,GAClB7B,IAAa,gBACZ6C,GAAG,aAAa,SAAUvC,GACzBqB,EAAIa,aACDC,SAAS,KACTZ,MAAM,UAAW,IACpBF,EAAImB,KAAK,MAAQxC,EAAC,MAAY,iBAA6BN,IAAUgB,MAAMd,KAAK,gBAAkB,QAE/F2B,MAAM,OAAS7B,IAAS+C,MAAS,MACjClB,MAAM,MAAQ7B,IAASgD,MAAQ,GAAM,SAEzCH,GAAG,YAAY,SAAUvC,GACxBN,IAAa,aAAawC,aACvBC,SAAS,KACTZ,MAAM,UAAW,OApUlB,EAAKjB,MAAQ,CAAE,EAAK,IAFH,E,gEAKjBI,KAAKC,SAAS,CAAEoB,EAAG,M,2CAEC,IAAD,OACfvG,EAAY,GAChBkF,KAAKN,MAAMa,eAAevC,QAAO,SAAAE,GAAI,MAAY,WAARA,KAAmBlC,KAAI,SAAAY,GAC9D9B,EAAU8B,GAAS,EAAK8C,MAAM0H,iBAAiB,GAAGxK,MAEpD,IAAIoP,EAAa,GAAGtB,OAAOuB,MAAM,GAAItQ,OAAOmQ,OAAOhR,IAC/C8P,EAAmBjP,OAAO8C,QAAQuB,KAAKN,MAAM0H,iBAAiB,IAAIpJ,QAAO,SAAAE,GAAI,OAAI,EAAKwB,MAAMwM,gBAAgB5P,SAAS4B,EAAK,OAI1H8N,EAAW3P,OAAS,GAClBsL,MAAMqE,EAAW,GAAGhM,KAAKN,MAAM0H,iBAAiB,KAClDpH,KAAK4L,gBAAgBI,EAAYhM,KAAKN,MAAM0H,iBAAiB,GAAIwD,GAQnE5K,KAAKuF,YAAYyG,EAAYhM,KAAKN,MAAM0H,iBAAiB,GAAIwD,GAG3D5K,KAAKN,MAAMwD,4BAA4B7G,OAAS,GAClD2C,IAAa,qBAAqBE,KAAK,UAAWc,KAAKN,MAAMc,OAAOqH,iBAEtE7H,KAAKN,MAAMwD,4BAA4BlH,KAAI,SAAAmQ,GAAM,OAAInN,IAAa,IAAMmN,GAAQjN,KAAK,UAAW,Q,+BA4ShG,OACE,yBAAK2B,MAAO,CAAE8E,OAAQ,GAAIhD,QAAS,GAAIC,OAA4B,GAApB5C,KAAKN,MAAMzB,MAAa,oBAAsB,UAC3F,yBAAK6E,GAAI9C,KAAKN,MAAMqL,MAApB,KACA,uBAAGlK,MAAO,CAAErC,MAAO,UAAW4N,WAAY,MAAOC,WAAY,GAAIC,aAAc,IAAMtM,KAAKN,MAAM0H,iBAAiB,S,GAjVrGrE,aAsWLC,eAhBS,SAACpD,GACvB,MAAO,CAELsM,gBAAiBtM,EAAMsM,gBACvBhJ,4BAA6BtD,EAAMsD,4BACnC1C,OAAQZ,EAAMY,OACd+L,KAAM3M,EAAM2M,KACZC,iBAAkB5M,EAAM4M,iBACxBpJ,gBAAiBxD,EAAMwD,oBAGD,SAACO,GACzB,MAAO,CACLM,gCAAiC,SAACJ,GAAD,OAASF,EAAS,CAAEvI,KAAM,8BAA+B0I,MAAOD,QAGtFb,CAA4CsC,G,gGCzR3D,IAWetC,gBAXS,SAACpD,GACvB,MAAO,CACLsM,gBAAgBtM,EAAMsM,oBAGA,SAACvI,GACzB,MAAO,CACLI,mBAAoB,SAACF,GAAD,OAASF,EAAS,CAAEvI,KAAM,iBAAkB0I,MAAOD,KACvE4I,oBAAqB,SAAC5I,GAAD,OAASF,EAAS,CAAEvI,KAAM,kBAAmB0I,MAAOD,QAG9Db,EApFf,SAAkBtD,GAAQ,IAAD,EACSgN,IAAMC,SAAS,MADxB,mBAChBC,EADgB,KACNC,EADM,KAEjBC,EAAOC,QAAQH,GAFE,EAUOF,IAAMC,SAAS,CAAC,IAVvB,mBAUhBK,EAVgB,KAUPC,EAVO,KAWjBC,EAAe,SAACpJ,GAAD,OAAW,WAC9B,IAAMqJ,EAAeH,EAAQ7D,QAAQrF,GAC/BsJ,EAAU,YAAOJ,IACD,IAAlBG,EACFC,EAAWlS,KAAK4I,GAEhBsJ,EAAWhE,OAAO+D,EAAc,GAElCF,EAAWG,KAcb,OACE,6BACE,kBAACC,EAAA,EAAD,CAAQC,gBAAc,YAAYC,gBAAc,OAAOC,QAhCvC,SAAC3G,GACnBgG,EAAYhG,EAAM4G,iBA+BhB,gBAEE,kBAAC,KAAD,OAEF,kBAACC,GAAA,EAAD,CACE5K,GAAG,YACH8J,SAAUA,EACVe,aAAW,EACXb,KAAMA,EACNc,QAtCc,WAClBf,EAAY,OAsCRgB,oBAAqBC,MAErB,yBAAKpL,UAAU,qBACb,kBAACqL,GAAA,EAAD,KACGrO,EAAMa,eAAevE,KAAI,SAAC8H,GACzB,IAAMkK,EAAO,8BAA0BlK,GACvC,OACE,kBAACmK,GAAA,EAAD,CAAUpS,IAAKiI,EAAOoK,UAAMzD,EAAW+C,QAASN,EAAapJ,IAC3D,kBAACqK,GAAA,EAAD,CACEnB,QAAStN,EAAMwM,gBAAgB5P,SAASwH,GACxCsK,KAAK,QACLC,UAAW,EACXvK,MAAOA,EACPwK,SAAU,SAACzH,EAAO/C,IApCZ,SAAC+C,GACvB,IAAI0H,EAAY,YAAI7O,EAAMwM,iBAAiBlO,QAAO,SAAAE,GAAI,MAAQ,WAANA,KACpDqQ,EAAYjS,SAASuK,EAAM2H,OAAO1K,QACpCyK,EAAc7O,EAAMwM,gBAAgBlO,QAAO,SAAAE,GAAI,OAAIA,GAAQ2I,EAAM2H,OAAO1K,SACxEpE,EAAM+M,oBAAoB8B,KAG1BA,EAAYrT,KAAK2L,EAAM2H,OAAO1K,OAC9BpE,EAAM+M,oBAAoB8B,IA6BVE,CAAgB5H,MAIpB,uBAAGnE,UAAU,kBAAkBI,GAAIkL,GAAUlK,cChC/D,IAced,gBAdS,SAACpD,GACrB,MAAO,CACHwH,iBAAkBxH,EAAMwH,iBACxBsH,SAAU9O,EAAM8O,SAChBzH,mBAAmBrH,EAAMqH,uBAGP,SAACtD,GACvB,MAAO,CACH2D,aAAc,SAACzD,GAAD,OAASF,EAAS,CAAEvI,KAAM,WAAY0I,MAAOD,KAC3DsD,uBAAwB,SAACtD,GAAD,OAASF,EAAS,CAAEvI,KAAM,qBAAsB0I,MAAOD,KAC/EmD,qBAAsB,SAACnD,GAAD,OAASF,EAAS,CAAEvI,KAAM,mBAAoB0I,MAAOD,QAGpEb,EA7CR,SAAuBtD,GAM1B,OALAjD,QAAQC,IAAIgD,EAAMuH,oBAMd,yBAAKpG,MAAO,CAAE8N,SAAU,aACD,GAAlBjP,EAAMgP,SACH,yBAAK7N,MAAO,CAAEsH,IAAK,KAAMyG,KAAM,MAAOD,SAAU,QAAQE,cAAc,OAAOC,gBAAgB,gBACzF,kBAAC,IAAD,KACI,kBAACrM,EAAA,EAAD,CAAM5B,MAAO,CAAEiO,gBAAiB,UAAWjM,UAAW,4BAA4BgM,cAAc,SAC5F,kBAACpM,EAAA,EAAD,CAAMnE,WAAS,EAACuC,MAAO,CAAEkO,aAAc,oBAAqBzC,aAAc,IACtE0C,UAAU,MACVC,QAAQ,gBACRC,WAAW,UAEX,kBAACC,GAAD,CAAa5O,eAAgBb,EAAMa,iBACnC,kBAAC8M,EAAA,EAAD,CAAQ7O,MAAM,YAAYsE,GAAG,yBAAyB0K,QAhB9D,WAChB9N,EAAM4H,cAAa,GACnB5H,EAAMyH,uBAAuB,MAcL,UAEJ,kBAAC1E,EAAA,EAAD,CAAMnE,WAAS,EAAC0Q,UAAU,MAAMC,QAAQ,SAASC,WAAW,SAASrO,MAAO,CAACuO,UAAU,IAAIC,SAAS,SAASC,SAAS,OAElH5P,EAAMuH,mBAAmB5K,OAAO,EAAEqD,EAAMuH,mBAAmBjL,KAAI,SAACkC,EAAKD,GAAN,OAAc,kBAAC,EAAD,CAAWA,MAAOA,EAAOmJ,iBAAkB,CAAC1H,EAAM0H,iBAAiB,GAAGlJ,GAAOqC,eAAgBb,EAAMa,eAAgBwK,KAAM7M,EAAKrD,QAAQ,MAAO,IAAIA,QAAQ,8CAA+C,IAAKiN,UAAWpI,EAAMoI,UAAWC,0BAA2BrI,EAAMqI,+BAAyC,kBAAC,EAAD,CAAWX,iBAAkB1H,EAAM0H,iBAAkB7G,eAAgBb,EAAMa,eAAgBwK,KAAK,QAAQjD,UAAWpI,EAAMoI,UAAWC,0BAA2BrI,EAAMqI,gCAK5iB,SC1BnBtI,G,kDACJ,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IAoCR6P,aAAe,SAACC,GACd,IAAInU,EACqCA,EAAZ,UAAzB,EAAKqE,MAAM0B,WAAwC,EAAK1B,MAAM+P,kBAElD,EAAK/P,MAAMgQ,kBAG3B,IAAIC,EAAU,CAAE,EAAK,GAAI,EAAK,IAC1B1M,EAAa,EAAKvD,MAAMuD,WACxB2M,EAAwB,EAAKlQ,MAAMlE,qBAAqB,EAAKkE,MAAMnE,eACnEsU,EAAWD,EAAsBvT,OACjC+E,EAAa,EAAK1B,MAAM8M,iBAExBsD,EAA6B,MAAfzU,EAAsBA,EAAY,GAAK,GACrDyU,EAAc,IAAKA,GAAe,GAClCA,EAAc,IAAKA,EAAc,GACjCA,EAAc7M,IAAcA,EAAa6M,IAC7CA,GAA4B7M,GACV,IAAK6M,EAAc,EAAG7M,EAAa,GACrD,IAAI8M,EAAsBD,EAAc7M,EAAa,EAErDA,EAAa,EAAKvD,MAAMuD,WACxB,IAAI+M,EAA2B,MAAf3U,EAAsBA,EAAY,GAAK,GACnD4U,EAAsBD,GAC1BA,GAAwB/M,GACR4M,IACdI,EAAsBD,EAAY/M,EAClC+M,EAAYH,GAGd,IAAK,IAAInU,EAAIoU,EAAapU,EAAIsU,EAAWtU,IAAK,CAC5C,IAAIwU,EAAQ,GACRC,EAAQ,GACZD,EAAK,MAAY9O,EACjB8O,EAAK,KAAWN,EAAsBlU,GAAtB,MAChBwU,EAAK,KAAWN,EAAsBlU,GAAtB,aAChByU,EAAK,KAAWP,EAAsBlU,GAAtB,MAChByU,EAAK,KAAWP,EAAsBlU,GAAG0F,GACzCuO,EAAO,EAAMzU,KAAKgV,GAClBP,EAAO,EAAMzU,KAAKiV,IClFjB,SAA2BC,EAAM5U,EAAsBsU,EAAaE,EAAWD,EAAqBE,EAAqB7O,EAC9HrG,EAAMqJ,EAAiB1J,EAAgBF,EAAe8I,EAAgByE,EACtEpI,EAAY6P,EAASa,EAAqC7P,GAC1D,IAEI8P,EAAoB9P,EAAOwF,WAC3BuK,EAAoB/P,EAAOyF,WAC3BuK,EAAsBR,EAAYF,EAClCW,EAAe,GACnBjV,EAAoB,EAAMb,SAAQ,SAAU2E,GAAKmR,EAAavV,KAAKoE,MACnE9D,EAAoB,EAAMb,SAAQ,SAAU2E,GAAKmR,EAAavV,KAAKoE,MACnE,IAAIoR,EAAe1R,MAAUnD,KAAI,SAAUyD,GAAK,OAAOA,EAAEqR,QAAQlS,QAAQgS,GAGrE9K,EAAgB,GAAhBA,EAA2B,GAA3BA,EAAuC,GAAvCA,EAAiD,IACrD,GAAkB,UAAdvE,EAAwB,CAC1B,IAAIwP,EAAgCjS,EAAE,yBAAyBG,SAE/DF,EAD+BD,EAAE,2BAA2BC,QACrB+G,EAAcA,GACnDkL,EAAiBD,EAAgCJ,GAhB7B,KAiBeK,EAjBf,IAkBxB,IAAI/R,EAAU0R,EAAqBK,EAAgB,GACjD7R,IAAa,2BAA2B6B,MAAM,SAAU/B,EAAS,MACjEE,IAAa,qBAAqB6B,MAAM,SAAU/B,EAAS,oBAExD,CACH,IAGE+R,EAHEC,EAAgCnS,EAAE,yBAAyBG,SAE/DF,EAD+BD,EAAE,2BAA2BC,QACrB+G,EAAcA,GACnDkL,EAAiBC,EAAgCN,GA1B7B,KA2BeK,EA3Bf,IA4BpB/R,EAAU0R,EAAqBK,EAAgB,GACnD7R,IAAa,2BAA2B6B,MAAM,SAAU/B,EAAS,MAC/DE,IAAa,mBAAmB6B,MAAM,SAAU/B,EAAS,MACzDE,IAAa,cAAc6B,MAAM,SAAU/B,EAAS,MACpDE,IAAa,qBAAqB6B,MAAM,SAAU/B,EAAS,gBAGzD0B,EAAS,CAAEuQ,QAAS,EAAGnS,MAAOA,EAAOE,OADzCA,GAAkB,GACuCkS,iBAAkB,EAAGC,eAAgB,GAAIC,OAAQ,EAAGC,iBAAkBN,GAA/H,IAEIO,EAASpS,MAAiBT,MAAM,CAAC,EAAGO,IAASyC,OAAO,CAACuO,EAAaE,IAClEqB,EAAiBD,EAAOV,EAAa,GAAG5E,OAAO,GAAG7Q,MAClD8D,EAAMC,IAAU,IAAMoC,GAAYlC,KAAK,QAASN,EAAQ+G,EAAcA,GAAczG,KAAK,SAAUJ,EAAS6G,EAAaA,GAC1H1G,OAAO,QAAQC,KAAK,YADb,qBAGNoS,EAAcvS,EAAIK,UAAU,iBAAiBxB,KAAK,CAAC,IAAIyB,KAAK,KAAKH,KAAK,QAAS,gBACnFoS,EAAYlS,UAAU,UAAUxB,KAAK,CAAC,IAAIyB,KAAK,QAAQH,KAAK,QAAS,SAASA,KAAK,OAAQ,SAASA,KAAK,KAAM,GAAGA,KAAK,KAAM,GAAGA,KAAK,KAAM,GAAGA,KAAK,KAAMsB,EAAO1B,QAChKwS,EAAYlS,UAAU,UAAUxB,KAAK,CAAC,IAAIyB,KAAK,QAAQH,KAAK,QAAS,SAASA,KAAK,OAAQ,SAASA,KAAK,KAAMN,GAAOM,KAAK,KAAM,GAAGA,KAAK,KAAMN,GAAOM,KAAK,KAAMsB,EAAO1B,QAElJC,EAAIK,UAAU,cAAcxB,KAAK8S,GAAc,SAAApR,GACnE,QAAUmL,IAANnL,EACF,OAAOA,EAAEzD,OAEVwD,MAEH,SAAiBkS,GAsOf,OAAOA,EACJ3Q,OAAO,KACP1B,KAAK,QAAS,aACdA,KAAK,MAAM,SAAAI,GAAC,MAAI,IAAMA,EAAEzD,IAAIhB,QAAQ,MAAO,OAC3C+O,MAxOmB,SAAA4H,GAEpBA,EAAE5Q,OAAO,QACN1B,KAAK,KAAK,SAAAI,GAAC,OAAKkB,EAAOwQ,oBACvB9R,KAAK,KAAK,SAAAI,GAAC,OAAI8R,EAAO9R,EAAEwM,OAAO,GAAG7Q,MAAQoW,KAC1CnS,KAAK,MAAOsB,EAAOyQ,gBACnB/R,KAAK,KAAM,GACXA,KAAK,MAAM,SAAAI,GAAC,MAAI,IAAMA,EAAEzD,IAAIhB,QAAQ,MAAO,OAC3CqE,KAAK,SAAS,SAACI,GACd,MAAO,OAASA,EAAEwM,OAAO,GAAG7Q,KAAO,iCAEpCiE,KAAK,cAAe,OACpB2C,GAAG,aAAa,SAAUvC,GACzB,IAAIqB,EAAM3B,IAAU,QAAQ4B,OAAO,OAChC1B,KAAK,KAAM,MAAQI,EAAEzD,IAAIhB,QAAQ,MAAO,KACxCqE,KAAK,QAAS,WACd2B,MAAM,UAAW,GACpBF,EAAIa,aACDC,SAAS,KACTZ,MAAM,UAAW,KACpBF,EAAImB,KAAK,MAAQxC,EAAEzD,IAAM,0BAAsCyD,EAAEwM,OAAO,GAAG7Q,KAAO,QAC/E4F,MAAM,QAAS,SAACvB,GAEf,OADqBX,EAAE,mBAAmBC,QAClB,IAAM,QAE/BiC,MAAM,MAAQ7B,IAASgD,MAAQ,GAAM,SAEzCH,GAAG,YAAY,SAAUvC,GACJA,EAAEzD,IAAIhB,QAAQ,MAAO,IACzCmE,IAAU,QAAQI,UAAU,YAAYoC,aACrCC,SAAS,KACTZ,MAAM,UAAW,GAAGsE,YAExBtD,GAAG,SAAS,SAAUvC,GACrB,OAAOyI,EAA0B,IAAMzI,EAAEzD,QAQ1C2D,MAAK,SAAAF,GACJ,IAAIuE,EAAMvE,EAAEzD,IAEZ,OADIgI,EAAIxH,OAAS,KAAMwH,EAAMA,EAAIhJ,QAAQ,aAAc,MAChDgJ,EAAIxH,OAAS,GAAKwH,EAAI5H,UAAU,EAAG,IAAM4H,KAEjD3E,KAAK,QAAQ,SAAUI,GACtB,OAAIA,EAAEwM,OAAO,GAAG7Q,KAAO8U,GAGdzQ,EAAEwM,OAAO,GAAG7Q,KAAOgV,EAFnB,wBAMAtQ,EAAWL,EAAEzD,QAI1B2V,EAAE5Q,OAAO,OACN1B,KAAK,SAAS,SAAAI,GAAC,MAAI,QAAU8B,EAAa9B,EAAEwM,OAAO,GAAG6E,KAAK9V,QAAQ,KAAM,IAAIA,QAAQ,YAAa,IAAM,cACxGqE,KAAK,KAAK,SAAAI,GACT,OAAQkB,EAAOwQ,iBAAmBxQ,EAAOyQ,eAAiB,KAE3D/R,KAAK,MAAM,SAAAI,GAAC,MAAI,IAAMA,EAAEzD,IAAIhB,QAAQ,MAAO,OAC3CqE,KAAK,KAAK,SAAAI,GAAC,OAAI8R,EAAO9R,EAAEwM,OAAO,GAAG7Q,MAAQoW,EAAiB,MAC3DzQ,OAAO,QACP1B,KAAK,QAAS,UACdA,KAAK,WAAW,SAAAI,GACf,IAAIoD,EAAYtB,EAAa9B,EAAEwM,OAAO,GAAG6E,KAAK9V,QAAQ,KAAM,IAAIA,QAAQ,YAAa,IAAM,WAC3F,GAAIyE,EAAEwM,OAAO,GAAG7Q,KAAO8U,GAAuBzQ,EAAEwM,OAAO,GAAG7Q,KAAOgV,EAAuB,IAAI3L,EAAkB,YAAoBA,EAAkB3E,EAAWL,EAAEzD,KAEjK,OADA4V,EAAwB/O,EAAWhI,EAAgB4E,EAAEzD,IAAIhB,QAAQ,KAAM,IAAIA,QAAQ,YAAa,IAAKyE,EAAEzD,IAAKd,EAAMqJ,EAAiB9E,EAAEwM,OAAO,GAAG7Q,KAAMqJ,EAAiBhF,EAAEzD,IAAIhB,QAAQ,MAAO,KACpL,KAIX2W,EAAE5Q,OAAO,QACN1B,KAAK,MAAM,SAAAI,GAAC,MAAI,IAAMA,EAAEzD,IAAIhB,QAAQ,MAAO,OAC3CqE,KAAK,SAAS,SAACI,GAAD,MAAO,OAASA,EAAEwM,OAAO,GAAG7Q,KAAO,qCACjDiE,KAAK,KAAK,SAAAI,GAAC,OAAKkB,EAAOwQ,oBACvB9R,KAAK,KAAK,SAAAI,GAAC,OAAI8R,EAAO9R,EAAEwM,OAAO,GAAG7Q,MAAQoW,KAC1CnS,KAAK,MAAO,IACZA,KAAK,KAAM,GACXA,KAAK,cAAe,OACpBM,MAAK,SAAAF,GAAC,OAAKA,EAAEwM,OAAO,GAAG7Q,QACvBiE,KAAK,QAAQ,SAAUI,GACtB,OAAIA,EAAEwM,OAAO,GAAG7Q,KAAO8U,GAGdzQ,EAAEwM,OAAO,GAAG7Q,KAAOgV,EAFnB,wBAMAtQ,EAAWL,EAAEzD,QAI1B2V,EAAE5Q,OAAO,UACN1B,KAAK,MAAM,SAAAI,GAAC,MAAI,IAAMA,EAAEzD,IAAIhB,QAAQ,MAAO,OAC3CqE,KAAK,KAAK,SAAAI,GACT,OAAIA,EAAEwM,OAAO,GAAG7Q,KAAO8U,GAGdzQ,EAAEwM,OAAO,GAAG7Q,KAAOgV,EAFnB,EAKKzP,EAAO0Q,UAEtBhS,KAAK,MAAM,SAAAI,GAAC,OAAI8R,EAAO9R,EAAEwM,OAAO,GAAG7Q,MAAQoW,KAC3CnS,KAAK,SAAS,SAACI,GACd,OAAOA,EAAEwM,OAAO,GAAG6E,KAAK9V,QAAQ,KAAM,IAAIA,QAAQ,YAAa,IAAM,QAAUyE,EAAEwM,OAAO,GAAG7Q,KAAO,kBAEnGiE,KAAK,QAAQ,SAAUI,GACtB,OAAIA,EAAEwM,OAAO,GAAG7Q,KAAO8U,GAIdzQ,EAAEwM,OAAO,GAAG7Q,KAAOgV,EAFnB,wBAOAtQ,EAAWL,EAAEzD,QAI1B2V,EAAE5Q,OAAO,QACN1B,KAAK,MAAM,SAAAI,GAAC,MAAI,IAAMA,EAAEzD,IAAIhB,QAAQ,MAAO,OAC3CqE,KAAK,SAAS,SAACI,GAAD,MAAO,kBAAoBA,EAAEwM,OAAO,GAAG7Q,QACrDiE,KAAK,KAAM,GACXA,KAAK,KAAMsB,EAAO5B,OAClBiD,GAAG,SAAS,SAAUvC,GACrB,OAAOyI,EAA0B,IAAMzI,EAAEzD,QAG1CqD,KAAK,MAAM,SAAUI,GACpB,OAAO8R,EAAO9R,EAAEwM,OAAO,GAAG7Q,MAAQoW,KAEnCnS,KAAK,MAAM,SAAUI,GACpB,OAAO8R,EAAO9R,EAAEwM,OAAO,GAAG7Q,MAAQoW,KAEnCnS,KAAK,UAAU,SAACI,GACf,OAAIA,EAAEwM,OAAO,GAAG7Q,KAAO8U,GAGdzQ,EAAEwM,OAAO,GAAG7Q,KAAOgV,EAFnB,cAMAtQ,EAAWL,EAAEzD,QAQ1B2V,EAAE5Q,OAAO,UACN1B,KAAK,MAAM,SAAAI,GAAC,MAAI,IAAMA,EAAEzD,IAAIhB,QAAQ,MAAO,OAC3CqE,KAAK,MAAM,SAAAI,GAAC,OAAI8R,EAAO9R,EAAEwM,OAAO,GAAG7Q,MAAQoW,KAAgBnS,KAAK,SAAS,SAACI,GACzE,OAAOA,EAAEwM,OAAO,GAAG6E,KAAK9V,QAAQ,KAAM,IAAIA,QAAQ,YAAa,IAAM,qBAAuByE,EAAEwM,OAAO,GAAG7Q,QAEzGiE,KAAK,KAAK,SAAAI,GACT,OAAIA,EAAEwM,OAAO,GAAG7Q,KAAO8U,GAGdzQ,EAAEwM,OAAO,GAAG7Q,KAAOgV,EAFnB,EAKKzP,EAAO0Q,UAEtBhS,KAAK,KAAMsB,EAAO5B,OAClBM,KAAK,QAAQ,SAACI,GACb,KAAMA,EAAEwM,OAAO,GAAG7Q,KAAO8U,EAAsBzQ,EAAEwM,OAAO,GAAG7Q,KAAOgV,GAChE,OAAOtQ,EAAWL,EAAEzD,QAI1B2V,EAAE5Q,OAAO,QACN1B,KAAK,MAAM,SAAAI,GAAC,MAAI,IAAMA,EAAEzD,IAAIhB,QAAQ,MAAO,OAC3CqE,KAAK,SAAS,SAACI,GAAD,MAAO,uCAAyCA,EAAEwM,OAAO,GAAG7Q,QAC1EiE,KAAK,KAAK,SAAAI,GAAC,OAAIV,EAAQ4B,EAAOwQ,oBAC9B9R,KAAK,KAAK,SAAAI,GAAC,OAAI8R,EAAO9R,EAAEwM,OAAO,GAAG7Q,MAAQoW,KAC1CnS,KAAK,KAAM,IACXA,KAAK,KAAM,GACXA,KAAK,cAAe,SACpBM,MAAK,SAAAF,GACJ,OAAIA,EAAEwM,OAAO,GAAG7Q,KAAO8U,GAAuBzQ,EAAEwM,OAAO,GAAG7Q,KAAOgV,EACxD,GAGA3Q,EAAEwM,OAAO,GAAG7Q,QAGtBiE,KAAK,QAAQ,SAAUI,GACtB,OAAIA,EAAEwM,OAAO,GAAG7Q,KAAO8U,GAAuBzQ,EAAEwM,OAAO,GAAG7Q,KAAOgV,EACxD,GAGAtQ,EAAWL,EAAEzD,QAGvBgG,GAAG,SAAS,SAAUvC,GACrB,OAAOyI,EAA0B,IAAMzI,EAAEzD,QAI7C2V,EAAE5Q,OAAO,OACN1B,KAAK,SAAS,SAAAI,GAAC,MAAI,QAAU8B,EAAWvG,QAAQ,IAAK,UAAYyE,EAAEwM,OAAO,GAAG6E,KAAK9V,QAAQ,KAAM,IAAIA,QAAQ,YAAa,IAAI6W,MAAM,KAAKrS,KAAK,QAC7IH,KAAK,KAAK,SAAAI,GACT,OAAOV,EAAQ4B,EAAOwQ,iBAAmB,MAE1C9R,KAAK,KAAK,SAAAI,GAAC,OAAI8R,EAAO9R,EAAEwM,OAAO,GAAG7Q,MAAQoW,EAAiB,MAC3DnS,KAAK,SAAS,SAAAI,GACb,GAAIA,EAAEwM,OAAO,GAAG7Q,KAAO8U,GAAuBzQ,EAAEwM,OAAO,GAAG7Q,KAAOgV,EAC/D,OAAO,KAGVrP,OAAO,QACP1B,KAAK,QAAS,WACdA,KAAK,WAAW,SAAAI,GACf,KAAIA,EAAEwM,OAAO,GAAG7Q,KAAO8U,GAAuBzQ,EAAEwM,OAAO,GAAG7Q,KAAOgV,GAG/D,OADA0B,EADgBvQ,EAAWvG,QAAQ,IAAK,UAAYyE,EAAEwM,OAAO,GAAG6E,KAAK9V,QAAQ,KAAM,IAAIA,QAAQ,YAAa,IAAI6W,MAAM,KAAKrS,KAAK,KAC7F3E,EAAgB4E,EAAEzD,IAAIhB,QAAQ,KAAM,IAAIA,QAAQ,YAAa,IAAKwV,EAAsC7V,EAAe8E,EAAEzD,IAAKd,EAAMqJ,EAAiB9E,EAAEwM,OAAO,GAAG7Q,KAAM0E,EAAWL,EAAEzD,KAAMyD,EAAEzD,IAAIhB,QAAQ,MAAO,KAC3O,WAWjB,SAAkB0W,GAGhBA,EAAUtS,OAAO,eACdC,KAAK,KAAMsB,EAAOwQ,kBAClB9R,KAAK,MAAOsB,EAAOyQ,gBACnB/R,KAAK,KAAM,GACXA,KAAK,MAAM,SAAAI,GAAC,MAAI,IAAMA,EAAEzD,IAAIhB,QAAQ,MAAO,OAC3CqE,KAAK,SAAS,SAACI,GACd,MAAO,uBAAyBA,EAAEwM,OAAO,GAAG7Q,KAAO,iBAEpDiE,KAAK,cAAe,OACpB2C,GAAG,aAAa,SAAUvC,GACzB,IAAIqB,EAAM3B,IAAU,QAAQ4B,OAAO,OAChC1B,KAAK,KAAM,MAAQI,EAAEzD,IAAIhB,QAAQ,MAAO,KACxCqE,KAAK,QAAS,WACd2B,MAAM,UAAW,GACpBF,EAAIa,aACDC,SAAS,KACTZ,MAAM,UAAW,KACpBF,EAAImB,KAAK,MAAQxC,EAAEzD,IAAM,0BAAsCyD,EAAEwM,OAAO,GAAG7Q,KAAO,QAC/E4F,MAAM,QAAS,SAACvB,GAEf,OADqBX,EAAE,mBAAmBC,QAClB,IAAM,QAE/BiC,MAAM,MAAQ7B,IAASgD,MAAQ,GAAM,SAEzCH,GAAG,YAAY,SAAUvC,GACJA,EAAEzD,IAAIhB,QAAQ,MAAO,IACzCmE,IAAU,QAAQI,UAAU,YAAYoC,aACrCC,SAAS,KACTZ,MAAM,UAAW,GAAGsE,YAExBtD,GAAG,SAAS,SAAUvC,GACrB,OAAOyI,EAA0B,IAAMzI,EAAEzD,QAQ1C2D,MAAK,SAAAF,GACJ,IAAIuE,EAAMvE,EAAEzD,IAEZ,OADIgI,EAAIxH,OAAS,KAAMwH,EAAMA,EAAIhJ,QAAQ,aAAc,MAChDgJ,EAAIxH,OAAS,GAAKwH,EAAI5H,UAAU,EAAG,IAAM4H,KAEjD3E,KAAK,QAAQ,SAAUI,GAItB,OAHIA,EAAEwM,OAAO,GAAG7Q,KAGXqE,EAAEwM,OAAO,GAAG7Q,KAAO8U,GAAyBzQ,EAAEwM,OAAO,GAAG7Q,KAAOgV,EAC3D,wBAGAtQ,EAAWL,EAAEzD,QAErB2F,aAAaC,UAAS,SAAAnC,GACvB,MAAe,WAAXkQ,EACKc,EAGA,KAGVpR,KAAK,KAAK,SAAAI,GAAC,OAAI8R,EAAO9R,EAAEwM,OAAO,GAAG7Q,MAAQoW,KAG7CE,EAAUtS,OAAO,SACdC,KAAK,SAAS,SAAAI,GAAC,MAAI,QAAU8B,EAAa9B,EAAEwM,OAAO,GAAG6E,KAAK9V,QAAQ,KAAM,IAAIA,QAAQ,YAAa,IAAM,cACxGqE,KAAK,KAAK,SAAAI,GACT,IAAIoD,EAAYtB,EAAa9B,EAAEwM,OAAO,GAAG6E,KAAK9V,QAAQ,KAAM,IAAIA,QAAQ,YAAa,IAAM,WAC3F,GAAIyE,EAAEwM,OAAO,GAAG7Q,KAAO8U,GAAuBzQ,EAAEwM,OAAO,GAAG7Q,KAAOgV,EAAuB,IAAI3L,EAAkB,YAAoBA,EAAkB3E,EAAWL,EAAEzD,KAEjK,OADA4V,EAAwB/O,EAAWhI,EAAgB4E,EAAEzD,IAAIhB,QAAQ,KAAM,IAAIA,QAAQ,YAAa,IAAKyE,EAAEzD,IAAKd,EAAMqJ,EAAiB9E,EAAEwM,OAAO,GAAG7Q,KAAMqJ,EAAiBhF,EAAEzD,IAAIhB,QAAQ,MAAO,MACnL2F,EAAOwQ,iBAAmBxQ,EAAOyQ,eAAiB,KAE3DzP,aAAaC,UAAS,SAAAnC,GACrB,MAAe,WAAXkQ,EACKc,EAGA,KAGVpR,KAAK,KAAK,SAAAI,GAAC,OAAI8R,EAAO9R,EAAEwM,OAAO,GAAG7Q,MAAQoW,EAAiB,MAC3DnS,KAAK,UAAW,GAEnBqS,EAAUtS,OAAO,mBACdC,KAAK,MAAM,SAAAI,GAAC,MAAI,IAAMA,EAAEzD,IAAIhB,QAAQ,MAAO,OAC3CqE,KAAK,SAAS,SAACI,GAAD,MAAO,uBAAyBA,EAAEwM,OAAO,GAAG7Q,KAAO,qBACjEiE,KAAK,KAAK,SAAAI,GAAC,OAAKkB,EAAOwQ,oBACvB9R,KAAK,MAAO,IACZA,KAAK,KAAM,GACXA,KAAK,cAAe,OACpBM,MAAK,SAAAF,GAAC,OAAKA,EAAEwM,OAAO,GAAG7Q,QACvBiE,KAAK,QAAQ,SAAUI,GACtB,OAAIA,EAAEwM,OAAO,GAAG7Q,KAAO8U,GAGdzQ,EAAEwM,OAAO,GAAG7Q,KAAOgV,EAFnB,wBAMAtQ,EAAWL,EAAEzD,QAGvB2F,aAAaC,UAAS,SAAAnC,GACrB,MAAe,WAAXkQ,EACKc,EAGA,KAGVpR,KAAK,KAAK,SAAAI,GAAC,OAAI8R,EAAO9R,EAAEwM,OAAO,GAAG7Q,MAAQoW,KAG7CE,EAAUtS,OAAO,gBACdC,KAAK,MAAM,SAAAI,GAAC,MAAI,IAAMA,EAAEzD,IAAIhB,QAAQ,MAAO,OAC3CqE,KAAK,KAAK,SAAAI,GACT,OAAIA,EAAEwM,OAAO,GAAG7Q,KAAO8U,GAGdzQ,EAAEwM,OAAO,GAAG7Q,KAAOgV,EAFnB,EAKKzP,EAAO0Q,UAEtBhS,KAAK,SAAS,SAACI,GACd,OAAOA,EAAEwM,OAAO,GAAG6E,KAAK9V,QAAQ,KAAM,IAAIA,QAAQ,YAAa,IAAM,QAAUyE,EAAEwM,OAAO,GAAG7Q,KAAO,kBAEnGiE,KAAK,QAAQ,SAAUI,GACtB,OAAIA,EAAEwM,OAAO,GAAG7Q,KAAO8U,GAIdzQ,EAAEwM,OAAO,GAAG7Q,KAAOgV,EAFnB,wBAOAtQ,EAAWL,EAAEzD,QAGvB2F,aAAaC,UAAS,SAAAnC,GACrB,MAAe,WAAXkQ,EACKc,EAGA,KAGVpR,KAAK,MAAM,SAAAI,GAAC,OAAI8R,EAAO9R,EAAEwM,OAAO,GAAG7Q,MAAQoW,KAG9CE,EAAUtS,OAAO,eACdC,KAAK,MAAM,SAAAI,GAAC,MAAI,IAAMA,EAAEzD,IAAIhB,QAAQ,MAAO,OAC3CqE,KAAK,SAAS,SAACI,GAAD,MAAO,kBAAoBA,EAAEwM,OAAO,GAAG7Q,QACrDiE,KAAK,KAAM,GACXA,KAAK,KAAMsB,EAAO5B,OAClBiD,GAAG,SAAS,SAAUvC,GACrB,OAAOyI,EAA0B,IAAMzI,EAAEzD,QAG1CqD,KAAK,UAAU,SAACI,GACf,OAAIA,EAAEwM,OAAO,GAAG7Q,KAAO8U,GAGdzQ,EAAEwM,OAAO,GAAG7Q,KAAOgV,EAFnB,cAMAtQ,EAAWL,EAAEzD,QAGvB2F,aAAaC,UAAS,SAAAnC,GACrB,MAAe,WAAXkQ,EACKc,EAGA,KAGVpR,KAAK,MAAM,SAAUI,GACpB,OAAO8R,EAAO9R,EAAEwM,OAAO,GAAG7Q,MAAQoW,KAEnC7P,aAAaC,UAAS,SAAAnC,GACrB,MAAe,WAAXkQ,EACKe,EAGA,KAGVrR,KAAK,MAAM,SAAUI,GACpB,OAAO8R,EAAO9R,EAAEwM,OAAO,GAAG7Q,SAI9BsW,EAAUtS,OAAO,iBACdC,KAAK,MAAM,SAAAI,GAAC,MAAI,IAAMA,EAAEzD,IAAIhB,QAAQ,MAAO,OAC3CqE,KAAK,SAAS,SAACI,GACd,OAAOA,EAAEwM,OAAO,GAAG6E,KAAK9V,QAAQ,KAAM,IAAIA,QAAQ,YAAa,IAAM,qBAAuByE,EAAEwM,OAAO,GAAG7Q,QAEzGiE,KAAK,KAAK,SAAAI,GACT,OAAIA,EAAEwM,OAAO,GAAG7Q,KAAO8U,GAGdzQ,EAAEwM,OAAO,GAAG7Q,KAAOgV,EAFnB,EAKKzP,EAAO0Q,UAEtBhS,KAAK,KAAMsB,EAAO5B,OAClBM,KAAK,MAAM,SAAAI,GACV,OAAO8R,EAAO9R,EAAEwM,OAAO,GAAG7Q,MAAQoW,KAEnCnS,KAAK,QAAQ,SAACI,GACb,KAAMA,EAAEwM,OAAO,GAAG7Q,KAAO8U,EAAsBzQ,EAAEwM,OAAO,GAAG7Q,KAAOgV,GAChE,OAAOtQ,EAAWL,EAAEzD,QAI1B0V,EAAUtS,OAAO,oBACdC,KAAK,SAAS,SAACI,GAAD,MAAO,uCAAyCA,EAAEwM,OAAO,GAAG7Q,QAC1EiE,KAAK,KAAK,SAAAI,GAAC,OAAIV,EAAQ4B,EAAOwQ,oBAC9B9R,KAAK,KAAK,SAAAI,GAAC,OAAI8R,EAAO9R,EAAEwM,OAAO,GAAG7Q,MAAQoW,KAC1CnS,KAAK,KAAM,IACXA,KAAK,KAAM,GACXA,KAAK,cAAe,SACpBM,MAAK,SAAAF,GACJ,OAAIA,EAAEwM,OAAO,GAAG7Q,KAAO8U,GAAuBzQ,EAAEwM,OAAO,GAAG7Q,KAAOgV,EACxD,GAGA3Q,EAAEwM,OAAO,GAAG7Q,QAGtBiE,KAAK,QAAQ,SAAUI,GACtB,OAAIA,EAAEwM,OAAO,GAAG7Q,KAAO8U,GAAuBzQ,EAAEwM,OAAO,GAAG7Q,KAAOgV,EACxD,GAGAtQ,EAAWL,EAAEzD,QAGvBgG,GAAG,SAAS,SAAUvC,GACrB,OAAOyI,EAA0B,IAAMzI,EAAEzD,QAI7C0V,EAAUtS,OAAO,SACdC,KAAK,SAAS,SAAAI,GAAC,MAAI,QAAU8B,EAAWvG,QAAQ,IAAK,UAAYyE,EAAEwM,OAAO,GAAG6E,KAAK9V,QAAQ,KAAM,IAAIA,QAAQ,YAAa,IAAI6W,MAAM,KAAKrS,KAAK,QAC7IH,KAAK,KAAK,SAAAI,GAGT,OADAqS,EADgBvQ,EAAWvG,QAAQ,IAAK,UAAYyE,EAAEwM,OAAO,GAAG6E,KAAK9V,QAAQ,KAAM,IAAIA,QAAQ,YAAa,IAAI6W,MAAM,KAAKrS,KAAK,KAC7F3E,EAAgB4E,EAAEzD,IAAIhB,QAAQ,KAAM,IAAIA,QAAQ,YAAa,IAAKwV,EAAsC7V,EAAe8E,EAAEzD,IAAKd,EAAMqJ,EAAiB9E,EAAEwM,OAAO,GAAG7Q,KAAM0E,EAAWL,EAAEzD,KAAMyD,EAAEzD,IAAIhB,QAAQ,MAAO,KAC3O+D,EAAQ4B,EAAOwQ,iBAAmB,MAE1C9R,KAAK,KAAK,SAAAI,GAAC,OAAI8R,EAAO9R,EAAEwM,OAAO,GAAG7Q,MAAQoW,EAAiB,MAC3DnS,KAAK,SAAS,SAAAI,GACb,GAAIA,EAAEwM,OAAO,GAAG7Q,KAAO8U,GAAuBzQ,EAAEwM,OAAO,GAAG7Q,KAAOgV,EAC/D,OAAO,QAMf,SAAgBsB,GACdA,EAAUpM,YD3dVlD,CAA8B,EAAKmO,KAAMT,EAASG,EAAc,EAAGE,EAAWD,EAC5EE,EAAqB,EAAKvQ,MAAM0B,WAAY,EAAK1B,MAAMnE,cAAe,EAAKmE,MAAM0E,gBACjF,EAAK1E,MAAMhF,eAAgB,EAAKgF,MAAMlF,cAAe,EAAKkF,MAAM4D,eAAgB,EAAK5D,MAAMqI,0BAC3F,EAAKD,YAAa0H,EAAS,EAAK9P,MAAM8M,iBAAkB,EAAK9M,MAAMc,SAlFpD,EAqFnBsH,UAAY,WACV,IAAI8J,EAAiB,CAAC5S,IAAO,CAAC,EAAKU,MAAM+P,kBAAkB,GAAI,EAAK/P,MAAMgQ,kBAAkB,KAAM1Q,IAAO,CAAC,EAAKU,MAAM+P,kBAAkB,GAAI,EAAK/P,MAAMgQ,kBAAkB,MAEpKzM,EAAa,EAAKvD,MAAMuD,WAExB4M,EADwB,EAAKnQ,MAAMlE,qBAAqB,EAAKkE,MAAMnE,eAClCc,OAEjCyT,EAAgC,MAAlB8B,EAAyBA,EAAe,GAAK,GAC3D9B,EAAc,IAAKA,GAAe,GAClCA,EAAc,IAAKA,EAAc,GACjCA,EAAc7M,IAAcA,EAAa6M,IAC7CA,GAA4B7M,GACV,IAAK6M,EAAc,EAAG7M,EAAa,GACrD,IAAI8M,EAAsBD,EAAc7M,EAAa,EAErDA,EAAa,EAAKvD,MAAMuD,WACxB,IAAI+M,EAA8B,MAAlB4B,EAAyBA,EAAe,GAAK,GACzD3B,EAAsBD,GAC1BA,GAAwB/M,GACR4M,IACdI,EAAsBD,EAAY/M,EAClC+M,EAAYH,GAGd,IAAIgC,EAAW,EAAKnS,MAAMmS,SAEtBC,EAAiC,GACrC,GAAI,EAAKpS,MAAMyD,SAAU,CAIvB,IAHA,IAAI4O,EAAyB,EAAKrS,MAAMlE,qBAAqBqW,GACzDG,EAAMjC,EACNkC,EAAMhC,EACDvU,EAAIqU,EAAsB,EAAGrU,EAAIuU,EAAqBvU,IAC7DoW,EAA+BC,EAAuBrW,GAAvB,OAAsCqW,EAAuBrW,GAAvB,aAEvE,IAAI4D,GAAK2S,EAAMD,GAAO,EAClBE,EAAclT,MAAiBuC,OAAO,CAACyQ,EAAU,EAAJ1S,EAAO0S,EAAU,EAAJ1S,EAAO0S,EAAU,EAAJ1S,EAAO0S,EAAU,EAAJ1S,EAAO0S,EAAU,EAAJ1S,EAAO0S,EAAU,EAAJ1S,EAAO0S,IAAMG,YAAYnT,KAAmBT,MAAM,CAAC,UAAW,UAAW,UAAW,UAA0B,UAAW,UAAW,UAAW,YAC7P6T,EAAU,GACd,IAAK,IAAIvW,KAAOiW,EACdM,EAAQvW,GAAOqW,EAAYJ,EAA+BjW,IAE5D,EAAK8D,WAAaX,MAAkBuC,OAAO5F,OAAOC,KAAKwW,IAAU7T,MAAM5C,OAAOmQ,OAAOsG,IACrF3V,QAAQC,IAAIoV,EAAgCE,EAAKC,EAAKG,EAAS,EAAKzS,WAAWpB,aAG5E,CAGH,IAFIwT,EAAyB,EAAKrS,MAAMlE,qBAAqB,EAAKkE,MAAMnE,eACpEuW,EAAiC,GAC5BpW,EAAIqU,EAAsB,EAAGrU,EAAIuU,EAAqBvU,IAC7DoW,EAA+BC,EAAuBrW,GAAvB,OAAsCqW,EAAuBrW,GAAvB,aAInE4D,IADA2S,EAAMhC,IADN+B,EAAMjC,IAEY,EAClBmC,EAAclT,MAAiBuC,OAAO,CAACyQ,EAAU,EAAJ1S,EAAO0S,EAAU,EAAJ1S,EAAO0S,EAAU,EAAJ1S,EAAO0S,EAAU,EAAJ1S,EAAO0S,EAAU,EAAJ1S,EAAO0S,EAAU,EAAJ1S,EAAO0S,IAAMG,YAAYnT,KAAmBT,MAAM,CAAC,UAAW,UAAW,UAAW,UAA0B,UAAW,UAAW,UAAW,YAC7P6T,EAAU,GACd,IAAK,IAAIvW,KAAOiW,EACdM,EAAQvW,GAAOqW,EAAYJ,EAA+BjW,IAE5D,EAAK8D,WAAaX,MAAkBuC,OAAO5F,OAAOC,KAAKwW,IAAU7T,MAAM5C,OAAOmQ,OAAOsG,IAKvF,OAFAC,EAAoB,SAAU,CAACL,EAAKC,GAAMG,GAEnC,EAAKzS,YAlJZ,EAAKA,WAAa,KAClB,EAAKC,MAAQ,CAAEC,uBAAwB,KAHtB,E,gEAME,IAAD,OAClBK,OAAOoS,iBAAiB,UAAU,WAChC,EAAKrS,SAAS,CAAErB,MAAOsB,OAAOqS,aAC9B,EAAKtS,SAAS,CAAErB,MAAOsB,OAAOC,iBAEhCH,KAAKuP,eACLvP,KAAKC,SAAS,CAAErB,MAAOsB,OAAOC,gB,8CAG9B,OAAO,I,yCAEUC,EAAWC,GAExBmS,KAAKC,UAAUzS,KAAKN,MAAM+P,oBAAsB+C,KAAKC,UAAUrS,EAAUqP,oBAE3EzP,KAAKN,MAAMkE,cAAcxD,GAEvBJ,KAAKN,MAAMnE,gBAAkB6E,EAAU7E,eACzCyE,KAAKN,MAAMkE,cAAcxD,GAGtBJ,KAAKN,MAAMgT,OAId1S,KAAKuP,aAAa,gBAHlBvP,KAAKN,MAAMnE,eAAiB6E,EAAU7E,cAAgByE,KAAKuP,aAAa,WAAavP,KAAKuP,aAAa,gBAOzGvP,KAAKN,MAAMiT,U,+BAmHH,IAAD,OACP,OACE3S,KAAKN,MAAM6D,KAAKjH,SAAS,eAAiB,kBAACmG,EAAA,EAAD,CAAMnE,WAAS,EAACuC,MAAO,CAAEjC,MAAO,QAASgU,YAAa,OAAQvG,UAAW,OAAQwG,aAAc,EAAGjQ,OAAQ,qBAAuB/G,IAAK2W,KAAKC,UAAUzS,KAAKN,MAAM+P,mBAAqB+C,KAAKC,UAAUzS,KAAKN,MAAMgQ,mBAAoBhN,UAAU,kBACrR,kBAACD,EAAA,EAAD,CAAMvE,MAAI,EAAC4U,GAAG,IAAIpQ,UAAoC,UAAzB1C,KAAKN,MAAM0B,WAAyB,oDAAsD,oDAAqDP,MAAO,CAAEjC,MAAO,SAC1L,yBAAK8D,UAAU,qBACb,wCACA,uBAAGA,UAAU,eAAwC,UAAzB1C,KAAKN,MAAM0B,WAAyB,UAAY,WAC5E,8CAEF,yBAAKsB,UAAU,QAAQqQ,IAAK,SAAA3C,GAAI,OAAI,EAAKA,KAAOA,IAAM,yBAAKtN,GAAI9C,KAAKN,MAAM0B,YAAY,uBAAG0B,GAAG,WAE9F,kBAACL,EAAA,EAAD,CAAMvE,MAAI,EAAC4U,GAAG,IAAIpQ,UAAoC,UAAzB1C,KAAKN,MAAM0B,WAAyB,6BAA+B,8BAC9D,WAA/BpB,KAAKN,MAAM8M,iBAAgC,kBAACwG,EAAD,CAC1CL,MAAO3S,KAAKN,MAAMiT,MAClB5K,0BAA2B/H,KAAKN,MAAMqI,0BACtCD,UAAW9H,KAAK8H,YAChB1G,WAAYpB,KAAKN,MAAM8M,iBACvB7F,YAAa3G,KAAKN,MAAM0B,WACxB/F,YAAsC,UAAzB2E,KAAKN,MAAM0B,WAAyBpB,KAAKN,MAAM+P,kBAAoBzP,KAAKN,MAAMgQ,kBAC3FnU,cAAeyE,KAAKN,MAAMnE,cAC1BC,qBAAsBwE,KAAKN,MAAMlE,qBACjC+E,eAAgB,CAACP,KAAKN,MAAM8M,oBAElB,yBAAK9J,UAAU,aAAY,8CACP,MAA/B1C,KAAKN,MAAM0H,kBAAkD,GAAtBpH,KAAKN,MAAMmG,QAAe,kBAACoN,GAAD,CAAS1S,eAAgB,CAACP,KAAKN,MAAM8M,kBAAmB1E,UAAW9H,KAAK8H,YAAaC,0BAA2B/H,KAAKN,MAAMqI,4BAAwC,OAIvO,kBAACtF,EAAA,EAAD,CAAMvE,MAAI,EAACwE,UAAoC,UAAzB1C,KAAKN,MAAM0B,WAAyB,yCAA2C,yCAA0CP,MAAO,CAAEwL,UAAW,EAAGzJ,OAAQ,oBAAqBhE,MAAO,MAAOgU,YAAa,KAAM9T,OAAQoB,OAAOC,YAAcxB,EAAE,oBAAoBG,WACrR,yBAAK4D,UAAU,qBACb,wCACA,uBAAGA,UAAU,eAAe1C,KAAKN,MAAM8M,kBACvC,8CAEF,yBAAK9J,UAAU,QAAQqQ,IAAK,SAAA3C,GAAI,OAAI,EAAKA,KAAOA,IAAM,yBAAKtN,GAAI9C,KAAKN,MAAM0B,YAAY,uBAAG0B,GAAG,e,GAzL7EC,aAwNVC,gBAzBS,SAACpD,GACvB,MAAO,CACLqD,WAAYrD,EAAMqD,WAClB1H,cAAeqE,EAAMrE,cACrBiR,iBAAkB5M,EAAM4M,iBACxBiD,kBAAmB7P,EAAM6P,kBACzBC,kBAAmB9P,EAAM8P,kBACzBxM,4BAA6BtD,EAAMsD,4BACnCwP,OAAQ9S,EAAM8S,OACdQ,QAAStT,EAAMsT,QACf9L,iBAAkBxH,EAAMwH,iBACxB5G,OAAQZ,EAAMY,OACd+C,KAAM3D,EAAM2D,SAIU,SAACI,GACzB,MAAO,CACLI,mBAAoB,SAACF,GAAD,OAASF,EAAS,CAAEvI,KAAM,iBAAkB0I,MAAOD,KACvEG,mBAAoB,SAACH,GAAD,OAASF,EAAS,CAAEvI,KAAM,iBAAkB0I,MAAOD,KACvEI,gCAAiC,SAACJ,GAAD,OAASF,EAAS,CAAEvI,KAAM,8BAA+B0I,MAAOD,KACjGK,WAAY,SAACL,GAAD,OAASF,EAAS,CAAEvI,KAAM,SAAU0I,MAAOD,KACvDD,cAAe,SAACC,GAAD,OAASF,EAAS,CAAEvI,KAAM,YAAa0I,MAAOD,QAGlDb,CAA4CvD,IE/NpD,SAAS0E,GAAazB,EAAWhI,EAAgBmB,EAAK+D,EAAO7E,EAAMqJ,EAAiBC,EAAYC,EAAiBC,GACtH,IACIC,EAAkB,EAAlBA,EAA4B,EAA5BA,EAAuC,EAAvCA,EAAgD,EAClDC,EAF6B,GAEK,EAAI,EACtCC,EAH8D,GAGzB,EACnCC,EAAQ3F,IAAU,IAAI0D,GACvBxD,KAAK,QAASuF,EAAUD,EAAgBA,GACxCtF,KAAK,SAAUwF,EAAWF,EAAeA,GACxC5G,EAAOlD,EAAemB,GAEtB+I,EAAI5F,MACLuC,OAAOvC,IAAUpB,GAAM,SAAU0B,GAAK,OAAOA,EAAEvE,SAC/CwD,MAAM,CAAC,EAAGkG,IAEbE,EAAM1F,OAAO,QACV4F,MAAMjH,GAAM,SAAA0B,GAAC,OAAIA,KACjBJ,KAAK,KAAM,IAAIqF,GACfrF,KAAK,UAAU,GACfA,KAAK,OAAQoF,GACbpF,KAAK,SAAUoF,GACfpF,KAAK,gBAAgB,SAACI,GACrB,OAAO,OAERJ,KAAK,IAAKF,MACR4F,GAAE,SAAUtF,GAAK,OAAOsF,EAAEtF,EAAEvE,SAC5B+J,IAAG,WAEF,OADQ9F,MAAiBuC,OAAO,CAAC,EAAGvC,IAAOpB,GAAM,SAAU0B,GAAK,OAAQA,EAAErE,UAAWsD,MAAM,CAACmG,EAAU,GAC/FK,CAAE,MAEVC,IAAG,SAAU1F,GAEZ,OADQN,MAAiBuC,OAAO,CAAC,EAAGvC,IAAOpB,GAAM,SAAU0B,GAAK,OAAQA,EAAErE,UAAWsD,MAAM,CAAC,EAAGmG,GACxFK,CAAEzF,EAAErE,UAIjB0J,EAAMvF,UAAU,UAAUxB,KAAKA,GAAMyB,KAAK,UACvCH,KAAK,MAAM,SAAUI,EAAG5D,GAAK,OAAOkJ,EAAEtF,EAAEvE,SACxCmE,KAAK,KAAMwF,EAAW,GACtBxF,KAAK,QAAS,OAASmF,GACvBxC,GAAG,aAAa,SAAUvC,GACzBN,IAAUgB,MAAMa,MAAM,OAAQ,SAC9B7B,IAAUgB,MAAMd,KAAK,IAAK,MAE3B2B,MAAM,QAAQ,SAACvB,GAAD,OAAOA,EAAEvE,MAAQA,EAAO,cAAgB,WACtDmE,KAAK,SAAS,SAACI,GAAD,OAAOA,EAAEvE,MAAQA,EAAO,oBAAsB,eAC5DmE,KAAK,IAAK,GACV2C,GAAG,YAAY,SAACvC,EAAG5D,GAClBsD,IAASiG,iBACTb,EAAgB9E,EAAEvE,KAAM,mBAEzB8G,GAAG,YAAY,SAAUvC,GACxBN,IAAUgB,MAAMa,MAAM,OAAQ,eAC9B,IAAIqE,EAAM,OAAOxC,EACjB1D,IAAakG,GAAOC,YAErBtD,GAAG,SAAS,SAACvC,GACZN,IAAU,QAAQ4B,OAAO,OACtB1B,KAAK,KAAM,MAAMwD,GACjBxD,KAAK,QAAS,WACd2B,MAAM,UAAW,GACjBiB,KAAK,YAAmBxC,EAAEvE,KAAO,gBAA4BuE,EAAErE,KAAO,QACtE4F,MAAM,QAAS,SAACvB,GAEf,OADqBX,EAAE,mBAAmBC,QAClB,IAAM,QAE/BiC,MAAM,MAAQ7B,IAASgD,MAAQ,GAAM,MACrCR,aACAC,SAAS,KACTZ,MAAM,UAAW,QCpEnB,SAASsD,GAAazB,EAAWhI,EAAgBmB,EAAKuF,EAAY5G,EAAeoF,EAAO7E,EAAMqJ,EAAiBC,EAAYC,EAAiBC,GACjJ,IAAIa,EAAY,GAChB5K,EAAcG,SAAQ,SAAAC,GAChBA,EAAO,OAAagF,GAAShF,EAAQwG,IACvCgE,EAAUlK,KAAK,CAAEH,KAAMC,SAASJ,EAAQ,UAAWK,KAAMD,SAASJ,EAAQwG,SAG9E,IACIoD,EAAkB,EAAlBA,EAA4B,EAA5BA,EAAuC,EAAvCA,EAAgD,EAClDC,EAF6B,GAEK,EAClCC,EAH8D,GAGzB,EACnCC,EAAQ3F,IAAa,IAAI0D,GAE1BxD,KAAK,QAASuF,EAAUD,EAAgBA,GACxCtF,KAAK,SAAUwF,EAAWF,EAAeA,GACxC5G,EAAOwH,EAEPR,EAAI5F,MACLuC,OAAOvC,IAAUpB,GAAM,SAAU0B,GAAK,OAAOA,EAAEvE,SAC/CwD,MAAM,CAAC,EAAGkG,IAEbE,EAAM1F,OAAO,QACV4F,MAAMjH,GAAM,SAAA0B,GAAC,OAAIA,KACjBJ,KAAK,KAAM,IAAIqF,GACfrF,KAAK,OAAQoF,GACbpF,KAAK,SAAUoF,GACfpF,KAAK,gBAAgB,SAACI,GACrB,OAAO,OAERJ,KAAK,IAAKF,MACR4F,GAAE,SAAUtF,GAAK,OAAOsF,EAAEtF,EAAEvE,SAC5B+J,IAAG,WAEF,OADQ9F,MAAiBuC,OAAO,CAAC,EAAGvC,IAAOpB,GAAM,SAAU0B,GAAK,OAAQA,EAAErE,UAAWsD,MAAM,CAACmG,EAAU,GAC/FK,CAAE,MAEVC,IAAG,SAAU1F,GAEZ,OADQN,MAAiBuC,OAAO,CAAC,EAAGvC,IAAOpB,GAAM,SAAU0B,GAAK,OAAQA,EAAErE,UAAWsD,MAAM,CAAC,EAAGmG,GACxFK,CAAEzF,EAAErE,UAIP+D,IAAU,QAAQ4B,OAAO,OAChC1B,KAAK,QAAS,WACd2B,MAAM,UAAW,GAEpB8D,EAAMvF,UAAU,UAAUxB,KAAKA,GAAMyH,QAAQzE,OAAO,UACjD1B,KAAK,MAAM,SAAUI,EAAG5D,GAAK,OAAOkJ,EAAEtF,EAAEvE,SACxCmE,KAAK,KAAMwF,EAAW,GACtBxF,KAAK,QAAS,OAASmF,GACvBxC,GAAG,aAAa,SAAUvC,GACzBN,IAAUgB,MAAMa,MAAM,OAAQ,SAC9B7B,IAAUgB,MAAMd,KAAK,IAAK,MAE3B2C,GAAG,YAAY,SAAUvC,GACxBN,IAAUgB,MAAMa,MAAM,OAAQ,eAC9B,IAAIqE,EAAM,OAAOxC,EACjB1D,IAAakG,GAAOC,YAErBtE,MAAM,QAAQ,SAACvB,GAAD,OAAOA,EAAEvE,MAAQA,EAAO,cAAgB,WACtDmE,KAAK,SAAS,SAACI,GAAD,OAAOA,EAAEvE,MAAQA,EAAO,oBAAsB,eAC5DmE,KAAK,IAAK,GACV2C,GAAG,YAAY,SAACvC,EAAG5D,GAClBsD,IAASiG,iBACTb,EAAgB9E,EAAEvE,KAAM,mBAEzB8G,GAAG,SAAS,SAACvC,GACZN,IAAU,QAAQ4B,OAAO,OACtB1B,KAAK,KAAM,MAAMwD,GACjBxD,KAAK,QAAS,WACd2B,MAAM,UAAW,GACjBiB,KAAK,YAAmBxC,EAAEvE,KAAO,gBAA4BuE,EAAErE,KAAO,QACtE4F,MAAM,QAAS,SAACvB,GAEf,OADqBX,EAAE,mBAAmBC,QAClB,IAAM,QAE/BiC,MAAM,MAAQ7B,IAASgD,MAAQ,GAAM,MACrCR,aACAC,SAAS,KACTZ,MAAM,UAAW,Q,ICxEpBpB,G,kDACJ,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IA2BRyT,MAAQ,SAAC3D,GACP,IAAIjU,EACoCA,EAAX,SAAzB,EAAKmE,MAAM0B,WAAyC,EAAK1B,MAAM0T,gBAAyC,EAAK1T,MAAM2T,gBACvH,IAAIhY,EAAc,EAAKqE,MAAM4T,gBACzB3D,EAAU,CAAE,EAAK,GAAI,EAAK,IAC1B1M,EAAa,EAAKvD,MAAMuD,WACxB2M,EAAwB,EAAKlQ,MAAMlE,qBAAqBD,GACxDsU,EAAWD,EAAsBvT,OACjC+E,EAAa,EAAK1B,MAAM0D,gBAGxB0M,GAFS,EAAKpQ,MAAM6T,OAES,MAAflY,EAAsBA,EAAY,GAAK,IACrDyU,EAAc,IAAKA,GAAe,GAClCA,EAAc,IAAKA,EAAc,GACjCA,EAAc7M,IAAcA,EAAa6M,IAC7CA,GAA4B7M,GACV,IAAK6M,EAAc,EAAG7M,EAAa,GACrD,IAAI8M,EAAsBD,EAAc7M,EAAa,EAErDA,EAAa,EAAKvD,MAAMuD,WACxB,IAAI+M,EAA2B,MAAf3U,EAAsBA,EAAY,GAAK,GACnD4U,EAAsBD,GAC1BA,GAAwB/M,GACR4M,IACdI,EAAsBD,EAAY/M,EAClC+M,EAAYH,GAGd,IAAK,IAAInU,EAAIoU,EAAapU,EAAIsU,EAAWtU,IAAK,CAC5C,IAAIwU,EAAQ,GACRC,EAAQ,GACZD,EAAK,MAAY9O,EACjB8O,EAAK,KAAWN,EAAsBlU,GAAtB,MAChBwU,EAAK,KAAWN,EAAsBlU,GAAtB,aAChByU,EAAK,KAAWP,EAAsBlU,GAAtB,MAChByU,EAAK,KAAWP,EAAsBlU,GAAG0F,GACzCuO,EAAO,EAAMzU,KAAKgV,GAClBP,EAAO,EAAMzU,KAAKiV,ICtEjB,SAA2BC,EAAM5U,EAAsBsU,EAAaE,EAAWD,EAAqBE,EACzG7O,EAAYrG,EAAMqJ,EAAiB1J,EAAgBF,EAAe8I,EAAgByE,EAA2BpI,EAC7G6P,EAASa,EAAqC7P,GAC9C,IAEI8P,EAAoB9P,EAAOwF,WAC3BuK,EAAoB/P,EAAOyF,WAC3BuK,EAAsBR,EAAYF,EAClCW,EAAe,GACnBjV,EAAoB,EAAMb,SAAQ,SAAU2E,GAAKmR,EAAavV,KAAKoE,MACnE9D,EAAoB,EAAMb,SAAQ,SAAU2E,GAAKmR,EAAavV,KAAKoE,MACnE,IAAIoR,EAAe1R,MAAUnD,KAAI,SAAUyD,GAAK,OAAOA,EAAEqR,QAAQlS,QAAQgS,GAErE9K,EAAgB,GAAhBA,EAA2B,GAA3BA,EAAuC,GAAvCA,EAAiD,IACjD6N,EAAwB7U,EAAE,yBAAyBG,SAErDF,EADuBD,EAAE,mBAAmBC,QACb+G,EAAcA,EAC3CkL,EAAiB2C,EAAwBhD,EAC1CK,EAfqB,KAeeA,EAff,IAgBxB,IAAI/R,EAAU0R,EAAqBK,EAAgB,GAEnD7R,IAAa,mBAAmB6B,MAAM,SAAS/B,EAAO,MACtDE,IAAa,cAAc6B,MAAM,SAAU/B,EAAS,MAGhD0B,EAAS,CAAEuQ,QAAS,EAAGnS,MAAOA,EAAOE,OADzCA,GAAkB,GACuCkS,iBAAkB,EAAGC,eAAgB,GAAIC,OAAQ,EAAGC,iBAAkBN,GAA/H,IAEIO,EAASpS,MAAiBT,MAAM,CAAC,EAAGO,IAASyC,OAAO,CAACuO,EAAaE,IAClEqB,EAAiBD,EAAOV,EAAa,GAAG5E,OAAO,GAAG7Q,MAClD8D,EAAMC,IAAU,IAAMoC,GAAYlC,KAAK,QAASN,EAAQ+G,EAAcA,GAAczG,KAAK,SAAUJ,EAAS6G,EAAaA,GAC1H1G,OAAO,QAAQC,KAAK,YADb,qBAGNoS,EAAcvS,EAAIK,UAAU,iBAAiBxB,KAAK,CAAC,IAAIyB,KAAK,KAAKH,KAAK,QAAS,gBACnFoS,EAAYlS,UAAU,UAAUxB,KAAK,CAAC,IAAIyB,KAAK,QAAQH,KAAK,QAAS,SAASA,KAAK,OAAQ,SAASA,KAAK,KAAM,GAAGA,KAAK,KAAM,GAAGA,KAAK,KAAM,GAAGA,KAAK,KAAMsB,EAAO1B,QAChKwS,EAAYlS,UAAU,UAAUxB,KAAK,CAAC,IAAIyB,KAAK,QAAQH,KAAK,QAAS,SAASA,KAAK,OAAQ,SAASA,KAAK,KAAMN,GAAOM,KAAK,KAAM,GAAGA,KAAK,KAAMN,GAAOM,KAAK,KAAMsB,EAAO1B,QAElJC,EAAIK,UAAU,cAAcxB,KAAK8S,GAAc,SAAApR,GACnE,QAAUmL,IAANnL,EACF,OAAOA,EAAEzD,OAEVwD,MAEH,SAAiBkS,GAsOf,OAAOA,EACJ3Q,OAAO,KACP1B,KAAK,QAAS,aACdA,KAAK,MAAM,SAAAI,GAAC,MAAI,IAAMA,EAAEzD,IAAIhB,QAAQ,MAAO,OAC3C+O,MAxOmB,SAAA4H,GAEpBA,EAAE5Q,OAAO,QACN1B,KAAK,KAAK,SAAAI,GAAC,OAAKkB,EAAOwQ,oBACvB9R,KAAK,KAAK,SAAAI,GAAC,OAAI8R,EAAO9R,EAAEwM,OAAO,GAAG7Q,MAAQoW,KAC1CnS,KAAK,MAAOsB,EAAOyQ,gBACnB/R,KAAK,KAAM,GACXA,KAAK,MAAM,SAAAI,GAAC,MAAI,IAAMA,EAAEzD,IAAIhB,QAAQ,MAAO,OAC3CqE,KAAK,SAAS,SAACI,GACd,MAAO,OAASA,EAAEwM,OAAO,GAAG7Q,KAAO,iCAEpCiE,KAAK,cAAe,OACpB2C,GAAG,aAAa,SAAUvC,GACzB,IAAIqB,EAAM3B,IAAU,QAAQ4B,OAAO,OAChC1B,KAAK,KAAM,MAAQI,EAAEzD,IAAIhB,QAAQ,MAAO,KACxCqE,KAAK,QAAS,WACd2B,MAAM,UAAW,GACpBF,EAAIa,aACDC,SAAS,KACTZ,MAAM,UAAW,KACpBF,EAAImB,KAAK,MAAQxC,EAAEzD,IAAM,0BAAsCyD,EAAEwM,OAAO,GAAG7Q,KAAO,QAC/E4F,MAAM,QAAS,SAACvB,GAEf,OADqBX,EAAE,mBAAmBC,QAClB,IAAM,QAE/BiC,MAAM,MAAQ7B,IAASgD,MAAQ,GAAM,SAEzCH,GAAG,YAAY,SAAUvC,GACJA,EAAEzD,IAAIhB,QAAQ,MAAO,IACzCmE,IAAU,QAAQI,UAAU,YAAYoC,aACrCC,SAAS,KACTZ,MAAM,UAAW,GAAGsE,YAExBtD,GAAG,SAAS,SAAUvC,GACrB,OAAOyI,EAA0B,IAAMzI,EAAEzD,QAQ1C2D,MAAK,SAAAF,GACJ,IAAIuE,EAAMvE,EAAEzD,IAEZ,OADIgI,EAAIxH,OAAS,KAAMwH,EAAMA,EAAIhJ,QAAQ,aAAc,MAChDgJ,EAAIxH,OAAS,GAAKwH,EAAI5H,UAAU,EAAG,IAAM4H,KAEjD3E,KAAK,QAAQ,SAAUI,GACtB,OAAIA,EAAEwM,OAAO,GAAG7Q,KAAO8U,GAGdzQ,EAAEwM,OAAO,GAAG7Q,KAAOgV,EAFnB,wBAMAtQ,EAAWL,EAAEzD,QAI1B2V,EAAE5Q,OAAO,OACN1B,KAAK,SAAS,SAAAI,GAAC,MAAI,QAAU8B,EAAa9B,EAAEwM,OAAO,GAAG6E,KAAK9V,QAAQ,KAAM,IAAIA,QAAQ,YAAa,IAAM,cACxGqE,KAAK,KAAK,SAAAI,GACT,OAAQkB,EAAOwQ,iBAAmBxQ,EAAOyQ,eAAiB,KAE3D/R,KAAK,MAAM,SAAAI,GAAC,MAAI,IAAMA,EAAEzD,IAAIhB,QAAQ,MAAO,OAC3CqE,KAAK,KAAK,SAAAI,GAAC,OAAI8R,EAAO9R,EAAEwM,OAAO,GAAG7Q,MAAQoW,EAAiB,MAC3DzQ,OAAO,QACP1B,KAAK,QAAS,UACdA,KAAK,WAAW,SAAAI,GACf,IAAIoD,EAAYtB,EAAa9B,EAAEwM,OAAO,GAAG6E,KAAK9V,QAAQ,KAAM,IAAIA,QAAQ,YAAa,IAAM,WAC3F,GAAIyE,EAAEwM,OAAO,GAAG7Q,KAAO8U,GAAuBzQ,EAAEwM,OAAO,GAAG7Q,KAAOgV,EAAuB,IAAI3L,EAAkB,YAAoBA,EAAkB3E,EAAWL,EAAEzD,KAEjK,OADA4V,GAAwB/O,EAAWhI,EAAgB4E,EAAEzD,IAAIhB,QAAQ,KAAM,IAAIA,QAAQ,YAAa,IAAKyE,EAAEzD,IAAKd,EAAMqJ,EAAiB9E,EAAEwM,OAAO,GAAG7Q,KAAMqJ,EAAiBhF,EAAEzD,IAAIhB,QAAQ,MAAO,KACpL,KAIX2W,EAAE5Q,OAAO,QACN1B,KAAK,MAAM,SAAAI,GAAC,MAAI,IAAMA,EAAEzD,IAAIhB,QAAQ,MAAO,OAC3CqE,KAAK,SAAS,SAACI,GAAD,MAAO,OAASA,EAAEwM,OAAO,GAAG7Q,KAAO,qCACjDiE,KAAK,KAAK,SAAAI,GAAC,OAAKkB,EAAOwQ,oBACvB9R,KAAK,KAAK,SAAAI,GAAC,OAAI8R,EAAO9R,EAAEwM,OAAO,GAAG7Q,MAAQoW,KAC1CnS,KAAK,MAAO,IACZA,KAAK,KAAM,GACXA,KAAK,cAAe,OACpBM,MAAK,SAAAF,GAAC,OAAKA,EAAEwM,OAAO,GAAG7Q,QACvBiE,KAAK,QAAQ,SAAUI,GACtB,OAAIA,EAAEwM,OAAO,GAAG7Q,KAAO8U,GAGdzQ,EAAEwM,OAAO,GAAG7Q,KAAOgV,EAFnB,wBAMAtQ,EAAWL,EAAEzD,QAI1B2V,EAAE5Q,OAAO,UACN1B,KAAK,MAAM,SAAAI,GAAC,MAAI,IAAMA,EAAEzD,IAAIhB,QAAQ,MAAO,OAC3CqE,KAAK,KAAK,SAAAI,GACT,OAAIA,EAAEwM,OAAO,GAAG7Q,KAAO8U,GAGdzQ,EAAEwM,OAAO,GAAG7Q,KAAOgV,EAFnB,EAKKzP,EAAO0Q,UAEtBhS,KAAK,MAAM,SAAAI,GAAC,OAAI8R,EAAO9R,EAAEwM,OAAO,GAAG7Q,MAAQoW,KAC3CnS,KAAK,SAAS,SAACI,GACd,OAAOA,EAAEwM,OAAO,GAAG6E,KAAK9V,QAAQ,KAAM,IAAIA,QAAQ,YAAa,IAAM,QAAUyE,EAAEwM,OAAO,GAAG7Q,KAAO,kBAEnGiE,KAAK,QAAQ,SAAUI,GACtB,OAAIA,EAAEwM,OAAO,GAAG7Q,KAAO8U,GAIdzQ,EAAEwM,OAAO,GAAG7Q,KAAOgV,EAFnB,wBAOAtQ,EAAWL,EAAEzD,QAI1B2V,EAAE5Q,OAAO,QACN1B,KAAK,MAAM,SAAAI,GAAC,MAAI,IAAMA,EAAEzD,IAAIhB,QAAQ,MAAO,OAC3CqE,KAAK,SAAS,SAACI,GAAD,MAAO,kBAAoBA,EAAEwM,OAAO,GAAG7Q,QACrDiE,KAAK,KAAM,GACXA,KAAK,KAAMsB,EAAO5B,OAClBiD,GAAG,SAAS,SAAUvC,GACrB,OAAOyI,EAA0B,IAAMzI,EAAEzD,QAG1CqD,KAAK,MAAM,SAAUI,GACpB,OAAO8R,EAAO9R,EAAEwM,OAAO,GAAG7Q,MAAQoW,KAEnCnS,KAAK,MAAM,SAAUI,GACpB,OAAO8R,EAAO9R,EAAEwM,OAAO,GAAG7Q,MAAQoW,KAEnCnS,KAAK,UAAU,SAACI,GACf,OAAIA,EAAEwM,OAAO,GAAG7Q,KAAO8U,GAGdzQ,EAAEwM,OAAO,GAAG7Q,KAAOgV,EAFnB,cAMAtQ,EAAWL,EAAEzD,QAQ1B2V,EAAE5Q,OAAO,UACN1B,KAAK,MAAM,SAAAI,GAAC,MAAI,IAAMA,EAAEzD,IAAIhB,QAAQ,MAAO,OAC3CqE,KAAK,MAAM,SAAAI,GAAC,OAAI8R,EAAO9R,EAAEwM,OAAO,GAAG7Q,MAAQoW,KAAgBnS,KAAK,SAAS,SAACI,GACzE,OAAOA,EAAEwM,OAAO,GAAG6E,KAAK9V,QAAQ,KAAM,IAAIA,QAAQ,YAAa,IAAM,qBAAuByE,EAAEwM,OAAO,GAAG7Q,QAEzGiE,KAAK,KAAK,SAAAI,GACT,OAAIA,EAAEwM,OAAO,GAAG7Q,KAAO8U,GAGdzQ,EAAEwM,OAAO,GAAG7Q,KAAOgV,EAFnB,EAKKzP,EAAO0Q,UAEtBhS,KAAK,KAAMsB,EAAO5B,OAClBM,KAAK,QAAQ,SAACI,GACb,KAAMA,EAAEwM,OAAO,GAAG7Q,KAAO8U,EAAsBzQ,EAAEwM,OAAO,GAAG7Q,KAAOgV,GAChE,OAAOtQ,EAAWL,EAAEzD,QAI1B2V,EAAE5Q,OAAO,QACN1B,KAAK,MAAM,SAAAI,GAAC,MAAI,IAAMA,EAAEzD,IAAIhB,QAAQ,MAAO,OAC3CqE,KAAK,SAAS,SAACI,GAAD,MAAO,uCAAyCA,EAAEwM,OAAO,GAAG7Q,QAC1EiE,KAAK,KAAK,SAAAI,GAAC,OAAIV,EAAQ4B,EAAOwQ,oBAC9B9R,KAAK,KAAK,SAAAI,GAAC,OAAI8R,EAAO9R,EAAEwM,OAAO,GAAG7Q,MAAQoW,KAC1CnS,KAAK,KAAM,IACXA,KAAK,KAAM,GACXA,KAAK,cAAe,SACpBM,MAAK,SAAAF,GACJ,OAAIA,EAAEwM,OAAO,GAAG7Q,KAAO8U,GAAuBzQ,EAAEwM,OAAO,GAAG7Q,KAAOgV,EACxD,GAGA3Q,EAAEwM,OAAO,GAAG7Q,QAGtBiE,KAAK,QAAQ,SAAUI,GACtB,OAAIA,EAAEwM,OAAO,GAAG7Q,KAAO8U,GAAuBzQ,EAAEwM,OAAO,GAAG7Q,KAAOgV,EACxD,GAGAtQ,EAAWL,EAAEzD,QAGvBgG,GAAG,SAAS,SAAUvC,GACrB,OAAOyI,EAA0B,IAAMzI,EAAEzD,QAI7C2V,EAAE5Q,OAAO,OACN1B,KAAK,SAAS,SAAAI,GAAC,MAAI,QAAU8B,EAAWvG,QAAQ,IAAK,UAAYyE,EAAEwM,OAAO,GAAG6E,KAAK9V,QAAQ,KAAM,IAAIA,QAAQ,YAAa,IAAI6W,MAAM,KAAKrS,KAAK,QAC7IH,KAAK,KAAK,SAAAI,GACT,OAAOV,EAAQ4B,EAAOwQ,iBAAmB,MAE1C9R,KAAK,KAAK,SAAAI,GAAC,OAAI8R,EAAO9R,EAAEwM,OAAO,GAAG7Q,MAAQoW,EAAiB,MAC3DnS,KAAK,SAAS,SAAAI,GACb,GAAIA,EAAEwM,OAAO,GAAG7Q,KAAO8U,GAAuBzQ,EAAEwM,OAAO,GAAG7Q,KAAOgV,EAC/D,OAAO,KAGVrP,OAAO,QACP1B,KAAK,QAAS,WACdA,KAAK,WAAW,SAAAI,GACf,KAAIA,EAAEwM,OAAO,GAAG7Q,KAAO8U,GAAuBzQ,EAAEwM,OAAO,GAAG7Q,KAAOgV,GAG/D,OADA0B,GADgBvQ,EAAWvG,QAAQ,IAAK,UAAYyE,EAAEwM,OAAO,GAAG6E,KAAK9V,QAAQ,KAAM,IAAIA,QAAQ,YAAa,IAAI6W,MAAM,KAAKrS,KAAK,KAC7F3E,EAAgB4E,EAAEzD,IAAIhB,QAAQ,KAAM,IAAIA,QAAQ,YAAa,IAAKwV,EAAsC7V,EAAe8E,EAAEzD,IAAKd,EAAMqJ,EAAiB9E,EAAEwM,OAAO,GAAG7Q,KAAM0E,EAAWL,EAAEzD,KAAMyD,EAAEzD,IAAIhB,QAAQ,MAAO,KAC3O,WAWjB,SAAkB0W,GAGhBA,EAAUtS,OAAO,eACdC,KAAK,KAAMsB,EAAOwQ,kBAClB9R,KAAK,MAAOsB,EAAOyQ,gBACnB/R,KAAK,KAAM,GACXA,KAAK,MAAM,SAAAI,GAAC,MAAI,IAAMA,EAAEzD,IAAIhB,QAAQ,MAAO,OAC3CqE,KAAK,SAAS,SAACI,GACd,MAAO,uBAAyBA,EAAEwM,OAAO,GAAG7Q,KAAO,iBAEpDiE,KAAK,cAAe,OACpB2C,GAAG,aAAa,SAAUvC,GACzB,IAAIqB,EAAM3B,IAAU,QAAQ4B,OAAO,OAChC1B,KAAK,KAAM,MAAQI,EAAEzD,IAAIhB,QAAQ,MAAO,KACxCqE,KAAK,QAAS,WACd2B,MAAM,UAAW,GACpBF,EAAIa,aACDC,SAAS,KACTZ,MAAM,UAAW,KACpBF,EAAImB,KAAK,MAAQxC,EAAEzD,IAAM,0BAAsCyD,EAAEwM,OAAO,GAAG7Q,KAAO,QAC/E4F,MAAM,QAAS,SAACvB,GAEf,OADqBX,EAAE,mBAAmBC,QAClB,IAAM,QAE/BiC,MAAM,MAAQ7B,IAASgD,MAAQ,GAAM,SAEzCH,GAAG,YAAY,SAAUvC,GACJA,EAAEzD,IAAIhB,QAAQ,MAAO,IACzCmE,IAAU,QAAQI,UAAU,YAAYoC,aACrCC,SAAS,KACTZ,MAAM,UAAW,GAAGsE,YAExBtD,GAAG,SAAS,SAAUvC,GACrB,OAAOyI,EAA0B,IAAMzI,EAAEzD,QAQ1C2D,MAAK,SAAAF,GACJ,IAAIuE,EAAMvE,EAAEzD,IAEZ,OADIgI,EAAIxH,OAAS,KAAMwH,EAAMA,EAAIhJ,QAAQ,aAAc,MAChDgJ,EAAIxH,OAAS,GAAKwH,EAAI5H,UAAU,EAAG,IAAM4H,KAEjD3E,KAAK,QAAQ,SAAUI,GAItB,OAHIA,EAAEwM,OAAO,GAAG7Q,KAGXqE,EAAEwM,OAAO,GAAG7Q,KAAO8U,GAAyBzQ,EAAEwM,OAAO,GAAG7Q,KAAOgV,EAC3D,wBAGAtQ,EAAWL,EAAEzD,QAErB2F,aAAaC,UAAS,SAAAnC,GACvB,MAAe,WAAXkQ,EACKc,EAGA,KAGVpR,KAAK,KAAK,SAAAI,GAAC,OAAI8R,EAAO9R,EAAEwM,OAAO,GAAG7Q,MAAQoW,KAG7CE,EAAUtS,OAAO,SACdC,KAAK,SAAS,SAAAI,GAAC,MAAI,QAAU8B,EAAa9B,EAAEwM,OAAO,GAAG6E,KAAK9V,QAAQ,KAAM,IAAIA,QAAQ,YAAa,IAAM,cACxGqE,KAAK,KAAK,SAAAI,GACT,IAAIoD,EAAYtB,EAAa9B,EAAEwM,OAAO,GAAG6E,KAAK9V,QAAQ,KAAM,IAAIA,QAAQ,YAAa,IAAM,WAC3F,GAAIyE,EAAEwM,OAAO,GAAG7Q,KAAO8U,GAAuBzQ,EAAEwM,OAAO,GAAG7Q,KAAOgV,EAAuB,IAAI3L,EAAkB,YAAoBA,EAAkB3E,EAAWL,EAAEzD,KAEjK,OADA4V,GAAwB/O,EAAWhI,EAAgB4E,EAAEzD,IAAIhB,QAAQ,KAAM,IAAIA,QAAQ,YAAa,IAAKyE,EAAEzD,IAAKd,EAAMqJ,EAAiB9E,EAAEwM,OAAO,GAAG7Q,KAAMqJ,EAAiBhF,EAAEzD,IAAIhB,QAAQ,MAAO,MACnL2F,EAAOwQ,iBAAmBxQ,EAAOyQ,eAAiB,KAE3DzP,aAAaC,UAAS,SAAAnC,GACrB,MAAe,WAAXkQ,EACKc,EAGA,KAGVpR,KAAK,KAAK,SAAAI,GAAC,OAAI8R,EAAO9R,EAAEwM,OAAO,GAAG7Q,MAAQoW,EAAiB,MAC3DnS,KAAK,UAAW,GAEnBqS,EAAUtS,OAAO,mBACdC,KAAK,MAAM,SAAAI,GAAC,MAAI,IAAMA,EAAEzD,IAAIhB,QAAQ,MAAO,OAC3CqE,KAAK,SAAS,SAACI,GAAD,MAAO,uBAAyBA,EAAEwM,OAAO,GAAG7Q,KAAO,qBACjEiE,KAAK,KAAK,SAAAI,GAAC,OAAKkB,EAAOwQ,oBACvB9R,KAAK,MAAO,IACZA,KAAK,KAAM,GACXA,KAAK,cAAe,OACpBM,MAAK,SAAAF,GAAC,OAAKA,EAAEwM,OAAO,GAAG7Q,QACvBiE,KAAK,QAAQ,SAAUI,GACtB,OAAIA,EAAEwM,OAAO,GAAG7Q,KAAO8U,GAGdzQ,EAAEwM,OAAO,GAAG7Q,KAAOgV,EAFnB,wBAMAtQ,EAAWL,EAAEzD,QAGvB2F,aAAaC,UAAS,SAAAnC,GACrB,MAAe,WAAXkQ,EACKc,EAGA,KAGVpR,KAAK,KAAK,SAAAI,GAAC,OAAI8R,EAAO9R,EAAEwM,OAAO,GAAG7Q,MAAQoW,KAG7CE,EAAUtS,OAAO,gBACdC,KAAK,MAAM,SAAAI,GAAC,MAAI,IAAMA,EAAEzD,IAAIhB,QAAQ,MAAO,OAC3CqE,KAAK,KAAK,SAAAI,GACT,OAAIA,EAAEwM,OAAO,GAAG7Q,KAAO8U,GAGdzQ,EAAEwM,OAAO,GAAG7Q,KAAOgV,EAFnB,EAKKzP,EAAO0Q,UAEtBhS,KAAK,SAAS,SAACI,GACd,OAAOA,EAAEwM,OAAO,GAAG6E,KAAK9V,QAAQ,KAAM,IAAIA,QAAQ,YAAa,IAAM,QAAUyE,EAAEwM,OAAO,GAAG7Q,KAAO,kBAEnGiE,KAAK,QAAQ,SAAUI,GACtB,OAAIA,EAAEwM,OAAO,GAAG7Q,KAAO8U,GAIdzQ,EAAEwM,OAAO,GAAG7Q,KAAOgV,EAFnB,wBAOAtQ,EAAWL,EAAEzD,QAGvB2F,aAAaC,UAAS,SAAAnC,GACrB,MAAe,WAAXkQ,EACKc,EAGA,KAGVpR,KAAK,MAAM,SAAAI,GAAC,OAAI8R,EAAO9R,EAAEwM,OAAO,GAAG7Q,MAAQoW,KAG9CE,EAAUtS,OAAO,eACdC,KAAK,MAAM,SAAAI,GAAC,MAAI,IAAMA,EAAEzD,IAAIhB,QAAQ,MAAO,OAC3CqE,KAAK,SAAS,SAACI,GAAD,MAAO,kBAAoBA,EAAEwM,OAAO,GAAG7Q,QACrDiE,KAAK,KAAM,GACXA,KAAK,KAAMsB,EAAO5B,OAClBiD,GAAG,SAAS,SAAUvC,GACrB,OAAOyI,EAA0B,IAAMzI,EAAEzD,QAG1CqD,KAAK,UAAU,SAACI,GACf,OAAIA,EAAEwM,OAAO,GAAG7Q,KAAO8U,GAGdzQ,EAAEwM,OAAO,GAAG7Q,KAAOgV,EAFnB,cAMAtQ,EAAWL,EAAEzD,QAGvB2F,aAAaC,UAAS,SAAAnC,GACrB,MAAe,WAAXkQ,EACKc,EAGA,KAGVpR,KAAK,MAAM,SAAUI,GACpB,OAAO8R,EAAO9R,EAAEwM,OAAO,GAAG7Q,MAAQoW,KAEnC7P,aAAaC,UAAS,SAAAnC,GACrB,MAAe,WAAXkQ,EACKe,EAGA,KAGVrR,KAAK,MAAM,SAAUI,GACpB,OAAO8R,EAAO9R,EAAEwM,OAAO,GAAG7Q,SAI9BsW,EAAUtS,OAAO,iBACdC,KAAK,MAAM,SAAAI,GAAC,MAAI,IAAMA,EAAEzD,IAAIhB,QAAQ,MAAO,OAC3CqE,KAAK,SAAS,SAACI,GACd,OAAOA,EAAEwM,OAAO,GAAG6E,KAAK9V,QAAQ,KAAM,IAAIA,QAAQ,YAAa,IAAM,qBAAuByE,EAAEwM,OAAO,GAAG7Q,QAEzGiE,KAAK,KAAK,SAAAI,GACT,OAAIA,EAAEwM,OAAO,GAAG7Q,KAAO8U,GAGdzQ,EAAEwM,OAAO,GAAG7Q,KAAOgV,EAFnB,EAKKzP,EAAO0Q,UAEtBhS,KAAK,KAAMsB,EAAO5B,OAClBM,KAAK,MAAM,SAAAI,GACV,OAAO8R,EAAO9R,EAAEwM,OAAO,GAAG7Q,MAAQoW,KAEnCnS,KAAK,QAAQ,SAACI,GACb,KAAMA,EAAEwM,OAAO,GAAG7Q,KAAO8U,EAAsBzQ,EAAEwM,OAAO,GAAG7Q,KAAOgV,GAChE,OAAOtQ,EAAWL,EAAEzD,QAI1B0V,EAAUtS,OAAO,oBACdC,KAAK,SAAS,SAACI,GAAD,MAAO,uCAAyCA,EAAEwM,OAAO,GAAG7Q,QAC1EiE,KAAK,KAAK,SAAAI,GAAC,OAAIV,EAAQ4B,EAAOwQ,oBAC9B9R,KAAK,KAAK,SAAAI,GAAC,OAAI8R,EAAO9R,EAAEwM,OAAO,GAAG7Q,MAAQoW,KAC1CnS,KAAK,KAAM,IACXA,KAAK,KAAM,GACXA,KAAK,cAAe,SACpBM,MAAK,SAAAF,GACJ,OAAIA,EAAEwM,OAAO,GAAG7Q,KAAO8U,GAAuBzQ,EAAEwM,OAAO,GAAG7Q,KAAOgV,EACxD,GAGA3Q,EAAEwM,OAAO,GAAG7Q,QAGtBiE,KAAK,QAAQ,SAAUI,GACtB,OAAIA,EAAEwM,OAAO,GAAG7Q,KAAO8U,GAAuBzQ,EAAEwM,OAAO,GAAG7Q,KAAOgV,EACxD,GAGAtQ,EAAWL,EAAEzD,QAGvBgG,GAAG,SAAS,SAAUvC,GACrB,OAAOyI,EAA0B,IAAMzI,EAAEzD,QAI7C0V,EAAUtS,OAAO,SACdC,KAAK,SAAS,SAAAI,GAAC,MAAI,QAAU8B,EAAWvG,QAAQ,IAAK,UAAYyE,EAAEwM,OAAO,GAAG6E,KAAK9V,QAAQ,KAAM,IAAIA,QAAQ,YAAa,IAAI6W,MAAM,KAAKrS,KAAK,QAC7IH,KAAK,KAAK,SAAAI,GAGT,OADAqS,GADgBvQ,EAAWvG,QAAQ,IAAK,UAAYyE,EAAEwM,OAAO,GAAG6E,KAAK9V,QAAQ,KAAM,IAAIA,QAAQ,YAAa,IAAI6W,MAAM,KAAKrS,KAAK,KAC7F3E,EAAgB4E,EAAEzD,IAAIhB,QAAQ,KAAM,IAAIA,QAAQ,YAAa,IAAKwV,EAAsC7V,EAAe8E,EAAEzD,IAAKd,EAAMqJ,EAAiB9E,EAAEwM,OAAO,GAAG7Q,KAAM0E,EAAWL,EAAEzD,KAAMyD,EAAEzD,IAAIhB,QAAQ,MAAO,KAC3O+D,EAAQ4B,EAAOwQ,iBAAmB,MAE1C9R,KAAK,KAAK,SAAAI,GAAC,OAAI8R,EAAO9R,EAAEwM,OAAO,GAAG7Q,MAAQoW,EAAiB,MAC3DnS,KAAK,SAAS,SAAAI,GACb,GAAIA,EAAEwM,OAAO,GAAG7Q,KAAO8U,GAAuBzQ,EAAEwM,OAAO,GAAG7Q,KAAOgV,EAC/D,OAAO,QAMf,SAAgBsB,GACdA,EAAUpM,YD1dVlD,CAA8B,EAAKmO,KAAMT,EAASG,EAAc,EAAGE,EAAWD,EAC5EE,EAAqB,EAAKvQ,MAAM0B,WAAY7F,EAAe,EAAKmE,MAAM0E,gBACtE,EAAK1E,MAAMhF,eAAgB,EAAKgF,MAAMlF,cAAe,EAAKkF,MAAM4D,eAAgB,EAAK5D,MAAMqI,0BAC3F,EAAKD,YAAa0H,EAAS,EAAK9P,MAAM0D,gBAAiB,EAAK1D,MAAMc,SAvEnD,EA2EnBsH,UAAY,WACV,IAAIvM,EACoCA,EAAX,SAAzB,EAAKmE,MAAM0B,WAAyC,EAAK1B,MAAM0T,gBAAyC,EAAK1T,MAAM2T,gBAEvH,IAAIpQ,EAAa,EAAKvD,MAAMuD,WAExB4M,EADwB,EAAKnQ,MAAMlE,qBAAqBD,GACvBc,OAEjCyT,EAA4C,MAA9B,EAAKpQ,MAAM4T,gBAA0B,EAAK5T,MAAM4T,gBAAgB,GAAK,GACnFxD,EAAc,IAAKA,GAAe,GAClCA,EAAc,IAAKA,EAAc,GACjCA,EAAc7M,IAAcA,EAAa6M,IAC7CA,GAA4B7M,GACV,IAAK6M,EAAc,EAAG7M,EAAa,GACrD,IAAI8M,EAAsBD,EAAc7M,EAAa,EAErDA,EAAa,EAAKvD,MAAMuD,WACxB,IAAI+M,EAA0C,MAA9B,EAAKtQ,MAAM4T,gBAA0B,EAAK5T,MAAM4T,gBAAgB,GAAK,GACjFrD,EAAsBD,GAC1BA,GAAwB/M,GACR4M,IACdI,EAAsBD,EAAY/M,EAClC+M,EAAYH,GAMd,IAHA,IAAIiC,EAAiC,GACjCC,EAAyB,EAAKrS,MAAMlE,qBAAqBD,GAEpDG,GADLoW,EAAiC,GACxB/B,EAAsB,GAAGrU,EAAIuU,EAAqBvU,IAC7DoW,EAA+BC,EAAuBrW,GAAvB,OAAsCqW,EAAuBrW,GAAvB,aAEvE,IAAIsW,EAAMjC,EACNkC,EAAMhC,EACN3Q,GAAK2S,EAAMD,GAAO,EAClBE,EAAclT,MAAiBuC,OAAO,CAACyQ,EAAU,EAAJ1S,EAAO0S,EAAU,EAAJ1S,EAAO0S,EAAU,EAAJ1S,EAAO0S,EAAU,EAAJ1S,EAAO0S,EAAU,EAAJ1S,EAAO0S,EAAU,EAAJ1S,EAAO0S,IAAMG,YAAYnT,KAAmBT,MAAM,CAAC,UAAW,UAAW,UAAW,UAA0B,UAAW,UAAW,UAAW,YAC7P6T,EAAU,GACd,IAAK,IAAIvW,KAAOiW,EACdM,EAAQvW,GAAOqW,EAAYJ,EAA+BjW,IAK5D,OAHA,EAAK8D,WAAaX,MAAkBuC,OAAO5F,OAAOC,KAAKwW,IAAU7T,MAAM5C,OAAOmQ,OAAOsG,IACrFC,EAAoB,SAAS,CAACL,EAAIC,GAAKG,GAEhC,EAAKzS,YAnHZ,EAAK8T,MAAQ/G,IAAMgH,YAFF,E,gEAKjB1T,KAAKC,SAAS,CAAE0T,OAAQ,M,yCAEPvT,EAAWC,GAExBmS,KAAKC,UAAUzS,KAAKN,MAAM4T,kBAAoBd,KAAKC,UAAUrS,EAAUkT,kBACzEtT,KAAKN,MAAMkE,cAAcxD,GAEvBJ,KAAKN,MAAM0T,kBAAoBhT,EAAUgT,iBAC3CpT,KAAKN,MAAMkE,cAAcxD,GAEvBJ,KAAKN,MAAM2T,kBAAoBjT,EAAUiT,iBAC3CrT,KAAKN,MAAMkE,cAAcxD,GAItBJ,KAAKN,MAAMgT,QACd1S,KAAKN,MAAM4T,gBAAgB,IAAMlT,EAAUkT,gBAAgB,GAG3DtT,KAAKmT,MAAM,gBAHkFnT,KAAKmT,MAAM,WAK1GnT,KAAKN,MAAMiT,U,+BA2GH,IAAD,OACP,OACE3S,KAAKN,MAAM6D,KAAKjH,SAAS,eAAiB,kBAACmG,EAAA,EAAD,CAAMnE,WAAS,EAACuC,MAAO,CAAEjC,MAAO,QAASgU,YAAa,OAAQvG,UAAW,OAAQwG,aAAc,EAAGjQ,OAAQ,qBAAsBF,UAAU,cAClL,kBAACD,EAAA,EAAD,CAAMvE,MAAI,EAAC4U,GAAG,IAAIpQ,UAAU,kBAC1B,yBAAKA,UAAU,qBACb,wCACA,uBAAGA,UAAU,eAAwC,SAAzB1C,KAAKN,MAAM0B,WAAwB,SAAW,UAC1E,8CAEF,yBAAKsB,UAAU,QAAQqQ,IAAK,SAAA3C,GAAI,OAAI,EAAKA,KAAOA,IAAM,yBAAKtN,GAAI9C,KAAKN,MAAM0B,YAAY,uBAAG0B,GAAG,WAE9F,kBAACL,EAAA,EAAD,CAAMvE,MAAI,EAAC4U,GAAG,IAAIpQ,UAAU,aACK,WAA9B1C,KAAKN,MAAM0D,gBAA+B,kBAAC4P,EAAD,CACzCjL,0BAA2B/H,KAAKN,MAAMqI,0BACtCD,UAAW9H,KAAK8H,YAChB1G,WAAYpB,KAAKN,MAAM0D,gBACvBuD,YAAa3G,KAAKN,MAAM0B,WACxB/F,YAAa2E,KAAKN,MAAM4T,gBACxB/X,cAAwC,SAAzByE,KAAKN,MAAM0B,WAAwBpB,KAAKN,MAAM0T,gBAAkBpT,KAAKN,MAAM2T,gBAC1F7X,qBAAsBwE,KAAKN,MAAMlE,qBACjC+E,eAAgB,CAACP,KAAKN,MAAM0D,mBAElB,yBAAKV,UAAU,aAAY,8CACP,MAA/B1C,KAAKN,MAAM0H,kBAAkD,GAAtBpH,KAAKN,MAAMmG,QAAe,kBAACoN,GAAD,CAAS1S,eAAgB,CAACP,KAAKN,MAAM0D,iBAAkB0E,UAAW9H,KAAK8H,YAAaC,0BAA2B/H,KAAKN,MAAMqI,4BAAwC,OAGtO,kBAACtF,EAAA,EAAD,CAAMvE,MAAI,EAACwE,UAAU,iBAAiB7B,MAAO,CAAEwL,UAAW,EAAGzJ,OAAQ,oBAAqBhE,MAAO,MAAOgU,YAAa,OACnH,yBAAKlQ,UAAU,qBACb,wCACA,uBAAGA,UAAU,eAAe1C,KAAKN,MAAM0D,gBAAvC,KAAmF,SAAzBpD,KAAKN,MAAM0B,WAAwBpB,KAAKN,MAAM0T,gBAAkBpT,KAAKN,MAAM2T,gBAArI,KACA,8CAEF,yBAAK3Q,UAAU,QAAQqQ,IAAK,SAAA3C,GAAI,OAAI,EAAKA,KAAOA,IAAM,yBAAKtN,GAAI9C,KAAKN,MAAM0B,YAAY,uBAAG0B,GAAG,e,GAtK7EC,aAqMVC,gBAvBS,SAACpD,GACvB,MAAO,CACLrE,cAAeqE,EAAMrE,cACrB6H,gBAAiBxD,EAAMwD,gBACvBkQ,gBAAiB1T,EAAM0T,gBACvBrQ,WAAYrD,EAAMqD,WAClBmQ,gBAAiBxT,EAAMwT,gBACvBC,gBAAiBzT,EAAMyT,gBACvBnQ,4BAA6BtD,EAAMsD,4BACnCwP,OAAQ9S,EAAM8S,OACdtL,iBAAkBxH,EAAMwH,iBACxB5G,OAAQZ,EAAMY,OACd+C,KAAM3D,EAAM2D,SAGU,SAACI,GACzB,MAAO,CACLC,cAAe,SAACC,GAAD,OAASF,EAAS,CAAEvI,KAAM,YAAa0I,MAAOD,KAC7DE,mBAAoB,SAACF,GAAD,OAASF,EAAS,CAAEvI,KAAM,iBAAkB0I,MAAOD,KACvEG,mBAAoB,SAACH,GAAD,OAASF,EAAS,CAAEvI,KAAM,iBAAkB0I,MAAOD,KACvEI,gCAAiC,SAACJ,GAAD,OAASF,EAAS,CAAEvI,KAAM,8BAA+B0I,MAAOD,QAGtFb,CAA4CvD,I,iBE3F5CuD,aAfS,SAACpD,GACvB,MAAO,CACLW,eAAgBX,EAAMW,eACtBkD,QAAS7D,EAAM6D,QACfpI,YAAauE,EAAMvE,YACnBE,cAAeqE,EAAMrE,cACrBC,qBAAsBoE,EAAMpE,yBAGN,SAACmI,GACzB,MAAO,CACLI,mBAAoB,SAACF,GAAD,OAASF,EAAS,CAAEvI,KAAM,iBAAkB0I,MAAOD,KACvE4I,oBAAqB,SAAC5I,GAAD,OAASF,EAAS,CAAEvI,KAAM,kBAAmB0I,MAAOD,QAG9Db,EAxGf,SAAkBtD,GAAQ,IAAD,EACSgN,IAAMC,SAAS,MADxB,mBAChBC,EADgB,KACNC,EADM,KAEjBC,EAAOC,QAAQH,GAFE,EAUOF,IAAMC,SAAS,CAAC,IAVvB,mBAUhBK,EAVgB,KAUPC,EAVO,OAWuBP,IAAMC,SAAS,IAXtC,mBAYjBO,GAZiB,UAYF,SAACpJ,GAAD,OAAW,WAC9B,IAAMqJ,EAAeH,EAAQ7D,QAAQrF,GAC/BsJ,EAAU,YAAOJ,IAED,IAAlBG,EACFC,EAAWlS,KAAK4I,GAEhBsJ,EAAWhE,OAAO+D,EAAc,GAElCF,EAAWG,MA4Bb,OACE,yBAAKvM,MAAO,CAAE+S,YAAa,uBACzB,kBAACvG,EAAA,EAAD,CAAQC,gBAAc,YAAYC,gBAAc,OAAOC,QAhDvC,SAAC3G,GACnBgG,EAAYhG,EAAM4G,iBA+ChB,eAEE,kBAAC,KAAD,OAEF,kBAACC,GAAA,EAAD,CACE5K,GAAG,YACH8J,SAAUA,EACVe,aAAW,EACXb,KAAMA,EACNc,QAtDc,WAClBf,EAAY,OAsDRgB,oBAAqBC,MAErB,yBAAKpL,UAAU,qBACb,kBAACqL,GAAA,EAAD,KACG,CAAE,OAAO,YAAY,YAAY,aAAc,aAAc,aAAa,YAAa,WAAW/R,KAAI,SAAC8H,GACtG,IAAMkK,EAAO,8BAA0BlK,GACvC,OACE,kBAACmK,GAAA,EAAD,CAAUpS,IAAKiI,EAAOoK,UAAMzD,EAAW+C,QAASN,EAAapJ,IAC3D,kBAACqK,GAAA,EAAD,CACEnB,QAAStN,EAAMa,eAAejE,SAASwH,GACvCsK,KAAK,QACLC,UAAW,EACXvK,MAAOA,EACPwK,SAAU,SAACzH,EAAO/C,IA9CZ,SAAC+C,GACvB,IAAI0H,EACA7O,EAAMa,eAAejE,SAASuK,EAAM2H,OAAO1K,QAC7CyK,EAAc7O,EAAMa,eAAevC,QAAO,SAAAE,GACxC,GAAIA,GAAQ2I,EAAM2H,OAAO1K,MACvB,OAAO5F,KAEXqQ,EAAcpM,EAAWzC,EAAM+D,QAAS/D,EAAMrE,YAAakT,EAAa7O,EAAMnE,cAAemE,EAAMlE,sBAAsB,GACzHkE,EAAMqE,mBAAmBwK,GACzB7O,EAAM+M,oBAAoB8B,MAG1BA,EAAc7O,EAAMa,gBACRrF,KAAK2L,EAAM2H,OAAO1K,OAC9ByK,EAAcpM,EAAWzC,EAAM+D,QAAS/D,EAAMrE,YAAakT,EAAa7O,EAAMnE,cAAemE,EAAMlE,sBAAsB,GACzHkE,EAAMqE,mBAAmBwK,GACzB7O,EAAM+M,oBAAoB8B,KAG5BsF,EADanU,EAAM0E,iBACZyC,EAAM2H,OAAO1K,MAAO,iBA4BT2K,CAAgB5H,MAIpB,uBAAGnE,UAAU,kBAAkBI,GAAIkL,GAAUlK,cAU/D,I,kDC7Bed,aAhBS,SAACpD,GACrB,MAAO,CACHW,eAAgBX,EAAMW,eACtBkD,QAAQ7D,EAAM6D,QACdpI,YAAauE,EAAMvE,YACnBE,cAAeqE,EAAMrE,cACrBC,qBAAqBoE,EAAMpE,yBAGT,SAACmI,GACvB,MAAO,CACHmQ,YAAa,SAACjQ,GAAD,OAASF,EAAS,CAAEvI,KAAM,UAAW0I,MAAOD,KACzDE,mBAAoB,SAACF,GAAD,OAASF,EAAS,CAAEvI,KAAM,iBAAkB0I,MAAOD,KACvEkQ,yBAA0B,SAAClQ,GAAD,OAASF,EAAS,CAAEvI,KAAM,uBAAwB0I,MAAOD,QAG5Eb,EA3Df,SAActD,GAAQ,IAAD,EACegN,IAAMC,SAAS,MAD9B,mBACVC,EADU,KACAC,EADA,OAEcH,IAAMC,SAASjN,EAAM+D,SAFnC,mBAEVA,EAFU,KAEDuQ,EAFC,KAGXlH,EAAOC,QAAQH,GAiBrB,OACI,yBAAKlK,UAAU,OAAO7B,MAAO,CAAC+S,YAAY,uBACtC,kBAACvG,EAAA,EAAD,CAAQC,gBAAc,YAAYC,gBAAc,OAAOC,QAlB3C,SAAC3G,GACjBgG,EAAYhG,EAAM4G,iBAiBd,kBAA4F,kBAAC,KAAD,OAC5F,kBAACC,GAAA,EAAD,CACI5K,GAAG,YACH8J,SAAUA,EACVe,aAAW,EACXb,KAAMA,EACNc,QArBQ,WAChBf,EAAY,OAqBJgB,oBAAqBC,MAEzB,kBAACmG,GAAA,EAAD,CAAaC,UAAU,YACnB,kBAACC,GAAA,EAAD,CAAWD,UAAU,WACrB,kBAACE,GAAA,EAAD,CAAYC,aAAW,SAAS1D,KAAK,UAAU7M,MAAOL,EAAS6K,SAvBjD,SAACzH,GAEvB,GADAmN,EAAYnN,EAAM2H,OAAO1K,OACF,QAApB+C,EAAM2H,OAAO1K,MAAe,IAAID,EAAI,sBAC9BA,EAAIgD,EAAM2H,OAAO1K,MAC1BpE,EAAMoU,YAAYjQ,GAClB,IAAI0K,EAAcpM,EAAW0B,EAAKnE,EAAMrE,YAAaqE,EAAMa,eAAgBb,EAAMnE,cAAcmE,EAAMlE,sBAAsB,GACvHgI,EAAuBrB,EAAW0B,EAAKnE,EAAMrE,YAAaqE,EAAMa,eAAgBb,EAAMnE,cAAcmE,EAAMlE,sBAAsB,GACpIkE,EAAMqU,yBAAyBvQ,GAC/B9D,EAAMqE,mBAAmBwK,KAgBZ,CAAC,6BAA8B,oBAAqB,QAAQvS,KAAI,SAAC8H,GAC9D,OAAO,kBAACwQ,GAAA,EAAD,CAAkBxQ,MAAOA,EAAOyQ,QAAS,kBAACC,GAAA,EAAD,MAAWC,MAAO3Q,cAQ1F,IC3CM4Q,GAAYC,cAAW,SAACC,GAAD,MAAY,CACvCC,oBAAqB,CACnBxI,UAAW,GAEbyI,KAAM,CACJlW,MAAO,QAETmW,SAAU,CACRnW,MAAO,OACP0Q,SAAU,KAEZ0F,MAAO,GAEPC,QAAS,CACPC,SAAUN,EAAMO,WAAWC,QAAQ,IACnCC,WAAYT,EAAMO,WAAWG,uBA0CjC,IA0CetS,gBA1CS,SAACpD,GAAW,IAAD,EACjC,OAAO,EAAP,CACE2V,WAAW3V,EAAM2V,WACjB9U,eAAgBb,EAAMa,eACtB0C,SAAUvD,EAAMuD,SAChB5H,cAAeqE,EAAMrE,cACrBia,mBAAoB5V,EAAM4V,mBAC1BjV,eAAgBX,EAAMW,eACtBgM,KAAM3M,EAAM2M,KACZ5B,UAAW/K,EAAM+K,UACjBtP,YAAauE,EAAMvE,YACnBqX,OAAQ9S,EAAM8S,OACdlX,qBAAsBoE,EAAMpE,qBAC5B0H,4BAA6BtD,EAAMsD,4BACnCuM,kBAAmB7P,EAAM6P,kBACzBC,kBAAmB9P,EAAM8P,kBACzB4D,gBAAiB1T,EAAM0T,iBAfzB,qBAgBQ1T,EAAM2M,MAhBd,wBAiBW3M,EAAM6D,SAjBjB,0BAkBY7D,EAAMsC,WAlBlB,KAsBwB,SAACyB,GACzB,MAAO,CACL8R,IAAK,SAAC5R,GAAD,OAASF,EAAS,CAAEvI,KAAM,MAAO0I,MAAOD,KAC7C6R,mBAAoB,SAAC7R,GAAD,OAASF,EAAS,CAAEvI,KAAM,iBAAkB0I,MAAOD,KACvE8R,kBAAmB,SAAC9R,GAAD,OAASF,EAAS,CAAEvI,KAAM,gBAAiB0I,MAAOD,KACrE+R,aAAc,SAAC/R,GAAD,OAASF,EAAS,CAAEvI,KAAM,WAAY0I,MAAOD,KAC3DgS,mBAAoB,SAAChS,GAAD,OAASF,EAAS,CAAEvI,KAAM,iBAAkB0I,MAAOD,KACvEiS,YAAa,SAACjS,GAAD,OAASF,EAAS,CAAEvI,KAAM,UAAW0I,MAAOD,KACzDkS,gBAAiB,SAAClS,GAAD,OAASF,EAAS,CAAEvI,KAAM,cAAe0I,MAAOD,KACjEmS,eAAgB,SAACnS,GAAD,OAASF,EAAS,CAAEvI,KAAM,aAAc0I,MAAOD,KAC/DoS,sBAAuB,SAACpS,GAAD,OAASF,EAAS,CAAEvI,KAAM,oBAAqB0I,MAAOD,KAC7EqS,sBAAuB,SAACrS,GAAD,OAASF,EAAS,CAAEvI,KAAM,oBAAqB0I,MAAOD,KAC7EsS,oBAAqB,SAACtS,GAAD,OAASF,EAAS,CAAEvI,KAAM,kBAAmB0I,MAAOD,KACzE4I,oBAAqB,SAAC5I,GAAD,OAASF,EAAS,CAAEvI,KAAM,kBAAmB0I,MAAOD,KACzEE,mBAAoB,SAACF,GAAD,OAASF,EAAS,CAAEvI,KAAM,iBAAkB0I,MAAOD,KACvEkQ,yBAA0B,SAAClQ,GAAD,OAASF,EAAS,CAAEvI,KAAM,uBAAwB0I,MAAOD,KACnFuS,cAAe,SAACvS,GAAD,OAASF,EAAS,CAAEvI,KAAM,YAAa0I,MAAOD,QAGlDb,EAjFf,SAAgBtD,GACEgV,KAAhB,IAQI2B,EAAoB,SAACtb,GACd,OAANA,EAAa2E,EAAMgW,mBAAN,YAA6BhW,EAAM8V,qBAE7C9V,EAAMe,eAAenE,SAASvB,GAChC2E,EAAMgW,mBAAmBhW,EAAMe,eAAezC,QAAO,SAAAE,GAAI,OAAEA,GAAMnD,MAGjE2E,EAAMgW,mBAAN,sBAA6BhW,EAAMe,gBAAnC,CAAkD1F,MAIpDub,EAAmB,SAAC1Z,GACZ,OAAPA,EAAc8C,EAAMqE,mBAAN,YAA6BrE,EAAM6V,aACrC,WAAP3Y,EAAkB8C,EAAM0W,eAAe1W,EAAMwC,WAE/CxC,EAAMa,eAAejE,SAASM,GAChC8C,EAAMqE,mBAAmBrE,EAAMa,eAAevC,QAAO,SAAAE,GAAI,OAAEA,GAAMtB,MAGjE8C,EAAMqE,mBAAN,sBAA6BrE,EAAMa,gBAAnC,CAAkD3D,MAIxD,OACE,6BACA,6BAAK,wBAAIiE,MAAO,CAAE0V,QAAS,eAAgBnK,WAAY,KAAlD,UAAoE1M,EAAM8V,mBAAmBxZ,KAAI,SAAAkC,GAAI,OAAI,uBAAGwE,UAAWhD,EAAMe,eAAenE,SAAS4B,GAAQ,2BAA6B,UAAWsP,QAAS,kBAAM6I,EAAkBnY,KAAQA,MAAW,uBAAGwE,UAAU,UAAU7B,MAAO,CAAE0V,QAAS,gBAAiB/I,QAAS,kBAAM6I,EAAkB,SAA3F,OAA9P,IAAyW,uBAAG3T,UAAU,UAAU7B,MAAO,CAAE0V,QAAS,iBAAzC,YACzW,6BAAK,wBAAI1V,MAAO,CAAE0V,QAAS,eAAgBnK,WAAY,KAAlD,WAAqE1M,EAAM6V,WAAWvZ,KAAI,SAAAkC,GAAI,OAAI,uBAAGwE,UAAWhD,EAAMa,eAAejE,SAAS4B,GAAQ,2BAA6B,UAAWsP,QAAS,kBAAM8I,EAAmBpY,KAAQA,MAAW,uBAAGwE,UAAU,UAAU7B,MAAO,CAAE0V,QAAS,gBAAiB/I,QAAS,kBAAM8I,EAAmB,SAA5F,OAAxP,IAAoW,uBAAG5T,UAAWhD,EAAMwC,UAAY,2BAA6B,UAAWrB,MAAO,CAAE0V,QAAS,gBAAiB/I,QAAS,kBAAM8I,EAAmB,aAA7I,gB,wDC/DzV,SAAS/Q,GAAYE,EAAS7H,EAAMwS,EAAM1K,EAAgBnK,EAAeib,EAA0BC,GAChH,IAAI7N,EAAgBjK,EAAE,mBAAmBC,QACrCG,EAAMC,IAAUoR,GAClBzK,EAAgB,GAAhBA,EAAiD,EACjD/G,EAAQgK,EAAgBjD,EADG,GAE3B7G,EAAS4G,EAAiBC,EAFa,GAGzC,GAAIgC,MAAM/J,EAAK,GAAGmH,GAAI,CAEpB,IAAI2R,EAAQ,GACZ9Y,EAAK5B,KAAI,SAAAkC,GACHA,EAAK6G,KAAK2R,EACZA,EAAMxY,EAAK6G,GAAK2R,EAAMxY,EAAK6G,GAAK,EAGhC2R,EAAMxY,EAAK6G,GAAK,KAIpB,IAAIhJ,EAAQJ,OAAOC,KAAK8a,GAAO1a,KAAI,SAAUH,GAC3C,MAAO,CAACA,EAAK6a,EAAM7a,OAIrBE,EAAMZ,MAAK,SAAUe,EAAOC,GAC1B,OAAOA,EAAO,GAAKD,EAAM,MAG3B,IAAI6I,EAAIhJ,EAAMC,KAAI,SAAApB,GAAO,OAAIA,EAAQ,MACjCgK,EAAI7I,EAAMC,KAAI,SAAApB,GAAO,OAAIA,EAAQ,MACjC+b,EAAQ3X,IAAO4F,GACfgS,EAAS5X,MACV6X,aAAa7X,IAAe,YAAa,cACzCuC,OAAO,CAAC,EAAGqD,EAAEvI,SAChB0C,EAAIK,UAAU,eAAexB,KAAK,CAAC,IAAIyB,KAAK,QAAQH,KAAK,QAAS,cAAcA,KAAK,IAAK,IAAIA,KAAK,IAAKN,EAAQ,GAAGM,KAAK,cAAe,UAAUM,KAAKiG,GACtJ,IACIiB,EADI3H,EAAIK,UAAU,OAAOxB,KAAK,CAAC,IAAIyB,KAAK,KAAKH,KAAK,QAAS,MAAMA,KAAK,YAAa,aAAeyG,EAAc,IAAMA,EAAa,KAC1HvG,UAAU,SAASxB,KAAK,CAAC,IAAIyB,KAAK,OAAOH,KAAK,QAAS,QAAQA,KAAK,QAASN,GAAOM,KAAK,SAAUJ,GAChH4H,EAAKtH,UAAU,QAAQxB,KAAKgH,GAAGvF,KAAK,QACjCwB,MAAM,QAAQ,SAACvB,EAAG5D,GAAJ,OAAUkb,EAAOlb,MAAIwD,KAAK,SAAUJ,GAClDI,KAAK,SAAS,SAACI,EAAG5D,GACjB,OAAU4D,EAAIqX,EAAS/X,EAAS,MAEjCM,KAAK,KAAK,SAACI,EAAG5D,GAEb,OADesD,IAAO4F,EAAE8E,MAAM,EAAGhO,IACbib,EAAS/X,KAE9BM,KAAK,MAAM,SAACI,EAAG5D,GAAJ,OAAUqJ,EAAErJ,MACvBmG,GAAG,SAAS,SAACvC,EAAG5D,GACfsD,IAAU,IAAM+F,EAAErJ,IAAIqL,QAAQ,oBAAoB,WAChD,GAAI/H,IAAU,IAAM+F,EAAErJ,IAAIqL,QAAQ,oBAEhC,OAAO,EAGP,IAAI+P,EAuLd,SAAoBtc,EAAcO,EAAKgc,GACrC,IAAIla,EAAK,GAMT,OALArC,EAAcG,SAAQ,SAAAC,GACjBA,EAAQ,UAAUG,GAAQH,EAAO,SAAamc,GAChDla,EAAK3B,KAAKF,SAASJ,EAAO,kBAGtBiC,EA9LiBma,CAAWP,EAAclb,EAAewJ,EAAErJ,IAE1D,OADA8a,EAAyBM,EAAW,mBAC7B,QAOfpQ,EAAKtH,UAAU,QAAQxB,KAAKmH,GAAG,SAAAzF,GAAC,OAAIA,KAAGD,KAAK,QACzCG,MAAK,SAACF,EAAG5D,GACR,OAAMkJ,EAAElJ,GAAKib,EAAS/X,EAAS,GAAaU,EAC9B,MAEfJ,KAAK,KAAK,SAACI,EAAG5D,GAEb,OADesD,IAAO4F,EAAE8E,MAAM,EAAGhO,IACbib,EAAS/X,EAAS,KAEvCM,KAAK,IAAKJ,EAAS,GACnB+B,MAAM,YAAa,GACnBA,MAAM,eAAgB,MACtBA,MAAM,cAAe,cAGrB,CAEH9B,EAAIK,UAAU,eAAexB,KAAK,CAAC6H,IAAU,SAAAnG,GAAC,OAAIA,KAAGD,KAAK,QAAQH,KAAK,QAAS,cAAcA,KAAK,IAAK,IAAIA,KAAK,IAAKN,EAAQ,GAAGM,KAAK,cAAe,UAAUM,KAAKiG,EAAQ5K,QAAQ,KAAM,MAE1L,IAAI2M,EAAS5J,EAAK5B,KAAI,SAAAkC,GAAI,OAAIpC,WAAWoC,EAAI,MAE3C+Y,GADArS,EAAI5F,MAAiBuC,OAAO,CAACvC,IAAOwI,GAASxI,IAAOwI,KAAUjJ,MAAM,CAAC,EAAGK,IAAQ6I,QAChEgE,MAAM,GACtBT,EAAclM,EAKZmM,EAJUjM,MACT8E,OAAM,SAAAxE,GAAC,OAAIA,KACXiC,OAAOqD,EAAErD,UACT2V,WAAW,EACLhM,CAAU1D,GACnB2D,EAASnM,MACNT,MAAM,CAACyM,EAAa,IACzBG,EAAO5J,OAAO,CAAC,EAAGvC,IAAOiM,GAAM,SAAU3L,GAAK,OAAOA,EAAEjD,YACvD,IAAI+O,EAAOrM,EAAIK,UAAU,SAASxB,KAAK,CAAC,IAAIyB,KAAK,OAAOH,KAAK,QAAS,QAAQE,UAAU,SAASxB,KAAK,CAAC,IAAIyB,KAAK,KAAKH,KAAK,QAAS,QAAQA,KAAK,YAC9I,aAAeyG,EAAc,IAAMA,EAAa,KAElDyF,EAAKhM,UAAU,QAAQxB,KAAKqN,GAAM5L,KAAK,QACpCH,KAAK,IAAK,GACVA,KAAK,OAAQ,aACbA,KAAK,aAAa,SAAUI,GAC3B,OAAGA,EAAE+L,IAAI/L,EAAEgM,GAAW,eAAyBH,EAAO7L,EAAEjD,QAAU,IAC3D,aAAeuI,EAAEtF,EAAE+L,IAAM,IAAMF,EAAO7L,EAAEjD,QAAU,OAE1D6C,KAAK,SAAS,SAAUI,GACvB,OAAGA,EAAE+L,IAAI/L,EAAEgM,GAAW1M,EACfgG,EAAEtF,EAAEgM,IAAM1G,EAAEtF,EAAE+L,IAAM,MAC5BnM,KAAK,UAAU,SAAUI,GAAK,OAAO0L,EAAcG,EAAO7L,EAAEjD,WAG/D+O,EAAKhM,UAAU,YAAYxB,KAAKqN,GAAM5L,KAAK,QAAQH,KAAK,QAAQ,WAC7DA,KAAK,KAAK,SAAAI,GAAC,OAAEsF,EAAEtF,EAAE+L,KAAMzG,EAAEtF,EAAEgM,IAAI1G,EAAEtF,EAAE+L,KAAK,KACxC7L,MAAK,SAAAF,GAAC,OAAEA,EAAEjD,UACV6C,KAAK,KAAI,SAAAI,GAAC,OAAG6L,EAAO7L,EAAEjD,QAAQ,KAC9B6C,KAAK,YAAY,IAGjBF,IAAOiY,GAAa,IACrB7L,EAAKhM,UAAU,YAAYxB,KAAK,CAAC,IAAIyB,KAAK,KAAKH,KAAK,QAAS,WAC5DA,KAAK,YAAa,eAAiB8L,EAAc,KACjDpB,KAAK5K,IAAc4F,GAAG8G,WAAWuL,GAAatL,WAAW3M,IAAU,SAGpEoM,EAAKhM,UAAU,YAAYxB,KAAK,CAAC,IAAIyB,KAAK,KAAKH,KAAK,QAAS,WAC5DA,KAAK,YAAa,eAAiB8L,EAAc,KACjDpB,KAAK5K,IAAc4F,GAAG8G,WAAWuL,IAGpC7L,EAAKhM,UAAU,sBAAsBF,KAAK,SAAU,WAIpD,IAAIiY,EAAgB,CAClBvc,QAAS,KACTwc,gBAAiB,KACjBC,SAAU,EACVC,SAAU,EACVC,QAAS,EACTC,QAAS,EACTC,WAAY,SAAUC,GACpB1X,KAAKoX,gBAAkBpX,KAAKpF,QAC5BoF,KAAKpF,QAAU8c,GAEjBC,iBAAkB,WAKhB,MAAO,CAAE/S,EAJD5E,KAAKsX,SAAWtX,KAAKuX,QAAUvX,KAAKsX,SAAWtX,KAAKuX,QAI7CxS,EAHP/E,KAAKqX,SAAWrX,KAAKwX,QAAUxX,KAAKqX,SAAWrX,KAAKwX,QAGvC5Y,MAFT9B,KAAKiE,IAAIf,KAAKsX,SAAWtX,KAAKuX,SAEPzY,OADtBhC,KAAKiE,IAAIf,KAAKqX,SAAWrX,KAAKwX,WAG7CI,qBAAsB,WAEpB,IAAIhT,GAAK5E,KAAKpF,QAAQsE,KAAK,KACvB6F,GAAK/E,KAAKpF,QAAQsE,KAAK,KAG3B,MAAO,CAAEoM,GAAI1G,EAAGI,GAAID,EAAG8S,GAAIjT,IAFd5E,KAAKpF,QAAQsE,KAAK,SAEOqM,GAAIxG,IAD5B/E,KAAKpF,QAAQsE,KAAK,YAGlC4Y,2BAA4B,WAC1B,IAAIC,EAAQ/X,KAAK4X,uBACjB,MAAO,OAASG,EAAMzM,GAAK,QAAUyM,EAAMF,GAAK,QAAUE,EAAM/S,GAAK,QAAU+S,EAAMxM,IAEvFyM,KAAM,SAAUC,EAAMC,GACpB,IAAIC,EAAcpZ,EAAI6B,OAAO,QAC1B1B,KAAK,KAAM,GAAGA,KAAK,KAAM,GAAGA,KAAK,IAAK,GAAGA,KAAK,IAAK,GACnDA,KAAK,QAAS,GAAGA,KAAK,SAAU,GAAG6H,QAAQ,aAAa,GAC3D/G,KAAKyX,WAAWU,GAChBnY,KAAKuX,QAAUU,EACfjY,KAAKwX,QAAUU,EACflY,KAAKgI,OAAOiQ,EAAMC,IAEpBlQ,OAAQ,SAAUiQ,EAAMC,GACtBlY,KAAKsX,SAAWW,EAChBjY,KAAKqX,SAAWa,EAChB,IAAIE,EAAUpY,KAAK2X,mBACnB3X,KAAKpF,QAAQsE,KAAK,IAAKkZ,EAAQxT,GAAG1F,KAAK,IAAKkZ,EAAQrT,GACjD7F,KAAK,QAASkZ,EAAQxZ,OAAOM,KAAK,SAAUkZ,EAAQtZ,SAEzDuZ,MAAO,WACLrY,KAAKpF,QACFiG,MAAM,SAAU,IAChBA,MAAM,eAAgB,MAE3BsE,OAAQ,WACNnF,KAAKpF,QAAQuK,SACbnF,KAAKpF,QAAU,MAEjB0d,eAAgB,WACVtY,KAAKoX,iBACPpX,KAAKoX,gBAAgBjS,WAgC3B,IAAIoT,EAAevZ,MAChB6C,GAAG,SA3BN,WACE,IAAI2W,EAAIxZ,IAASgB,MACjBmX,EAAca,KAAKQ,EAAE,GAAIA,EAAE,IAC3BrB,EAAcmB,oBAyBbzW,GAAG,QAvBN,WACE,IAAI2W,EAAIxZ,IAASgB,MACjBmX,EAAcnP,OAAOwQ,EAAE,GAAIA,EAAE,OAsB5B3W,GAAG,OApBN,WACE,IAAI4W,EAAkBtB,EAAcS,uBACpC,GAAIa,EAAgBnN,IAAMmN,EAAgBZ,GAAI,CAC5C,IAAIa,EAAOD,EAAgBnN,GAAK3F,EAC5BgT,EAAOF,EAAgBZ,GAAKlS,EAC5BiT,EAAa,CAAChU,EAAEiU,OAAOH,GAAMI,QAAQ,GAAIlU,EAAEiU,OAAOF,GAAMG,QAAQ,IAChEhC,EAkBV,SAAgBtc,EAAc+D,EAAMxD,EAAK0K,GACvC,IAAI5I,EAAK,GAMT,OALArC,EAAcG,SAAQ,SAAAC,GACjBA,EAAQ,UAAUG,GAAQe,WAAWlB,EAAQ6K,KAAWlH,EAAM,IAAMzC,WAAWlB,EAAQ6K,KAAWlH,EAAM,IAC1G1B,EAAK3B,KAAKF,SAASJ,EAAO,kBAGtBiC,EAzBakc,CAAOtC,EAAcmC,EAAYrd,EAAekK,GAChE+Q,EAAyBM,EAAW,kBAElC2B,EAAgBZ,GAAKY,EAAgBnN,GAAK,GAAKmN,EAAgBlN,GAAKkN,EAAgBzT,GAAK,GAE3FhG,IAASmL,YAAYlF,iBACrBkS,EAAckB,SAEdlB,EAAchS,YAOlBpG,EAAI6K,KAAK2O,I,iECvNPjT,G,kDACJ,WAAY5F,GAAQ,IAAD,8BACjB,cAAMA,IA8DR8W,yBAA2B,SAAC5Y,EAAMxC,GAEhC,IAAIyB,EAAO,EAAK+C,MAAMoZ,gBACtBpb,EAAKjD,SAAQ,SAAAC,GACNiC,EAAKP,SAAS1B,IAAYiC,EAAK3B,KAAKN,MAE3C,EAAKqF,SAAS,CAAE+Y,gBAAiBnc,KArEhB,EAuEnBoc,sBAAwB,WAGtB,GAFAja,IAAa,qBAAqB+H,QAAQ,oBAAmB,GAC7D/H,IAAa,cAAcmG,SACxB,EAAKvF,MAAMoZ,gBAAgB3c,OAAO,EAAGkO,MAAM,wBAA9C,CACA,IAAIsJ,EAAS,EAAKnU,MAAM0E,gBACpB8U,EAAkB,EAAKtZ,MAAMoZ,gBAAgBhb,QAAO,SAACE,GACvD,GAAIA,GAAQ,EAAKwB,MAAMrE,YAAY,IAAM6C,GAAQ,EAAKwB,MAAMrE,YAAY,GACtE,OAAO6C,KAGRgb,EAAgB7c,OAAO,GAAGkO,MAAM,mBACmB,GAAlD,EAAK7K,MAAMyZ,yBAAX,SAA4G,GAArD,EAAKzZ,MAAMyZ,yBAAyB,eAC7F,EAAKzZ,MAAMmW,mBAAmBqD,GAC9BrF,EAAOqF,EAAiB,oBAGxB,EAAKxZ,MAAMmW,mBAAmB,EAAKjW,MAAMoZ,iBACzCnF,EAAO,EAAKjU,MAAMoZ,gBAAiB,mBAErC,EAAK/Y,SAAS,CAAE+Y,gBAAiB,OA1FhB,EAmHnBI,QAAU,SAAC/d,GAIT,IAHA,IAAIge,EAAahe,EAAY,GACzBie,EAAYje,EAAY,GACxBke,EAAM,GACD7d,EAAI2d,EAAY3d,GAAK4d,EAAW5d,IACvC6d,EAAIre,KAAKQ,GAEX,OAAO6d,GAxHP,EAAK9F,MAAQ/G,IAAMgH,YACnB,EAAK9T,MAAQ,CAAE4Z,aAAc,GAAIC,eAAgB,KAAMhD,aAAc,KAAMuC,gBAAiB,IAH3E,E,gEAMjB,IACIU,EADA9T,EAAO5F,KAC6B,UAAtBA,KAAKN,MAAMxC,QAAuBwc,EAAWC,KAAuD,UAAtB3Z,KAAKN,MAAMxC,QAAuBwc,EAAWE,KAAuD,SAAtB5Z,KAAKN,MAAMxC,UAAsBwc,EAAWG,MAC1N7a,IAAO0a,GAAUI,MAAK,SAAUrD,GAC9B7Q,EAAK3F,SAAS,CAAEwW,aAAcA,S,8CAIhC,OAAO,I,2CAEa,IAAD,OACf7Q,EAAO5F,KACP+Z,EAAc/Z,KAAKoZ,QAAQpZ,KAAKN,MAAMrE,aAEtCwV,EAAiB,GACjBnL,EAAiB,IACjB8K,EAAsBxQ,KAAKN,MAAMrE,YAAY,GAAK2E,KAAKN,MAAMrE,YAAY,GAAO,EAAI2E,KAAKN,MAAMuD,WAC/FuN,EAAqBK,EAAiB,MAAOA,EAAiB,IAAML,GACxE,IAAIwJ,EAAoBxJ,EAAqBK,EACzCzT,EAAmE,EAAhDN,KAAK4L,MAAMsR,EAAmBtU,GAClDtI,EAAiB,IAAGA,EAAiB,GAExC,IAAI6c,EAAgB9X,EAA0BnC,KAAKN,MAAMxC,QAAS8C,KAAKN,MAAMa,eAAgBwZ,EAAa/Z,KAAKN,MAAMnE,cAAc6B,EAAiB4C,KAAKN,MAAMrC,WAC3JtB,EAAQJ,OAAOC,KAAKqe,GAAeje,KAAI,SAAUH,GACnD,MAAO,CAACA,EAAKoe,EAAcpe,OAS7B,GAPAE,EAAMZ,MAAK,SAAUe,EAAOC,GAC1B,OAAOA,EAAO,GAAKD,EAAM,MAE3BH,EAAQA,EAAMC,KAAI,SAACpB,GAAD,OAAaA,EAAQ,MAEC,UAAtBoF,KAAKN,MAAMxC,QAAkCyc,KAAuD,UAAtB3Z,KAAKN,MAAMxC,SAAkC0c,KAE9G,MAA3B5Z,KAAKJ,MAAM6W,aAAsB,CACnC,IAAI7N,EAAcjK,EAAE,mBAAmBC,QACnC8G,EAAiB,IAEvB3J,EAAMpB,SAAQ,SAAC8K,EAASyU,GACpB,IAAIC,EAAa,UAAU1U,EAAQ5K,QAAQ,YAAa,IACpDgC,EAAO,GACX,EAAK+C,MAAM6W,aAAa9b,SAAQ,SAAAC,GAC9B,GAAIA,EAAQ,UAAYgL,EAAKlG,MAAMnE,cAAe,CAChD,IAAIT,EAAY,GAChBA,EAAS,EAAQE,SAASJ,EAAO,cACjCE,EAAS,EAAQF,EAAQ6K,GACzB5I,EAAK3B,KAAKJ,OAGdkE,IAAU,wBAAwBE,KAAK,SAAUnD,EAAMM,OAASqJ,GAAgBtG,UAAU,IAAM+a,GAAYvc,KAAK,CAACuc,IAAa,SAAA7a,GAAC,OAAIA,KAAGD,KAAK,OAAOH,KAAK,KAAMib,GAAYjb,KAAK,QAAS0J,GACrL1J,KAAK,KAAK,SAAAI,GAGT,OADAiG,GAAYE,EAAS5I,EAAM,IAAMsd,EAAYzU,EAAgBE,EAAKlG,MAAMnE,cAAeqK,EAAK4Q,yBAA0B5Q,EAAKhG,MAAM6W,cAC1H,KAERvX,KAAK,KAAK,SAACI,EAAG5D,GAAJ,OAAUgK,EAAiBwU,W,+BAkCpC,IAAD,OACP,OACE,6BACE,kBAAC7M,EAAA,EAAD,CAAQ3K,UAAU,SAAS7B,MAAO,CAACuL,WAAW,EAAEzJ,QAAQ,EAAE/D,MAAM,KAAM4O,QAAS,WAC7E,IAAI5H,EAAK,EACD,EAAKlG,MAAMyZ,yBAAyB,gBACnCna,IAAO,EAAKY,MAAMoZ,iBAAiB,EAAKtZ,MAAMrE,YAAY,IAC3D,EAAKqE,MAAMqW,gBAAgB,CAAC/W,IAAO,EAAKY,MAAMoZ,iBAAiB,EAAKtZ,MAAMrE,YAAY,KAErF2D,IAAO,EAAKY,MAAMoZ,iBAAiB,EAAKtZ,MAAMrE,YAAY,IAC3D,EAAKqE,MAAMqW,gBAAgB,CAAC,EAAKrW,MAAMrE,YAAY,GAAG2D,IAAO,EAAKY,MAAMoZ,oBAG5EoB,YAAW,WAAYxU,EAAKqT,0BAA4B,OAV9D,UAaA,yBAAKvW,UAAU,uBACf,yBAAKI,GAAG,sBAAsBjC,MAAO,CAAEjC,MAAOoB,KAAKN,MAAMd,e,GA/G7CmE,aAkJLC,gBApBS,SAACpD,GACvB,MAAO,CACLvE,YAAauE,EAAMvE,YACnBkF,eAAgBX,EAAMW,eACtBrD,QAAS0C,EAAM1C,QACf3B,cAAeqE,EAAMrE,cACrB4d,yBAA0BvZ,EAAMuZ,yBAChClW,WAAWrD,EAAMqD,WACjB5F,UAAUuC,EAAMvC,cAGM,SAACsG,GACzB,MAAO,CACLI,mBAAoB,SAACF,GAAD,OAASF,EAAS,CAAEvI,KAAM,iBAAkB0I,MAAOD,KACvEG,mBAAoB,SAACH,GAAD,OAASF,EAAS,CAAEvI,KAAM,iBAAkB0I,MAAOD,KACvEgS,mBAAoB,SAAChS,GAAD,OAASF,EAAS,CAAEvI,KAAM,iBAAkB0I,MAAOD,KACvEkS,gBAAiB,SAAClS,GAAD,OAASF,EAAS,CAAEvI,KAAM,cAAe0I,MAAOD,KACjEI,gCAAiC,SAACJ,GAAD,OAASF,EAAS,CAAEvI,KAAM,8BAA+B0I,MAAOD,QAGtFb,CAA4CsC,I,oBChI3D,IAUetC,gBAVS,SAACpD,GACvB,MAAO,CACLuD,SAAUvD,EAAMuD,aAGM,SAACQ,GACzB,MAAO,CACLiS,aAAc,SAAC/R,GAAD,OAASF,EAAS,CAAEvI,KAAM,WAAY0I,MAAOD,QAGhDb,EAlCf,SAAkBtD,GAChB,OACE,kBAAC+C,EAAA,EAAD,CACEnE,WAAS,EACT0Q,UAAU,MACVC,QAAQ,aACRC,WAAW,YAEX,kBAACoF,GAAA,EAAD,CACE+F,eAAe,QACf9F,QACE,kBAACpG,GAAA,EAAD,CACEnB,QAAStN,EAAMyD,SACfmL,SAAU,SAACzH,GAAD,OAAWnH,EAAMkW,aAAa/O,EAAM2H,OAAOxB,UACrD2D,KAAK,WACLnS,MAAM,YAGViW,MAAM,iBCLRC,GAAYC,cAAW,SAACC,GAAD,MAAY,CACrCE,KAAM,CACFlW,MAAO,QAEXqW,QAAS,CACLC,SAAUN,EAAMO,WAAWC,QAAQ,IACnCkF,UAAW,SACXC,WAAY,GAEhBC,iBAAkB,CACdtF,SAAUN,EAAMO,WAAWC,QAAQ,IACnC5W,MAAOoW,EAAM6F,QAAQjb,KAAKkb,WAE9BC,MAAO,CACHrO,aAAc,IAElBsO,WAAY,CACRxO,WAAY,QAiXpB,IA4CepJ,gBA5CS,SAACpD,GACrB,MAAO,CACHrE,cAAeqE,EAAMrE,cACrBF,YAAauE,EAAMvE,YACnBkR,KAAM3M,EAAM2M,KACZsO,WAAYjb,EAAMib,WAClBrO,iBAAkB5M,EAAM4M,iBACxBiD,kBAAmB7P,EAAM6P,kBACzBC,kBAAmB9P,EAAM8P,kBACzBtM,gBAAiBxD,EAAMwD,gBACvBkQ,gBAAiB1T,EAAM0T,gBACvBF,gBAAiBxT,EAAMwT,gBACvBC,gBAAiBzT,EAAMyT,gBACvBmC,mBAAoB5V,EAAM4V,mBAC1BtY,QAAS0C,EAAM1C,QACfqD,eAAgBX,EAAMW,eACtB4Y,yBAA0BvZ,EAAMuZ,yBAChC1V,QAAS7D,EAAM6D,QACfjI,qBAAsBoE,EAAMpE,yBAGV,SAACmI,GACvB,MAAO,CACHqS,eAAgB,SAACnS,GAAD,OAASF,EAAS,CAAEvI,KAAM,aAAc0I,MAAOD,KAC/DiX,uBAAwB,SAACjX,GAAD,OAASF,EAAS,CAAEvI,KAAM,qBAAsB0I,MAAOD,KAC/EkS,gBAAiB,SAAClS,GAAD,OAASF,EAAS,CAAEvI,KAAM,cAAe0I,MAAOD,KACjEkX,SAAU,SAAClX,GAAD,OAASF,EAAS,CAAEvI,KAAM,OAAQ0I,MAAOD,KACnDmX,qBAAsB,SAACnX,GAAD,OAASF,EAAS,CAAEvI,KAAM,mBAAoB0I,MAAOD,KAC3EoX,oBAAqB,SAACpX,GAAD,OAASF,EAAS,CAAEvI,KAAM,kBAAmB0I,MAAOD,KACzEoS,sBAAuB,SAACpS,GAAD,OAASF,EAAS,CAAEvI,KAAM,oBAAqB0I,MAAOD,KAC7EqS,sBAAuB,SAACrS,GAAD,OAASF,EAAS,CAAEvI,KAAM,oBAAqB0I,MAAOD,KAC7EsS,oBAAqB,SAACtS,GAAD,OAASF,EAAS,CAAEvI,KAAM,kBAAmB0I,MAAOD,KACzEqX,oBAAqB,SAACrX,GAAD,OAASF,EAAS,CAAEvI,KAAM,kBAAmB0I,MAAOD,KACzEsX,oBAAqB,SAACtX,GAAD,OAASF,EAAS,CAAEvI,KAAM,kBAAmB0I,MAAOD,KACzEgS,mBAAoB,SAAChS,GAAD,OAASF,EAAS,CAAEvI,KAAM,iBAAkB0I,MAAOD,KACvEuX,6BAA8B,SAACvX,GAAD,OAASF,EAAS,CAAEvI,KAAM,2BAA4B0I,MAAOD,KAC3FI,gCAAiC,SAACJ,GAAD,OAASF,EAAS,CAAEvI,KAAM,8BAA+B0I,MAAOD,KACjGiS,YAAa,SAACjS,GAAD,OAASF,EAAS,CAAEvI,KAAM,UAAW0I,MAAOD,KACzD4I,oBAAqB,SAAC5I,GAAD,OAASF,EAAS,CAAEvI,KAAM,kBAAmB0I,MAAOD,KACzEE,mBAAoB,SAACF,GAAD,OAASF,EAAS,CAAEvI,KAAM,iBAAkB0I,MAAOD,KACvEkQ,yBAA0B,SAAClQ,GAAD,OAASF,EAAS,CAAEvI,KAAM,uBAAwB0I,MAAOD,QAI5Eb,EA1Zf,SAAetD,GAYX,IAZmB,IAAD,QACZ2b,EAAU3G,KADE,EAGqBhI,IAAMC,SAASjN,EAAMrE,aAH1C,mBAGXigB,EAHW,KAGEC,EAHF,OAI+C7O,IAAMC,SAASjN,EAAM+P,mBAJpE,mBAIX+L,EAJW,KAIeC,EAJf,OAK+C/O,IAAMC,SAASjN,EAAMgQ,mBALpE,mBAKXgM,EALW,KAKeC,EALf,OAM2CjP,IAAMC,SAASjN,EAAM4T,iBANhE,mBAMXsI,EANW,KAMaC,EANb,OAOSnP,IAAMC,SAAS,GAPxB,mBAOJmP,GAPI,WAUdC,EAAa,GACbC,GAAQtc,EAAMmb,WAAa,GAApB,EACFnf,EAAI,EAAGA,EAAI,EAAGA,IACnBqgB,EAAW7gB,KAAK,EAAK8gB,EAAOtgB,GAEhC,IAAIugB,EAAQF,EAAW/f,KAAI,SAAAkC,GACvB,IAAI1B,EAASxB,SAASkD,GACtB,MAAO,CAAE4F,MAAOtH,EAAQiY,MAAOjY,MAInC,OACI,yBAAKqE,MAAO,CAAEqb,UAAW,sBACrB,uBAAGxZ,UAAU,aAAa7B,MAAO,CAAEyL,aAAc,IAAjD,YACA,kBAAC6P,GAAA,EAAD,CAAczZ,UAAU,oBAAoB7B,MAAO,CAAE+B,OAAQ,iBAAkBwZ,aAAc,EAAGC,WAAY,EAAGC,cAAe,EAAGlQ,WAAY,EAAGwG,YAAa,GAAIhU,MAAOD,EAAE,YAAYC,QAAU,IAC5L2d,aAAc,SACdzZ,GAAG,QACH0Z,OAAK,EACLC,QAAS,CAAC,SAAU,SAAU,QAC9BC,YAAa,SAACC,GAAD,OACT,kBAACC,GAAA,EAAD,iBAAeD,EAAf,CAAuBlI,MAAM,GAAG9O,OAAO,SAASkX,WAAW,EAAMC,WAAU,eAAOH,EAAOG,WAAd,CAA0BC,kBAAkB,QAE3HzO,SAAU,SAACzH,EAAOhD,GACd,IAAIC,EAAQD,EAAIhJ,QAAQ,IAAK,IAC7B6E,EAAMqb,SAASjX,GACfpE,EAAMuE,gCAAgC,OAI/B,SAAdvE,EAAM6M,KAAkB,yBAAK1L,MAAO,CAAEwL,UAAW,GAAI2Q,YAAa,EAAGpe,MAAOD,EAAE,YAAYC,UACvF,uBAAGiC,MAAO,CAAEuL,WAAY,EAAGE,cAAe,EAAGD,UAAW,GAAIuG,YAAa,GAAIoK,YAAa,EAAGlO,gBAAiB,UAAWoG,SAAU,KAAwB,UAAjBxV,EAAMxC,QAAsB,gBAAkB,UAAYwC,EAAMxC,QAAU,KACpN,yBAAKrB,IAAK6D,EAAMyZ,yBAA0BzW,UAAU,4BAChD,kBAACqL,GAAA,EAAD,CAAMrL,UAAW2Y,EAAQtG,UACpB,CAAC,aAAc,WAAW/Y,KAAI,SAAC8H,GAC5B,IAAMkK,EAAO,8BAA0BlK,GACvC,OACI,yBAAKpB,UAAU,YAAW,kBAACuL,GAAA,EAAD,CAAUpS,IAAKiI,EAAOoK,UAAMzD,GAClD,kBAAC0D,GAAA,EAAD,CACInB,QAAStN,EAAMyZ,yBAAyBrV,GACxCsK,KAAK,QACLC,UAAW,EACXvK,MAAOA,EACPwK,SAAU,SAACzH,GACP,IAAIoW,EAAWvd,EAAMyZ,yBACjBzZ,EAAMyZ,yBAAyBtS,EAAM2H,OAAO1K,OAAUmZ,EAASpW,EAAM2H,OAAO1K,OAAS,EAClFmZ,EAASpW,EAAM2H,OAAO1K,OAAS,EACtCgY,EAAUtJ,KAAKC,UAAUwK,IAEzBvd,EAAM0b,6BAA6B6B,MAG3C,uBAAGva,UAAU,kBAAkBI,GAAIkL,GAAUlK,UAOhB,GAAhDpE,EAAMyZ,yBAAyB,cAC5B,yBAAKzW,UAAU,cAAc7B,MAAO,CAAEjC,MAAOD,EAAE,YAAYC,QAAU,KACjE,kBAACse,GAAA,GAAD,GACIpZ,MAAOwX,EACPhN,SAAU,SAACzH,EAAOsW,GAAR,OAAqB5B,EAAgB4B,IAC/CC,kBAAmB,SAACvW,EAAOsW,GAAR,OAAqBzd,EAAMoW,YAAY,UAC1DuH,kBAAkB,OAClBC,kBAAgB,gBALpB,kCAMsB,MANtB,oBAOS,GAPT,oBAQS5d,EAAMmb,YARf,sBASWoB,GATX,IAWA,kBAACxZ,EAAA,EAAD,CAAM5B,MAAO,CAAEyL,aAAc,IAAMhO,WAAS,EACxC0Q,UAAU,MACVC,QAAQ,eACRC,WAAW,UACX,kBAAC0N,GAAA,EAAD,CAAWvB,QAAS,CAAEkC,MAAOlC,EAAQT,YAAc9X,GAAG,iBAAiB2R,MAAM,QAAQ3Q,MAAOwX,EAAY,GAAIza,MAAO,CAAEjC,MAAO,IACxH0P,SAAU,SAAAzH,GACFc,MAAM3M,SAAS6L,EAAM2H,OAAO1K,QAC5ByX,EAAgB,CAAC,GAAID,EAAY,KAE7BzU,EAAM2H,OAAO1K,MAAQwX,EAAY,GACjC/Q,MAAM,sDAGNgR,EAAgB,CAAC1U,EAAM2H,OAAO1K,MAAOwX,EAAY,QAMjE,kBAACsB,GAAA,EAAD,CAAWvB,QAAS,CAAEkC,MAAOlC,EAAQT,YAAc9X,GAAG,iBAAiB2R,MAAM,QAAQ3Q,MAAOwX,EAAY,GAAIza,MAAO,CAAEjC,MAAO,IACxH0P,SAAU,SAAAzH,GACFc,MAAM3M,SAAS6L,EAAM2H,OAAO1K,QAC5ByX,EAAgB,CAACD,EAAY,GAAI,KAE7BtgB,SAAS6L,EAAM2H,OAAO1K,OAASpE,EAAMmb,YACrCtQ,MAAM,sCACNgR,EAAgB,CAACD,EAAY,GAAI5b,EAAMmb,cAGvCU,EAAgB,CAACD,EAAY,GAAItgB,SAAS6L,EAAM2H,OAAO1K,aAO3E,kBAAC,GAAD,MACA,kBAACuJ,EAAA,EAAD,CAAQ3K,UAAU,eAAe7B,MAAO,CAAEjC,MAAOD,EAAE,YAAYC,QAAU,GAAIkQ,gBAAiB,UAAWhQ,OAAQ,GAAIwN,aAAc,EAAGF,YAAa,GAC/IoB,QAAS,WACL9N,EAAMqW,gBAAgBuF,GACtB,IAAI/M,EAAcpM,EAAWzC,EAAM+D,QAAS6X,EAAa5b,EAAMa,eAAeb,EAAMnE,cAAemE,EAAMlE,sBAAsB,GAC3HgI,EAAuBrB,EAAWzC,EAAM+D,QAAS6X,EAAa5b,EAAMa,eAAeb,EAAMnE,cAAemE,EAAMlE,sBAAsB,GACxIkE,EAAMqU,yBAAyBvQ,GAC/B9D,EAAMqE,mBAAN,YAA6BwK,MANrC,iBAUK,KACiC,GAA7C7O,EAAMyZ,yBAAN,QACG,6BACI,6BACI,kBAACqE,GAAD,CACIziB,KAAM2E,EAAMnE,cAAckiB,WAAYpiB,YAAaqE,EAAMrE,YACzDqiB,cAAe/e,EAAE,YAAYC,QAASwF,gBAAiB1E,EAAM0E,oBAGhE,MAER,KACM,SAAd1E,EAAM6M,KAAkB,yBAAK1L,MAAO,CAAEwL,UAAW,GAAI2Q,YAAa,EAAGpe,MAAOD,EAAE,YAAYC,UACvF,yBAAK8D,UAAU,eACX,kBAACyZ,GAAA,EAAD,CACII,aAAc7c,EAAM8M,iBACpB1J,GAAG,QACH0Z,OAAK,EACLC,QAAS,CAAC,aAAc,aAAc,aAAc,YAAa,UAAW,OAAQ,YAAa,YAAa,WAAWzgB,KAAI,SAAC2hB,GAAD,OAAYA,KACzIjB,YAAa,SAACC,GAAD,OACT,kBAACC,GAAA,EAAD,iBAAeD,EAAf,CAAuBlI,MAAM,QAAQ9O,OAAO,SAASmX,WAAU,eAAOH,EAAOG,WAAd,CAA0BC,kBAAkB,QAE/GzO,SAAU,SAACzH,EAAO/C,GAAR,OAAkBpE,EAAMsb,qBAAqBlX,MAE3D,uBAAGjD,MAAO,CAAEuL,WAAY,EAAGE,cAAe,EAAGD,UAAW,GAAIuG,YAAa,GAAIoK,YAAa,EAAGlO,gBAAiB,UAAWoG,SAAU,KAAwB,UAAjBxV,EAAMxC,QAAsB,gBAAkB,UAAYwC,EAAMxC,QAAU,MAExN,yBAAKwF,UAAU,cAAc7B,MAAO,CAAEjC,MAAOD,EAAE,YAAYC,QAAU,KACjE,kBAACgf,GAAA,EAAD,CAAYvC,QAAS,CAAEvG,KAAMuG,EAAQV,QAArC,WAGA,kBAACuC,GAAA,GAAD,GACIpZ,MAAO0X,EACPlN,SAAU,SAACzH,EAAOsW,GAAR,OAAqB1B,EAA6B0B,IAC5DC,kBAAmB,SAACvW,EAAOsW,GAAR,OAAqBzd,EAAMoW,YAAY,UAC1DuH,kBAAkB,OAClBC,kBAAgB,gBALpB,kCAMsB,MANtB,oBAOS,GAPT,oBAQS5d,EAAMmb,YARf,sBASWoB,GATX,IAWA,kBAACxZ,EAAA,EAAD,CAAM5B,MAAO,CAAEyL,aAAc,IAAMhO,WAAS,EACxC0Q,UAAU,MACVC,QAAQ,eACRC,WAAW,UACX,kBAAC0N,GAAA,EAAD,CAAWvB,QAAS,CAAEkC,MAAOlC,EAAQT,YAAc9X,GAAG,iBAAiB2R,MAAM,QAAQ3Q,MAAO0X,EAAyB,GAAI3a,MAAO,CAAEjC,MAAO,IACrI0P,SAAU,SAAAzH,GACFc,MAAM3M,SAAS6L,EAAM2H,OAAO1K,QAC5B2X,EAA6B,CAAC,GAAID,EAAyB,KAEvD3U,EAAM2H,OAAO1K,MAAQ0X,EAAyB,GAC9CjR,MAAM,sDAGNkR,EAA6B,CAAC5U,EAAM2H,OAAO1K,MAAO0X,EAAyB,QAM3F,kBAACoB,GAAA,EAAD,CAAWvB,QAAS,CAAEkC,MAAOlC,EAAQT,YAAc9X,GAAG,iBAAiB2R,MAAM,QAAQ3Q,MAAO0X,EAAyB,GAAI3a,MAAO,CAAEjC,MAAO,IACrI0P,SAAU,SAAAzH,GACFc,MAAM3M,SAAS6L,EAAM2H,OAAO1K,QAC5B2X,EAA6B,CAACD,EAAyB,GAAI,KAEvDxgB,SAAS6L,EAAM2H,OAAO1K,OAASpE,EAAMmb,YACrCtQ,MAAM,sCACNkR,EAA6B,CAACD,EAAyB,GAAI9b,EAAMmb,cAGjEY,EAA6B,CAACD,EAAyB,GAAIxgB,SAAS6L,EAAM2H,OAAO1K,aAOrG,kBAACuJ,EAAA,EAAD,CAAQ3K,UAAU,eAAe7B,MAAO,CAAEjC,MAAOD,EAAE,YAAYC,QAAU,GAAIkQ,gBAAiB,UAAWhQ,OAAQ,GAAIwN,aAAc,EAAGF,YAAa,GAC/IoB,QAAS,kBAAM9N,EAAMuW,sBAAsBuF,KAD/C,iBAIJ,yBAAK9Y,UAAU,cAAc7B,MAAO,CAAEjC,MAAOD,EAAE,YAAYC,QAAU,KACjE,kBAACgf,GAAA,EAAD,CAAYvC,QAAS,CAAEvG,KAAMuG,EAAQV,QAArC,WAGA,kBAACuC,GAAA,GAAD,GACIpZ,MAAO4X,EACPpN,SAAU,SAACzH,EAAOsW,GAAR,OAAqBxB,EAA6BwB,IAC5DC,kBAAmB,SAACvW,EAAOsW,GAAezd,EAAMoW,YAAY,UAC5DuH,kBAAkB,OAClBC,kBAAgB,gBALpB,kCAMsB,MANtB,oBAOS,GAPT,oBAQS5d,EAAMmb,YARf,sBASWoB,GATX,KAYJ,kBAACxZ,EAAA,EAAD,CAAM5B,MAAO,CAAEyL,aAAc,IAAMhO,WAAS,EACxC0Q,UAAU,MACVC,QAAQ,eACRC,WAAW,UACX,kBAAC0N,GAAA,EAAD,CAAWvB,QAAS,CAAEkC,MAAOlC,EAAQT,YAAc9X,GAAG,iBAAiB2R,MAAM,QAAQ3Q,MAAO4X,EAAyB,GAAI7a,MAAO,CAAEjC,MAAO,IACrI0P,SAAU,SAAAzH,GACFc,MAAM3M,SAAS6L,EAAM2H,OAAO1K,QAC5B6X,EAA6B,CAAC,GAAID,EAAyB,KAEvD7U,EAAM2H,OAAO1K,MAAQ4X,EAAyB,GAC9CnR,MAAM,sDAGNoR,EAA6B,CAAC9U,EAAM2H,OAAO1K,MAAO4X,EAAyB,QAM3F,kBAACkB,GAAA,EAAD,CAAWvB,QAAS,CAAEkC,MAAOlC,EAAQT,YAAc9X,GAAG,iBAAiB2R,MAAM,QAAQ3Q,MAAO4X,EAAyB,GAAI7a,MAAO,CAAEjC,MAAO,IACrI0P,SAAU,SAAAzH,GACFc,MAAM3M,SAAS6L,EAAM2H,OAAO1K,QAC5B6X,EAA6B,CAACD,EAAyB,GAAI,KAEvD1gB,SAAS6L,EAAM2H,OAAO1K,OAASpE,EAAMmb,YACrCtQ,MAAM,sCACNoR,EAA6B,CAACD,EAAyB,GAAIhc,EAAMmb,cAGjEc,EAA6B,CAACD,EAAyB,GAAI1gB,SAAS6L,EAAM2H,OAAO1K,aAOrG,kBAACuJ,EAAA,EAAD,CAAQ3K,UAAU,eAAe7B,MAAO,CAAEjC,MAAOD,EAAE,YAAYC,QAAU,GAAIkQ,gBAAiB,UAAWhQ,OAAQ,GAAIwN,aAAc,EAAGF,WAAY,GAC9IoB,QAAS,kBAAM9N,EAAMwW,sBAAsBwF,KAD/C,iBAIK,KACM,QAAdhc,EAAM6M,KACH,yBAAK1L,MAAO,CAAEwL,UAAW,GAAI2Q,YAAa,EAAG1Q,aAAc,GAAI1N,MAAOD,EAAE,YAAYC,UAChF,yBAAK8D,UAAU,SACX,kBAACyZ,GAAA,EAAD,CACII,aAAc7c,EAAM0D,gBACpBN,GAAG,QACH0Z,OAAK,EACLC,QAAS,CAAC,aAAc,aAAc,aAAc,YAAa,UAAW,OAAQ,YAAa,YAAa,WAAWzgB,KAAI,SAAC2hB,GAAD,OAAYA,KACzIjB,YAAa,SAACC,GAAD,OACT,kBAACC,GAAA,EAAD,iBAAeD,EAAf,CAAuBlI,MAAM,QAAQ9O,OAAO,SAASmX,WAAU,eAAOH,EAAOG,WAAd,CAA0BC,kBAAkB,QAE/GzO,SAAU,SAACzH,EAAO/C,GAAR,OAAkBpE,EAAMub,oBAAoBnX,MAE1D,uBAAGjD,MAAO,CAAEuL,WAAY,EAAGE,cAAe,EAAGD,UAAW,GAAIuG,YAAa,GAAIoK,YAAa,EAAGlO,gBAAiB,UAAWoG,SAAU,KAAwB,UAAjBxV,EAAMxC,QAAsB,gBAAkB,UAAYwC,EAAMxC,QAAU,KACpN,yBAAKwF,UAAU,cAAc7B,MAAO,CAAEjC,MAAOD,EAAE,YAAYC,QAAU,KACjE,kBAACse,GAAA,GAAD,GACIpZ,MAAO8X,EACPtN,SAAU,SAACzH,EAAOsW,GAAR,OAAqBtB,EAA2BsB,IAC1DC,kBAAmB,SAACvW,EAAOsW,GAAR,OAAqBzd,EAAMoW,YAAY,UAC1DuH,kBAAkB,OAClBC,kBAAgB,gBALpB,kCAMsB,MANtB,oBAOS,GAPT,oBAQS5d,EAAMmb,YARf,sBASWoB,GATX,IAWA,kBAACxZ,EAAA,EAAD,CAAM5B,MAAO,CAAEyL,aAAc,IAAMhO,WAAS,EACxC0Q,UAAU,MACVC,QAAQ,eACRC,WAAW,UACX,kBAAC0N,GAAA,EAAD,CAAWvB,QAAS,CAAEkC,MAAOlC,EAAQT,YAAc9X,GAAG,iBAAiB2R,MAAM,QAAQ3Q,MAAO8X,EAAuB,GAAI/a,MAAO,CAAEjC,MAAO,IACnI0P,SAAU,SAAAzH,GACFc,MAAM3M,SAAS6L,EAAM2H,OAAO1K,QAC5B+X,EAA2B,CAAC,GAAID,EAAuB,KAEnD/U,EAAM2H,OAAO1K,MAAQ8X,EAAuB,GAC5CrR,MAAM,sDAGNsR,EAA2B,CAAChV,EAAM2H,OAAO1K,MAAO8X,EAAuB,QAMvF,kBAACgB,GAAA,EAAD,CAAWvB,QAAS,CAAEkC,MAAOlC,EAAQT,YAAc9X,GAAG,iBAAiB2R,MAAM,QAAQ3Q,MAAO8X,EAAuB,GAAI/a,MAAO,CAAEjC,MAAO,IACnI0P,SAAU,SAAAzH,GACFc,MAAM3M,SAAS6L,EAAM2H,OAAO1K,QAC5B+X,EAA2B,CAACD,EAAuB,GAAI,KAEnD5gB,SAAS6L,EAAM2H,OAAO1K,OAASpE,EAAMmb,YACrCtQ,MAAM,sCACNsR,EAA2B,CAACD,EAAuB,GAAIlc,EAAMmb,cAG7DgB,EAA2B,CAACD,EAAuB,GAAI5gB,SAAS6L,EAAM2H,OAAO1K,aAOjG,kBAACuJ,EAAA,EAAD,CAAQ3K,UAAU,eAAe7B,MAAO,CAAEjC,MAAOD,EAAE,YAAYC,QAAU,GAAIkQ,gBAAiB,UAAWhQ,OAAQ,GAAIwN,aAAc,EAAGF,YAAa,GAC/IoB,QAAS,kBAAM9N,EAAMyW,oBAAoByF,KAD7C,iBAIJ,yBAAKlZ,UAAU,QACX,kBAACyZ,GAAA,EAAD,CAAczZ,UAAW,CAAEoS,KAAMuG,EAAQxG,qBACrC0H,aAAc7c,EAAM0T,gBAAgBqK,WACpC3a,GAAG,QACH0Z,OAAK,EACLC,QAAS/c,EAAM8V,mBAAmBxZ,KAAI,SAAC2hB,GAAD,OAAYA,KAClDjB,YAAa,SAACC,GAAD,OACT,kBAACC,GAAA,EAAD,iBAAeD,EAAf,CAAuBlI,MAAM,SAAS9O,OAAO,SAASkX,WAAW,EAAMC,WAAU,eAAOH,EAAOG,WAAd,CAA0BC,kBAAkB,QAEjIzO,SAAU,SAACzH,EAAO/C,GACdpE,EAAMwb,oBAAoBpX,GAC1BpE,EAAMoW,YAAY,YAI9B,yBAAKpT,UAAU,QACX,kBAACyZ,GAAA,EAAD,CAAczZ,UAAW,CAAEoS,KAAMuG,EAAQxG,qBACrC0H,aAAc7c,EAAM2T,gBAAgBoK,WACpC3a,GAAG,QACH0Z,OAAK,EACLC,QAAS/c,EAAM8V,mBAAmBxZ,KAAI,SAAC2hB,GAAD,OAAYA,KAClDjB,YAAa,SAACC,GAAD,OACT,kBAACC,GAAA,EAAD,iBAAeD,EAAf,CAAuBlI,MAAM,SAAS9O,OAAO,SAASkX,WAAW,EAAMC,WAAU,eAAOH,EAAOG,WAAd,CAA0BC,kBAAkB,QAEjIzO,SAAU,SAACzH,EAAO/C,GACdpE,EAAMyb,oBAAoBrX,GAC1BpE,EAAMoW,YAAY,cAInB,SCvY7BpB,GAAYC,cAAW,SAACC,GAAD,MAAY,CACvCE,KAAM,CACJlW,MAAO,QAETmW,SAAU,CACRnW,MAAO,OACP0Q,SAAU,KAEZ0F,MAAO,GAGPC,QAAS,CACPC,SAAUN,EAAMO,WAAWC,QAAQ,IACnCC,WAAYT,EAAMO,WAAWG,uBAoFjC,IAwBetS,gBAxBS,SAACpD,GACvB,MAAO,CACLqD,WAAWrD,EAAMqD,WACjB5H,YAAYuE,EAAMvE,YAClBkF,eAAeX,EAAMW,eACrBhF,cAAcqE,EAAMrE,cACpBb,eAAekF,EAAMlF,eACrB6I,KAAK3D,EAAM2D,SAGW,SAACI,GACzB,MAAO,CACLI,mBAAoB,SAACF,GAAD,OAASF,EAAS,CAAEvI,KAAM,iBAAkB0I,MAAOD,KACvEG,mBAAoB,SAACH,GAAD,OAASF,EAAS,CAAEvI,KAAM,iBAAkB0I,MAAOD,KACvEmS,eAAgB,SAACnS,GAAD,OAASF,EAAS,CAAEvI,KAAM,aAAc0I,MAAOD,KAC/DiX,uBAAwB,SAACjX,GAAD,OAASF,EAAS,CAAEvI,KAAM,qBAAsB0I,MAAOD,KAC/E8R,kBAAmB,SAAC9R,GAAD,OAASF,EAAS,CAAEvI,KAAM,gBAAiB0I,MAAOD,KACrEga,aAAc,SAACha,GAAD,OAASF,EAAS,CAAEvI,KAAM,WAAY0I,MAAOD,KAC3Dia,kBAAmB,SAACja,GAAD,OAASF,EAAS,CAAEvI,KAAM,gBAAiB0I,MAAOD,KACrEkS,gBAAiB,SAAClS,GAAD,OAASF,EAAS,CAAEvI,KAAM,cAAe0I,MAAOD,KACjEka,eAAe,SAACla,GAAD,OAASF,EAAS,CAAEvI,KAAM,aAAc0I,MAAOD,KAC9Dma,SAAS,SAACna,GAAD,OAAOF,EAAS,CAACvI,KAAK,OAAO0I,MAAMD,QAGjCb,EAxGf,SAAiBtD,GACf,IAAM2b,EAAU3G,KADM,EAGQhI,IAAMC,SAAS,CAAC,IAHxB,mBAGfK,EAHe,KAGNC,EAHM,KAIhBC,EAAe,SAACpJ,GAAD,OAAW,WAC9B,IAAMqJ,EAAeH,EAAQ7D,QAAQrF,GAC/BsJ,EAAU,YAAOJ,IAED,IAAlBG,EACFC,EAAWlS,KAAK4I,GAEhBsJ,EAAWhE,OAAO+D,EAAc,GAElCF,EAAWG,KAeb,OACE,yBAAK1K,UAAU,iBAAiB7B,MAAO,CAAC/B,OAAOoB,OAAOC,cACpD,wBAAIuC,UAAU,aAAd,WACkB,GAAjBhD,EAAMue,UACP,yBAAKvb,UAAU,wBACb,kBAAC,GAAD,CAAO0B,gBAAiB1E,EAAM0E,kBAC9B,yBAAK1B,UAAU,YAAY7B,MAAO,CAACuL,WAAW,EAAG8P,UAAU,sBACzD,uBAAGxZ,UAAU,cAAb,WACA,kBAACka,GAAA,EAAD,CACE9Z,GAAG,uBACHyZ,aAAc7c,EAAMuD,WACpBib,QAAQ,SACR1f,MAAM,UACN8P,SAAU,SAACzH,GAAD,OA1BC,SAACA,GACpB,IAAIhD,EAAM7I,SAAS6L,EAAM2H,OAAO1K,OAC5BD,GAAO,GACTuW,YAAW,WACT1a,EAAMqe,eAAela,KACpB,KAqBwBsa,CAAatX,IAClCgW,WAAW,EACXhc,MAAO,CAAC/B,OAAO,OAGnB,yBAAK4D,UAAU,QACb,uBAAGA,UAAU,cAAb,SACA,kBAACqL,GAAA,EAAD,CAAMrL,UAAW2Y,EAAQtG,UACtB,CAAC,WAAY,eAAe/Y,KAAI,SAAC8H,GAChC,IAAMkK,EAAO,8BAA0BlK,GACvC,OACE,kBAACmK,GAAA,EAAD,CAAUpS,IAAKiI,EAAOoK,UAAMzD,EAAW+C,QAASN,EAAapJ,IAC3D,kBAACqK,GAAA,EAAD,CACEnB,QAAStN,EAAM6D,KAAKjH,SAASwH,GAC7BsK,KAAK,QACLC,UAAW,EACXvK,MAAOA,EACPwK,SAAU,SAACzH,EAAO/C,GAChB,IAAIsa,EAAU,YAAI1e,EAAM6D,MACrB6a,EAAU9hB,SAASuK,EAAM2H,OAAO1K,QAA8B,YAApB+C,EAAM2H,OAAO1K,MACxDsa,EAAUA,EAAUpgB,QAAO,SAAAE,GAAI,OAAEA,GAAM2I,EAAM2H,OAAO1K,SAGpDsa,EAAUljB,KAAK2L,EAAM2H,OAAO1K,OAE9BpE,EAAMse,SAASI,MAInB,uBAAG1b,UAAU,kBAAkBI,GAAIkL,GAAUlK,UAMlD,S,mBChGP4Q,GAAYC,cAAW,SAACC,GAAD,MAAY,CACvCI,MAAO,CACLrG,SAAU,WACV/P,MAAO,IACPkQ,gBAAiB8F,EAAM6F,QAAQ4D,WAAWrJ,MAC1CpS,OAAQ,iBACRC,UAAW+R,EAAM0J,QAAQ,GACzB3b,QAASiS,EAAM2J,QAAQ,EAAG,EAAG,QAsGjC,I,GA+Bevb,gBA/BS,SAACpD,GACvB,MAAO,CACL8S,OAAQ9S,EAAM8S,OACd/H,UAAW/K,EAAM+K,UACjBtP,YAAauE,EAAMvE,YACnB6X,QAAStT,EAAMsT,QACf3X,cAAeqE,EAAMrE,cAErBkU,kBAAmB7P,EAAM6P,kBACzBC,kBAAmB9P,EAAM8P,kBAEzB4D,gBAAiB1T,EAAM0T,gBACvBF,gBAAiBxT,EAAMwT,gBACvBC,gBAAiBzT,EAAMyT,oBAGD,SAAC1P,GACzB,MAAO,CACLO,WAAY,SAACL,GAAD,OAASF,EAAS,CAAEvI,KAAM,SAAU0I,MAAOD,KACvDkS,gBAAiB,SAAClS,GAAD,OAASF,EAAS,CAAEvI,KAAM,cAAe0I,MAAOD,KACjE8R,kBAAmB,SAAC9R,GAAD,OAASF,EAAS,CAAEvI,KAAM,gBAAiB0I,MAAOD,KAErEoS,sBAAuB,SAACpS,GAAD,OAASF,EAAS,CAAEvI,KAAM,oBAAqB0I,MAAOD,KAC7EqS,sBAAuB,SAACrS,GAAD,OAASF,EAAS,CAAEvI,KAAM,oBAAqB0I,MAAOD,KAE7EsS,oBAAqB,SAACtS,GAAD,OAASF,EAAS,CAAEvI,KAAM,kBAAmB0I,MAAOD,KACzEqX,oBAAqB,SAACrX,GAAD,OAASF,EAAS,CAAEvI,KAAM,kBAAmB0I,MAAOD,KACzEsX,oBAAqB,SAACtX,GAAD,OAASF,EAAS,CAAEvI,KAAM,kBAAmB0I,MAAOD,QAI9Db,EAlIf,SAASwb,EAAY9e,GACnB,IAAM2b,EAAU3G,KADU,EAEFhI,IAAMC,UAAS,GAFb,mBAEnBG,EAFmB,KAEb2R,EAFa,OAGE/R,IAAMC,SAAS,GAHjB,mBAGnB7M,EAHmB,KAGX4e,EAHW,OAIEhS,IAAMC,SAAS,GAJjB,mBAInB5M,EAJmB,KAIX4e,EAJW,KAM1BC,qBAAU,WACRjgB,EAAE,yBAAyBkD,GAAG,cAAa,SAACiI,GAC1CA,EAAE7E,iBACFwZ,GAAQ,GACRC,EAAU5U,EAAE/H,OACZ4c,EAAU7U,EAAE9H,OACiB,oBAAnBtC,EAAMwE,YACdxE,EAAMwE,YAAW,SAIvB,IAAM2a,EAAc,WAClBJ,GAAQ,GACR/e,EAAMwE,YAAW,IA0Db4a,EACJ,yBAAKje,MAAO,CAAE+N,KAAM9O,EAAQqI,IAAKpI,GAAU2C,UAAW2Y,EAAQrG,OAC5D,wBAAIlS,GAAG,qBAAqBjC,MAAO,CAAEyL,aAAc,KAAnD,oBACA,kBAACe,EAAA,EAAD,CAAQG,QA3DS,WACnBiR,GAAQ,GACRrE,YAAW,WAAQ1a,EAAMwE,YAAW,KAAU,MAEzB,SAAjBxE,EAAMwT,QACJ,gBAAiBxT,EAAMiL,YACzBjL,EAAMqW,gBAAgBrW,EAAMiL,UAAUtP,aACtC+e,YAAW,WAAQ1a,EAAMqW,gBAAgBrW,EAAMrE,eAAgB,OAI7D,kBAAmBqE,EAAMiL,YAC3BjL,EAAMiW,kBAAkBjW,EAAMiL,UAAUpP,eACxC6e,YAAW,WAAQ1a,EAAMiW,kBAAkBjW,EAAMnE,iBAAkB,OAMlD,SAAjBmE,EAAMwT,SACJ,sBAAuBxT,EAAMiL,YAC/BjL,EAAMuW,sBAAsBvW,EAAMiL,UAAU8E,mBAC5C2K,YAAW,WAAQ1a,EAAMuW,sBAAsBvW,EAAM+P,qBAAsB,OAEzE,sBAAuB/P,EAAMiL,YAC/BjL,EAAMwW,sBAAsBxW,EAAMiL,UAAU+E,mBAC5C0K,YAAW,WAAQ1a,EAAMwW,sBAAsBxW,EAAMgQ,qBAAsB,QAIzE,kBAAmBhQ,EAAMiL,YAC3BjL,EAAMiW,kBAAkBjW,EAAMiL,UAAUpP,eACxC6e,YAAW,WAAQ1a,EAAMiW,kBAAkBjW,EAAMnE,iBAAkB,OAMhD,SAAjBmE,EAAMwT,QACJ,oBAAqBxT,EAAMiL,YAC7BjL,EAAMyW,oBAAoBzW,EAAMiL,UAAU2I,iBAC1C8G,YAAW,WAAQ1a,EAAMyW,oBAAoBzW,EAAM4T,mBAAoB,QAIrE,oBAAqB5T,EAAMiL,YAC7BjL,EAAMwb,oBAAoBxb,EAAMiL,UAAUyI,iBAC1CgH,YAAW,WAAQ1a,EAAMwb,oBAAoBxb,EAAM0T,mBAAoB,OAErE,oBAAqB1T,EAAMiL,YAC7BjL,EAAMyb,oBAAoBzb,EAAMiL,UAAU0I,iBAC1C+G,YAAW,WAAQ1a,EAAMyb,oBAAoBzb,EAAM2T,mBAAoB,SAQ5C6K,QAAQ,WAAW1f,MAAM,WAAxD,UACA,kBAAC6O,EAAA,EAAD,CAAQG,QAASqR,EAAaX,QAAQ,WAAW1f,MAAM,UAAUqC,MAAO,CAAEuL,WAAY,KAAtF,UACA,kBAACoS,EAAD,OAIJ,OACE,6BACE,kBAACO,GAAA,EAAD,CACEjS,KAAMA,EACNc,QAASiR,EACTvB,kBAAgB,qBAChB0B,mBAAiB,4BAEhBF,OCzEHG,G,kDACJ,WAAYvf,GAAQ,IAAD,8BACjB,cAAMA,IAQRwf,kBAAoB,SAACrY,GACnB,EAAK5G,SAAS,CAAEsD,KAAM,CAAC,eAAgB,WAAY,iBACnD,EAAK7D,MAAM0b,6BAA6B,CAAE,aAAc,EAAG,QAAW,IACtE,EAAK1b,MAAMuE,gCAAgC,IAC3C,EAAKvE,MAAMqW,gBAAgB,CAAC,EAAG,KAC/B,EAAKrW,MAAMmW,mBAAmB,IAC9B,EAAKnW,MAAMqb,SAAS,SACpB,EAAKrb,MAAMuW,sBAAsB,CAAC,EAAG,KACrC,EAAKvW,MAAMwW,sBAAsB,CAAC,GAAI,KACtC,EAAKxW,MAAMyW,oBAAoB,CAAC,EAAG,KACT,kBAAtBtP,EAAM2H,OAAO1K,OACf,EAAK7D,SAAS,CAAE/C,QAAS,WACzB,EAAKwC,MAAMyf,YAAY,UACvB,EAAKC,cAAc,WAEU,iBAAtBvY,EAAM2H,OAAO1K,OACpB,EAAK7D,SAAS,CAAE/C,QAAS,UACzB,EAAKwC,MAAMyf,YAAY,SACvB,EAAKC,cAAc,WAGnB,EAAKnf,SAAS,CAAE/C,QAAS,WACzB,EAAKwC,MAAMyf,YAAY,UACvB,EAAKC,cAAc,YAhCJ,EAoCnBzM,MAAQ,WACF,EAAKjT,MAAMwD,4BAA4B7G,OAAS,GAClD2C,IAAa,qBAAqBE,KAAK,UAAW,EAAKQ,MAAMc,OAAOqH,iBAEtE,EAAKnI,MAAMwD,4BAA4BlH,KAAI,SAAAmQ,GAAM,OAAInN,IAAa,IAAMmN,GAAQjN,KAAK,UAAW,OAxC/E,EA2CnB6I,0BAA4B,SAACsX,GAC3B,IAAIlT,EAASkT,EAAWxkB,QAAQ,MAAO,IAGvCmE,IAAa,IAAMmN,GAAQnO,OAAOgB,IAAW,SAAS6B,MAAM,eAAgB,GAI5E,IAAIqC,EAA2B,YAAO,EAAKxD,MAAMwD,6BAC7CA,EAA4B5G,SAAS6P,GACvCjJ,EAA8BA,EAA4BlF,QAAO,SAAApD,GAAO,OAAIA,GAAWuR,KAElFjJ,EAA4BhI,KAAKiR,GACxC,EAAKzM,MAAMuE,gCAAgCf,GAGvCA,EAA4B7G,OAAS,GACvC2C,IAAa,qBAAqBE,KAAK,UAAW,EAAKQ,MAAMc,OAAOqH,iBACpE,EAAKnI,MAAMwD,4BAA4BlH,KAAI,SAAAmQ,GACzCnN,IAAa,IAAMmN,GAAQjN,KAAK,UAAW,GAC3CF,IAAa,IAAMmN,GAAQnO,OAAOgB,IAAW,SAAS6B,MAAM,eAAgB,OAI9E7B,IAAa,qBAAqBE,KAAK,UAAW,IAnEnC,EA0EnBkgB,cAAgB,SAACE,GACK,UAAhBA,GAA4B,EAAKC,aAAaC,IAAQC,IAAaC,IAAaJ,GAChE,UAAhBA,GAA4B,EAAKC,aAAaI,IAAQC,IAAaC,IAAaP,GAChE,SAAhBA,GAA2B,EAAKC,aAAaO,IAAOC,IAAYC,IAAYV,IA7E/D,EA+EnBC,aAAe,SAACU,EAA0BC,EAAoBC,EAAoBb,GAChF,IAAI1Z,EAAI,eAER5G,IAAOihB,GAA0BnG,MAAK,SAAAtf,GAEpC,IAAIgB,EAAuB2G,EAAmB3H,GAAeC,MACzDC,EAAiByH,EAAmB3H,GAAeE,eACnD8a,EAAqB7Z,OAAOC,KAAKJ,GAerC,GAdAoK,EAAKlG,MAAMsE,mBAAmBtJ,GAC9BkL,EAAKlG,MAAMsW,eAAexa,EAAqBga,EAAmB,IAAInZ,QACtEuJ,EAAK3F,SAAS,CAAEuV,mBAAoBA,IACpC5P,EAAKlG,MAAMob,uBAAuBtF,GAClC5P,EAAKlG,MAAMwb,oBAAoB1F,EAAmB,IAClD5P,EAAKlG,MAAMyb,oBAAoB3F,EAAmB,IAClD5P,EAAKlG,MAAM0gB,gBAAgB5K,EAAmB,IAC9C5P,EAAK3F,SAAS,CAAE4R,SAAU2D,EAAmB,KAC7C5P,EAAKlG,MAAM2gB,yBAAyB7kB,GACpCoK,EAAK3F,SAAS,CAAEzE,qBAAsBA,IAAwB,WAC5DoK,EAAKxB,gBAAgB5J,EAAe,eAEtCoL,EAAK3F,SAAS,CAAEzF,cAAeA,IAC/BoL,EAAKlG,MAAMoe,kBAAkBtjB,GACT,UAAhB8kB,EAA0B,CAC5B1Z,EAAKlG,MAAMiW,kBAAkB,QAC7B,IAAIJ,EAAa,CAAC,OAAQ,YAAa,YAAa,aAAc,aAAc,aAAc,UAAW,YAAa,WAClHhH,EAAcpM,EAAW,EAAKzC,MAAM+D,QAAS,EAAK/D,MAAMrE,YAAaka,EAAY,OAAQ/Z,GAAsB,GAC/GgI,EAAuBrB,EAAW,EAAKzC,MAAM+D,QAAS,EAAK/D,MAAMrE,YAAaka,EAAY,OAAQ/Z,GAAsB,OAEzH,CACHoK,EAAKlG,MAAMiW,kBAAkB,QACzBJ,EAAa,CAAC,OAAQ,YAAa,YAAa,aAAc,aAAc,aAAc,UAAW,YAAa,WAClHhH,EAAcpM,EAAW,EAAKzC,MAAM+D,QAAS,EAAK/D,MAAMrE,YAAaka,EAAY,OAAQ/Z,GAAsB,GAC/GgI,EAAuBrB,EAAW,EAAKzC,MAAM+D,QAAS,EAAK/D,MAAMrE,YAAaka,EAAY,OAAQ/Z,GAAsB,GAE9H,EAAKkE,MAAMqU,yBAAyBvQ,GACpC,EAAK9D,MAAMqE,mBAAmBwK,EAAY7E,MAAM,EAAG,IACnD,EAAKhK,MAAM+M,oBAAoB8B,EAAY7E,MAAM,EAAG,OAItD1K,IAAOkhB,GAAoBpG,MAAK,SAAAlc,GAC9B,IAAI0iB,EAAc,GAClBthB,MAAUnD,KAAI,SAAUyD,GAAK,OAAOA,EAAE1C,SAAU6B,QAAQb,GAAM5B,KAAI,SAAAkC,GAChEoiB,EAAYpiB,EAAKrC,KAAOqC,EAAK4N,UAE/BlG,EAAKlG,MAAM6gB,cAAcD,MAG3BthB,IAAOmhB,GAAoBrG,MAAK,SAAAlc,GAC9B,IAAI0iB,EAAc,GAClBthB,MAAUnD,KAAI,SAAUyD,GAAK,OAAOA,EAAE1C,SAAU6B,QAAQb,GAAM5B,KAAI,SAAAkC,GAChEoiB,EAAYpiB,EAAKrC,KAAOqC,EAAK4N,UAE/BlG,EAAKlG,MAAM8gB,cAAcF,OApIV,EAyInBlc,gBAAkB,SAACxG,EAAMxC,GACvB,EAAK6E,SAAS,CAAEga,cAAe,KAC/B,IAAI1L,EAAc,EAAK7O,MAAMa,eACzB6d,EAAY,EAAKxe,MAAM2D,KACvBxI,EAAO,EAAK2E,MAAMnE,cAEtB,GADY,gBAARH,GAA0B,EAAKsE,MAAMiW,kBAAkB/X,GAC/C,YAARxC,QAAwE,EAAKsE,MAAMlF,cAE3E,wBAARY,IACEgjB,EAAU9hB,SAASsB,GAASwgB,EAAYA,EAAUpgB,QAAO,SAAApD,GAAO,OAAIA,GAAWgD,KAC5EwgB,EAAUljB,KAAK0C,GACtB,EAAKqC,SAAS,CAAEsD,KAAM6a,KAExB7P,EAAcpM,EAAW,EAAKzC,MAAM+D,QAAS,EAAK/D,MAAMrE,YAAakT,EAAa,EAAK7O,MAAMnE,cAAe,EAAKqE,MAAMpE,sBAAsB,GAC7I,EAAKyE,SAAS,CAAEM,eAAgBgO,IAG5BvT,SAASD,IAAS,EAAK6E,MAAM4V,mBAAmB,GAAkBxa,SAASD,GAA2BC,SAASD,IA1JlG,EA8JnB0lB,mBAAqB,SAAC3c,EAAO1I,GAC3Bgf,YAAW,WAAQ,EAAKna,SAAS,CAAE0T,OAAQ7W,KAAK6W,aAAe,KAC7C,EAAK1T,SAAS,CAAEge,UAAWna,IAC7B,EAAK7D,SAAS,CAAEge,UAAWna,KAjK1B,EAiPnBsV,QAAU,WAIR,IAHA,IAAIC,EAAa,EAAK3Z,MAAMrE,YAAY,GACpCie,EAAY,EAAK5Z,MAAMrE,YAAY,GACnCke,EAAM,GACD7d,EAAI2d,EAAY3d,GAAK4d,EAAW5d,IACvC6d,EAAIre,KAAKQ,GAGX,OAAO6d,GAtPP,EAAK3Z,MAAQ,CACX+T,OAAQ,GACRnZ,cAAe,KAAMgB,qBAAsB,KAAM+H,KAAM,CAAC,eAAgB,WAAY,eAAgB0a,UAAW,EAC/G3a,eAAgB,GAAIuO,SAAU,KAAMoI,cAAe,GAAIR,eAAgB,KAAMiH,oBAAqB,KAAMC,aAAc,cANvG,E,gEAqKjB3gB,KAAKof,cAAc,Y,8CAGnB,OAAO,I,+BAEC,IAAD,OACP,OACE,yBAAKvjB,IAAKmE,KAAKJ,MAAM+T,QACnB,kBAACiN,GAAD,CAAQ/kB,IAAKiB,KAAK6W,WAClB,kBAACkN,GAAA,EAAD,KACE,yBAAKhgB,MAAO,CAAEjC,MAAO,KAAO8D,UAAU,WACP,MAA5B1C,KAAKN,MAAMnE,cACV,kBAAC,GAAD,CAAS0iB,UAAWje,KAAKJ,MAAMqe,UAAW7Z,gBAAiBpE,KAAKoE,gBAC9DlH,QAAS8C,KAAKN,MAAMxC,QAASuG,QAASzD,KAAKN,MAAM+D,QAASJ,iBAAkBrD,KAAKN,MAAM2D,mBAC5E,MAEjB,kBAACyd,GAAA,EAAD,CAAKjgB,MAAO,CAAEjC,MAAOsB,OAAOqS,WAAa,IAAKwO,UAAW7gB,OAAOC,aAAeuC,UAAU,mCACvF,yBAAKA,UAAU,mBACb,kBAACD,EAAA,EAAD,CAAMnE,WAAS,EAACigB,QAAS,EAAG7b,UAAU,WAAW7B,MAAO,CAAE+N,KAAMjQ,EAAE,YAAYC,UAC5E,kBAAC6D,EAAA,EAAD,CAAMvE,MAAI,EAAC2C,MAAO,CAAE+S,YAAa,qBAAsBhV,MAAO,MAAO,kBAACyO,EAAA,EAAD,CAAQG,QAAS,kBAAM,EAAKiT,mBAAmB,EAAG,YAAlD,cACrE,kBAAChe,EAAA,EAAD,CAAMvE,MAAI,EAAC2C,MAAO,CAAE+S,YAAa,qBAAsBhV,MAAO,MAAO,kBAACyO,EAAA,EAAD,CAAQG,QAAS,kBAAM,EAAKiT,mBAAmB,EAAG,YAAlD,eAE9C,GAAxBzgB,KAAKJ,MAAMqe,UACV,kBAAC4C,GAAA,EAAD,CAAKne,UAAU,oBACb,yBAAKA,UAAU,QACb,0BAAMse,SAAU,kBAAM,EAAKP,mBAAmB,EAAG,UAC/C,kBAACxM,GAAA,EAAD,CAAaC,UAAU,YACrB,kBAACC,GAAA,EAAD,CAAWD,UAAU,WACrB,kBAACE,GAAA,EAAD,CAAYC,aAAW,SAAS1D,KAAK,UAAUrC,SAAUtO,KAAKkf,mBAC3D,CAAC,iBAAkB,kBAAkBljB,KAAI,SAAC8H,GACzC,OAAO,kBAACwQ,GAAA,EAAD,CAAkBxQ,MAAOA,EAAOyQ,QAAS,kBAACC,GAAA,EAAD,MAAWC,MAAO3Q,QAGtE,kBAACuJ,EAAA,EAAD,CAAQjS,KAAK,SAAS8iB,QAAQ,WAAW1f,MAAM,WAA/C,YAIN,KACqB,GAAxBwB,KAAKJ,MAAMqe,UAAoB,kBAAC4C,GAAA,EAAD,CAAKne,UAAU,oBAAmB,kBAAC,GAAD,CAAQ7G,IAAKmE,KAAKN,MAAMnE,cAAe6I,gBAAiBpE,KAAKoE,gBAAiBjB,SAAUnD,KAAKN,MAAMyD,YAA4B,MAE1K,GAAxBnD,KAAKJ,MAAMqe,UACV,kBAACxb,EAAA,EAAD,CAAMnE,WAAS,EAAC0Q,UAAU,MAAMC,QAAQ,aAAaC,WAAW,UAC9D,kBAACzM,EAAA,EAAD,CAAMnE,WAAS,EAACigB,QAAS,EAAGvP,UAAU,MAAMC,QAAQ,eAAevM,UAAU,uBAAuB7G,IAAKmE,KAAKN,MAAMa,eAAelE,OAAQwE,MAAO,CAAE/B,OAA2B,QAAnBkB,KAAKN,MAAM6M,KAAiBrM,OAAOC,YAAcxB,EAAE,aAAaG,SAAW,EAAIoB,OAAOC,YAAcxB,EAAE,oBAAoBG,SAAW,EAAGsN,WAAY,EAAGxN,MAAOsB,OAAOqS,YAAc5T,EAAE,mBAAmBC,QAAUD,EAAE,WAAWC,QAAU,MAC/W,SAAnBoB,KAAKN,MAAM6M,MAAsD,MAAnCvM,KAAKJ,MAAMpE,sBAA4D,MAA5BwE,KAAKN,MAAMlF,eAAiD,MAAxBwF,KAAKN,MAAM0C,UACvH,kBAAC,EAAD,CAAYuQ,MAAO3S,KAAK2S,MAAO5K,0BAA2B/H,KAAK+H,0BAA2B3D,gBAAiBpE,KAAKoE,gBAC9GhD,WAAY,YAAa5F,qBAAsBwE,KAAKJ,MAAMpE,qBAAsB+X,OAAQvT,KAAKJ,MAAM2T,OAAQ1B,SAAU7R,KAAKJ,MAAMiS,WAClH,KAEE,SAAnB7R,KAAKN,MAAM6M,KACV,CAAC,SAAU,UAAUvQ,KAAI,SAACoF,EAAY1F,GACpC,OAA0C,MAAnC,EAAKkE,MAAMpE,sBAA4D,MAA5B,EAAKkE,MAAMlF,cAC3D,kBAACymB,GAAD,CAAYtO,MAAO,EAAKA,MAAO5K,0BAA2B,EAAKA,0BAA2BlC,QAASnK,EAAGG,IAAKuF,EAAa,aAAe,EAAKxB,MAAM2D,KAAK,GAAK,EAAK7D,MAAM6M,KAAMlJ,iBAAkB,EAAK3D,MAAM2D,iBAAkBC,eAAgB,EAAK1D,MAAM0D,eAAgB9I,cAAe,EAAKkF,MAAMlF,cAAeE,eAAgB,EAAKgF,MAAMhF,eACzU0J,gBAAiB,EAAKA,gBAAiBnB,WAAY,EAAKvD,MAAMuD,WAAY7B,WAAYA,EAAY5F,qBAAsB,EAAKoE,MAAMpE,qBACnI+X,OAAQ,EAAK3T,MAAM2T,OAAQ1B,SAAU,EAAKjS,MAAMiS,SAAU1O,SAAU,EAAKzD,MAAMyD,WAE/E,QACD,KACa,QAAnBnD,KAAKN,MAAM6M,MAAgD,QAA9BvM,KAAKN,MAAM0T,iBAA2D,QAA9BpT,KAAKN,MAAM2T,gBAC/E,CAAC,QAAS,SAASrX,KAAI,SAACoF,EAAY1F,GAClC,OAA0C,MAAnC,EAAKkE,MAAMpE,sBAA4D,MAA5B,EAAKkE,MAAMlF,cAC3D,kBAAC0mB,GAAD,CAAWvO,MAAO,EAAKA,MAAO5K,0BAA2B,EAAKA,0BAA2BlC,QAASnK,EAAGG,IAAKuF,EAAa,aAAe,EAAKxB,MAAM2D,KAAK,GAAIF,iBAAkB,EAAK3D,MAAM2D,iBAAkBC,eAAgB,EAAK1D,MAAM0D,eAAgB9I,cAAe,EAAKkF,MAAMlF,cAAeE,eAAgB,EAAKgF,MAAMhF,eACtT0J,gBAAiB,EAAKA,gBAAiBnB,WAAY,EAAKvD,MAAMuD,WAAY7B,WAAYA,EAAY5F,qBAAsB,EAAKoE,MAAMpE,qBACnI+X,OAAQ,EAAK3T,MAAM2T,OAAQ1B,SAAU,EAAKjS,MAAMiS,SAAU1O,SAAU,EAAKzD,MAAMyD,WAClE,QACd,OAMD,Y,GA5ONJ,aAqTHC,gBAxDS,SAACpD,GACvB,MAAO,CACLuD,SAAUvD,EAAMuD,SAChB9H,YAAauE,EAAMvE,YACnB4H,WAAYrD,EAAMqD,WAClB1C,eAAgBX,EAAMW,eACtB7F,eAAgBkF,EAAMlF,eACtBa,cAAeqE,EAAMrE,cACrBgR,KAAM3M,EAAM2M,KACZC,iBAAkB5M,EAAM4M,iBACxBhS,cAAeoF,EAAMpF,cACrB4I,gBAAiBxD,EAAMwD,gBACvBC,iBAAkBzD,EAAMyD,iBACxBnG,QAAS0C,EAAM1C,QACfoG,eAAgB1D,EAAM0D,eACtBG,QAAS7D,EAAM6D,QACf2P,gBAAiBxT,EAAMwT,gBACvBC,gBAAiBzT,EAAMyT,gBACvBjM,iBAAkBxH,EAAMwH,iBACxBlE,4BAA6BtD,EAAMsD,4BACnC1C,OAAQZ,EAAMY,OACd4B,UAAWxC,EAAMwC,UACjB/E,UAAWuC,EAAMvC,cAGK,SAACsG,GACzB,MAAO,CACLwb,YAAa,SAACtb,GAAD,OAASF,EAAS,CAAEvI,KAAM,UAAW0I,MAAOD,KACzDE,mBAAoB,SAACF,GAAD,OAASF,EAAS,CAAEvI,KAAM,iBAAkB0I,MAAOD,KACvEG,mBAAoB,SAACH,GAAD,OAASF,EAAS,CAAEvI,KAAM,iBAAkB0I,MAAOD,KACvEmS,eAAgB,SAACnS,GAAD,OAASF,EAAS,CAAEvI,KAAM,aAAc0I,MAAOD,KAC/DiX,uBAAwB,SAACjX,GAAD,OAASF,EAAS,CAAEvI,KAAM,qBAAsB0I,MAAOD,KAC/E8R,kBAAmB,SAAC9R,GAAD,OAASF,EAAS,CAAEvI,KAAM,gBAAiB0I,MAAO9I,SAAS6I,MAC9Ega,aAAc,SAACha,GAAD,OAASF,EAAS,CAAEvI,KAAM,WAAY0I,MAAOD,KAC3Dia,kBAAmB,SAACja,GAAD,OAASF,EAAS,CAAEvI,KAAM,gBAAiB0I,MAAOD,KACrEwc,yBAA0B,SAACxc,GAAD,OAASF,EAAS,CAAEvI,KAAM,uBAAwB0I,MAAOD,KACnFuX,6BAA8B,SAACvX,GAAD,OAASF,EAAS,CAAEvI,KAAM,2BAA4B0I,MAAOD,KAC3FI,gCAAiC,SAACJ,GAAD,OAASF,EAAS,CAAEvI,KAAM,8BAA+B0I,MAAOD,KACjGgS,mBAAoB,SAAChS,GAAD,OAASF,EAAS,CAAEvI,KAAM,iBAAkB0I,MAAOD,KACvEkS,gBAAiB,SAAClS,GAAD,OAASF,EAAS,CAAEvI,KAAM,cAAe0I,MAAOD,KACjEuc,gBAAiB,SAACvc,GAAD,OAASF,EAAS,CAAEvI,KAAM,cAAe0I,MAAOD,KAEjEkX,SAAU,SAAClX,GAAD,OAASF,EAAS,CAAEvI,KAAM,OAAQ0I,MAAOD,KACnDoS,sBAAuB,SAACpS,GAAD,OAASF,EAAS,CAAEvI,KAAM,oBAAqB0I,MAAOD,KAC7EqS,sBAAuB,SAACrS,GAAD,OAASF,EAAS,CAAEvI,KAAM,oBAAqB0I,MAAOD,KAC7EsS,oBAAqB,SAACtS,GAAD,OAASF,EAAS,CAAEvI,KAAM,kBAAmB0I,MAAOD,KACzEqX,oBAAqB,SAACrX,GAAD,OAASF,EAAS,CAAEvI,KAAM,kBAAmB0I,MAAOD,KACzEsX,oBAAqB,SAACtX,GAAD,OAASF,EAAS,CAAEvI,KAAM,kBAAmB0I,MAAOD,KAEzE0c,cAAe,SAAC1c,GAAD,OAASF,EAAS,CAAEvI,KAAM,YAAa0I,MAAOD,KAC7D2c,cAAe,SAAC3c,GAAD,OAASF,EAAS,CAAEvI,KAAM,YAAa0I,MAAOD,KAC7D4I,oBAAqB,SAAC5I,GAAD,OAASF,EAAS,CAAEvI,KAAM,kBAAmB0I,MAAOD,KACzEkQ,yBAA0B,SAAClQ,GAAD,OAASF,EAAS,CAAEvI,KAAM,uBAAwB0I,MAAOD,QAIxEb,CAA4Cic,I,kBC1VvDkC,IAAY,IACb3gB,OAAQ,CAAE,gBAAmB,GAAK,WAAc,IAAM,WAAc,IAAM,WAAc,IAAM,WAAc,MAC5G4D,gBAAiB,KACjB1J,eAAgB,KAChB+I,QAAS,oBACTjJ,cAAe,KACf6C,UAAW,KACX+E,UAAW,KACX5G,qBAAsB,KACtB4lB,yBAA0B,KAC1B7gB,eAAgB,CAAC,OAAQ,aACzBlF,YAAa,CAAC,EAAG,IACjB4H,WAAY,EACZM,KAAM,CACH,eAAgB,WAAY,eAE/BiS,mBAAoB,CACjB,QAEHja,cAAe,KACfkF,eAAgB,CAAC,QACjB4gB,WAAY,EACZxG,WAAY,GACZoD,UAAW,EACX/gB,QAAS,SACToG,eAAgB,GAChBD,iBAAkB,OAClBpG,oBAAqB,KACrB4U,SAAU,KACV0B,OAAQ,aACRrQ,4BAA6B,GAC7BC,UAAU,EACVme,MAAO,KACPrH,cAAe,GACfR,eAAgB,KAChBiH,oBAAqB,KACrBC,aAAc,aACdY,mBAAoB,OACpBC,YAAa,KACbjV,KAAM,QACNC,iBAAkB,aAClBiD,kBAAmB,CAAC,EAAG,IACvBC,kBAAmB,CAAC,GAAI,IACxBtM,gBAAiB,aACjBgQ,gBAAiB,OACjBC,gBAAiB,OACjBC,gBAAiB,CAAC,EAAG,KA9CR,kCA+CK,QA/CL,0CAgDa,CAAE,aAAc,EAAG,QAAW,IAhD3C,2BAiDF,IAjDE,yBAkDL,GAlDK,yBAmDJ,QAnDI,kCAoDK,MApDL,2BAqDH,GArDG,iCAsDI,CAAC,OAAQ,cAtDb,kCAuDK,IAvDL,wCAwDW,IAxDX,oCAyDO,IAzDP,sCA0DS,IA1DT,4BA2DD,CAAC,OAAQ,YAAa,YAAa,aAAc,aAAc,aAAc,YAAa,YA3DzF,4BA4DF,GA5DE,4BA6DF,GA7DE,IAiNDmO,GAjJC,WAAmC,IAAlC7hB,EAAiC,uDAAzBuhB,GAAcO,EAAW,uCAC/C,GAAoB,cAAhBA,EAAOtmB,KAER,OADAqB,QAAQC,IAAIglB,EAAO5d,OACZ,eAAKlE,EAAZ,CAAmB8D,UAAWge,EAAO5d,QAExC,GAAoB,cAAhB4d,EAAOtmB,KAER,OADAqB,QAAQC,IAAIglB,EAAO5d,OACZ,eAAKlE,EAAZ,CAAmBsC,UAAWwf,EAAO5d,QAExC,GAAoB,mBAAhB4d,EAAOtmB,KAER,OADAqB,QAAQC,IAAIglB,EAAO5d,OACZ,eAAKlE,EAAZ,CAAmBa,eAAgBihB,EAAO5d,QAE7C,GAAoB,yBAAhB4d,EAAOtmB,KAER,OAAO,eAAKwE,EAAZ,CAAmB4D,qBAAsBke,EAAO5d,QAEnD,GAAoB,uBAAhB4d,EAAOtmB,KACR,OAAO,eAAKwE,EAAZ,CAAmBqH,mBAAoBya,EAAO5d,QAEjD,GAAoB,2BAAhB4d,EAAOtmB,KACR,OAAO,eAAKwE,EAAZ,CAAmBmJ,uBAAwB2Y,EAAO5d,QAErD,GAAoB,WAAhB4d,EAAOtmB,KACR,OAAO,eAAKwE,EAAZ,CAAmBY,OAAQkhB,EAAO5d,QAErC,GAAoB,SAAhB4d,EAAOtmB,KACR,OAAO,eAAKwE,EAAZ,CAAmB2D,KAAMme,EAAO5d,QAEnC,GAAoB,cAAhB4d,EAAOtmB,KACR,OAAO,eAAKwE,EAAZ,CAAmBwC,UAAWsf,EAAO5d,QAExC,GAAoB,mBAAhB4d,EAAOtmB,KACR,OAAO,eAAKwE,EAAZ,CAAmBW,eAAgBmhB,EAAO5d,QAE7C,GAAoB,cAAhB4d,EAAOtmB,KACR,OAAO,eAAKwE,EAAZ,CAAmBvC,UAAWqkB,EAAO5d,QAExC,GAAoB,kBAAhB4d,EAAOtmB,KACR,OAAO,eAAKwE,EAAZ,CAAmBpF,cAAeknB,EAAO5d,QAE5C,GAAoB,uBAAhB4d,EAAOtmB,KACR,OAAO,eAAKwE,EAAZ,CAAmB4V,mBAAoBkM,EAAO5d,QAEjD,GAAoB,oBAAhB4d,EAAOtmB,KACR,OAAO,eAAKwE,EAAZ,CAAmBwE,gBAAiBsd,EAAO5d,QAE9C,GAAoB,gBAAhB4d,EAAOtmB,KACR,OAAO,eAAKwE,EAAZ,CAAmBvE,YAAaqmB,EAAO5d,QAE1C,GAAoB,kBAAhB4d,EAAOtmB,KACR,OAAO,eAAKwE,EAAZ,CAAmBrE,cAAemmB,EAAO5d,QAE5C,GAAoB,aAAhB4d,EAAOtmB,KACR,OAAO,eAAKwE,EAAZ,CAAmBuD,SAAUue,EAAO5d,QAEvC,GAAoB,yBAAhB4d,EAAOtmB,KACR,OAAO,eAAKwE,EAAZ,CAAmBpE,qBAAsBkmB,EAAO5d,QAEnD,GAAoB,YAAhB4d,EAAOtmB,KACR,OAAO,eAAKwE,EAAZ,CAAmB6D,QAASie,EAAO5d,QAEtC,GAAoB,eAAhB4d,EAAOtmB,KACR,OAAO,eAAKwE,EAAZ,CAAmBqD,WAAYye,EAAO5d,QAEzC,GAAoB,SAAhB4d,EAAOtmB,KACR,OAAO,eAAKwE,EAAZ,CAAmB2M,KAAMmV,EAAO5d,QAEnC,GAAoB,eAAhB4d,EAAOtmB,KACR,OAAO,eAAKwE,EAAZ,CAAmBib,WAAY6G,EAAO5d,QAEzC,GAAoB,qBAAhB4d,EAAOtmB,KACR,OAAO,eAAKwE,EAAZ,CAAmB4M,iBAAkBkV,EAAO5d,QAG/C,GAAoB,sBAAhB4d,EAAOtmB,KACR,OAAO,eAAKwE,EAAZ,CAAmB6P,kBAAmBiS,EAAO5d,QAEhD,GAAoB,sBAAhB4d,EAAOtmB,KACR,OAAO,eAAKwE,EAAZ,CAAmB8P,kBAAmBgS,EAAO5d,QAEhD,GAAoB,oBAAhB4d,EAAOtmB,KACR,OAAO,eAAKwE,EAAZ,CAAmB0T,gBAAiBoO,EAAO5d,QAE9C,GAAoB,oBAAhB4d,EAAOtmB,KACR,OAAO,eAAKwE,EAAZ,CAAmBwD,gBAAiBse,EAAO5d,QAE9C,GAAoB,oBAAhB4d,EAAOtmB,KACR,OAAO,eAAKwE,EAAZ,CAAmBwT,gBAAiBsO,EAAO5d,QAE9C,GAAoB,oBAAhB4d,EAAOtmB,KACR,OAAO,eAAKwE,EAAZ,CAAmByT,gBAAiBqO,EAAO5d,QAE9C,GAAoB,gCAAhB4d,EAAOtmB,KACR,OAAO,eAAKwE,EAAZ,CAAmBsD,4BAA6Bwe,EAAO5d,QAE1D,GAAoB,wBAAhB4d,EAAOtmB,KACR,OAAO,eAAKwE,EAAZ,CAAmB3C,oBAAqBykB,EAAO5d,QAElD,GAAoB,mBAAhB4d,EAAOtmB,KACR,OAAO,eAAKwE,EAAZ,CAAmBlF,eAAgBgnB,EAAO5d,QAE7C,GAAoB,uBAAhB4d,EAAOtmB,KACR,OAAO,eAAKwE,EAAZ,CAAmB2hB,mBAAoBG,EAAO5d,QAEjD,GAAoB,iBAAhB4d,EAAOtmB,KACR,OAAO,eAAKwE,EAAZ,CAAmB+gB,aAAce,EAAO5d,QAE3C,GAAoB,mBAAhB4d,EAAOtmB,KACR,OAAO,eAAKwE,EAAZ,CAAmB0D,eAAgBoe,EAAO5d,QAE7C,GAAoB,YAAhB4d,EAAOtmB,KACR,OAAO,eAAKwE,EAAZ,CAAmB1C,QAASwkB,EAAO5d,QAEtC,GAAoB,6BAAhB4d,EAAOtmB,KACR,OAAO,eAAKwE,EAAZ,CAAmBuZ,yBAA0BuI,EAAO5d,QAEvD,GAAoB,gBAAhB4d,EAAOtmB,KACR,OAAO,eAAKwE,EAAZ,CAAmB4hB,YAAaE,EAAO5d,QAE1C,GAAoB,cAAhB4d,EAAOtmB,KACR,OAAO,eAAKwE,EAAZ,CAAmB+K,UAAW+W,EAAO5d,QAExC,GAAoB,WAAhB4d,EAAOtmB,KACR,OAAO,eAAKwE,EAAZ,CAAmB8S,OAAQgP,EAAO5d,QAErC,GAAoB,YAAhB4d,EAAOtmB,KACR,OAAO,eAAKwE,EAAZ,CAAmBsT,QAASwO,EAAO5d,QAEtC,GAAoB,qBAAhB4d,EAAOtmB,KACR,OAAO,eAAKwE,EAAZ,CAAmBwH,iBAAkBsa,EAAO5d,QAE/C,GAAoB,aAAhB4d,EAAOtmB,KACR,OAAO,eAAKwE,EAAZ,CAAmB8O,SAAUgT,EAAO5d,QAEvC,GAAoB,oBAAhB4d,EAAOtmB,KAA4B,CACpC,IAAIyB,EAAO6kB,EAAO5d,MAAM9F,QAAO,SAAAE,GAAI,MAAY,WAARA,KACvC,OAAO,eAAK0B,EAAZ,CAAmBsM,gBAAiBrP,IAEvC,MAAoB,qBAAhB6kB,EAAOtmB,KAED,eAAKwE,EAAZ,CAAmBgH,iBAAkB8a,EAAO5d,QAExClE,G,UCvMKgV,GAPD+M,aAAe,CAC3BxM,WAAY,CACVyM,OAAQ,CACNC,cAAe,W,UCKfC,GAAMC,aAAYN,IACxBO,IAASC,OAAQ,kBAACC,GAAA,EAAD,CAAetN,MAAOA,IAAO,kBAAC,IAAD,CAAUkN,MAAOA,IAAO,kBAAC,GAAD,QAAmC7X,SAASkY,eAAe,U,mBCVjI9nB,EAAOC,QAAU,IAA0B,yC,mBCA3CD,EAAOC,QAAU,IAA0B,0C","file":"static/js/main.c267bc13.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/fiscal.977bae2d.csv\";","module.exports = __webpack_public_path__ + \"static/media/school.2d2c77ef.csv\";","module.exports = __webpack_public_path__ + \"static/media/house.88979d03.csv\";","module.exports = __webpack_public_path__ + \"static/media/fiscal_rank.6e0a824e.csv\";","module.exports = __webpack_public_path__ + \"static/media/fiscal_lime.7992abf1.csv\";","module.exports = __webpack_public_path__ + \"static/media/school_rank.edf0b9e3.csv\";","module.exports = __webpack_public_path__ + \"static/media/school_lime.644683c6.csv\";","module.exports = __webpack_public_path__ + \"static/media/house_rank.f85c2352.csv\";","module.exports = __webpack_public_path__ + \"static/media/house_lime.b31dfb61.csv\";","module.exports = __webpack_public_path__ + \"static/media/chart1_data.45acbae8.csv\";","export function groupby_year(original_data) {\n  var years = {}\n  var sparkline_data = {}\n  original_data.forEach(element => {\n    years[element['1-qid']] = []\n    sparkline_data[element['State'].replace(/ /g, '').replace(/[^\\w\\s]/gi, '')] = []\n  });\n\n  original_data.forEach(element => {\n    var temp_dict = { year: parseInt(element['1-qid']), rank: parseInt(element['two_realRank']) }\n    sparkline_data[element['State'].replace(/ /g, '').replace(/[^\\w\\s]/gi, '')].push(temp_dict)\n    years[element['1-qid']].push(element)\n  });\n  return { years: years, sparkline_data: sparkline_data };\n}\n//------------------------------------------------------------------------------------------------- Sort Models\nexport function sort(type, state_range, default_models, selected_year, grouped_by_year_data) {\n  //------------Handle ndgc sorting\n  if (type == 'Discounted Cumulative Gain') {\n    var nDCG_dict = { \"ndcg_term_CordAscent\": 0, \"ndcg_term_LambdaMART\": 0, \"ndcg_term_LambdaRank\": 0, \"ndcg_term_LinearReg\": 0, \"ndcg_term_ListNet\": 0, \"ndcg_term_MART\": 0, \"ndcg_term_RandomFor\": 0, \"ndcg_term_RankBoost\": 0, \"ndcg_term_RankNet\": 0 }\n    for (var i = state_range[0]; i < state_range[1]; i++) {\n      Object.keys(nDCG_dict).forEach(key => {\n          nDCG_dict[key] = nDCG_dict[key] + parseFloat(grouped_by_year_data[selected_year][i][key])\n      })\n    }\n    //---- sort\n    var items = Object.keys(nDCG_dict).map(function (key) {\n      return [key.substring(10), nDCG_dict[key]];\n    });\n    items.sort(function (first, second) {\n      return second[1] - first[1];\n    });\n    var temp_ndcg = []\n    for (var i = 0; i < items.length; i++) {\n      if (default_models.includes(items[i][0])) {\n        temp_ndcg.push(items[i][0])\n      }\n    }\n    var temp1={}\n    items.map(myitem=>{temp1[myitem[0]]=myitem[1]})\n    console.log(items)\n    return [temp_ndcg,temp1]\n  }\n  //----\n\n  //------------Handle AP sorting\n  if (type == 'Average Precision') {\n    var mydict = {}\n    default_models.forEach((model) => {\n      var temp = 1\n      for (var i = state_range[0]; i < state_range[1]; i++) {\n        temp = temp + (grouped_by_year_data[selected_year][i][\"two_realRank\"] - grouped_by_year_data[selected_year][i][model]) ** 2\n      }\n      mydict[model] = ((state_range[1] - state_range[0]) + 1) / (Math.sqrt(temp))\n    })\n    //---- sort\n    var items = Object.keys(mydict).map(function (key) {\n      return [key, mydict[key]];\n    });\n    items.sort(function (first, second) {\n      return second[1] - first[1];\n    });\n    var temp_ap = []\n    for (var i = 0; i < items.length; i++) {\n      if (default_models.includes(items[i][0])) {\n        temp_ap.push(items[i][0])\n      }\n    }\n    return [temp_ap,mydict]\n  }\n  //------------Handle Alphabatic sorting\n  if (type == 'Alphabetically') {\n    var temp=default_models.sort()\n    return [temp,[0]]\n  }\n}\n\n\nexport function features_with_score(dataset, models, state_range, selected_year, number_of_charts, rank_data) {\n  var temp1 = {}\n  var temp_final = {}\n  models.map(model => {\n    var temp2 = {}\n    var v = number_of_charts;\n    var top_nine = sorted_features(dataset, model, state_range, selected_year,rank_data)\n    if (top_nine.length < number_of_charts) { v = top_nine.length;; number_of_charts = top_nine.length } // This is because number of charts is calculated based on space but there are cases when we don't have that many features\n    for (var i = 0; i < number_of_charts; i++) {\n      temp2[top_nine[i]] = v;\n      v = v - 1\n    }\n    temp1[model] = temp2\n  });\n\n  for (var key in temp1) {\n    for (var key2 in temp1[key]) {\n      if (temp_final[key2] > 0) {\n\n        temp_final[key2] = temp_final[key2] + temp1[key][key2]\n      }\n      else {\n        temp_final[key2] = temp1[key][key2]\n      }\n    }\n  }\n  return temp_final;\n}\n\n\nexport function sorted_features(dataset, model, state_range, selected_year,rank_data) { // Uses feature rank to rank and return features name by removing the feature_rank string\n  if (!state_range.length > 0) { return [] }\n  state_range = state_range.map(element => element - 1)\n  var tempvoted_data_with_score = {},items,data,feautures;\n\n  if (model == \"ListNet\") { return [] }\n  var data2 = rank_data[model].filter(element => { if (parseInt(element['1-qid']) == parseInt(selected_year)) { return element } })\n  data = state_range.map(index => data2[index])\n  feautures = Object.keys(data[0])\n\n  data.map(item => {\n    feautures.forEach(feauture => {\n      if (tempvoted_data_with_score[feauture] >= 0 || tempvoted_data_with_score[feauture] < 0) {\n        tempvoted_data_with_score[feauture] = tempvoted_data_with_score[feauture] + (parseFloat(item[feauture]))\n      }\n      else { tempvoted_data_with_score[feauture] = parseFloat(item[feauture]) }\n    })\n  })\n  //-----------------------------------------------------------------\n  // Create items array\n  items = Object.keys(tempvoted_data_with_score).map(function (key) {\n    return [key, tempvoted_data_with_score[key]];\n  });\n  // Sort the array based on the second element\n  items.sort(function (first, second) {\n    return first[1] - second[1];\n  });\n  var items2 = items.map((element) => element[0].replace(\"_feature_rank\", \"\"))\n  items2 = items2.filter(item => item != \"1-qid\" && item!=\"model\")\n  return items2;\n  //-----------------------------------------------------------------\n}\n","\nimport * as d3 from 'd3';\nimport * as $ from 'jquery';\nexport function createLegend(container,range,color) {\n    var data=Object.entries(color)\n    var parent_width=$(\".\"+container).width()\n    var parent_height=$(\".\"+container).height()\n    var svg=d3.select(\".\"+container).select('svg').attr('width',parent_width).attr('height',parent_height)\n    //var height=parent_height/data.length\n    var rect_width = 15\n    var rect_height = parent_height/data.length\n    var x_shift = 5\n    svg.selectAll(\".leg_rect\").data(data).join('rect').attr('class', \"leg_rect\").attr('x', 2).attr('y', (d, i) => (rect_height*i))\n    .attr('width', rect_width).attr('height', rect_height).attr('fill', d => d[1])\n\n    svg.selectAll(\".leg_text\").data([[10,range[0]],[parent_height/2,parseInt((range[1]+range[0])/2)],[parent_height-5,range[1]]]).join('text').attr('class', \"leg_text\").attr('x', x_shift + rect_width)\n    .attr('y', d =>d[0])\n    .text(d=>d[1]).attr('font-size', 12)\n\n}","import React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport * as $ from 'jquery';\nimport * as slopechart1 from \"./slopechart1\";\nimport { connect } from \"react-redux\";\nimport Grid from '@material-ui/core/Grid';\nimport * as Legend from '../Legend'\nimport * as algo1 from \"../../../Algorithms/algo1\";\nclass SlopeChart extends Component {\n  constructor(props) {\n    super(props);\n    this.line_color = null;\n    this.state = { height_slope_exp_chart: 700, mouseX: 0, mouseY: 0 }\n  }\n  componentDidMount() {\n    this.setState({ width: window.innerHeight })\n  }\n  shouldComponentUpdate(prevProps, prevState) {\n    return true;\n  }\n  componentDidUpdate(prevProps, prevState) {\n    var selected_instances=d3.range(this.props.state_range[0], this.props.state_range[1]+1)\n    slopechart1.CreateSlopeChart1(selected_instances, this.props.original_data, this.props.defualt_models, this.props.config, this.props.selected_years, this.props.average_m)\n    var number_of_charts=9\n    var features_with_score=algo1.features_with_score(this.props.dataset, this.props.defualt_models, this.props.state_range, this.props.selected_year, number_of_charts, this.props.rank_data)\n    var sorted_features=Object.entries(features_with_score).sort((a,b)=>a[1]-b[1])\n    slopechart1.CreatexpChart(selected_instances,sorted_features,this.props.lime_data,this.props.selected_year,this.props.defualt_models)\n  }\n  render() {\n    return (\n      <Grid container className=\"slope_chart_exp\" style={{ padding: \"0px 0px\", border: \"1px solid #eaeaea\", width: \"99%\", boxShadow: \"-2px 1px 4px -1px white\" }}>\n        <svg id=\"dev_plot_container\" style={{ width: \"100%\", height: \"50%\" }}></svg>\n        <svg id=\"exp_container\" style={{ width: \"100%\", height: \"50%\" }}></svg>\n      </Grid>\n    )\n  }\n}\nconst maptstateToprop = (state) => {\n  return {\n    state_range: state.state_range,\n    selected_year: state.selected_year,\n    selected_years: state.selected_years,\n    deviate_by: state.deviate_by,\n    clicked_items_in_slopechart: state.clicked_items_in_slopechart,\n    tracking: state.tracking,\n    defualt_models: state.defualt_models,\n    original_data: state.original_data,\n    time_mode_model: state.time_mode_model,\n    chart_scale_type: state.chart_scale_type,\n    features_with_score: state.features_with_score,\n    dataset: state.dataset,\n    histogram_data: state.histogram_data,\n    sparkline_data: state.sparkline_data,\n    dataset: state.dataset,\n    config: state.config,\n    show: state.show,\n    default_model_scores: state.default_model_scores,\n    sort_by: state.sort_by,\n    average_m: state.average_m,\n    average_y: state.average_y,\n    lime_data: state.lime_data,\n    features_with_score: state.features_with_score,\n    rank_data: state.rank_data,\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_prev_prop: (val) => dispatch({ type: \"prev_prop\", value: val }),\n    Set_defualt_models: (val) => dispatch({ type: \"defualt_models\", value: val }),\n    Set_sparkline_data: (val) => dispatch({ type: \"sparkline_data\", value: val }),\n    Set_clicked_items_in_slopechart: (val) => dispatch({ type: \"clicked_items_in_slopechart\", value: val }),\n    Set_replay: (val) => dispatch({ type: \"replay\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(SlopeChart);","\nimport * as d3 from 'd3';\nimport * as $ from 'jquery';\nimport * as algo1 from \"../../../Algorithms/algo1\";\nexport function CreateSlopeChart1(selected_instances, original_data, defualt_models, config, selected_years, average) {\n  var div = d3.select(\"body\").append(\"div\").attr(\"class\", \"tooltip\").style(\"opacity\", 0);\n  var parent_width = $(\"#dev_plot_container\").width()\n  var data = original_data.filter(item => selected_years.includes(item['1-qid']) && selected_instances.includes(parseInt(item['two_realRank'])))\n\n  var temp_scale_data = []\n  data.map(item => { defualt_models.map(model => temp_scale_data.push(Math.abs(parseInt(item[model]) - parseInt(item['two_realRank'])))) })\n\n  var config = { fontSize: 12, font_dy: -6, font_line_gap: 4, line_stroke_width: 10, animation_duration: 0, container_height: 100, my_svg_top_margin: 10, myg_top_margin: 10, left_margin: 100 }\n  var y_distance = config.line_stroke_width + 2\n  var circle_radius = config.line_stroke_width / 2\n\n  var parent_g = d3.select(\"#dev_plot_container\").style(\"background-color\", \"#ededed\").attr('height', y_distance + data.length * y_distance)\n    .selectAll(\".parent_g\").data([0]).join('g').attr('class', 'parent_g').attr('transform', \"translate(\" + 0 + \",20)\")\n  parent_g.selectAll(\".items\").data(selected_instances).join(\"g\").attr(\"class\", \"items\").attr('transform', (d, i) => \"translate(\" + config.left_margin + \",\" + i * y_distance + \")\")\n    .attr(\"add_state\", function (d) {\n      d3.select(this).selectAll(\"text\").data([d]).join('text').text(original_data[d]['State']).attr('fill', '#494949').attr(\"dominant-baseline\", \"hanging\").attr(\"font-size\", config.fontSize)\n        .attr(\"x\", 0).attr('text-anchor', 'end').attr(\"dy\", config.font_dy)\n    })\n    .attr(\"add_lines_and_circles\", function (d) {\n      var data_for_all_years = data.filter(item => d == parseInt(item['two_realRank']))\n      var line_data = []\n      defualt_models.map(model_name => {\n        data_for_all_years.map(item => {\n          var a = {}\n          a['two_realRank'] = parseInt(item['two_realRank'])\n          a['predicted_rank'] = parseInt(item[model_name])\n          a[\"model\"] = model_name\n          a['year'] = item['1-qid']\n          line_data.push(a)\n        })\n      })\n      // This is only for scaling starts here\n      var temp_scale_data = []\n      data.map(item => { defualt_models.map(model => temp_scale_data.push(Math.abs(parseInt(item[model]) - parseInt(item['two_realRank'])))) })\n      var sclale1 = d3.scaleLinear().domain([0, d3.max(temp_scale_data)]).range([config.font_line_gap, parent_width - (config.left_margin + circle_radius)])\n      // This is only for scaling ends here\n      d3.select(this).selectAll(\"line\").data([d]).join('line')\n        .attr(\"x1\", config.font_line_gap).attr(\"y1\", (d, i) => y_distance * i).attr(\"y2\", (d, i) => y_distance * i).attr(\"stroke-width\", config.line_stroke_width).attr(\"stroke\", \"#cecece\")\n        .transition().duration(config.animation_duration).attr(\"x2\", (d2) => {\n          var temp = []\n          line_data.map(item => temp.push(Math.abs(item[\"predicted_rank\"] - item[\"two_realRank\"])))\n          return sclale1(d3.max(temp))\n        })\n      // ------------ Circles start here\n      var data_for_all_years = data.filter(item => d == parseInt(item['two_realRank']))\n      var circ_data = []\n      defualt_models.map(model_name => {\n        data_for_all_years.map(item => {\n          var a = {}\n          a['two_realRank'] = parseInt(item['two_realRank'])\n          a['predicted_rank'] = parseInt(item[model_name])\n          a[\"model\"] = model_name\n          a['year'] = item['1-qid']\n          circ_data.push(a)\n        })\n      })\n      if (average) {\n        var avg = d3.mean(circ_data.map(item => item['predicted_rank']))\n        circ_data = circ_data.map(item => {\n          item['predicted_rank'] = avg\n          item['model'] = \"Average\"\n          item['year'] = \"Average\"\n          return item;\n        })\n      }\n      d3.select(this).selectAll(\"circle\").data(circ_data).join(\"circle\")\n        .attr(\"r\", circle_radius).attr('fill', '#7c7b7b')\n        // .transition().duration(config.animation_duration)\n        .attr(\"cx\", (d2, i) => {\n          if (d2[\"predicted_rank\"] - d2['two_realRank'] == 0) { return sclale1(Math.abs(d2[\"predicted_rank\"] - d2['two_realRank'])) + circle_radius }\n          return sclale1(Math.abs(d2[\"predicted_rank\"] - d2['two_realRank']))\n        })\n        .on(\"mouseover\", function (d2) {\n          div.transition().duration(200).style(\"opacity\", .9);\n          div.html(\"Year : \" + d2[\"year\"] + \"<br></br>\" + d2[\"model\"] + \" : \" + Math.abs(d2[\"predicted_rank\"] - d2['two_realRank'])).style(\"left\", (d3.event.pageX - 130) + \"px\").style(\"top\", (d3.event.pageY - 68) + \"px\");\n        }).on(\"mouseout\", function (d2) {\n          div.transition()\n            .duration(500)\n            .style(\"opacity\", 0);\n        })\n    })\n}\n\nexport function CreatexpChart(selected_instances,sorted_features, lime_data,selected_year,defualt_models) {\n  var parent_width = $(\"#exp_container\").width()\n  var parent_height = $(\"#exp_container\").height()\n  var item_width=parent_width/sorted_features.length\n  var item_height=parent_height/sorted_features.length\n  d3.select(\"#exp_container\").selectAll(\".exp_items\").data(sorted_features).join('svg').attr('class','exp_items').attr('width',item_width).attr('height',item_height)\n  .attr('x',(d,i)=>item_width*i)\n  .attr('add_circle',function(d){\n    var feature_contrib_name=d[0]+\"_contribution\"\n    console.log(defualt_models,lime_data)\n    var circ_data=[]\n    defualt_models.map(model=>{\n      lime_data[model].map(item=>{\n        if(item['1-qid']==selected_year&& selected_instances.includes(parseInt(item['two_realRank']))){circ_data.push(item)}\n      })\n    })\n    \n    //d3.select(this).selectAll('text').data([0]).join('text').text(\"hello\").attr('y',15)\n    console.log(feature_contrib_name)\n  })\n  //console.log(sorted_features, lime_data,selected_year,defualt_models,selected_instances)\n}\n","import * as d3 from 'd3';\nimport * as $ from 'jquery';\n//--------\nexport function sparklineGen(className, sparkline_data, key, state, year, appHandleChange, className2, sparkline_color, path_id) {\n  var config = { labelKeyOffset: 55, radius: 3, sparkline_height: 20 }\n  var s_margin = { top: 0, right: 0, bottom: 0, left: 4 },\n    s_width = config.labelKeyOffset / 2 - 5,\n    s_height = config.sparkline_height - 2;\n  var s_svg = d3.select(\".\"+className)\n    .attr(\"width\", s_width + s_margin.left + s_margin.right)\n    .attr(\"height\", s_height + s_margin.top + s_margin.bottom)\n  var data = sparkline_data[key]\n  // Add X axis  \n  var x = d3.scaleLinear()\n    .domain(d3.extent(data, function (d) { return d.year; }))\n    .range([0, s_width]);\n  //-----------------------------------------------------------------------------------------------------------------------------------------Add the area\n  s_svg.select(\"path\")\n    .datum(data, d => d)\n    .attr(\"id\", \"A\"+path_id)\n    .attr(\"opacity\",1)\n    .attr(\"fill\", sparkline_color) //#969696\n    .attr(\"stroke\", sparkline_color)\n    .attr(\"stroke-width\", (d) => {\n      return 1.5\n    })\n    .attr(\"d\", d3.area()\n      .x(function (d) { return x(d.year) })\n      .y0(function () {\n        var y = d3.scaleLinear().domain([0, d3.max(data, function (d) { return +d.rank; })]).range([s_height, 0]);\n        return y(0)\n      })\n      .y1(function (d) {\n        var y = d3.scaleLinear().domain([0, d3.max(data, function (d) { return +d.rank; })]).range([0, s_height]);\n        return y(d.rank)\n      })\n    )\n  //------------Circles\n  s_svg.selectAll('circle').data(data).join('circle')\n    .attr('cx', function (d, i) { return x(d.year) })\n    .attr('cy', s_height - 2)\n    .attr(\"class\", \"myid\" + className2)\n    .on(\"mouseover\", function (d) {\n      d3.select(this).style('fill', 'black')\n      d3.select(this).attr('r', 3)\n    })\n    .style('fill', (d) => d.year != year ? 'transparent' : 'black')\n    .attr('class', (d) => d.year != year ? 'transparent_class' : 'red_class')\n    .attr('r', 2)\n    .on('dblclick', (d, i) => {\n      d3.event.preventDefault();\n      appHandleChange(d.year, \"year_changed\")\n    })\n    .on(\"mouseout\", function (d) {\n      d3.select(this).style('fill', 'transparent')\n      var divid=\"#div\"+className\n      d3.selectAll(divid).remove()\n    })\n    .on('click', (d) => {\n      d3.select(\"body\").append(\"div\")\n        .attr(\"id\", \"div\"+className)\n        .attr(\"class\", \"tooltip\")\n        .style(\"opacity\", 0)\n        .html(\"<p>\" + \"Year: \" + d.year + \"</p>\" + \"<p>\" + \"Rank: \" + d.rank + \"</p>\")\n        .style(\"left\", ((d) => {\n          var left_div_width = $('.Sidebar_parent').width()\n          return left_div_width - 125 + \"px\"\n        }))\n        .style(\"top\", (d3.event.pageY - 40) + \"px\")\n        .transition()\n        .duration(200)\n        .style(\"opacity\", .97);\n    })\n\n}","import * as d3 from 'd3';\nimport * as $ from 'jquery';\n//--------\nexport function sparklineGen(className, sparkline_data, key, model_name, original_data, state, year, appHandleChange, className2, sparkline_color, path_id) {\n  var temp_data = []\n  original_data.forEach(element => {\n    if (element['State'] == state && element[model_name]) {\n      temp_data.push({ year: parseInt(element['1-qid']), rank: parseInt(element[model_name]) })\n    }\n  });\n  var config = { labelKeyOffset: 55, radius: 3, sparkline_height: 20 }\n  var s_margin = { top: 0, right: 0, bottom: 0, left: 5 },\n    s_width = config.labelKeyOffset / 2,\n    s_height = config.sparkline_height - 2;\n  var s_svg = d3.selectAll(\".\"+className)\n  //var s_svg = d3.selectAll(\".\"+className).data([className],d=>d).join(\"svg\").attr(\"class\",className)\n    .attr(\"width\", s_width + s_margin.left + s_margin.right)\n    .attr(\"height\", s_height + s_margin.top + s_margin.bottom)\n  var data = temp_data\n  // Add X axis  \n  var x = d3.scaleLinear()\n    .domain(d3.extent(data, function (d) { return d.year; }))\n    .range([0, s_width]);\n  //---Add the area\n  s_svg.select(\"path\")\n    .datum(data, d => d)\n    .attr(\"id\", \"A\"+path_id)\n    .attr(\"fill\", sparkline_color) //#969696\n    .attr(\"stroke\", sparkline_color)\n    .attr(\"stroke-width\", (d) => {\n      return 1.5\n    })\n    .attr(\"d\", d3.area()\n      .x(function (d) { return x(d.year) })\n      .y0(function () {\n        var y = d3.scaleLinear().domain([0, d3.max(data, function (d) { return +d.rank; })]).range([s_height, 0]);\n        return y(0)\n      })\n      .y1(function (d) {\n        var y = d3.scaleLinear().domain([0, d3.max(data, function (d) { return +d.rank; })]).range([0, s_height]);\n        return y(d.rank)\n      })\n    )\n\n  var div = d3.select(\"body\").append(\"div\")\n    .attr(\"class\", \"tooltip\")\n    .style(\"opacity\", 0);\n  //------------Circles\n  s_svg.selectAll('circle').data(data).enter().append('circle')\n    .attr('cx', function (d, i) { return x(d.year) })\n    .attr('cy', s_height - 2)\n    .attr(\"class\", \"myid\" + className2)\n    .on(\"mouseover\", function (d) {\n      d3.select(this).style('fill', 'black')\n      d3.select(this).attr('r', 2)\n    })\n    .on(\"mouseout\", function (d) {\n      d3.select(this).style('fill', 'transparent')\n      var divid=\"#div\"+className\n      d3.selectAll(divid).remove()\n    })\n    .style('fill', (d) => d.year != year ? 'transparent' : 'black')\n    .attr('class', (d) => d.year != year ? 'transparent_class' : 'red_class')\n    .attr('r', 2)\n    .on('dblclick', (d, i) => {\n      d3.event.preventDefault();\n      appHandleChange(d.year, \"year_changed\")\n    })\n    .on('click', (d) => {\n      d3.select(\"body\").append(\"div\")\n        .attr(\"id\", \"div\"+className)\n        .attr(\"class\", \"tooltip\")\n        .style(\"opacity\", 0)\n        .html(\"<p>\" + \"Year: \" + d.year + \"</p>\" + \"<p>\" + \"Rank: \" + d.rank + \"</p>\")\n        .style(\"left\", ((d) => {\n          var left_div_width = $('.Sidebar_parent').width()\n          return left_div_width - 125 + \"px\"\n        }))\n        .style(\"top\", (d3.event.pageY - 40) + \"px\")\n        .transition()\n        .duration(200)\n        .style(\"opacity\", .97);\n    })\n}","import React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport * as $ from 'jquery';\nimport './Chart.css';\nimport * as algo1 from \"../../../Algorithms/algo1\";\nimport { connect } from \"react-redux\";\nclass Chart extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { \"sorted_features_dragged\": null }\n  }\n  componentDidMount() {\n    this.setState({ \"sorted_features\": null })\n  }\n  componentDidUpdate() {\n    var self = this\n    var animation3 = this.props.config.animation3\n    var delay3 = this.props.config.animation1 + this.props.config.animation2\n    //------------------------------------------------------------------------------------------------------------------------------ Dynamic feature calcuation starts here\n    var margin = {\n      top: 0, right: 20, bottom: 0, space_for_contribution_text: 40, space_for_feature_title: 0, right2: 5,\n      bottom2: 0, left2: 18, vertical_space_between_features: 4, horizontal_space_between_features: 4\n    }\n    // Subtract margin.space_for_contribution_text from the parent width and use the rest for dynamic width calculation\n    var parent_width = $('#' + \"root_container\" + this.props.model_name2.replace(/\\s/g, '').replace(/[`~!@#$%^&*()_|+\\-=?;:'\",.<>\\{\\}\\[\\]\\\\\\/]/gi, '')).width() - (margin.space_for_contribution_text * 2),\n      parent_height = $('#' + \"root_container\" + this.props.model_name2.replace(/\\s/g, '').replace(/[`~!@#$%^&*()_|+\\-=?;:'\",.<>\\{\\}\\[\\]\\\\\\/]/gi, '')).height()\n    var feature_width_temp = 70, feature_height_temp = 150; // Use them as the base to estimate the actual feature width and height. Change here to accomodate more features\n    var horizontal_capacity = Math.floor(parent_width / feature_width_temp)\n    var vertical_capacity = Math.floor(parent_height / feature_height_temp)\n\n    var feature_width = (parent_width / horizontal_capacity),\n      feature_height = (parent_height / vertical_capacity) - margin.top - margin.bottom\n\n    var total_capacity = horizontal_capacity * vertical_capacity\n    var number_of_features = total_capacity\n    //------------------\n    var sorted_features = algo1.sorted_features(this.props.dataset, this.props.model_name, d3.range(this.props.state_range[0], this.props.state_range[1]), this.props.selected_year, this.props.rank_data)\n    if (Object.keys(this.props.drag_drop_feautre_data).length > 0) {\n      Object.keys(this.props.drag_drop_feautre_data).map(feature_name => {\n        var diff = this.props.drag_drop_feautre_data[feature_name]\n        var origin_ind = sorted_features.indexOf(feature_name)\n        sorted_features = sorted_features.filter(item => item != feature_name)\n        var dest_index = origin_ind + diff\n        sorted_features.splice(dest_index, 0, feature_name)\n      })\n    }\n    //------------------\n    if (sorted_features.length < total_capacity) {\n      vertical_capacity = Math.ceil(sorted_features.length / horizontal_capacity)\n      number_of_features = sorted_features.length\n    }\n    var top_features = sorted_features.slice(0, number_of_features).map(item => [item.replace(/\\s/g, '').replace(/[`~!@#$%^&*()_|+\\-=?;:'\",.<>\\{\\}\\[\\]\\\\\\/]/gi, ''), item])\n\n    //------------------------------------------------------------------------------------------------------------------------------Dynamic feature calcuation ends here  \n\n\n    //----------------------------------------------------------------------- Select the container identified by the model name. This container is under the root container and will contain all the features\n    var feature_container = d3.selectAll(\"#feature_container\" + this.props.model_name2.replace(/\\s/g, '').replace(/[`~!@#$%^&*()_|+\\-=?;:'\",.<>\\{\\}\\[\\]\\\\\\/]/gi, ''))\n      .attr(\"width\", parent_width).attr(\"height\", parent_height).attr('x', margin.space_for_contribution_text) // subtract the contribution text space and then\n\n    //----------------------------------------------------------------------- Select all svgs to append individual features and set their x and y value\n    feature_container.selectAll('.svg1').data(top_features, d => d[0])\n      .join(\n        enter => enter.append(\"svg\").attr('class', d => d[0] + \" svg1\")\n          .attr(\"x\", (d, i) => (i % horizontal_capacity) * feature_width) // subtract horizontal_space_between_features and vertical_space_between_features from each features but keep the x and y values as feature width and height to make space\n          .attr('y', (d, i) => parseInt(i / horizontal_capacity) * feature_height)\n          .attr(\"myindex\", (d, i) => i)\n        ,\n        update => update.transition().duration(animation3).delay(delay3).attr('class', d => d[0] + \" svg1\")\n          .attr(\"x\", (d, i) => (i % horizontal_capacity) * feature_width) // subtract horizontal_space_between_features and vertical_space_between_features from each features but keep the x and y values as feature width and height to make space. change x position of each feature container to move right\n          .attr('y', (d, i) => parseInt(i / horizontal_capacity) * feature_height)\n          .attr(\"myindex\", (d, i) => i)\n      )\n      .attr(\"feature_name\", d => d[1])\n      .call(d3.drag()\n        .on(\"start\", dragstarted)\n        .on(\"drag\", dragged)\n        .on(\"end\", dragended))\n    //--------------------------------------------------------------------------\n    var deltaX, deltaY, is_dragging;\n    function dragstarted(d) {\n      deltaX = d3.select(this).attr(\"x\") - d3.event.x;\n      deltaY = d3.select(this).attr(\"y\") - d3.event.y;\n    }\n    function dragged(d) {\n      is_dragging = true\n      d3.select(this).raise();\n      d3.select(this).attr(\"x\", d3.event.x + deltaX).attr(\"y\", d3.event.y + deltaY);\n    }\n    function dragended(d, e) {\n      if (is_dragging) {\n        var origin_index = parseInt(d3.select(this).attr(\"myindex\")); d3.select(this).lower(); d3.select(this).select('rect').classed(\"exp_chart_clicked\", true);\n        var dest_index = parseInt(d3.select(document.elementFromPoint(d3.event.sourceEvent.clientX, d3.event.sourceEvent.clientY)).attr(\"myindex\")), feature_name = d3.select(this).attr(\"feature_name\"); d3.select(this).raise();\n        self.props.set_config({ ...self.props.config, animation1: 0, animation2: 0 }) // Change config\n\n        //-------------------------------------------------------------------------------------------------------------Set drag_drop_feautre_data starts here\n        var diff = dest_index - origin_index\n        if (isNaN(dest_index)) {\n          alert(\"Please drop again\")\n        }\n        else {\n          var temp = { ...self.props.drag_drop_feautre_data }\n          if (feature_name in self.props.drag_drop_feautre_data) {\n            diff = diff + self.props.drag_drop_feautre_data[feature_name]\n          }\n          temp[feature_name] = diff\n          self.props.set_drag_drop_feautre_data(temp)\n        }\n        //-------------------------------------------------------------------------------------------------------------Set drag_drop_feautre_data ends here\n        self.props.set_config({ ...self.props.config, animation1: 4000, animation2: 2000 }) // Change config back\n        if (!self.props.clicked_features.includes(feature_name)) { self.props.set_clicked_features([...self.props.clicked_features, feature_name]) } // Set clicked features for highlight\n      }\n      else { // This is to handle only the click\n        if (self.props.clicked_features.includes(feature_name)) { self.props.set_clicked_features(self.props.clicked_features.filter(item => item != feature_name)) }\n        else {\n          if (feature_name != undefined) { self.props.set_clicked_features([...self.props.clicked_features, feature_name]) }\n        }\n      }\n    }\n\n    //--------------------------------------------------------------------------\n    // use the following to aviod transition issue during on('click)\n    feature_container.selectAll('.svg1').data(top_features, d => d[0]).join(\"svg\").attr('class', d => \"feat\" + d[0] + \" svg1\")\n      .attr(\"a\", (d, i) => { // subtract horizontal_space_between_features and vertical_space_between_features from each features but keep the x and y values as feature width and height to make space\n        this.CreateChart(\"feat\" + d[0], d[1], feature_width - margin.horizontal_space_between_features, feature_height - margin.vertical_space_between_features, margin, self, i) // call the createChart and pass the d[0] as the className to combine the modelname with it to access each feature container. subtract 5 from the width to make space on the right of each feature\n        return i\n      })\n\n    //----------------------------------------------------------------------- Contribution text containers starts here\n    d3.select('#' + \"root_container\" + this.props.model_name2.replace(/\\s/g, '').replace(/[`~!@#$%^&*()_|+\\-=?;:'\",.<>\\{\\}\\[\\]\\\\\\/]/gi, ''))\n      .selectAll('.contribution_container').data(d3.range(vertical_capacity).concat(d3.range(vertical_capacity))).join('svg').attr('class', \"contribution_container\").attr('width', margin.space_for_contribution_text)\n      .attr('height', feature_height - margin.vertical_space_between_features)\n      .attr('y', (d, i) => {\n        return (feature_height * Math.floor(i / 2))\n      })\n      .attr('add_rect', function () {\n        d3.select(this).selectAll('rect').data([0]).join('rect').attr('width', margin.space_for_contribution_text).attr('height', feature_height - margin.space_for_feature_title).attr('fill', '#ededed')\n      })\n      .attr('x', (d, i) => i % 2 == 0 ? 0 : margin.space_for_contribution_text + parent_width - margin.horizontal_space_between_features)\n      .attr(\"add_text\", function (d, i) { //Contribution text starts here\n        d3.select(this).selectAll(\"text\").data([[8, '++ ve'], [2.6, \"+ ve\"], [1.977, '0'], [1.6, \"- ve\"], [1.15, \"-- ve\"]]).join('text')\n          .attr(\"x\", i % 2 == 0 ? margin.space_for_contribution_text - 5 : 5)\n          .attr(\"y\", (d, i) => (feature_height / d[0]) + 1)\n          .text(d => d[1])\n          .attr(\"font-size\", 13)\n          .attr('text-anchor', i % 2 == 0 ? 'end' : 'start')\n      })\n      .attr('add_horizontal_lines', function () { //horizontal lines starts here\n        d3.select(this).selectAll(\"line\").data([3.9, 1.31]).join('line')\n          .attr(\"x1\", 4)\n          .attr(\"x2\", margin.space_for_contribution_text)\n          .attr(\"y1\", d => (feature_height / d) - 2)\n          .attr(\"y2\", d => (feature_height / d) - 2)\n          .style(\"stroke\", \"#a5a5a5\")\n      })\n\n      .attr('add_0horizontal_line', function (d, i) { //horizontal lines starts here\n        d3.select(this).selectAll(\".line0\").data([0]).join('line').attr('class', \"line0\")\n          .attr(\"x1\", i % 2 == 0 ? 4 : 15)\n          .attr(\"x2\", i % 2 == 0 ? margin.space_for_contribution_text - 15 : margin.space_for_contribution_text)\n          .attr(\"y1\", d => (feature_height / 2) - 2)\n          .attr(\"y2\", d => (feature_height / 2) - 2)\n          .style(\"stroke\", \"#a5a5a5\")\n      })\n\n  }\n\n  //-------------------------------------------------------------------------------------------------------------------------------------CreateChart function\n  CreateChart = (feature_className, feature, width, feature_height, margin, self, myindex) => {\n    //console.log(myindex)\n    var animation4 = this.props.config.animation4\n    var delay4 = this.props.config.animation1 + this.props.config.animation2 + this.props.config.animation3\n    /*\n    svg1 is for to contain the feature tittle and svg2. svg2 contains the dots\n    */\n    var width = width - margin.left2 - margin.right2, // width for individual features \n      height = feature_height - margin.space_for_feature_title - margin.bottom2; // height for individual features\n    var year = self.props.selected_year;\n    var number_of_filters_start = self.props.state_range[0];\n    var number_of_filters_end = self.props.state_range[1];\n    var histogram_data = self.props.histogram_data;\n    var selected_range = [];\n    var data = null\n    // Data for the chart\n    if (histogram_data.length > 0) { data = self.props.lime_data[self.props.model_name].filter(element => { if ((parseInt(element['1-qid']) == parseInt(year)) && (histogram_data.includes(parseInt(element['two_realRank'])))) { return element } }); }\n    else { data = self.props.lime_data[self.props.model_name].filter(element => { if ((parseInt(element['1-qid']) == parseInt(year)) && (parseInt(element['two_realRank']) >= parseInt(number_of_filters_start) && (parseInt(element['two_realRank']) <= parseInt(number_of_filters_end)))) { return element } }); }\n\n    selected_range = data.map(function (d) { return parseInt(d.two_realRank) });\n    selected_range.sort(function (a, b) { return a - b });\n    //----------------------------------------------------------------------------------------------------------------------------------SVG1 for svg2\n    var svg1 = d3.select(\"#feature_container\" + self.props.model_name2.replace(/\\s/g, '').replace(/[`~!@#$%^&*()_|+\\-=?;:'\",.<>\\{\\}\\[\\]\\\\\\/]/gi, '')).select(\".\" + feature_className) // select the model and then select the feature container from that\n      .attr(\"width\", width + margin.left2 + margin.right2).attr(\"height\", height + margin.space_for_feature_title + margin.bottom2).attr('class', 'svg1')\n\n    svg1.selectAll('rect').data([0]).join('rect').attr(\"width\", width + margin.left2 + margin.right2).attr(\"height\", height + margin.bottom2).attr(\"y\", margin.space_for_feature_title)\n      .attr('fill', '#f7f7f7')\n      .attr('class', d => {\n        //if (self.props.clicked_features.includes(feature) || self.props.dbclicked_features.includes(feature)) {\n        if (self.props.clicked_features.includes(feature)) {\n          return \"exp_chart_clicked rect\" + feature_className\n        }\n        else {\n          return \"rect\" + feature_className\n        }\n      })\n      .attr(\"myindex\", myindex)\n      .on('click', function (event, d) {\n        if (event.defaultPrevented) return;\n        var temp = [...self.props.clicked_features]\n        if (d3.selectAll(\".rect\" + feature_className).classed(\"exp_chart_clicked\") == true) {\n          temp = self.props.clicked_features.filter(item => item != feature)\n          d3.selectAll(\".rect\" + feature_className).classed(\"exp_chart_clicked\", false)\n        }\n        else {\n          temp.push(feature)\n          d3.selectAll(\".rect\" + feature_className).classed(\"exp_chart_clicked\", true)\n        }\n        self.props.set_clicked_features(temp)\n      })\n      .on('dblclick', (d) => {\n        d3.event.preventDefault()\n        var temp = [...self.props.dbclicked_features]\n          if (!temp.includes(feature)) {\n            temp.unshift(feature)\n            d3.selectAll(\".rect\" + feature_className).classed(\"exp_chart_clicked\", true)\n        }\n        self.props.set_dbclicked_features(temp)\n        //----------------------------Data for popup chart\n        var popup_chart_data = {}\n        self.props.defualt_models.filter(item=>item!=\"ListNet\").map(model_name => {\n          //if(model_name==\"ListNet\"){return}\n          if (histogram_data.length > 0) {\n            data = self.props.lime_data[model_name].filter(element => { if ((parseInt(element['1-qid']) == parseInt(year)) && (histogram_data.includes(parseInt(element['two_realRank'])))) { return element } });\n          }\n          else { data = self.props.lime_data[model_name].filter(element => { if ((parseInt(element['1-qid']) == parseInt(year)) && (parseInt(element['two_realRank']) >= parseInt(number_of_filters_start) && (parseInt(element['two_realRank']) <= parseInt(number_of_filters_end)))) { return element } }); }\n          popup_chart_data[model_name] = data\n        })\n        //self.props.Set_popup_chart_data([popup_chart_data,feature]) // This is to update the pop when the year or anything changes during the pop up is open\n        self.props.Set_popup_chart_data([popup_chart_data, feature])\n        self.props.set_pop_over(true)\n      })\n    //---------------------------------------------------------------------------------------------------------------------------------- SVG2 for title and circles\n    var svg2 = svg1.selectAll('.svg2').data([0]).join('svg').attr('class', 'svg2').attr(\"width\", width + margin.left2 + margin.right2).attr(\"height\", height + margin.space_for_feature_title + margin.bottom2)\n      .attr('x', margin.left2).attr('y', margin.space_for_feature_title)\n    svg1.selectAll(\"text\").data([feature]).join('text').attr('class', \"features\").attr('x', 10).attr('y', height / 2).text(d => d).attr(\"font-size\", 12).style(\"text-anchor\", \"middle\")\n      .style(\"writing-mode\", \"tb\")\n\n    svg2.selectAll(\"line\").data([4, 2, 1.3]).join('line')\n      .attr(\"x1\", 2)\n      .attr(\"x2\", width)\n      .attr(\"y1\", d => height / d)\n      .attr(\"y2\", d => height / d)\n      .style(\"stroke\", \"#a5a5a5\")\n\n    //----------------------------------------------------------------------------------------------------------------------------------Create scatterplot\n    var temp_x = data.map(item => parseFloat(item[feature]))\n    var x = d3.scaleLinear().domain([d3.min(temp_x), d3.max(temp_x)]).range([0, width]).nice();\n    var temp_y = data.map(item => parseFloat(item[feature + \"_contribution\"])) // d[1]\n    var y = d3.scaleLinear().domain([d3.min(temp_y), d3.max(temp_y)]).range([height, 0]).nice(); // circles will start from y position 10 and go upto height-10\n\n    if (data.length > 0) { // This is to avoid erro caused by the next line\n      if (isNaN(data[0][feature])) {\n        var temp_x = data.map(item => item[feature])\n        var x = d3.scaleOrdinal().domain(temp_x).range([0, width]); // overwrites the previous variable when condition is true\n      }\n    }\n    var circs = svg2.selectAll(\"circle\").data(data, d => d[feature + \"_contribution\"])\n    circs.join(\n      enter => enter.append(\"circle\")\n        .attr(\"cx\", (d, i) => {\n          if (x(d[feature]) < 10) {\n            return 10;\n          }\n          return x(d[feature])\n        })\n        .attr(\"cy\", (d, i) => {\n          if (y(parseFloat(d[feature + \"_contribution\"])) < 10) {\n            return 10;\n          }\n          else if (y(parseFloat(d[feature + \"_contribution\"])) > (height - 10)) {\n            return height - 10;\n          }\n          return y(parseFloat(d[feature + \"_contribution\"])) - 0\n        })\n        .attr(\"actual_Y_valu\", d => d[feature + \"_contribution\"])\n        .attr(\"r\", 4)\n        .attr('opacity', d => {\n          if ((self.props.clicked_items_in_slopechart.length > 0 && self.props.clicked_items_in_slopechart.includes(\"A\" + String(d['State']).replace(/ +/g, \"\"))) || self.props.clicked_items_in_slopechart.length == 0) {\n            return 1\n          }\n          else {\n            return self.props.config.reduced_opacity\n          }\n        })\n        .attr(\"fill\", (d) => self.props.color_gen(d['State']))\n        .attr(\"id\", d => \"A\" + String(d['State']).replace(/ +/g, \"\"))\n        .attr(\"class\", d => \"bar myid\" + String(d['two_realRank']) + \" exp_circles\")\n        .attr(\"myindex\", myindex)\n        .on(\"click\", d => self.props.textClickHandler_original(\"A\" + d[\"State\"]))\n      ,\n      update =>\n        update\n          .attr(\"cx\", (d, i) => {\n            if (x(d[feature]) < 10) {\n              return 10;\n            }\n            return x(d[feature]) - 5\n          })\n          .attr('opacity', d => {\n            if ((self.props.clicked_items_in_slopechart.length > 0 && self.props.clicked_items_in_slopechart.includes(\"A\" + String(d['State']).replace(/ +/g, \"\"))) || self.props.clicked_items_in_slopechart.length == 0) {\n              return 1\n            }\n            else {\n              return self.props.config.reduced_opacity\n            }\n          })\n          .on(\"click\", function (d) {\n            self.props.textClickHandler_original(\"A\" + d[\"State\"])\n          })\n          .transition()\n          .duration(animation4)\n          .delay(delay4)\n          .attr(\"cy\", (d, i) => {\n            if (y(parseFloat(d[feature + \"_contribution\"])) < 10) {\n              return 10;\n            }\n            else if (y(parseFloat(d[feature + \"_contribution\"])) > (height - 10)) {\n              return height - 10;\n            }\n            return y(parseFloat(d[feature + \"_contribution\"])) - 0\n          })\n          .attr(\"actual_Y_valu\", d => d[feature + \"_contribution\"])\n          .attr(\"r\", 4)\n          .attr(\"fill\", (d) => self.props.color_gen(d['State']))\n          .attr(\"id\", d => \"A\" + String(d['State']).replace(/ +/g, \"\"))\n          .attr(\"myindex\", myindex)\n          .attr(\"class\", function (d) {\n            return \"bar myid\" + String(d['two_realRank']) + \" exp_circles\"\n          })\n\n    );\n    // Define the div for the tooltip\n    var div = d3.select(\"body\").append(\"div\")\n      .attr(\"class\", \"tooltip2\")\n      .style(\"opacity\", 0);\n    d3.selectAll('.exp_circles')\n      .on(\"mouseover\", function (d) {\n        div.transition()\n          .duration(200)\n          .style(\"opacity\", .9);\n        //div.html(\"<p>\" + d['State'] + \"</p>\" + \"<p>\" + \"Rank: \" + d['two_realRank'] + \"</p>\")\n        div.html(d['State'])\n          .style(\"left\", (d3.event.pageX) + \"px\")\n          .style(\"top\", (d3.event.pageY - 28) + \"px\");\n      })\n      .on(\"mouseout\", function (d) {\n        d3.selectAll('.tooltip2').transition()\n          .duration(500)\n          .style(\"opacity\", 0);\n      })\n  }\n\n  render() {\n    return (\n      <svg id={\"root_container\" + this.props.model_name2.replace(/\\s/g, '').replace(/[`~!@#$%^&*()_|+\\-=?;:'\",.<>\\{\\}\\[\\]\\\\\\/]/gi, '')} style={{ width: \"100%\", height: \"100%\" }}>\n        <svg id={\"feature_container\" + this.props.model_name2.replace(/\\s/g, '').replace(/[`~!@#$%^&*()_|+\\-=?;:'\",.<>\\{\\}\\[\\]\\\\\\/]/gi, '')}> </svg>\n      </svg>\n    );\n  }\n}\nconst maptstateToprop = (state) => {\n  return {\n    clicked_items_in_slopechart: state.clicked_items_in_slopechart,\n    original_data: state.original_data,\n    chart_scale_type: state.chart_scale_type,\n    features_with_score: state.features_with_score,\n    dataset: state.dataset,\n    histogram_data: state.histogram_data,\n    deviate_by: state.deviate_by,\n    prev_prop: state.prev_prop,\n    clicked_features: state.clicked_features,\n    config: state.config,\n    rank_data: state.rank_data,\n    lime_data: state.lime_data,\n    defualt_models: state.defualt_models,\n    drag_drop_feautre_data: state.drag_drop_feautre_data,\n    dbclicked_features: state.dbclicked_features,\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_defualt_models: (val) => dispatch({ type: \"defualt_models\", value: val }),\n    Set_clicked_items_in_slopechart: (val) => dispatch({ type: \"clicked_items_in_slopechart\", value: val }),\n    Set_popup_chart_data: (val) => dispatch({ type: \"popup_chart_data\", value: val }),\n    set_pop_over: (val) => dispatch({ type: \"pop_over\", value: val }),\n    set_clicked_features: (val) => dispatch({ type: \"clicked_features\", value: val }),\n    set_config: (val) => dispatch({ type: \"config\", value: val }),\n    set_drag_drop_feautre_data: (val) => dispatch({ type: \"drag_drop_feautre_data\", value: val }),\n    set_dbclicked_features: (val) => dispatch({ type: \"dbclicked_features\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Chart);\n\n//https://stackoverflow.com/questions/51304266/how-to-get-target-element-in-drag-n-drop-d3-v4","import React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport { connect } from \"react-redux\";\n//import {get_feature_voting} from \"../Algorithms/exp_algo\";\n\nclass Chart extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { \"a\": 10 }\n  }\n  componentDidMount() {\n    this.setState({ a: 5 })\n  }\n  componentDidUpdate() {\n    var temp_dict = {}\n    this.props.defualt_models.filter(item => item != \"ListNet\").map(model => {\n      temp_dict[model] = this.props.popup_chart_data[0][model]\n    })\n    var merged_arr = [].concat.apply([], Object.values(temp_dict))\n    var scatterplot_data = Object.entries(this.props.popup_chart_data[0]).filter(item => this.props.pop_over_models.includes(item[0]))\n\n    //console.log(this.props.popup_chart_data[0],this.props.pop_over_models)\n    //----------------------------------------------------------------------------------------------------------Call createChart\n    if (merged_arr.length > 0) { // This is to avoid the error caused by the next line\n      if (isNaN(merged_arr[0][this.props.popup_chart_data[1]])) {\n        this.CreateChart_cat(merged_arr, this.props.popup_chart_data[1], scatterplot_data)\n      }\n      else {\n        //this.CreateChart_cat(merged_arr, this.props.popup_chart_data[1], scatterplot_data)\n        this.CreateChart(merged_arr, this.props.popup_chart_data[1], scatterplot_data)\n      }\n    }\n    else {\n      this.CreateChart(merged_arr, this.props.popup_chart_data[1], scatterplot_data) // calling the function to set the  graph empty when all models are unselected\n    }\n    //----------------------------------------------------------------------------------------------------------Set and unset Opacity\n    if (this.props.clicked_items_in_slopechart.length > 0) {\n      d3.selectAll('circle,.datapoint').attr('opacity', this.props.config.reduced_opacity)\n    }\n    this.props.clicked_items_in_slopechart.map(idName => d3.selectAll('#' + idName).attr('opacity', 1))\n    //----------------------------------------------------------------------------------------------------------\n  }\n  CreateChart = (data, feature, scatterplot_data) => {\n    console.log(scatterplot_data)\n    var self = this,\n      feature_contribute = feature + \"_contribution\"\n    // set the dimensions and margins of the graph\n    var margin = { top: 0, right: 30, bottom: 45, left: 50, space_for_hist: 50 },\n      width = 520 - margin.left - margin.right,\n      height = 250 - margin.top - margin.bottom;\n    var temp_x = data.map(item => parseFloat(item[feature])),\n      temp_y = data.map(item => parseFloat(item[feature_contribute]))\n    var x = d3.scaleLinear().domain([d3.min(temp_x), d3.max(temp_x)]).range([0, width]).nice(),\n      y = d3.scaleLinear().domain([d3.min(temp_y), d3.max(temp_y)]).range([height, 0]).nice(); // circles will start from y position 10 and go upto height-10\n\n    //-------------------------------------------------------------All svgs\n    var parent_svg = d3.select(\"#\" + self.props.myid).attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom + margin.space_for_hist),\n      svg1 = parent_svg.selectAll('.svg11').data([0]).join('svg').attr(\"y\", margin.space_for_hist).attr(\"class\", \"svg11\").selectAll(\".myg\").data([0]).join('g').attr(\"class\", \"myg\").attr(\"transform\",\n        \"translate(\" + margin.left + \",\" + margin.top + \")\")\n\n    //------------------------------------------------------------------------------------------------------ Create Histogram starts here\n    var hist_height = margin.space_for_hist,\n      histogram = d3.histogram()\n        .value(d => d)   // I need to give the vector of value\n        .domain(x.domain())  // then the domain of the graphic\n    //.thresholds(x.ticks(5)); // then the numbers of bins\n    var bins = histogram(temp_x),\n      y_hist = d3.scaleLinear()\n        .range([hist_height, 0]);\n\n    y_hist.domain([0, d3.max(bins, function (d) { return d.length; })]);   // d3.hist has to be called before the Y axis obviously\n    var svg0 = parent_svg.selectAll('.svg0').data([0]).join('svg').attr(\"class\", \"svg0\").selectAll(\".myg0\").data([0]).join('g').attr(\"class\", \"myg0\").attr(\"transform\",\n      \"translate(\" + margin.left + \",\" + margin.top + \")\")\n    // Add line on the bottom of the histogram\n    svg0.selectAll(\".myline\").data([0]).join('line').attr(\"class\", \"myline\").attr(\"x1\", 0).attr(\"y1\", margin.space_for_hist).attr(\"x2\", width).attr(\"y2\", margin.space_for_hist).attr(\"stroke\", \"#EBEBEB\");\n    svg0.selectAll(\"rect\").data(bins).join('rect')\n      .attr(\"x\", 1)\n      .attr(\"fill\", \"#b7b7b7\")\n      .attr(\"transform\", function (d) {\n        if (d.x0 == d.x1) { return \"translate(\" + 0 + \",\" + y_hist(d.length) + \")\" }\n        return \"translate(\" + x(d.x0) + \",\" + y_hist(d.length) + \")\";\n      })\n      .attr(\"width\", function (d) {\n        if (d.x0 == d.x1) { return width }\n        return x(d.x1) - x(d.x0) - 0.2;\n      })\n      .attr(\"height\", function (d) { return hist_height - y_hist(d.length); });\n    //------------------------------------------------------------------------------------------------------ Create Histogram ends here\n\n    var svg1 = parent_svg.selectAll('.svg11').data([0]).join('svg').attr(\"class\", \"svg11\").selectAll(\".myg\").data([0]).join('g').attr(\"class\", \"myg\").attr(\"transform\",\n      \"translate(\" + margin.left + \",\" + margin.top + \")\")\n    svg1.selectAll(\".myline2\").data([0]).join('line').attr(\"class\", \"myline2\").attr(\"x1\", 0).attr(\"y1\", 0).attr(\"x2\", 0).attr(\"y2\", height).attr(\"stroke\", \"#EBEBEB\");\n    //svg1.selectAll(\".myline3\").data([0]).join('line').attr(\"class\",\"myline3\").attr(\"x1\", 0).attr(\"y1\", height).attr(\"x2\", width).attr(\"y2\", height).attr(\"stroke\", \"#EBEBEB\");\n\n    //------------- Add Y axis\n    var y2 = d3.scaleOrdinal().domain([\".\", \"0\", \"..\"]).range([height / 4, height / 2, (3 * height) / 4]); // circles will start from y position 10 and go upto height-10\n    svg1.selectAll(\".myYaxis\").data([0]).join('g').attr(\"class\", \"myYaxis\")\n      .call(d3.axisLeft(y2).tickSize(-width * 1.0).ticks(3).tickValues([\",\", \"0\", \"..\"]).tickFormat(d => d))\n      .select(\".domain\").remove()\n    svg1.selectAll(\".myYaxis\").selectAll('text').remove()\n\n    d3.selectAll('.svg11').selectAll('.myYtext').data([[\"++ ve\", height / 8], [\"+ ve\", (3 * height) / 8], [\"0\", height / 2], [\"- ve\", (5 * height) / 8], [\"-- ve\", (7 * height) / 8]]).join(\"text\").attr(\"class\", \"myYtext\")\n      .attr(\"x\", 45).attr(\"y\", (d, i) => d[1] + 4).text(d => d[0]).attr('font-size', 14).attr(\"text-anchor\", \"end\")\n    d3.selectAll('.svg11').attr('add_horizontal_lines', function () { //horizontal lines starts here\n      d3.select(this).selectAll(\".horiz_line\").data([3.85, 1.31]).join('line').attr('class', \"horiz_line\")\n        .attr(\"x1\", 11)\n        .attr(\"x2\", 50)\n        .attr(\"y1\", d => (height / d) - 2)\n        .attr(\"y2\", d => (height / d) - 2)\n        .style(\"stroke\", \"#EBEBEB\")\n    })\n\n    d3.selectAll('.svg11').selectAll(\".line0\").data([0]).join('line').attr('class', \"line0\")\n      .attr(\"x1\", 11)\n      .attr(\"x2\", 35)\n      .attr(\"y1\", d => (height / 2))\n      .attr(\"y2\", d => (height / 2))\n      .style(\"stroke\", \"#EBEBEB\")\n\n\n    //------------- Add X axis\n    if (d3.max(d3.max(bins)) > 1000) {\n      svg1.selectAll(\".myXaxis\").data([0]).join('g').attr(\"class\", \"myXaxis\")\n        .attr(\"transform\", \"translate(0,\" + height + \")\")\n        .call(d3.axisBottom(x).tickSize(-height * 1.3).tickValues(bins.map(item => item['x1'])).tickFormat(d3.format(\".2s\")))\n        .select(\".domain\").remove()\n    }\n    else {\n      svg1.selectAll(\".myXaxis\").data([0]).join('g').attr(\"class\", \"myXaxis\")\n        .attr(\"transform\", \"translate(0,\" + height + \")\")\n        .call(d3.axisBottom(x).tickSize(-height * 1.3).tickValues(bins.map(item => item['x1'])))\n        .select(\".domain\").remove()\n    }\n    svg1.selectAll(\".tick line\").attr(\"stroke\", \"#EBEBEB\")\n\n    //------------------------------------------------------------------------------------------------------ Scatterplot starts here\n    svg1.selectAll(\".scatterplot_g\").data(scatterplot_data).join('g').attr(\"id\", d => d[0] + \"scatterplot_g_id\").attr(\"class\", \"scatterplot_g\").attr(\"ax\", function (d) {\n      temp_x = d[1].map(item => parseFloat(item[feature]))\n      temp_y = d[1].map(item => parseFloat(item[feature_contribute]))\n\n      x = d3.scaleLinear().domain([d3.min(temp_x), d3.max(temp_x)]).range([0, width]).nice()\n      y = d3.scaleLinear().domain([d3.min(temp_y), d3.max(temp_y)]).range([height, 0]).nice();\n\n      d3.select(this).selectAll('circle').data(d[1])\n        .join(\"circle\")\n        .attr(\"cx\", (d, i) => {\n          if (x(parseFloat(d[feature])) < 10) {\n            return 10;\n          }\n          else if (x(parseFloat(d[feature])) > width - 10) {\n            return width - 10;\n          }\n          return x(d[feature]) + 2\n        })\n        .attr(\"cy\", (d, i) => {\n          if (y(parseFloat(d[feature_contribute])) < 10) {\n            return 10;\n          }\n          else if (y(parseFloat(d[feature_contribute])) > (height - 10)) {\n            return height - 10;\n          }\n          return y(parseFloat(d[feature_contribute])) - 0\n\n        })\n        .attr(\"actual_Y_valu\", d => d[feature_contribute])\n        .attr(\"r\", 4)\n        .attr(\"class\", \"random\")\n        .attr(\"fill\", (d) => self.props.color_gen(d['State']))\n        .attr(\"id\", d => \"A\" + String(d['State']).replace(/ +/g, \"\"))\n        .attr(\"class\", function (d) {\n          return \"bar myid\" + String(d['two_realRank']) + \" exp_circles\"\n        })\n        .attr('dataset_name',d[0])\n        .on(\"click\", d => {\n          self.props.textClickHandler_original(\"A\" + d[\"State\"])\n        })\n    })\n\n// Define the div for the tooltip\n    var div = d3.select(\"body\").append(\"div\")\n      .attr(\"class\", \"tooltip2\")\n      .style(\"opacity\", 0);\n    d3.selectAll('.exp_circles')\n      .on(\"mouseover\", function (d) {\n        div.transition()\n          .duration(200)\n          .style(\"opacity\", .9);\n        div.html(\"<p>\" + d['State'] + \"</p>\" + \"<p>\" + \"Model: \" + d3.select(this).attr('dataset_name') + \"</p>\")\n        //div.html(d['State'])\n          .style(\"left\", (d3.event.pageX) + \"px\")\n          .style(\"top\", (d3.event.pageY - 28) + \"px\");\n      })\n      .on(\"mouseout\", function (d) {\n        d3.selectAll('.tooltip2').transition()\n          .duration(500)\n          .style(\"opacity\", 0);\n      })\n\n    //------------------------------------------------------------------------------------------------------ Scatterplot ends here\n\n  }\n  CreateChart_cat = (data, feature, scatterplot_data) => {\n    var self = this,\n      feature_contribute = feature + \"_contribution\"\n    var margin = { top: 0, right: 30, bottom: 75, left: 50, space_for_hist: 50 }, width = 520 - margin.left - margin.right, height = 270 - margin.top - margin.bottom;\n    var barplot_data = {}\n    data.map(item => { if (barplot_data[item[feature]] > 0) { barplot_data[item[feature]] += 1 } else { barplot_data[item[feature]] = 1 } })\n\n    var temp_x = Object.keys(barplot_data),\n      temp_y = Object.values(barplot_data),\n      y = d3.scaleLinear().domain([d3.min(temp_y), d3.max(temp_y)]).range([height, 0]).nice(); // circles will start from y position 10 and go upto height-10\n\n    var x = d3.scaleBand().domain(temp_x).range([0, width]).padding(0.1);\n\n    // add the x Axis\n    //svg.append(\"g\").attr(\"transform\", \"translate(0,\" + height + \")\").call(d3.axisBottom(x));\n\n\n    //-------------------------------------------------------------All svgs\n    var parent_svg = d3.select(\"#\" + self.props.myid).attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom + margin.space_for_hist),\n      svg1 = parent_svg.selectAll('.svg11').data([0]).join('svg').attr(\"y\", margin.space_for_hist).attr(\"class\", \"svg11\").selectAll(\".myg\").data([0]).join('g').attr(\"class\", \"myg\").attr(\"transform\",\n        \"translate(\" + margin.left + \",\" + margin.top + \")\")\n\n    //------------------------------------------------------------------------------------------------------ Create Histogram starts here\n    var hist_height = margin.space_for_hist\n    y = d3.scaleLinear().domain([0, d3.max(temp_y)]).range([hist_height, 0]).nice();\n    var svg0 = parent_svg.selectAll('.svg0').data([0]).join('svg').attr(\"class\", \"svg0\").selectAll(\".myg0\").data([0]).join('g').attr(\"class\", \"myg0\")\n      .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\")\n    // Add line on the bottom of the histogram\n    svg0.selectAll(\".myline\").data([0]).join('line').attr(\"class\", \"myline\").attr(\"x1\", 0).attr(\"y1\", margin.space_for_hist).attr(\"x2\", width).attr(\"y2\", margin.space_for_hist).attr(\"stroke\", \"#EBEBEB\");\n    svg0.selectAll(\"rect\").data(Object.entries(barplot_data)).join('rect')\n      .attr(\"x\", d => x(d[0]))\n      .attr(\"fill\", \"#b7b7b7\")\n      .attr(\"width\", x.bandwidth())\n      .attr(\"y\", d => y(d[1]))\n      .attr(\"height\", d => hist_height - y(d[1]));\n    //------------------------------------------------------------------------------------------------------ Create Histogram ends here\n\n    var svg1 = parent_svg.selectAll('.svg11').data([0]).join('svg').attr(\"class\", \"svg11\").selectAll(\".myg\").data([0]).join('g').attr(\"class\", \"myg\").attr(\"transform\",\n      \"translate(\" + margin.left + \",\" + margin.top + \")\")\n    svg1.selectAll(\".myline2\").data([0]).join('line').attr(\"class\", \"myline2\").attr(\"x1\", 0).attr(\"y1\", 0).attr(\"x2\", 0).attr(\"y2\", height).attr(\"stroke\", \"#EBEBEB\");\n    svg1.selectAll(\".myline3\").data([0]).join('line').attr(\"class\", \"myline3\").attr(\"x1\", 0).attr(\"y1\", height).attr(\"x2\", width).attr(\"y2\", height).attr(\"stroke\", \"#EBEBEB\");\n\n\n    //------------- Add Y axis\n    var y2 = d3.scaleOrdinal().domain([\".\", \"0\", \"..\"]).range([height / 4, height / 2, (3 * height) / 4]); // circles will start from y position 10 and go upto height-10\n    svg1.selectAll(\".myYaxis\").data([0]).join('g').attr(\"class\", \"myYaxis\")\n      .call(d3.axisLeft(y2).tickSize(-width * 1.0).ticks(3).tickValues([\",\", \"0\", \"..\"]).tickFormat(d => d))\n      .select(\".domain\").remove()\n    svg1.selectAll(\".myYaxis\").selectAll('text').remove()\n    d3.selectAll('.svg11').selectAll('.myYtext').data([[\"++ve\", height / 8], [\"+ve\", (3 * height) / 8], [\"0\", height / 2], [\"-ve\", (5 * height) / 8], [\"--ve\", (7 * height) / 8]]).join(\"text\").attr(\"class\", \"myYtext\")\n      .attr(\"x\", 45).attr(\"y\", (d, i) => d[1] + 4).text(d => d[0]).attr('font-size', 14).attr(\"text-anchor\", \"end\")\n    d3.selectAll('.svg11').attr('add_horizontal_lines', function () { //horizontal lines starts here\n      d3.select(this).selectAll(\".horiz_line\").data([3.85, 1.31]).join('line').attr('class', \"horiz_line\")\n        .attr(\"x1\", 11)\n        .attr(\"x2\", 50)\n        .attr(\"y1\", d => (height / d) - 2)\n        .attr(\"y2\", d => (height / d) - 2)\n        .style(\"stroke\", \"#EBEBEB\")\n    })\n\n    d3.selectAll('.svg11').selectAll(\".line0\").data([0]).join('line').attr('class', \"line0\")\n      .attr(\"x1\", 11)\n      .attr(\"x2\", 35)\n      .attr(\"y1\", d => (height / 2))\n      .attr(\"y2\", d => (height / 2))\n      .style(\"stroke\", \"#EBEBEB\")\n\n\n    //------------- Add X axis\n    svg1.selectAll(\".myXaxis\").data([0]).join('g').attr(\"class\", \"myXaxis\")\n      .attr(\"transform\", \"translate(0,\" + height + \")\")\n      .call(d3.axisBottom(x).tickSize(-height * 1.3)).selectAll(\"text\")\n      .style(\"text-anchor\", \"end\")\n      .attr(\"dx\", \"-.8em\")\n      .attr(\"dy\", \"0em\")\n      .attr(\"transform\", \"rotate(-90)\")\n      .selectAll(\".tick line\").remove()\n    svg1.selectAll(\".domain\").remove()\n    svg1.selectAll(\".tick line\").attr(\"stroke\", \"#EBEBEB\")\n    //------------------------------------------------------------------------------------------------------ Create Histogram ends here\n    //------------------------------------------------------------------------------------------------------ Scatterplot starts here\n    svg1.selectAll(\".scatterplot_g\").data(scatterplot_data).join('g').attr(\"id\", d => d[0] + \"scatterplot_g_id\").attr(\"class\", \"scatterplot_g\").attr(\"ax\", function (d) {\n      var temp_y = d[1].map(item => parseFloat(item[feature + \"_contribution\"])) // d[1] \n      y = d3.scaleLinear().domain([d3.min(temp_y), d3.max(temp_y)]).range([height, 0]).nice();\n\n      d3.select(this).selectAll('circle').data(d[1])\n        .join(\"circle\")\n        .attr(\"cx\", (d, i) => {\n          return x(d[feature]) + x.bandwidth() / 2\n        })\n        .attr(\"cy\", (d, i) => {\n          if (y(parseFloat(d[feature_contribute])) < 10) {\n            return 10;\n          }\n          else if (y(parseFloat(d[feature_contribute])) > (height - 10)) {\n            return height - 10;\n          }\n          return y(parseFloat(d[feature_contribute])) - 0\n\n        })\n        .attr(\"actual_Y_valu\", d => d[feature_contribute])\n        .attr(\"r\", 4)\n        .attr(\"class\", \"random\")\n        .attr(\"fill\", (d) => self.props.color_gen(d['State']))\n        .attr(\"id\", d => \"A\" + String(d['State']).replace(/ +/g, \"\"))\n        .attr(\"class\", function (d) {\n          return \"bar myid\" + String(d['two_realRank']) + \" exp_circles\"\n        })\n        .attr('dataset_name',d[0])\n        .on(\"click\", d => {\n          self.props.textClickHandler_original(\"A\" + d[\"State\"])\n        })\n    })\n\n// Define the div for the tooltip\nvar div = d3.select(\"body\").append(\"div\")\n.attr(\"class\", \"tooltip2\")\n.style(\"opacity\", 0);\nd3.selectAll('.exp_circles')\n.on(\"mouseover\", function (d) {\n  div.transition()\n    .duration(200)\n    .style(\"opacity\", .9);\n  div.html(\"<p>\" + d['State'] + \"</p>\" + \"<p>\" + \"Model: \" + d3.select(this).attr('dataset_name') + \"</p>\")\n  //div.html(d['State'])\n    .style(\"left\", (d3.event.pageX) + \"px\")\n    .style(\"top\", (d3.event.pageY - 28) + \"px\");\n})\n.on(\"mouseout\", function (d) {\n  d3.selectAll('.tooltip2').transition()\n    .duration(500)\n    .style(\"opacity\", 0);\n})\n\n    //------------------------------------------------------------------------------------------------------ Scatterplot ends here\n  }\n\n  render() {\n    return (\n      <div style={{ margin: 10, padding: 10, border: this.props.index == 0 ? \"3px solid #e5e5e5\" : \"white\" }}>\n        <svg id={this.props.myid}> </svg>\n        <p style={{ color: \"#4f4c4c\", marginLeft: \"42%\", marginTop: -25, marginBottom: 0 }}>{this.props.popup_chart_data[1]}</p>\n      </div>\n    );\n  }\n}\nconst maptstateToprop = (state) => {\n  return {\n    //popup_chart_data: state.popup_chart_data,\n    pop_over_models: state.pop_over_models,\n    clicked_items_in_slopechart: state.clicked_items_in_slopechart,\n    config: state.config,\n    mode: state.mode,\n    range_mode_model: state.range_mode_model,\n    time_mode_model: state.time_mode_model,\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_clicked_items_in_slopechart: (val) => dispatch({ type: \"clicked_items_in_slopechart\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Chart);","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Fade from '@material-ui/core/Fade';\nimport { connect } from \"react-redux\";\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nfunction FadeMenu(props) {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const open = Boolean(anchorEl);\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  //------------For list and chckbox\n  const [checked, setChecked] = React.useState([0]);\n  const handleToggle = (value) => () => {\n    const currentIndex = checked.indexOf(value);\n    const newChecked = [...checked];\n    if (currentIndex === -1) {\n      newChecked.push(value);\n    } else {\n      newChecked.splice(currentIndex, 1);\n    }\n    setChecked(newChecked);\n  };\n  //----------------\n  const checkboxChanged = (event) => {\n    let temp_Models=[...props.pop_over_models].filter(item=>item!=\"ListNet\")\n    if (temp_Models.includes(event.target.value)) {\n      temp_Models = props.pop_over_models.filter(item => item != event.target.value)\n      props.Set_pop_over_models(temp_Models)\n    }\n    else {\n      temp_Models.push(event.target.value)\n      props.Set_pop_over_models(temp_Models)\n    }\n  }\n  return (\n    <div>\n      <Button aria-controls=\"fade-menu\" aria-haspopup=\"true\" onClick={handleClick}>\n        Filter Models\n        <ArrowDropDownIcon></ArrowDropDownIcon>\n      </Button>\n      <Menu\n        id=\"fade-menu\"\n        anchorEl={anchorEl}\n        keepMounted\n        open={open}\n        onClose={handleClose}\n        TransitionComponent={Fade}\n      >\n        <div className=\"CheckboxContainer\">\n          <List>\n            {props.defualt_models.map((value) => {\n              const labelId = `checkbox-list-label-${value}`;\n              return (\n                <ListItem key={value} role={undefined} onClick={handleToggle(value)}>\n                  <Checkbox\n                    checked={props.pop_over_models.includes(value)}\n                    edge=\"start\"\n                    tabIndex={-1}\n                    value={value}\n                    onChange={(event, value) => {\n                      checkboxChanged(event, value)\n                    }\n                    }\n                  />\n                  <p className=\"list_item_label\" id={labelId}>{value}</p>\n                </ListItem>\n              );\n            })}\n          </List>\n        </div>\n      </Menu>\n    </div>\n  );\n}\nconst maptstateToprop = (state) => {\n  return {\n    pop_over_models:state.pop_over_models\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_defualt_models: (val) => dispatch({ type: \"defualt_models\", value: val }),\n    Set_pop_over_models: (val) => dispatch({ type: \"pop_over_models\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(FadeMenu);\n//https://material-ui.com/components/menus/\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport { connect } from \"react-redux\";\nimport Chart_pop from './chart_pop'\nimport Draggable from 'react-draggable';\nimport * as d3 from 'd3';\nimport Grid from \"@material-ui/core/Grid\"\nimport FilterModel from \"./FilterModel\"\nimport * as $ from 'jquery';\nexport function SimplePopover(props) {\n    console.log(props.dbclicked_features)\n    const handleClose = () =>{\n        props.set_pop_over(false)\n        props.set_dbclicked_features([])\n    };\n    return (\n        <div style={{ position: \"relative\" }}>\n            {props.pop_over == true ?\n                <div style={{ top: \"2%\", left: \"14%\", position: \"fixed\",pointerEvents:\"none\",backgroundColor:\"transparent\" }}>\n                    <Draggable>\n                        <Grid style={{ backgroundColor: \"#ffffff\", boxShadow: \"3px 2px 15px -7px #000000\",pointerEvents:\"auto\" }}>\n                            <Grid container style={{ borderBottom: \"1px solid #e2e2e2\", marginBottom: 20 }}\n                                direction=\"row\"\n                                justify=\"space-between\"\n                                alignItems=\"center\"\n                            >\n                                <FilterModel defualt_models={props.defualt_models}></FilterModel>\n                                <Button color=\"secondary\" id=\"draggable-dialog-title\" onClick={handleClose}>close</Button>\n                            </Grid>\n                            <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\" style={{maxHeight:700,overflow:\"scroll\",maxWidth:1600}}>\n                                {\n                                props.dbclicked_features.length>0?props.dbclicked_features.map((item,index)=><Chart_pop index={index} popup_chart_data={[props.popup_chart_data[0],item]} defualt_models={props.defualt_models} myid={item.replace(/\\s/g, '').replace(/[`~!@#$%^&*()_|+\\-=?;:'\",.<>\\{\\}\\[\\]\\\\\\/]/gi, '')} color_gen={props.color_gen} textClickHandler_original={props.textClickHandler_original}></Chart_pop>):<Chart_pop popup_chart_data={props.popup_chart_data} defualt_models={props.defualt_models} myid=\"myid1\" color_gen={props.color_gen} textClickHandler_original={props.textClickHandler_original}></Chart_pop>\n                                }\n                            </Grid>\n                        </Grid>\n                    </Draggable>\n                </div> : null}\n        </div>\n    );\n}\nconst maptstateToprop = (state) => {\n    return {\n        popup_chart_data: state.popup_chart_data,\n        pop_over: state.pop_over,\n        dbclicked_features:state.dbclicked_features,\n    }\n}\nconst mapdispatchToprop = (dispatch) => {\n    return {\n        set_pop_over: (val) => dispatch({ type: \"pop_over\", value: val }),\n        set_dbclicked_features: (val) => dispatch({ type: \"dbclicked_features\", value: val }),\n        set_clicked_features: (val) => dispatch({ type: \"clicked_features\", value: val }),\n    }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(SimplePopover);\n","import React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport * as $ from 'jquery';\nimport * as slopechart1 from \"./slopechart1\";\nimport Chart2 from \"../Exp_Chart/Chart2\"\nimport { connect } from \"react-redux\";\nimport Grid from '@material-ui/core/Grid';\nimport Popover from \"../Exp_Chart/Popover/Popover\"\nimport * as Legend from '../Legend'\n\nclass SlopeChart extends Component {\n  constructor(props) {\n    super(props);\n    this.line_color = null;\n    this.state = { height_slope_exp_chart: 700 }\n\n  }\n  componentDidMount() {\n    window.addEventListener('resize', () => {\n      this.setState({ width: window.innerWidth })\n      this.setState({ width: window.innerHeight })\n    });\n    this.CreateCharts()\n    this.setState({ width: window.innerHeight })\n  }\n  shouldComponentUpdate() {\n    return true;\n  }\n  componentDidUpdate(prevProps, prevState) {\n    //---- Animation replay starts\n    if (JSON.stringify(this.props.range_mode_range1) != JSON.stringify(prevProps.range_mode_range1)) {\n      //console.log(\"prev\",prevProps.range_mode_range1)\n      this.props.Set_prev_prop(prevProps)\n    }\n    if (this.props.selected_year !== prevProps.selected_year) {\n      this.props.Set_prev_prop(prevProps)\n    }//---- Animation replay ends\n\n    if (!this.props.replay) { // if replay is false\n      this.props.selected_year != prevProps.selected_year ? this.CreateCharts(\"animate\") : this.CreateCharts(\"dont_animate\")\n    }\n    else {\n      this.CreateCharts(\"dont_animate\")\n    }\n\n    //----------------------------------------------------------------------------------------------------------Set and unset Opacity\n    this.props.task2()\n  }\n  CreateCharts = (animate) => {\n    var state_range;\n    if (this.props.model_name == \"Range1\") { state_range = this.props.range_mode_range1 }\n    else {\n      state_range = this.props.range_mode_range2\n    }\n    //------------------------------------------------------\n    var mydata3 = { \"A\": [], \"B\": [] }\n    var deviate_by = this.props.deviate_by\n    var selected_by_year_data = this.props.grouped_by_year_data[this.props.selected_year] // This is the data passed a dictionay where year is the key\n    var max_rank = selected_by_year_data.length\n    var model_name = this.props.range_mode_model // This is the model name on the right side\n    //--------\n    var start_range = state_range != null ? state_range[0] : 10; // range to start\n    if (start_range > 0) { start_range -= 1 } // This is to start from index 0\n    if (start_range < 0) { start_range = 0 } // check if the deviation make the starting range less than the available rank\n    if (start_range < deviate_by) { deviate_by = start_range } // check if the deviation make the starting range less than the available rank\n    start_range = start_range - deviate_by\n    if (start_range < 0) { start_range = 0; deviate_by = 0 }\n    var deviate_check_lower = start_range + deviate_by + 1\n    //-----\n    deviate_by = this.props.deviate_by\n    var end_range = state_range != null ? state_range[1] : 25\n    var deviate_check_upper = end_range // Upper deviation check is this\n    end_range = end_range + deviate_by // changes the end range to include the deviation; next if checks when it goes beyond range\n    if (end_range > max_rank) {\n      deviate_check_upper = end_range - deviate_by; // set the upper range by subtracting the deviation\n      end_range = max_rank\n    }\n\n    for (var i = start_range; i < end_range; i++) {\n      var tempA = {}\n      var tempB = {}\n      tempA[\"Model\"] = model_name\n      tempA[\"name\"] = selected_by_year_data[i][\"State\"]\n      tempA[\"rank\"] = selected_by_year_data[i][\"two_realRank\"]\n      tempB[\"name\"] = selected_by_year_data[i][\"State\"]\n      tempB[\"rank\"] = selected_by_year_data[i][model_name]\n      mydata3[\"A\"].push(tempA)\n      mydata3[\"B\"].push(tempB)\n    }\n    //------------ Slopechart 1\n    slopechart1.CreateSlopeChart1(this.node, mydata3, start_range + 1, end_range, deviate_check_lower,\n      deviate_check_upper, this.props.model_name, this.props.selected_year, this.props.appHandleChange,\n      this.props.sparkline_data, this.props.original_data, this.props.histogram_data, this.props.textClickHandler_original,\n      this.color_gen(), animate, this.props.range_mode_model, this.props.config)\n    //------------        \n  }\n  color_gen = () => {\n    var my_state_range = [d3.min([this.props.range_mode_range1[0], this.props.range_mode_range2[0]]), d3.max([this.props.range_mode_range1[1], this.props.range_mode_range2[1]])] // Get the minimum and maximum from both\n    //------------------------------------------------------\n    var deviate_by = this.props.deviate_by\n    var selected_by_year_data = this.props.grouped_by_year_data[this.props.selected_year] // This is the data passed a dictionay where year is the key\n    var max_rank = selected_by_year_data.length\n    //--------\n    var start_range = my_state_range != null ? my_state_range[0] : 10; // range to start\n    if (start_range > 0) { start_range -= 1 } // This is to start from index 0\n    if (start_range < 0) { start_range = 0 } // check if the deviation make the starting range less than the available rank\n    if (start_range < deviate_by) { deviate_by = start_range } // check if the deviation make the starting range less than the available rank\n    start_range = start_range - deviate_by\n    if (start_range < 0) { start_range = 0; deviate_by = 0 }\n    var deviate_check_lower = start_range + deviate_by + 1\n    //-----\n    deviate_by = this.props.deviate_by\n    var end_range = my_state_range != null ? my_state_range[1] : 25\n    var deviate_check_upper = end_range // Upper deviation check is this\n    end_range = end_range + deviate_by // changes the end range to include the deviation; next if checks when it goes beyond range\n    if (end_range > max_rank) {\n      deviate_check_upper = end_range - deviate_by; // set the upper range by subtracting the deviation\n      end_range = max_rank\n    }\n    //---------------------------------------------------------------------------- Tracking starts here\n    var ref_year = this.props.ref_year\n    var track_states;\n    var track_states_ranged_dictionary = {}\n    if (this.props.tracking) {\n      var track_states_year_data = this.props.grouped_by_year_data[ref_year] // when tracking is activated we use reference year for color\n      var min = deviate_check_lower;\n      var max = deviate_check_upper;\n      for (var i = deviate_check_lower - 1; i < deviate_check_upper; i++) {\n        track_states_ranged_dictionary[track_states_year_data[i][\"State\"]] = track_states_year_data[i][\"two_realRank\"]\n      }\n      var d = (max - min) / 8;\n      var line_color2 = d3.scaleLinear().domain([min + d * 7, min + d * 6, min + d * 5, min + d * 4, min + d * 3, min + d * 2, min]).interpolate(d3.interpolateRgb).range(['#00429d', '#4771b2', '#73a2c6', '#a5d5d8', /*'#ffffe0',*/ '#ffbcaf', '#f4777f', '#cf3759', '#93003a']);\n      var Rgbdict = {}\n      for (var key in track_states_ranged_dictionary) {\n        Rgbdict[key] = line_color2(track_states_ranged_dictionary[key])\n      }\n      this.line_color = d3.scaleOrdinal().domain(Object.keys(Rgbdict)).range(Object.values(Rgbdict))\n      console.log(track_states_ranged_dictionary, min, max, Rgbdict, this.line_color.range())\n    }\n    //------------------------------If tracking is not activated\n    else {\n      var track_states_year_data = this.props.grouped_by_year_data[this.props.selected_year] // when tracking is not activated we use selected year for color\n      var track_states_ranged_dictionary = {}\n      for (var i = deviate_check_lower - 1; i < deviate_check_upper; i++) {\n        track_states_ranged_dictionary[track_states_year_data[i][\"State\"]] = track_states_year_data[i][\"two_realRank\"]\n      }\n      var min = deviate_check_lower;\n      var max = deviate_check_upper;\n      var d = (max - min) / 8;\n      var line_color2 = d3.scaleLinear().domain([min + d * 7, min + d * 6, min + d * 5, min + d * 4, min + d * 3, min + d * 2, min]).interpolate(d3.interpolateRgb).range(['#00429d', '#4771b2', '#73a2c6', '#a5d5d8', /*'#ffffe0',*/ '#ffbcaf', '#f4777f', '#cf3759', '#93003a']);\n      var Rgbdict = {}\n      for (var key in track_states_ranged_dictionary) {\n        Rgbdict[key] = line_color2(track_states_ranged_dictionary[key])\n      }\n      this.line_color = d3.scaleOrdinal().domain(Object.keys(Rgbdict)).range(Object.values(Rgbdict))\n      //console.log(Rgbdict,this.line_color.range())  \n    }\n    Legend.createLegend(\"legend\", [min, max], Rgbdict)\n    //---------------------------------------------------------------------------- Tracking ends here \n    return this.line_color\n  }\n  render() {\n    return (\n      this.props.show.includes(\"Explanation\") ? <Grid container style={{ width: \"49.5%\", marginRight: \"0.5%\", marginTop: \"0.5%\", paddingRight: 0, border: \"1px solid #eaeaea\" }} key={JSON.stringify(this.props.range_mode_range1) + JSON.stringify(this.props.range_mode_range2)} className=\"Grid_container\">\n        <Grid item xs=\"6\" className={this.props.model_name == \"Range1\" ? \"slopechart range_chart_col range_chart_col_range1\" : \"slopechart range_chart_col range_chart_col_range2\"} style={{ width: '100%' }} >\n          <div className=\"slope_chart_title\">\n            <p>True Rank</p>\n            <p className=\"model_title\">{this.props.model_name == \"Range1\" ? \"Group 1\" : \"Group 2\"}</p>\n            <p>Predicted Rank</p>\n          </div>\n          <div className=\"mysvg\" ref={node => this.node = node}><svg id={this.props.model_name}><g id=\"myg\"></g></svg></div>\n        </Grid>\n        <Grid item xs=\"6\" className={this.props.model_name == \"Range1\" ? \"exp_chart exp_chart_range1\" : \"exp_chart exp_chart_range2\"}>\n          {this.props.range_mode_model != \"ListNet\" ? <Chart2\n            task2={this.props.task2}\n            textClickHandler_original={this.props.textClickHandler_original}\n            color_gen={this.color_gen()}\n            model_name={this.props.range_mode_model}\n            model_name2={this.props.model_name}\n            state_range={this.props.model_name == \"Range1\" ? this.props.range_mode_range1 : this.props.range_mode_range2}\n            selected_year={this.props.selected_year}\n            grouped_by_year_data={this.props.grouped_by_year_data}\n            defualt_models={[this.props.range_mode_model]}\n          >\n          </Chart2> : <div className=\"not_avail\"><h3>NOT AVAILABLE</h3></div>}\n          {this.props.popup_chart_data != null && this.props.myindex == 0 ? <Popover defualt_models={[this.props.range_mode_model]} color_gen={this.color_gen()} textClickHandler_original={this.props.textClickHandler_original}></Popover> : null}\n        </Grid>\n\n      </Grid > :\n        <Grid item className={this.props.model_name == \"Range1\" ? \"range_chart_col range_chart_col_range1\" : \"range_chart_col range_chart_col_range2\"} style={{ marginTop: 5, border: \"1px solid #eaeaea\", width: \"48%\", marginRight: \"1%\", height: window.innerHeight - $('.uploader_topbar').height() }}>\n          <div className=\"slope_chart_title\">\n            <p>True Rank</p>\n            <p className=\"model_title\">{this.props.range_mode_model}</p>\n            <p>Predicted Rank</p>\n          </div>\n          <div className=\"mysvg\" ref={node => this.node = node}><svg id={this.props.model_name}><g id=\"myg\"></g></svg></div>\n        </Grid>\n    );\n  }\n\n}\nconst maptstateToprop = (state) => {\n  return {\n    deviate_by: state.deviate_by,\n    selected_year: state.selected_year,\n    range_mode_model: state.range_mode_model,\n    range_mode_range1: state.range_mode_range1,\n    range_mode_range2: state.range_mode_range2,\n    clicked_items_in_slopechart: state.clicked_items_in_slopechart,\n    replay: state.replay,\n    changed: state.changed,\n    popup_chart_data: state.popup_chart_data,\n    config: state.config,\n    show: state.show,\n\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_defualt_models: (val) => dispatch({ type: \"defualt_models\", value: val }),\n    Set_sparkline_data: (val) => dispatch({ type: \"sparkline_data\", value: val }),\n    Set_clicked_items_in_slopechart: (val) => dispatch({ type: \"clicked_items_in_slopechart\", value: val }),\n    Set_replay: (val) => dispatch({ type: \"replay\", value: val }),\n    Set_prev_prop: (val) => dispatch({ type: \"prev_prop\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(SlopeChart);","\nimport * as d3 from 'd3';\nimport * as $ from 'jquery';\nimport * as sparkline1 from \"./sparkline1\";\nimport * as sparkline2 from \"./sparkline2\";\nexport function CreateSlopeChart1(node, grouped_by_year_data, start_range, end_range, deviate_check_lower, deviate_check_upper, model_name, \n  year, appHandleChange, sparkline_data, original_data, histogram_data, textClickHandler_original, \n  line_color, animate, actual_model_for_range_and_time_mode,config) {\n  var base_height_between=18\n  // we don't need the delay here because the animations are happening one after the another\n  var slope_chart_anim1 = config.animation1\n  var slope_chart_anim2 = config.animation2\n  var number_of_elements = (end_range - start_range); // \n  var all_together = [];\n  grouped_by_year_data[\"A\"].forEach(function (d) { all_together.push(d); });\n  grouped_by_year_data[\"B\"].forEach(function (d) { all_together.push(d); });\n  var nestedByName = d3.nest().key(function (d) { return d.name }).entries(all_together);\n\n  //--------------------------------------------------------------------------------------------------------------------------------------------------------------Height management\n  var margin = { top: 10, right: 70, bottom: 10, left: 160 };\n  if (model_name == \"Range1\") {\n    var range_chart_col_range1_height = $('.slopechart_container').height(), \n    range_chart_col_range1_width = $('.range_chart_col_range1').width(),\n    width = range_chart_col_range1_width - margin.left - margin.right;\n  var height_between = range_chart_col_range1_height / number_of_elements\n  if(height_between<base_height_between){height_between=base_height_between}\n  var height = (number_of_elements * height_between)-10; // -10 is the bottom margin\n    d3.selectAll(\".range_chart_col_range1\").style(\"height\", height + \"px\");\n    d3.selectAll(\".exp_chart_range1\").style(\"height\", height + \"px!important\");\n  }\n  else {\n    var range_chart_col_range2_height = $('.slopechart_container').height(),\n    range_chart_col_range2_width = $('.range_chart_col_range2').width(),\n    width = range_chart_col_range2_width - margin.left - margin.right;\n  var height_between = range_chart_col_range2_height / number_of_elements\n  if(height_between<base_height_between){height_between=base_height_between}\n  var height = (number_of_elements * height_between)-10; // -10 is the bottom margin\n  d3.selectAll(\".range_chart_col_range2\").style(\"height\", height + \"px\");\n    d3.selectAll(\".slopechart_col\").style(\"height\", height + \"px\");\n    d3.selectAll(\".exp_chart\").style(\"height\", height + \"px\");\n    d3.selectAll(\".exp_chart_range2\").style(\"height\", height + \"px!important\");\n  }\n  height = height - 45 // This height is going to be used for slopechart\n  var config = { yOffset: 0, width: width, height: height, labelGroupOffset: 1, labelKeyOffset: 55, radius: 3, sparkline_height: height_between }\n  //--------------------------------------------------------------------------------------------------------------------------------------------------------------Height management\n  var yScale = d3.scaleLinear().range([0, height]).domain([start_range, end_range]);\n  var var_to_lift_up = yScale(nestedByName[0].values[0].rank); // nestedByName[5] places the 5th element at the beginning\n  var svg = d3.select(\"#\" + model_name).attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom)\n    .select(\"#myg\").attr('transform', `translate(150,10)`)\n\n  var borderLines = svg.selectAll(\".border-lines\").data([0]).join(\"g\").attr(\"class\", \"border-lines\") //--Ractangle that sets the boundary of lines  \n  borderLines.selectAll(\".line1\").data([0]).join(\"line\").attr(\"class\", \"line1\").attr(\"fill\", \"black\").attr(\"x1\", 0).attr(\"y1\", 0).attr(\"x2\", 0).attr(\"y2\", config.height); // left line x1,x2,y1 0 and y2 is the height\n  borderLines.selectAll(\".line2\").data([0]).join(\"line\").attr(\"class\", \"line2\").attr(\"fill\", \"black\").attr(\"x1\", width).attr(\"y1\", 0).attr(\"x2\", width).attr(\"y2\", config.height); // right line starts at x1,x2 at width and goes until height\n  //---------\n  var slopeGroups_upd = svg.selectAll(\".datapoint\").data(nestedByName, d => {\n    if (d !== undefined) {\n      return d.key;\n    }\n  }).join(onEnter, onUpdate, onExit)\n  //-----------------------------------------------------------------------------------------------------------------------------------------Enter function starts here\n  function onEnter(selection) {\n\n    const makeDatapoint = g => {\n      //-----------------------------------------------------------------------------------------------------------------------------------------state name text starts here\n      g.append(\"text\")\n        .attr(\"x\", d => -config.labelGroupOffset)\n        .attr(\"y\", d => yScale(d.values[0].rank) - var_to_lift_up)\n        .attr(\"dx\", -config.labelKeyOffset)\n        .attr(\"dy\", 3)\n        .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n        .attr(\"class\", (d) => {\n          return \"myid\" + d.values[0].rank + \" state_name\" + \" slopechart_text\"\n        })\n        .attr(\"text-anchor\", \"end\")\n        .on(\"mouseover\", function (d) { //-------Tooltip starts\t\t\n          var div = d3.select(\"body\").append(\"div\")\n            .attr(\"id\", \"div\" + d.key.replace(/ +/g, \"\"))\n            .attr(\"class\", \"tooltip\")\n            .style(\"opacity\", 0)\n          div.transition()\n            .duration(200)\n            .style(\"opacity\", .97)\n          div.html(\"<p>\" + d.key + \"</p>\" + \"<p>\" + \"Predicted rank: \" + d.values[1].rank + \"</p>\")\n            .style(\"left\", ((d) => {\n              var left_div_width = $('.Sidebar_parent').width()\n              return left_div_width - 125 + \"px\"\n            }))\n            .style(\"top\", (d3.event.pageY - 40) + \"px\");\n        })\n        .on(\"mouseout\", function (d) {\n          var myid = \"#div\" + d.key.replace(/ +/g, \"\")\n          d3.select(\"body\").selectAll(\".tooltip\").transition()\n            .duration(500)\n            .style(\"opacity\", 0).remove();\n        }) // Tooltip ends\n        .on(\"click\", function (d) {\n          return textClickHandler_original(\"A\" + d.key)\n          /*\n          if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) {\n            if (clicked_items_in_slopechart.includes(d.key.replace(/ +/g, \"\"))) { return textClickHandler_original(\"A\"+d.key) }\n          }\n          else { return textClickHandler_original(\"A\"+d.key) }\n          */\n        })\n        .text(d => {\n          var val = d.key\n          if (val.length > 15) { val = val.replace(\"University\", \"U\") }\n          return val.length > 15 ? val.substring(0, 15) : val\n        })\n        .attr(\"fill\", function (d) {\n          if (d.values[0].rank < deviate_check_lower) {\n            return \"rgb(110, 112, 112,.5)\";\n          }\n          else if (d.values[0].rank > deviate_check_upper) {\n            return \"rgb(110, 112, 112,.5)\";\n          }\n          else {\n            return line_color(d.key);\n          }\n        }) //state name text ends here\n      //-----------------------------------------------------------------------------------------------------------------------------------------Left sparkline starts here\n      g.append(\"svg\")\n        .attr('class', d => \"svg1 \" + model_name + d.values[1].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '') + 'original')\n        .attr(\"x\", d => {\n          return -config.labelGroupOffset - config.labelKeyOffset + 3;\n        })\n        .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n        .attr(\"y\", d => yScale(d.values[0].rank) - var_to_lift_up - 14)\n        .append(\"path\")\n        .attr(\"class\", \"mypath\")\n        .attr(\"opacity\", d => {\n          var className = model_name + d.values[1].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '') + 'original'\n          if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) { var sparkline_color = \"grey\" } else { var sparkline_color = line_color(d.key) }\n          sparkline1.sparklineGen(className, sparkline_data, d.key.replace(/ /g, '').replace(/[^\\w\\s]/gi, ''), d.key, year, appHandleChange, d.values[0].rank, sparkline_color, d.key.replace(/ +/g, \"\"))\n          return 1;\n        }\n        )\n      //-----------------------------------------------------------------------------------------------------------------------------------------Left rank text starts here\n      g.append(\"text\")\n        .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n        .attr(\"class\", (d) => \"myid\" + d.values[0].rank + \" left_rank_text\" + \" slopechart_text\")\n        .attr(\"x\", d => -config.labelGroupOffset)\n        .attr(\"y\", d => yScale(d.values[0].rank) - var_to_lift_up)\n        .attr(\"dx\", -10)\n        .attr(\"dy\", 3)\n        .attr(\"text-anchor\", \"end\")\n        .text(d => (d.values[0].rank))\n        .attr(\"fill\", function (d) {\n          if (d.values[0].rank < deviate_check_lower) {\n            return \"rgb(110, 112, 112,.5)\";\n          }\n          else if (d.values[0].rank > deviate_check_upper) {\n            return \"rgb(110, 112, 112,.5)\";\n          }\n          else {\n            return line_color(d.key);\n          }\n        }); //rank text ends here\n      //-----------------------------------------------------------------------------------------------------------------------------------------circle starts\n      g.append(\"circle\")\n        .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n        .attr(\"r\", d => {\n          if (d.values[0].rank < deviate_check_lower) {\n            return 0\n          }\n          else if (d.values[0].rank > deviate_check_upper) {\n            return 0\n          }\n          else { return config.radius }\n        })\n        .attr(\"cy\", d => yScale(d.values[0].rank) - var_to_lift_up)\n        .attr(\"class\", (d) => {\n          return d.values[0].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '') + \" myid\" + d.values[0].rank + \" left_circle\"\n        })\n        .attr(\"fill\", function (d) {\n          if (d.values[0].rank < deviate_check_lower) {\n            //return line_color(d);\n            return \"rgb(110, 112, 112,.5)\";\n          }\n          else if (d.values[0].rank > deviate_check_upper) {\n            //return line_color(d);\n            return \"rgb(110, 112, 112,.5)\";\n          }\n          else {\n            return line_color(d.key);\n          }\n        }); //circle ends\n      //-----------------------------------------------------------------------------------------------------------------------------------------Slope lines starts here\n      g.append(\"line\")\n        .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n        .attr(\"class\", (d) => \"slope-line myid\" + d.values[0].rank)\n        .attr(\"x1\", 0)\n        .attr(\"x2\", config.width)\n        .on(\"click\", function (d) {\n          return textClickHandler_original(\"A\" + d.key)\n          // if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) { } else { return textClickHandler_original(\"A\"+d.key) }\n        })\n        .attr(\"y1\", function (d) {\n          return yScale(d.values[0].rank) - var_to_lift_up;\n        })\n        .attr(\"y2\", function (d) {\n          return yScale(d.values[1].rank) - var_to_lift_up;\n        })\n        .attr(\"stroke\", (d) => {\n          if (d.values[0].rank < deviate_check_lower) {\n            return \"transparent\";\n          }\n          else if (d.values[0].rank > deviate_check_upper) {\n            return \"transparent\";\n          }\n          else {\n            return line_color(d.key)\n          }\n        })\n\n\n\n      //-----------------------------------------------------------------------------------------------------------------------------------------Right side   \n      //-----------------------------------------------------------------------------------------------------------------------------------------Right circle starts here      \n      g.append(\"circle\")\n        .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n        .attr(\"cy\", d => yScale(d.values[1].rank) - var_to_lift_up).attr(\"class\", (d) => {\n          return d.values[0].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '') + \" right_circle myid\" + d.values[0].rank\n        })\n        .attr(\"r\", d => {\n          if (d.values[0].rank < deviate_check_lower) {\n            return 0\n          }\n          else if (d.values[0].rank > deviate_check_upper) {\n            return 0\n          }\n          else { return config.radius }\n        })\n        .attr(\"cx\", config.width)\n        .attr(\"fill\", (d) => {\n          if (!(d.values[0].rank < deviate_check_lower | d.values[0].rank > deviate_check_upper)) {\n            return line_color(d.key);\n          }\n        });\n      //-----------------------------------------------------------------------------------------------------------------------------------------Right text - Ranks starts here\n      g.append(\"text\")\n        .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n        .attr(\"class\", (d) => \"slopechart_text right_rank_text myid\" + d.values[0].rank)\n        .attr(\"x\", d => width + config.labelGroupOffset)\n        .attr(\"y\", d => yScale(d.values[1].rank) - var_to_lift_up)\n        .attr(\"dx\", 10)\n        .attr(\"dy\", 3)\n        .attr(\"text-anchor\", \"start\")\n        .text(d => {\n          if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) {\n            return \"\";\n          }\n          else {\n            return d.values[1].rank\n          }\n        })\n        .attr(\"fill\", function (d) {\n          if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) {\n            return \"\";\n          }\n          else {\n            return line_color(d.key)\n          }\n        })\n        .on(\"click\", function (d) {\n          return textClickHandler_original(\"A\" + d.key)\n          // if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) { } else { return textClickHandler_original(\"A\"+d.key) }\n        }); //Text - Ranks ends here\n      //-----------------------------------------------------------------------------------------------------------------------------------------Right sparkline starts here\n      g.append(\"svg\")\n        .attr('class', d => \"svg2 \" + model_name.replace(\".\", \"stupid\") + d.values[1].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '').split('.').join(' '))\n        .attr(\"x\", d => {\n          return width + config.labelGroupOffset + 25\n        })\n        .attr(\"y\", d => yScale(d.values[1].rank) - var_to_lift_up - 14)\n        .attr(\"width\", d => {\n          if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) {\n            return 0;\n          }\n        })\n        .append(\"path\")\n        .attr(\"class\", \"mypath2\")\n        .attr(\"opacity\", d => {\n          if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) { } else {\n            var className = model_name.replace(\".\", \"stupid\") + d.values[1].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '').split('.').join(' ')\n            sparkline2.sparklineGen(className, sparkline_data, d.key.replace(/ /g, '').replace(/[^\\w\\s]/gi, ''), actual_model_for_range_and_time_mode, original_data, d.key, year, appHandleChange, d.values[0].rank, line_color(d.key), d.key.replace(/ +/g, \"\"))\n            return 1;\n          }\n        })\n    }\n    return selection\n      .append(\"g\")\n      .attr(\"class\", \"datapoint\")\n      .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n      .call(makeDatapoint);\n  }\n  //-----------------------------------------------------------------------------------------------------------------------------------------Onupdate starts here\n  function onUpdate(selection) {\n\n    //-----------------------------------------------------------------------------------------------------------------------------------------state name text ends here\n    selection.select(\".state_name\")\n      .attr(\"x\", -config.labelGroupOffset)\n      .attr(\"dx\", -config.labelKeyOffset)\n      .attr(\"dy\", 3)\n      .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n      .attr(\"class\", (d) => {\n        return \"slopechart_text myid\" + d.values[0].rank + \" state_name\"\n      })\n      .attr(\"text-anchor\", \"end\")\n      .on(\"mouseover\", function (d) { //-------Tooltip starts\t\t\n        var div = d3.select(\"body\").append(\"div\")\n          .attr(\"id\", \"div\" + d.key.replace(/ +/g, \"\"))\n          .attr(\"class\", \"tooltip\")\n          .style(\"opacity\", 0)\n        div.transition()\n          .duration(100)\n          .style(\"opacity\", .97)\n        div.html(\"<p>\" + d.key + \"</p>\" + \"<p>\" + \"Predicted rank: \" + d.values[1].rank + \"</p>\")\n          .style(\"left\", ((d) => {\n            var left_div_width = $('.Sidebar_parent').width()\n            return left_div_width - 125 + \"px\"\n          }))\n          .style(\"top\", (d3.event.pageY - 40) + \"px\");\n      })\n      .on(\"mouseout\", function (d) {\n        var myid = \"#div\" + d.key.replace(/ +/g, \"\")\n        d3.select(\"body\").selectAll(\".tooltip\").transition()\n          .duration(500)\n          .style(\"opacity\", 0).remove();\n      }) // Tooltip ends\n      .on(\"click\", function (d) {\n        return textClickHandler_original(\"A\" + d.key)\n        /*\n        if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) {\n          if (clicked_items_in_slopechart.includes(d.key.replace(/ +/g, \"\"))) { return textClickHandler_original(\"A\"+d.key) }\n        }\n        else { return textClickHandler_original(\"A\"+d.key) }\n        */\n      })\n      .text(d => {\n        var val = d.key\n        if (val.length > 15) { val = val.replace(\"University\", \"U\") }\n        return val.length > 15 ? val.substring(0, 15) : val\n      })\n      .attr(\"fill\", function (d) {\n        if (d.values[0].rank == 23) {\n\n        }\n        if ((d.values[0].rank < deviate_check_lower) || (d.values[0].rank > deviate_check_upper)) {\n          return \"rgb(110, 112, 112,.5)\";\n        }\n        else {\n          return line_color(d.key);\n        }\n      }).transition().duration(d => {\n        if (animate == \"animate\") {\n          return slope_chart_anim1\n        }\n        else {\n          return 0\n        }\n      })\n      .attr(\"y\", d => yScale(d.values[0].rank) - var_to_lift_up)\n    //state name text ends here\n    //-----------------------------------------------------------------------------------------------------------------------------------------Left sparkline starts here\n    selection.select(\".svg1\")\n      .attr('class', d => \"svg1 \" + model_name + d.values[1].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '') + 'original')\n      .attr(\"x\", d => {\n        var className = model_name + d.values[1].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '') + 'original'\n        if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) { var sparkline_color = \"grey\" } else { var sparkline_color = line_color(d.key) }\n        sparkline1.sparklineGen(className, sparkline_data, d.key.replace(/ /g, '').replace(/[^\\w\\s]/gi, ''), d.key, year, appHandleChange, d.values[0].rank, sparkline_color, d.key.replace(/ +/g, \"\"))\n        return -config.labelGroupOffset - config.labelKeyOffset + 3;\n      })\n      .transition().duration(d => {\n        if (animate == \"animate\") {\n          return slope_chart_anim1\n        }\n        else {\n          return 0\n        }\n      })\n      .attr(\"y\", d => yScale(d.values[0].rank) - var_to_lift_up - 14)\n      .attr(\"opacity\", 1)\n    //-----------------------------------------------------------------------------------------------------------------------------------------Left rank text starts here\n    selection.select(\".left_rank_text\")\n      .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n      .attr(\"class\", (d) => \"slopechart_text myid\" + d.values[0].rank + \" left_rank_text\")\n      .attr(\"x\", d => -config.labelGroupOffset)\n      .attr(\"dx\", -10)\n      .attr(\"dy\", 3)\n      .attr(\"text-anchor\", \"end\")\n      .text(d => (d.values[0].rank))\n      .attr(\"fill\", function (d) {\n        if (d.values[0].rank < deviate_check_lower) {\n          return \"rgb(110, 112, 112,.5)\";\n        }\n        else if (d.values[0].rank > deviate_check_upper) {\n          return \"rgb(110, 112, 112,.5)\";\n        }\n        else {\n          return line_color(d.key);\n        }\n      })\n      .transition().duration(d => {\n        if (animate == \"animate\") {\n          return slope_chart_anim1\n        }\n        else {\n          return 0\n        }\n      })\n      .attr(\"y\", d => yScale(d.values[0].rank) - var_to_lift_up); //rank text ends here\n\n    //-----------------------------------------------------------------------------------------------------------------------------------------Left circle starts here\n    selection.select(\".left_circle\")\n      .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n      .attr(\"r\", d => {\n        if (d.values[0].rank < deviate_check_lower) {\n          return 0\n        }\n        else if (d.values[0].rank > deviate_check_upper) {\n          return 0\n        }\n        else { return config.radius }\n      })\n      .attr(\"class\", (d) => {\n        return d.values[0].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '') + \" myid\" + d.values[0].rank + \" left_circle\"\n      })\n      .attr(\"fill\", function (d) {\n        if (d.values[0].rank < deviate_check_lower) {\n          //return line_color(d);\n          return \"rgb(110, 112, 112,.5)\";\n        }\n        else if (d.values[0].rank > deviate_check_upper) {\n          //return line_color(d);\n          return \"rgb(110, 112, 112,.5)\";\n        }\n        else {\n          return line_color(d.key);\n        }\n      })\n      .transition().duration(d => {\n        if (animate == \"animate\") {\n          return slope_chart_anim1\n        }\n        else {\n          return 0\n        }\n      })\n      .attr(\"cy\", d => yScale(d.values[0].rank) - var_to_lift_up); //left circle ends\n    //----------------------------------------------------------------------------------------------------------------------------------------- Slope lines starts here\n\n    selection.select(\".slope-line\")\n      .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n      .attr(\"class\", (d) => \"slope-line myid\" + d.values[0].rank)\n      .attr(\"x1\", 0)\n      .attr(\"x2\", config.width)\n      .on(\"click\", function (d) {\n        return textClickHandler_original(\"A\" + d.key)\n        // if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) { } else { return textClickHandler_original(\"A\"+d.key) }\n      })\n      .attr(\"stroke\", (d) => {\n        if (d.values[0].rank < deviate_check_lower) {\n          return \"transparent\";\n        }\n        else if (d.values[0].rank > deviate_check_upper) {\n          return \"transparent\";\n        }\n        else {\n          return line_color(d.key)\n        }\n      })\n      .transition().duration(d => {\n        if (animate == \"animate\") {\n          return slope_chart_anim1\n        }\n        else {\n          return 0\n        }\n      })\n      .attr(\"y1\", function (d) {\n        return yScale(d.values[0].rank) - var_to_lift_up;\n      })\n      .transition().duration(d => { // we don't need to set delay here because this is happening one after another\n        if (animate == \"animate\") {\n          return slope_chart_anim2\n        }\n        else {\n          return 0\n        }\n      })\n      .attr(\"y2\", function (d) {\n        return yScale(d.values[1].rank);\n      }) // Right slope lines ends here\n    //-----------------------------------------------------------------------------------------------------------------------------------------Right side  \n    //-----------------------------------------------------------------------------------------------------------------------------------------Right circle starts here      \n    selection.select(\".right_circle\")\n      .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n      .attr(\"class\", (d) => {\n        return d.values[0].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '') + \" right_circle myid\" + d.values[0].rank\n      })\n      .attr(\"r\", d => {\n        if (d.values[0].rank < deviate_check_lower) {\n          return 0\n        }\n        else if (d.values[0].rank > deviate_check_upper) {\n          return 0\n        }\n        else { return config.radius }\n      })\n      .attr(\"cx\", config.width)\n      .attr(\"cy\", d => {\n        return yScale(d.values[1].rank) - var_to_lift_up\n      })\n      .attr(\"fill\", (d) => {\n        if (!(d.values[0].rank < deviate_check_lower | d.values[0].rank > deviate_check_upper)) {\n          return line_color(d.key);\n        }\n      });\n    //-----------------------------------------------------------------------------------------------------------------------------------------Right text rank starts here\n    selection.select(\".right_rank_text\")\n      .attr(\"class\", (d) => \"slopechart_text right_rank_text myid\" + d.values[0].rank)\n      .attr(\"x\", d => width + config.labelGroupOffset)\n      .attr(\"y\", d => yScale(d.values[1].rank) - var_to_lift_up)\n      .attr(\"dx\", 10)\n      .attr(\"dy\", 3)\n      .attr(\"text-anchor\", \"start\")\n      .text(d => {\n        if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) {\n          return \"\";\n        }\n        else {\n          return d.values[1].rank\n        }\n      })\n      .attr(\"fill\", function (d) {\n        if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) {\n          return \"\";\n        }\n        else {\n          return line_color(d.key)\n        }\n      })\n      .on(\"click\", function (d) {\n        return textClickHandler_original(\"A\" + d.key)\n        // if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) { } else { return textClickHandler_original(\"A\"+d.key) }\n      }); //Text - Ranks ends here\n    //-----------------------------------------------------------------------------------------------------------------------------------------Right sparkline starts here\n    selection.select(\".svg2\")\n      .attr('class', d => \"svg2 \" + model_name.replace(\".\", \"stupid\") + d.values[1].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '').split('.').join(' '))\n      .attr(\"x\", d => {\n        var className = model_name.replace(\".\", \"stupid\") + d.values[1].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '').split('.').join(' ')\n        sparkline2.sparklineGen(className, sparkline_data, d.key.replace(/ /g, '').replace(/[^\\w\\s]/gi, ''), actual_model_for_range_and_time_mode, original_data, d.key, year, appHandleChange, d.values[0].rank, line_color(d.key), d.key.replace(/ +/g, \"\"))\n        return width + config.labelGroupOffset + 27\n      })\n      .attr(\"y\", d => yScale(d.values[1].rank) - var_to_lift_up - 14)\n      .attr(\"width\", d => {\n        if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) {\n          return 0;\n        }\n      })\n\n  }\n\n  function onExit(selection) {\n    selection.remove();\n  }\n}\n","import * as d3 from 'd3';\nimport * as $ from 'jquery';\n//--------\nexport function sparklineGen(className, sparkline_data, key, state, year, appHandleChange, className2, sparkline_color, path_id) {\n  var config = { labelKeyOffset: 55, radius: 3, sparkline_height: 20 }\n  var s_margin = { top: 0, right: 0, bottom: 0, left: 4 },\n    s_width = config.labelKeyOffset / 2 - 5,\n    s_height = config.sparkline_height - 2;\n  var s_svg = d3.select(\".\"+className)\n    .attr(\"width\", s_width + s_margin.left + s_margin.right)\n    .attr(\"height\", s_height + s_margin.top + s_margin.bottom)\n  var data = sparkline_data[key]\n  // Add X axis  \n  var x = d3.scaleLinear()\n    .domain(d3.extent(data, function (d) { return d.year; }))\n    .range([0, s_width]);\n  //-----------------------------------------------------------------------------------------------------------------------------------------Add the area\n  s_svg.select(\"path\")\n    .datum(data, d => d)\n    .attr(\"id\", \"A\"+path_id)\n    .attr(\"opacity\",1)\n    .attr(\"fill\", sparkline_color) //#969696\n    .attr(\"stroke\", sparkline_color)\n    .attr(\"stroke-width\", (d) => {\n      return 1.5\n    })\n    .attr(\"d\", d3.area()\n      .x(function (d) { return x(d.year) })\n      .y0(function () {\n        var y = d3.scaleLinear().domain([0, d3.max(data, function (d) { return +d.rank; })]).range([s_height, 0]);\n        return y(0)\n      })\n      .y1(function (d) {\n        var y = d3.scaleLinear().domain([0, d3.max(data, function (d) { return +d.rank; })]).range([0, s_height]);\n        return y(d.rank)\n      })\n    )\n  //------------Circles\n  s_svg.selectAll('circle').data(data).join('circle')\n    .attr('cx', function (d, i) { return x(d.year) })\n    .attr('cy', s_height - 2)\n    .attr(\"class\", \"myid\" + className2)\n    .on(\"mouseover\", function (d) {\n      d3.select(this).style('fill', 'black')\n      d3.select(this).attr('r', 3)\n    })\n    .style('fill', (d) => d.year != year ? 'transparent' : 'black')\n    .attr('class', (d) => d.year != year ? 'transparent_class' : 'red_class')\n    .attr('r', 2)\n    .on('dblclick', (d, i) => {\n      d3.event.preventDefault();\n      appHandleChange(d.year, \"year_changed\")\n    })\n    .on(\"mouseout\", function (d) {\n      d3.select(this).style('fill', 'transparent')\n      var divid=\"#div\"+className\n      d3.selectAll(divid).remove()\n    })\n    .on('click', (d) => {\n      d3.select(\"body\").append(\"div\")\n        .attr(\"id\", \"div\"+className)\n        .attr(\"class\", \"tooltip\")\n        .style(\"opacity\", 0)\n        .html(\"<p>\" + \"Year: \" + d.year + \"</p>\" + \"<p>\" + \"Rank: \" + d.rank + \"</p>\")\n        .style(\"left\", ((d) => {\n          var left_div_width = $('.Sidebar_parent').width()\n          return left_div_width - 125 + \"px\"\n        }))\n        .style(\"top\", (d3.event.pageY - 40) + \"px\")\n        .transition()\n        .duration(200)\n        .style(\"opacity\", .97);\n    })\n\n}","import * as d3 from 'd3';\nimport * as $ from 'jquery';\n//--------\nexport function sparklineGen(className, sparkline_data, key, model_name, original_data, state, year, appHandleChange, className2, sparkline_color, path_id) {\n  var temp_data = []\n  original_data.forEach(element => {\n    if (element['State'] == state && element[model_name]) {\n      temp_data.push({ year: parseInt(element['1-qid']), rank: parseInt(element[model_name]) })\n    }\n  });\n  var config = { labelKeyOffset: 55, radius: 3, sparkline_height: 20 }\n  var s_margin = { top: 0, right: 0, bottom: 0, left: 5 },\n    s_width = config.labelKeyOffset / 2,\n    s_height = config.sparkline_height - 2;\n  var s_svg = d3.selectAll(\".\"+className)\n  //var s_svg = d3.selectAll(\".\"+className).data([className],d=>d).join(\"svg\").attr(\"class\",className)\n    .attr(\"width\", s_width + s_margin.left + s_margin.right)\n    .attr(\"height\", s_height + s_margin.top + s_margin.bottom)\n  var data = temp_data\n  // Add X axis  \n  var x = d3.scaleLinear()\n    .domain(d3.extent(data, function (d) { return d.year; }))\n    .range([0, s_width]);\n  //---Add the area\n  s_svg.select(\"path\")\n    .datum(data, d => d)\n    .attr(\"id\", \"A\"+path_id)\n    .attr(\"fill\", sparkline_color) //#969696\n    .attr(\"stroke\", sparkline_color)\n    .attr(\"stroke-width\", (d) => {\n      return 1.5\n    })\n    .attr(\"d\", d3.area()\n      .x(function (d) { return x(d.year) })\n      .y0(function () {\n        var y = d3.scaleLinear().domain([0, d3.max(data, function (d) { return +d.rank; })]).range([s_height, 0]);\n        return y(0)\n      })\n      .y1(function (d) {\n        var y = d3.scaleLinear().domain([0, d3.max(data, function (d) { return +d.rank; })]).range([0, s_height]);\n        return y(d.rank)\n      })\n    )\n\n  var div = d3.select(\"body\").append(\"div\")\n    .attr(\"class\", \"tooltip\")\n    .style(\"opacity\", 0);\n  //------------Circles\n  s_svg.selectAll('circle').data(data).enter().append('circle')\n    .attr('cx', function (d, i) { return x(d.year) })\n    .attr('cy', s_height - 2)\n    .attr(\"class\", \"myid\" + className2)\n    .on(\"mouseover\", function (d) {\n      d3.select(this).style('fill', 'black')\n      d3.select(this).attr('r', 2)\n    })\n    .on(\"mouseout\", function (d) {\n      d3.select(this).style('fill', 'transparent')\n      var divid=\"#div\"+className\n      d3.selectAll(divid).remove()\n    })\n    .style('fill', (d) => d.year != year ? 'transparent' : 'black')\n    .attr('class', (d) => d.year != year ? 'transparent_class' : 'red_class')\n    .attr('r', 2)\n    .on('dblclick', (d, i) => {\n      d3.event.preventDefault();\n      appHandleChange(d.year, \"year_changed\")\n    })\n    .on('click', (d) => {\n      d3.select(\"body\").append(\"div\")\n        .attr(\"id\", \"div\"+className)\n        .attr(\"class\", \"tooltip\")\n        .style(\"opacity\", 0)\n        .html(\"<p>\" + \"Year: \" + d.year + \"</p>\" + \"<p>\" + \"Rank: \" + d.rank + \"</p>\")\n        .style(\"left\", ((d) => {\n          var left_div_width = $('.Sidebar_parent').width()\n          return left_div_width - 125 + \"px\"\n        }))\n        .style(\"top\", (d3.event.pageY - 40) + \"px\")\n        .transition()\n        .duration(200)\n        .style(\"opacity\", .97);\n    })\n}","import React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport * as $ from 'jquery';\nimport * as slopechart1 from \"./slopechart1\";\nimport Chart2 from \"../Exp_Chart/Chart2\"\nimport { connect } from \"react-redux\";\nimport Grid from '@material-ui/core/Grid';\nimport Popover from \"../Exp_Chart/Popover/Popover\"\nimport * as Legend from '../Legend'\nclass SlopeChart extends Component {\n  constructor(props) {\n    super(props);\n    this.myRef = React.createRef();\n  }\n  componentDidMount() {\n    this.setState({ random: 0 })\n  }\n  componentDidUpdate(prevProps, prevState) {\n    //---- Animation replay starts\n    if (JSON.stringify(this.props.time_mode_range) != JSON.stringify(prevProps.time_mode_range)) {\n      this.props.Set_prev_prop(prevProps)\n    }\n    if (this.props.time_mode_year1 !== prevProps.time_mode_year1) {\n      this.props.Set_prev_prop(prevProps)\n    }\n    if (this.props.time_mode_year2 !== prevProps.time_mode_year2) {\n      this.props.Set_prev_prop(prevProps)\n    }\n    //---- Animation replay ends\n\n    if (!this.props.replay) { // if replay is false\n      this.props.time_mode_range[0] != prevProps.time_mode_range[0] ? this.task1(\"dont_animate\") : this.task1(\"animate\")\n    }\n    else {\n      this.task1(\"dont_animate\")\n    }\n    this.props.task2()\n  }\n  task1 = (animate) => {\n    var selected_year;\n    if (this.props.model_name == \"Year1\") { selected_year = this.props.time_mode_year1 } else { selected_year = this.props.time_mode_year2 }\n    var state_range = this.props.time_mode_range\n    var mydata3 = { \"A\": [], \"B\": [] }\n    var deviate_by = this.props.deviate_by\n    var selected_by_year_data = this.props.grouped_by_year_data[selected_year] // This is the data passed a dictionay where year is the key\n    var max_rank = selected_by_year_data.length\n    var model_name = this.props.time_mode_model // This is the model name on the right side\n    var cmodel = this.props.cmodel // This is the selected model for color in case of sorting by predicted rank\n    //--------\n    var start_range = state_range != null ? state_range[0] : 10; // range to start\n    if (start_range > 0) { start_range -= 1 } // This is to start from index 0\n    if (start_range < 0) { start_range = 0 } // check if the deviation make the starting range less than the available rank\n    if (start_range < deviate_by) { deviate_by = start_range } // check if the deviation make the starting range less than the available rank\n    start_range = start_range - deviate_by\n    if (start_range < 0) { start_range = 0; deviate_by = 0 }\n    var deviate_check_lower = start_range + deviate_by + 1\n    //-----\n    deviate_by = this.props.deviate_by\n    var end_range = state_range != null ? state_range[1] : 25\n    var deviate_check_upper = end_range // Upper deviation check is this\n    end_range = end_range + deviate_by // changes the end range to include the deviation; next if checks when it goes beyond range\n    if (end_range > max_rank) {\n      deviate_check_upper = end_range - deviate_by; // set the upper range by subtracting the deviation\n      end_range = max_rank\n    }\n\n    for (var i = start_range; i < end_range; i++) {\n      var tempA = {}\n      var tempB = {}\n      tempA[\"Model\"] = model_name\n      tempA[\"name\"] = selected_by_year_data[i][\"State\"]\n      tempA[\"rank\"] = selected_by_year_data[i][\"two_realRank\"]\n      tempB[\"name\"] = selected_by_year_data[i][\"State\"]\n      tempB[\"rank\"] = selected_by_year_data[i][model_name]\n      mydata3[\"A\"].push(tempA)\n      mydata3[\"B\"].push(tempB)\n    }\n    //------------ Slopechart 1\n    slopechart1.CreateSlopeChart1(this.node, mydata3, start_range + 1, end_range, deviate_check_lower,\n      deviate_check_upper, this.props.model_name, selected_year, this.props.appHandleChange,\n      this.props.sparkline_data, this.props.original_data, this.props.histogram_data, this.props.textClickHandler_original,\n      this.color_gen(), animate, this.props.time_mode_model, this.props.config)\n    //------------        \n\n  }\n  color_gen = () => {\n    var selected_year;\n    if (this.props.model_name == \"Year1\") { selected_year = this.props.time_mode_year1 } else { selected_year = this.props.time_mode_year2 }\n    //------------------------------------------------------\n    var deviate_by = this.props.deviate_by\n    var selected_by_year_data = this.props.grouped_by_year_data[selected_year] // This is the data passed a dictionay where year is the key\n    var max_rank = selected_by_year_data.length\n    //--------\n    var start_range = this.props.time_mode_range != null ? this.props.time_mode_range[0] : 10; // range to start\n    if (start_range > 0) { start_range -= 1 } // This is to start from index 0\n    if (start_range < 0) { start_range = 0 } // check if the deviation make the starting range less than the available rank\n    if (start_range < deviate_by) { deviate_by = start_range } // check if the deviation make the starting range less than the available rank\n    start_range = start_range - deviate_by\n    if (start_range < 0) { start_range = 0; deviate_by = 0 }\n    var deviate_check_lower = start_range + deviate_by + 1\n    //-----\n    deviate_by = this.props.deviate_by\n    var end_range = this.props.time_mode_range != null ? this.props.time_mode_range[1] : 25\n    var deviate_check_upper = end_range // Upper deviation check is this\n    end_range = end_range + deviate_by // changes the end range to include the deviation; next if checks when it goes beyond range\n    if (end_range > max_rank) {\n      deviate_check_upper = end_range - deviate_by; // set the upper range by subtracting the deviation\n      end_range = max_rank\n    }\n    //---------------------------------------------------------------------------- Tracking starts here\n    var track_states_ranged_dictionary = {}\n    var track_states_year_data = this.props.grouped_by_year_data[selected_year] // when tracking is not activated we use selected year for color\n    var track_states_ranged_dictionary = {}\n    for (var i = deviate_check_lower - 1; i < deviate_check_upper; i++) {\n      track_states_ranged_dictionary[track_states_year_data[i][\"State\"]] = track_states_year_data[i][\"two_realRank\"]\n    }\n    var min = deviate_check_lower;\n    var max = deviate_check_upper;\n    var d = (max - min) / 8;\n    var line_color2 = d3.scaleLinear().domain([min + d * 7, min + d * 6, min + d * 5, min + d * 4, min + d * 3, min + d * 2, min]).interpolate(d3.interpolateRgb).range(['#00429d', '#4771b2', '#73a2c6', '#a5d5d8', /*'#ffffe0',*/ '#ffbcaf', '#f4777f', '#cf3759', '#93003a']);\n    var Rgbdict = {}\n    for (var key in track_states_ranged_dictionary) {\n      Rgbdict[key] = line_color2(track_states_ranged_dictionary[key])\n    }\n    this.line_color = d3.scaleOrdinal().domain(Object.keys(Rgbdict)).range(Object.values(Rgbdict))\n    Legend.createLegend(\"legend\",[min,max],Rgbdict) \n    //---------------------------------------------------------------------------- Tracking ends here \n    return this.line_color\n  }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  render() {\n    return (\n      this.props.show.includes(\"Explanation\") ? <Grid container style={{ width: \"49.5%\", marginRight: \"0.5%\", marginTop: \"0.5%\", paddingRight: 0, border: \"1px solid #eaeaea\"}} className=\"slopechart\">\n        <Grid item xs=\"6\" className=\"slopechart_col\">\n          <div className=\"slope_chart_title\">\n            <p>True Rank</p>\n            <p className=\"model_title\">{this.props.model_name == \"Year1\" ? \"Year 1\" : \"Year 2\"}</p>\n            <p>Predicted Rank</p>\n          </div>\n          <div className=\"mysvg\" ref={node => this.node = node}><svg id={this.props.model_name}><g id=\"myg\"></g></svg></div>\n        </Grid>\n        <Grid item xs=\"6\" className=\"exp_chart\" >\n          {this.props.time_mode_model != \"ListNet\" ? <Chart2\n            textClickHandler_original={this.props.textClickHandler_original}\n            color_gen={this.color_gen()}\n            model_name={this.props.time_mode_model}\n            model_name2={this.props.model_name}\n            state_range={this.props.time_mode_range}\n            selected_year={this.props.model_name == \"Year1\" ? this.props.time_mode_year1 : this.props.time_mode_year2}\n            grouped_by_year_data={this.props.grouped_by_year_data}\n            defualt_models={[this.props.time_mode_model]}\n          >\n          </Chart2> : <div className=\"not_avail\"><h3>NOT AVAILABLE</h3></div>}\n          {this.props.popup_chart_data != null && this.props.myindex == 0 ? <Popover defualt_models={[this.props.time_mode_model]} color_gen={this.color_gen()} textClickHandler_original={this.props.textClickHandler_original}></Popover> : null}\n        </Grid>\n      </Grid > :\n        <Grid item className=\"slopechart_col\" style={{ marginTop: 5, border: \"1px solid #eaeaea\", width: \"48%\", marginRight: \"1%\" }}>\n          <div className=\"slope_chart_title\">\n            <p>True Rank</p>\n            <p className=\"model_title\">{this.props.time_mode_model} ({this.props.model_name == \"Year1\" ? this.props.time_mode_year1 : this.props.time_mode_year2})</p>\n            <p>Predicted Rank</p>\n          </div>\n          <div className=\"mysvg\" ref={node => this.node = node}><svg id={this.props.model_name}><g id=\"myg\"></g></svg></div>\n        </Grid>\n    );\n  }\n\n}\n\n\nconst maptstateToprop = (state) => {\n  return {\n    selected_year: state.selected_year,\n    time_mode_model: state.time_mode_model,\n    time_mode_range: state.time_mode_range,\n    deviate_by: state.deviate_by,\n    time_mode_year1: state.time_mode_year1,\n    time_mode_year2: state.time_mode_year2,\n    clicked_items_in_slopechart: state.clicked_items_in_slopechart,\n    replay: state.replay,\n    popup_chart_data: state.popup_chart_data,\n    config: state.config,\n    show: state.show,\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_prev_prop: (val) => dispatch({ type: \"prev_prop\", value: val }),\n    Set_defualt_models: (val) => dispatch({ type: \"defualt_models\", value: val }),\n    Set_sparkline_data: (val) => dispatch({ type: \"sparkline_data\", value: val }),\n    Set_clicked_items_in_slopechart: (val) => dispatch({ type: \"clicked_items_in_slopechart\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(SlopeChart);","\nimport * as d3 from 'd3';\nimport * as $ from 'jquery';\nimport * as sparkline1 from \"./sparkline1\";\nimport * as sparkline2 from \"./sparkline2\";\nexport function CreateSlopeChart1(node, grouped_by_year_data, start_range, end_range, deviate_check_lower, deviate_check_upper, \n  model_name, year, appHandleChange, sparkline_data, original_data, histogram_data, textClickHandler_original, line_color, \n  animate, actual_model_for_range_and_time_mode,config) {\n  var base_height_between=18\n  // we don't need the delay here because the animations are happening one after the another\n  var slope_chart_anim1 = config.animation1\n  var slope_chart_anim2 = config.animation2\n  var number_of_elements = (end_range - start_range); // \n  var all_together = [];\n  grouped_by_year_data[\"A\"].forEach(function (d) { all_together.push(d); });\n  grouped_by_year_data[\"B\"].forEach(function (d) { all_together.push(d); });\n  var nestedByName = d3.nest().key(function (d) { return d.name }).entries(all_together);\n  //----------------------------------------------------------------------------------------------Height management\n  var margin = { top: 10, right: 70, bottom: 10, left: 160 };\n  var slopechart_col_height = $('.slopechart_container').height(),\n    slopechart_col_width = $('.slopechart_col').width(),\n    width = slopechart_col_width - margin.left - margin.right;\n  var height_between = slopechart_col_height / number_of_elements\n  if(height_between<base_height_between){height_between=base_height_between}\n  var height = (number_of_elements * height_between)-10 // -10 is the bottom margin\n  \n  d3.selectAll(\".slopechart_col\").style(\"height\",height+\"px\");\n  d3.selectAll(\".exp_chart\").style(\"height\", height + \"px\");\n\n  height = height - 45 // This height is going to be used for slopechart\n  var config = { yOffset: 0, width: width, height: height, labelGroupOffset: 1, labelKeyOffset: 55, radius: 3, sparkline_height: height_between }\n  //----------------------------------------------------------------------------------------------Height management\n  var yScale = d3.scaleLinear().range([0, height]).domain([start_range, end_range]);\n  var var_to_lift_up = yScale(nestedByName[0].values[0].rank); // nestedByName[5] places the 5th element at the beginning\n  var svg = d3.select(\"#\" + model_name).attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom)\n    .select(\"#myg\").attr('transform', `translate(150,10)`)\n\n  var borderLines = svg.selectAll(\".border-lines\").data([0]).join(\"g\").attr(\"class\", \"border-lines\") //--Ractangle that sets the boundary of lines  \n  borderLines.selectAll(\".line1\").data([0]).join(\"line\").attr(\"class\", \"line1\").attr(\"fill\", \"black\").attr(\"x1\", 0).attr(\"y1\", 0).attr(\"x2\", 0).attr(\"y2\", config.height); // left line x1,x2,y1 0 and y2 is the height\n  borderLines.selectAll(\".line2\").data([0]).join(\"line\").attr(\"class\", \"line2\").attr(\"fill\", \"black\").attr(\"x1\", width).attr(\"y1\", 0).attr(\"x2\", width).attr(\"y2\", config.height); // right line starts at x1,x2 at width and goes until height\n  //---------\n  var slopeGroups_upd = svg.selectAll(\".datapoint\").data(nestedByName, d => {\n    if (d !== undefined) {\n      return d.key;\n    }\n  }).join(onEnter, onUpdate, onExit)\n  //-----------------------------------------------------------------------------------------------------------------------------------------Enter function starts here\n  function onEnter(selection) {\n\n    const makeDatapoint = g => {\n      //-----------------------------------------------------------------------------------------------------------------------------------------state name text starts here\n      g.append(\"text\")\n        .attr(\"x\", d => -config.labelGroupOffset)\n        .attr(\"y\", d => yScale(d.values[0].rank) - var_to_lift_up)\n        .attr(\"dx\", -config.labelKeyOffset)\n        .attr(\"dy\", 3)\n        .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n        .attr(\"class\", (d) => {\n          return \"myid\" + d.values[0].rank + \" state_name\" + \" slopechart_text\"\n        })\n        .attr(\"text-anchor\", \"end\")\n        .on(\"mouseover\", function (d) { //-------Tooltip starts\t\t\n          var div = d3.select(\"body\").append(\"div\")\n            .attr(\"id\", \"div\" + d.key.replace(/ +/g, \"\"))\n            .attr(\"class\", \"tooltip\")\n            .style(\"opacity\", 0)\n          div.transition()\n            .duration(200)\n            .style(\"opacity\", .97)\n          div.html(\"<p>\" + d.key + \"</p>\" + \"<p>\" + \"Predicted rank: \" + d.values[1].rank + \"</p>\")\n            .style(\"left\", ((d) => {\n              var left_div_width = $('.Sidebar_parent').width()\n              return left_div_width - 125 + \"px\"\n            }))\n            .style(\"top\", (d3.event.pageY - 40) + \"px\");\n        })\n        .on(\"mouseout\", function (d) {\n          var myid = \"#div\" + d.key.replace(/ +/g, \"\")\n          d3.select(\"body\").selectAll(\".tooltip\").transition()\n            .duration(500)\n            .style(\"opacity\", 0).remove();\n        }) // Tooltip ends\n        .on(\"click\", function (d) {\n          return textClickHandler_original(\"A\" + d.key)\n          /*\n          if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) {\n            if (clicked_items_in_slopechart.includes(d.key.replace(/ +/g, \"\"))) { return textClickHandler_original(\"A\"+d.key) }\n          }\n          else { return textClickHandler_original(\"A\"+d.key) }\n          */\n        })\n        .text(d => {\n          var val = d.key\n          if (val.length > 15) { val = val.replace(\"University\", \"U\") }\n          return val.length > 15 ? val.substring(0, 15) : val\n        })\n        .attr(\"fill\", function (d) {\n          if (d.values[0].rank < deviate_check_lower) {\n            return \"rgb(110, 112, 112,.5)\";\n          }\n          else if (d.values[0].rank > deviate_check_upper) {\n            return \"rgb(110, 112, 112,.5)\";\n          }\n          else {\n            return line_color(d.key);\n          }\n        }) //state name text ends here\n      //-----------------------------------------------------------------------------------------------------------------------------------------Left sparkline starts here\n      g.append(\"svg\")\n        .attr('class', d => \"svg1 \" + model_name + d.values[1].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '') + 'original')\n        .attr(\"x\", d => {\n          return -config.labelGroupOffset - config.labelKeyOffset + 3;\n        })\n        .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n        .attr(\"y\", d => yScale(d.values[0].rank) - var_to_lift_up - 14)\n        .append(\"path\")\n        .attr(\"class\", \"mypath\")\n        .attr(\"opacity\", d => {\n          var className = model_name + d.values[1].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '') + 'original'\n          if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) { var sparkline_color = \"grey\" } else { var sparkline_color = line_color(d.key) }\n          sparkline1.sparklineGen(className, sparkline_data, d.key.replace(/ /g, '').replace(/[^\\w\\s]/gi, ''), d.key, year, appHandleChange, d.values[0].rank, sparkline_color, d.key.replace(/ +/g, \"\"))\n          return 1;\n        }\n        )\n      //-----------------------------------------------------------------------------------------------------------------------------------------Left rank text starts here\n      g.append(\"text\")\n        .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n        .attr(\"class\", (d) => \"myid\" + d.values[0].rank + \" left_rank_text\" + \" slopechart_text\")\n        .attr(\"x\", d => -config.labelGroupOffset)\n        .attr(\"y\", d => yScale(d.values[0].rank) - var_to_lift_up)\n        .attr(\"dx\", -10)\n        .attr(\"dy\", 3)\n        .attr(\"text-anchor\", \"end\")\n        .text(d => (d.values[0].rank))\n        .attr(\"fill\", function (d) {\n          if (d.values[0].rank < deviate_check_lower) {\n            return \"rgb(110, 112, 112,.5)\";\n          }\n          else if (d.values[0].rank > deviate_check_upper) {\n            return \"rgb(110, 112, 112,.5)\";\n          }\n          else {\n            return line_color(d.key);\n          }\n        }); //rank text ends here\n      //-----------------------------------------------------------------------------------------------------------------------------------------circle starts\n      g.append(\"circle\")\n        .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n        .attr(\"r\", d => {\n          if (d.values[0].rank < deviate_check_lower) {\n            return 0\n          }\n          else if (d.values[0].rank > deviate_check_upper) {\n            return 0\n          }\n          else { return config.radius }\n        })\n        .attr(\"cy\", d => yScale(d.values[0].rank) - var_to_lift_up)\n        .attr(\"class\", (d) => {\n          return d.values[0].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '') + \" myid\" + d.values[0].rank + \" left_circle\"\n        })\n        .attr(\"fill\", function (d) {\n          if (d.values[0].rank < deviate_check_lower) {\n            //return line_color(d);\n            return \"rgb(110, 112, 112,.5)\";\n          }\n          else if (d.values[0].rank > deviate_check_upper) {\n            //return line_color(d);\n            return \"rgb(110, 112, 112,.5)\";\n          }\n          else {\n            return line_color(d.key);\n          }\n        }); //circle ends\n      //-----------------------------------------------------------------------------------------------------------------------------------------Slope lines starts here\n      g.append(\"line\")\n        .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n        .attr(\"class\", (d) => \"slope-line myid\" + d.values[0].rank)\n        .attr(\"x1\", 0)\n        .attr(\"x2\", config.width)\n        .on(\"click\", function (d) {\n          return textClickHandler_original(\"A\" + d.key)\n          // if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) { } else { return textClickHandler_original(\"A\"+d.key) }\n        })\n        .attr(\"y1\", function (d) {\n          return yScale(d.values[0].rank) - var_to_lift_up;\n        })\n        .attr(\"y2\", function (d) {\n          return yScale(d.values[1].rank) - var_to_lift_up;\n        })\n        .attr(\"stroke\", (d) => {\n          if (d.values[0].rank < deviate_check_lower) {\n            return \"transparent\";\n          }\n          else if (d.values[0].rank > deviate_check_upper) {\n            return \"transparent\";\n          }\n          else {\n            return line_color(d.key)\n          }\n        })\n\n\n\n      //-----------------------------------------------------------------------------------------------------------------------------------------Right side   \n      //-----------------------------------------------------------------------------------------------------------------------------------------Right circle starts here      \n      g.append(\"circle\")\n        .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n        .attr(\"cy\", d => yScale(d.values[1].rank) - var_to_lift_up).attr(\"class\", (d) => {\n          return d.values[0].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '') + \" right_circle myid\" + d.values[0].rank\n        })\n        .attr(\"r\", d => {\n          if (d.values[0].rank < deviate_check_lower) {\n            return 0\n          }\n          else if (d.values[0].rank > deviate_check_upper) {\n            return 0\n          }\n          else { return config.radius }\n        })\n        .attr(\"cx\", config.width)\n        .attr(\"fill\", (d) => {\n          if (!(d.values[0].rank < deviate_check_lower | d.values[0].rank > deviate_check_upper)) {\n            return line_color(d.key);\n          }\n        });\n      //-----------------------------------------------------------------------------------------------------------------------------------------Right text - Ranks starts here\n      g.append(\"text\")\n        .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n        .attr(\"class\", (d) => \"slopechart_text right_rank_text myid\" + d.values[0].rank)\n        .attr(\"x\", d => width + config.labelGroupOffset)\n        .attr(\"y\", d => yScale(d.values[1].rank) - var_to_lift_up)\n        .attr(\"dx\", 10)\n        .attr(\"dy\", 3)\n        .attr(\"text-anchor\", \"start\")\n        .text(d => {\n          if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) {\n            return \"\";\n          }\n          else {\n            return d.values[1].rank\n          }\n        })\n        .attr(\"fill\", function (d) {\n          if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) {\n            return \"\";\n          }\n          else {\n            return line_color(d.key)\n          }\n        })\n        .on(\"click\", function (d) {\n          return textClickHandler_original(\"A\" + d.key)\n          // if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) { } else { return textClickHandler_original(\"A\"+d.key) }\n        }); //Text - Ranks ends here\n      //-----------------------------------------------------------------------------------------------------------------------------------------Right sparkline starts here\n      g.append(\"svg\")\n        .attr('class', d => \"svg2 \" + model_name.replace(\".\", \"stupid\") + d.values[1].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '').split('.').join(' '))\n        .attr(\"x\", d => {\n          return width + config.labelGroupOffset + 25\n        })\n        .attr(\"y\", d => yScale(d.values[1].rank) - var_to_lift_up - 14)\n        .attr(\"width\", d => {\n          if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) {\n            return 0;\n          }\n        })\n        .append(\"path\")\n        .attr(\"class\", \"mypath2\")\n        .attr(\"opacity\", d => {\n          if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) { } else {\n            var className = model_name.replace(\".\", \"stupid\") + d.values[1].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '').split('.').join(' ')\n            sparkline2.sparklineGen(className, sparkline_data, d.key.replace(/ /g, '').replace(/[^\\w\\s]/gi, ''), actual_model_for_range_and_time_mode, original_data, d.key, year, appHandleChange, d.values[0].rank, line_color(d.key), d.key.replace(/ +/g, \"\"))\n            return 1;\n          }\n        })\n    }\n    return selection\n      .append(\"g\")\n      .attr(\"class\", \"datapoint\")\n      .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n      .call(makeDatapoint);\n  }\n  //-----------------------------------------------------------------------------------------------------------------------------------------Onupdate starts here\n  function onUpdate(selection) {\n\n    //-----------------------------------------------------------------------------------------------------------------------------------------state name text ends here\n    selection.select(\".state_name\")\n      .attr(\"x\", -config.labelGroupOffset)\n      .attr(\"dx\", -config.labelKeyOffset)\n      .attr(\"dy\", 3)\n      .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n      .attr(\"class\", (d) => {\n        return \"slopechart_text myid\" + d.values[0].rank + \" state_name\"\n      })\n      .attr(\"text-anchor\", \"end\")\n      .on(\"mouseover\", function (d) { //-------Tooltip starts\t\t\n        var div = d3.select(\"body\").append(\"div\")\n          .attr(\"id\", \"div\" + d.key.replace(/ +/g, \"\"))\n          .attr(\"class\", \"tooltip\")\n          .style(\"opacity\", 0)\n        div.transition()\n          .duration(100)\n          .style(\"opacity\", .97)\n        div.html(\"<p>\" + d.key + \"</p>\" + \"<p>\" + \"Predicted rank: \" + d.values[1].rank + \"</p>\")\n          .style(\"left\", ((d) => {\n            var left_div_width = $('.Sidebar_parent').width()\n            return left_div_width - 125 + \"px\"\n          }))\n          .style(\"top\", (d3.event.pageY - 40) + \"px\");\n      })\n      .on(\"mouseout\", function (d) {\n        var myid = \"#div\" + d.key.replace(/ +/g, \"\")\n        d3.select(\"body\").selectAll(\".tooltip\").transition()\n          .duration(500)\n          .style(\"opacity\", 0).remove();\n      }) // Tooltip ends\n      .on(\"click\", function (d) {\n        return textClickHandler_original(\"A\" + d.key)\n        /*\n        if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) {\n          if (clicked_items_in_slopechart.includes(d.key.replace(/ +/g, \"\"))) { return textClickHandler_original(\"A\"+d.key) }\n        }\n        else { return textClickHandler_original(\"A\"+d.key) }\n        */\n      })\n      .text(d => {\n        var val = d.key\n        if (val.length > 15) { val = val.replace(\"University\", \"U\") }\n        return val.length > 15 ? val.substring(0, 15) : val\n      })\n      .attr(\"fill\", function (d) {\n        if (d.values[0].rank == 23) {\n\n        }\n        if ((d.values[0].rank < deviate_check_lower) || (d.values[0].rank > deviate_check_upper)) {\n          return \"rgb(110, 112, 112,.5)\";\n        }\n        else {\n          return line_color(d.key);\n        }\n      }).transition().duration(d => {\n        if (animate == \"animate\") {\n          return slope_chart_anim1\n        }\n        else {\n          return 0\n        }\n      })\n      .attr(\"y\", d => yScale(d.values[0].rank) - var_to_lift_up)\n    //state name text ends here\n    //-----------------------------------------------------------------------------------------------------------------------------------------Left sparkline starts here\n    selection.select(\".svg1\")\n      .attr('class', d => \"svg1 \" + model_name + d.values[1].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '') + 'original')\n      .attr(\"x\", d => {\n        var className = model_name + d.values[1].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '') + 'original'\n        if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) { var sparkline_color = \"grey\" } else { var sparkline_color = line_color(d.key) }\n        sparkline1.sparklineGen(className, sparkline_data, d.key.replace(/ /g, '').replace(/[^\\w\\s]/gi, ''), d.key, year, appHandleChange, d.values[0].rank, sparkline_color, d.key.replace(/ +/g, \"\"))\n        return -config.labelGroupOffset - config.labelKeyOffset + 3;\n      })\n      .transition().duration(d => {\n        if (animate == \"animate\") {\n          return slope_chart_anim1\n        }\n        else {\n          return 0\n        }\n      })\n      .attr(\"y\", d => yScale(d.values[0].rank) - var_to_lift_up - 14)\n      .attr(\"opacity\", 1)\n    //-----------------------------------------------------------------------------------------------------------------------------------------Left rank text starts here\n    selection.select(\".left_rank_text\")\n      .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n      .attr(\"class\", (d) => \"slopechart_text myid\" + d.values[0].rank + \" left_rank_text\")\n      .attr(\"x\", d => -config.labelGroupOffset)\n      .attr(\"dx\", -10)\n      .attr(\"dy\", 3)\n      .attr(\"text-anchor\", \"end\")\n      .text(d => (d.values[0].rank))\n      .attr(\"fill\", function (d) {\n        if (d.values[0].rank < deviate_check_lower) {\n          return \"rgb(110, 112, 112,.5)\";\n        }\n        else if (d.values[0].rank > deviate_check_upper) {\n          return \"rgb(110, 112, 112,.5)\";\n        }\n        else {\n          return line_color(d.key);\n        }\n      })\n      .transition().duration(d => {\n        if (animate == \"animate\") {\n          return slope_chart_anim1\n        }\n        else {\n          return 0\n        }\n      })\n      .attr(\"y\", d => yScale(d.values[0].rank) - var_to_lift_up); //rank text ends here\n\n    //-----------------------------------------------------------------------------------------------------------------------------------------Left circle starts here\n    selection.select(\".left_circle\")\n      .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n      .attr(\"r\", d => {\n        if (d.values[0].rank < deviate_check_lower) {\n          return 0\n        }\n        else if (d.values[0].rank > deviate_check_upper) {\n          return 0\n        }\n        else { return config.radius }\n      })\n      .attr(\"class\", (d) => {\n        return d.values[0].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '') + \" myid\" + d.values[0].rank + \" left_circle\"\n      })\n      .attr(\"fill\", function (d) {\n        if (d.values[0].rank < deviate_check_lower) {\n          //return line_color(d);\n          return \"rgb(110, 112, 112,.5)\";\n        }\n        else if (d.values[0].rank > deviate_check_upper) {\n          //return line_color(d);\n          return \"rgb(110, 112, 112,.5)\";\n        }\n        else {\n          return line_color(d.key);\n        }\n      })\n      .transition().duration(d => {\n        if (animate == \"animate\") {\n          return slope_chart_anim1\n        }\n        else {\n          return 0\n        }\n      })\n      .attr(\"cy\", d => yScale(d.values[0].rank) - var_to_lift_up); //left circle ends\n    //----------------------------------------------------------------------------------------------------------------------------------------- Slope lines starts here\n\n    selection.select(\".slope-line\")\n      .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n      .attr(\"class\", (d) => \"slope-line myid\" + d.values[0].rank)\n      .attr(\"x1\", 0)\n      .attr(\"x2\", config.width)\n      .on(\"click\", function (d) {\n        return textClickHandler_original(\"A\" + d.key)\n        // if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) { } else { return textClickHandler_original(\"A\"+d.key) }\n      })\n      .attr(\"stroke\", (d) => {\n        if (d.values[0].rank < deviate_check_lower) {\n          return \"transparent\";\n        }\n        else if (d.values[0].rank > deviate_check_upper) {\n          return \"transparent\";\n        }\n        else {\n          return line_color(d.key)\n        }\n      })\n      .transition().duration(d => {\n        if (animate == \"animate\") {\n          return slope_chart_anim1\n        }\n        else {\n          return 0\n        }\n      })\n      .attr(\"y1\", function (d) {\n        return yScale(d.values[0].rank) - var_to_lift_up;\n      })\n      .transition().duration(d => { // we don't need to set delay here because this is happening one after another\n        if (animate == \"animate\") {\n          return slope_chart_anim2\n        }\n        else {\n          return 0\n        }\n      })\n      .attr(\"y2\", function (d) {\n        return yScale(d.values[1].rank);\n      }) // Right slope lines ends here\n    //-----------------------------------------------------------------------------------------------------------------------------------------Right side  \n    //-----------------------------------------------------------------------------------------------------------------------------------------Right circle starts here      \n    selection.select(\".right_circle\")\n      .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n      .attr(\"class\", (d) => {\n        return d.values[0].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '') + \" right_circle myid\" + d.values[0].rank\n      })\n      .attr(\"r\", d => {\n        if (d.values[0].rank < deviate_check_lower) {\n          return 0\n        }\n        else if (d.values[0].rank > deviate_check_upper) {\n          return 0\n        }\n        else { return config.radius }\n      })\n      .attr(\"cx\", config.width)\n      .attr(\"cy\", d => {\n        return yScale(d.values[1].rank) - var_to_lift_up\n      })\n      .attr(\"fill\", (d) => {\n        if (!(d.values[0].rank < deviate_check_lower | d.values[0].rank > deviate_check_upper)) {\n          return line_color(d.key);\n        }\n      });\n    //-----------------------------------------------------------------------------------------------------------------------------------------Right text rank starts here\n    selection.select(\".right_rank_text\")\n      .attr(\"class\", (d) => \"slopechart_text right_rank_text myid\" + d.values[0].rank)\n      .attr(\"x\", d => width + config.labelGroupOffset)\n      .attr(\"y\", d => yScale(d.values[1].rank) - var_to_lift_up)\n      .attr(\"dx\", 10)\n      .attr(\"dy\", 3)\n      .attr(\"text-anchor\", \"start\")\n      .text(d => {\n        if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) {\n          return \"\";\n        }\n        else {\n          return d.values[1].rank\n        }\n      })\n      .attr(\"fill\", function (d) {\n        if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) {\n          return \"\";\n        }\n        else {\n          return line_color(d.key)\n        }\n      })\n      .on(\"click\", function (d) {\n        return textClickHandler_original(\"A\" + d.key)\n        // if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) { } else { return textClickHandler_original(\"A\"+d.key) }\n      }); //Text - Ranks ends here\n    //-----------------------------------------------------------------------------------------------------------------------------------------Right sparkline starts here\n    selection.select(\".svg2\")\n      .attr('class', d => \"svg2 \" + model_name.replace(\".\", \"stupid\") + d.values[1].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '').split('.').join(' '))\n      .attr(\"x\", d => {\n        var className = model_name.replace(\".\", \"stupid\") + d.values[1].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '').split('.').join(' ')\n        sparkline2.sparklineGen(className, sparkline_data, d.key.replace(/ /g, '').replace(/[^\\w\\s]/gi, ''), actual_model_for_range_and_time_mode, original_data, d.key, year, appHandleChange, d.values[0].rank, line_color(d.key), d.key.replace(/ +/g, \"\"))\n        return width + config.labelGroupOffset + 27\n      })\n      .attr(\"y\", d => yScale(d.values[1].rank) - var_to_lift_up - 14)\n      .attr(\"width\", d => {\n        if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) {\n          return 0;\n        }\n      })\n\n  }\n\n  function onExit(selection) {\n    selection.remove();\n  }\n}\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Fade from '@material-ui/core/Fade';\nimport { connect } from \"react-redux\";\nimport * as algo1 from \"../../Algorithms/algo1\";\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nfunction FadeMenu(props) {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const open = Boolean(anchorEl);\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  //------------For list and chckbox\n  const [checked, setChecked] = React.useState([0]);\n  const [selected_states, setSelected_states] = React.useState([]);\n  const handleToggle = (value) => () => {\n    const currentIndex = checked.indexOf(value);\n    const newChecked = [...checked];\n\n    if (currentIndex === -1) {\n      newChecked.push(value);\n    } else {\n      newChecked.splice(currentIndex, 1);\n    }\n    setChecked(newChecked);\n  };\n  //----------------\n  const show_checkboxChanged = (event) => {\n    var myfunc = props.appHandleChange\n    myfunc(event.target.value, \"show_checkboxChanged\")\n  }\n  const checkboxChanged = (event) => {\n    var temp_Models;\n    if (props.defualt_models.includes(event.target.value)) {\n      temp_Models = props.defualt_models.filter(item => {\n        if (item != event.target.value)\n          return item\n      })\n      temp_Models = algo1.sort(props.sort_by, props.state_range, temp_Models, props.selected_year, props.grouped_by_year_data)[0];\n      props.Set_defualt_models(temp_Models)\n      props.Set_pop_over_models(temp_Models)\n    }\n    else {\n      temp_Models = props.defualt_models\n      temp_Models.push(event.target.value)\n      temp_Models = algo1.sort(props.sort_by, props.state_range, temp_Models, props.selected_year, props.grouped_by_year_data)[0];\n      props.Set_defualt_models(temp_Models)\n      props.Set_pop_over_models(temp_Models)\n    }\n    var myfunc = props.appHandleChange\n    myfunc(event.target.value, \"clicked_model\")\n  }\n  return (\n    <div style={{ borderRight: \"1px dashed #eaeaea\" }}>\n      <Button aria-controls=\"fade-menu\" aria-haspopup=\"true\" onClick={handleClick}>\n        Select Model\n        <ArrowDropDownIcon></ArrowDropDownIcon>\n      </Button>\n      <Menu\n        id=\"fade-menu\"\n        anchorEl={anchorEl}\n        keepMounted\n        open={open}\n        onClose={handleClose}\n        TransitionComponent={Fade}\n      >\n        <div className=\"CheckboxContainer\">\n          <List>\n            {[ \"MART\",\"RandomFor\",\"LinearReg\",\"CordAscent\", \"LambdaMART\", \"LambdaRank\",\"RankBoost\", \"RankNet\"].map((value) => {\n              const labelId = `checkbox-list-label-${value}`;\n              return (\n                <ListItem key={value} role={undefined} onClick={handleToggle(value)}>\n                  <Checkbox\n                    checked={props.defualt_models.includes(value)}\n                    edge=\"start\"\n                    tabIndex={-1}\n                    value={value}\n                    onChange={(event, value) => {\n                      checkboxChanged(event, value)\n                    }\n                    }\n                  />\n                  <p className=\"list_item_label\" id={labelId}>{value}</p>\n                </ListItem>\n              );\n            })}\n          </List>\n        </div>\n      </Menu>\n    </div>\n  );\n}\nconst maptstateToprop = (state) => {\n  return {\n    defualt_models: state.defualt_models,\n    sort_by: state.sort_by,\n    state_range: state.state_range,\n    selected_year: state.selected_year,\n    grouped_by_year_data: state.grouped_by_year_data,\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_defualt_models: (val) => dispatch({ type: \"defualt_models\", value: val }),\n    Set_pop_over_models: (val) => dispatch({ type: \"pop_over_models\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(FadeMenu);\n//https://material-ui.com/components/menus/\n","import React from 'react';\nimport { connect } from \"react-redux\";\nimport Button from '@material-ui/core/Button';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport Radio from '@material-ui/core/Radio';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport Menu from '@material-ui/core/Menu';\nimport Fade from '@material-ui/core/Fade';\nimport * as algo1 from \"../../Algorithms/algo1\";\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nfunction Sort(props) {\n    const [anchorEl, setAnchorEl] = React.useState(null);\n    const [sort_by, set_sort_by] = React.useState(props.sort_by);\n    const open = Boolean(anchorEl);\n    const handleClick = (event) => {\n        setAnchorEl(event.currentTarget);\n    };\n    const handleClose = () => {\n        setAnchorEl(null);\n    };\n    const handleradioChange = (event) => {\n        set_sort_by(event.target.value)\n        if(event.target.value==\"None\"){var val=\"Alphabetically\"}\n        else{var val=event.target.value}\n        props.Set_sort_by(val)\n        var temp_Models = algo1.sort(val, props.state_range, props.defualt_models, props.selected_year,props.grouped_by_year_data)[0];\n        var default_model_scores = algo1.sort(val, props.state_range, props.defualt_models, props.selected_year,props.grouped_by_year_data)[1];\n        props.Set_default_model_scores(default_model_scores)\n        props.Set_defualt_models(temp_Models)\n      };\n    return (\n        <div className=\"sort\" style={{borderRight:\"1px dashed #eaeaea\"}}>\n            <Button aria-controls=\"fade-menu\" aria-haspopup=\"true\" onClick={handleClick}>Select Metrics <ArrowDropDownIcon></ArrowDropDownIcon></Button>\n            <Menu\n                id=\"fade-menu\"\n                anchorEl={anchorEl}\n                keepMounted\n                open={open}\n                onClose={handleClose}\n                TransitionComponent={Fade}\n            >\n            <FormControl component=\"fieldset\">\n                <FormLabel component=\"legend\"></FormLabel>\n                <RadioGroup aria-label=\"gender\" name=\"gender1\" value={sort_by} onChange={handleradioChange}>\n                    {['Discounted Cumulative Gain', 'Average Precision', 'None'].map((value) => {\n                        return <FormControlLabel value={value} control={<Radio />} label={value} />\n                    })}\n                </RadioGroup>\n            </FormControl>\n            </Menu>\n        </div>\n    );\n}\nconst maptstateToprop = (state) => {\n    return {\n        defualt_models: state.defualt_models,\n        sort_by:state.sort_by,\n        state_range: state.state_range,\n        selected_year: state.selected_year,\n        grouped_by_year_data:state.grouped_by_year_data,\n    }\n}\nconst mapdispatchToprop = (dispatch) => {\n    return {\n        Set_sort_by: (val) => dispatch({ type: \"sort_by\", value: val }),\n        Set_defualt_models: (val) => dispatch({ type: \"defualt_models\", value: val }),\n        Set_default_model_scores: (val) => dispatch({ type: \"default_model_scores\", value: val }),\n    }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Sort);\n//https://material-ui.com/components/menus/\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport \"./TopBar.scss\";\nimport TextField from '@material-ui/core/TextField';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport * as d3 from 'd3';\nimport DefaultModels from './DefaultModels'\nimport Sort from './Sort'\nimport { connect } from \"react-redux\";\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\nimport * as algo1 from \"../../Algorithms/algo1\"\nconst useStyles = makeStyles((theme) => ({\n  MuiAutocompleteroot: {\n    marginTop: 0,\n  },\n  root: {\n    width: '100%',\n  },\n  listroot: {\n    width: '100%',\n    maxWidth: 360,\n  },\n  paper: {\n  },\n  heading: {\n    fontSize: theme.typography.pxToRem(15),\n    fontWeight: theme.typography.fontWeightRegular,\n  },\n}));\nfunction TopBar(props) {\n  const classes = useStyles();\n  const handleyearChange = (event, value, reason) => {\n    if (reason == 'select-option') {\n      props.Set_selected_year(value)\n      var myfunc = props.appHandleChange\n      myfunc(value, \"year_changed\")\n    }\n  };\n  var handle_year_click = (year) => {\n    if(year==\"All\"){props.Set_selected_years([...props.years_for_dropdown])}\n    else{\n      if (props.selected_years.includes(year)) {\n        props.Set_selected_years(props.selected_years.filter(item=>item!=year))\n      }\n      else {\n        props.Set_selected_years([...props.selected_years,year])\n      }  \n    }\n  }\n  var handle_model_click=(model)=>{\n    if(model==\"All\"){props.Set_defualt_models([...props.all_models])}\n    else if(model==\"Average\"){props.Set_average_m(!props.average_m)}\n    else{\n      if (props.defualt_models.includes(model)) {\n        props.Set_defualt_models(props.defualt_models.filter(item=>item!=model))\n      }\n      else {\n        props.Set_defualt_models([...props.defualt_models,model])\n      }  \n    }\n  }\n  return (\n    <div>\n    <div><h5 style={{ display: \"inline-block\", marginLeft: 30 }}>Years:</h5>{props.years_for_dropdown.map(item => <p className={props.selected_years.includes(item) ? \"years_p_selected years_p\" : \"years_p\"} onClick={() => handle_year_click(item)}>{item}</p>)}<p className=\"years_p\" style={{ display: \"inline-block\"}} onClick={() => handle_year_click(\"All\")}>All</p> <p className=\"years_p\" style={{ display: \"inline-block\"}}>Average</p></div>\n    <div><h5 style={{ display: \"inline-block\", marginLeft: 30 }}>Models:</h5>{props.all_models.map(item => <p className={props.defualt_models.includes(item) ? \"years_p_selected years_p\" : \"years_p\"} onClick={() => handle_model_click(item)}>{item}</p>)}<p className=\"years_p\" style={{ display: \"inline-block\"}} onClick={() => handle_model_click(\"All\")}>All</p> <p className={props.average_m ? \"years_p_selected years_p\" : \"years_p\"} style={{ display: \"inline-block\"}} onClick={() => handle_model_click(\"Average\")}>Average</p></div>\n    </div>\n  );\n}\nconst maptstateToprop = (state) => {\n  return {\n    all_models:state.all_models,\n    selected_years: state.selected_years,\n    tracking: state.tracking,\n    selected_year: state.selected_year,\n    years_for_dropdown: state.years_for_dropdown,\n    defualt_models: state.defualt_models,\n    mode: state.mode,\n    prev_prop: state.prev_prop,\n    state_range: state.state_range,\n    replay: state.replay,\n    grouped_by_year_data: state.grouped_by_year_data,\n    clicked_items_in_slopechart: state.clicked_items_in_slopechart,\n    range_mode_range1: state.range_mode_range1,\n    range_mode_range2: state.range_mode_range2,\n    time_mode_range: state.time_mode_range,\n    mode: state.mode, // Model mode model\n    sort_by: state.sort_by,\n    average_m:state.average_m\n\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    add: (val) => dispatch({ type: \"add\", value: val }),\n    Set_selected_years: (val) => dispatch({ type: \"selected_years\", value: val }),\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: val }),\n    set_tracking: (val) => dispatch({ type: \"tracking\", value: val }),\n    Set_histogram_data: (val) => dispatch({ type: \"histogram_data\", value: val }),\n    Set_changed: (val) => dispatch({ type: \"changed\", value: val }),\n    Set_state_range: (val) => dispatch({ type: \"state_range\", value: val }),\n    Set_slider_max: (val) => dispatch({ type: \"slider_max\", value: val }),\n    Set_range_mode_range1: (val) => dispatch({ type: \"range_mode_range1\", value: val }),\n    Set_range_mode_range2: (val) => dispatch({ type: \"range_mode_range2\", value: val }),\n    Set_time_mode_range: (val) => dispatch({ type: \"time_mode_range\", value: val }),\n    Set_pop_over_models: (val) => dispatch({ type: \"pop_over_models\", value: val }),\n    Set_defualt_models: (val) => dispatch({ type: \"defualt_models\", value: val }),\n    Set_default_model_scores: (val) => dispatch({ type: \"default_model_scores\", value: val }),\n    Set_average_m: (val) => dispatch({ type: \"average_m\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(TopBar);\n\n//https://material-ui.com/api/slider/\n//https://material-ui.com/components/expansion-panels/\n//https://material-ui.com/api/checkbox/\n//https://material-ui.com/components/radio-buttons/","import * as d3 from 'd3';\nimport * as $ from \"jquery\"\nexport default function CreateChart(feature, data, node, feature_height, selected_year, handleHistogramselection, feature_data) {\n  var feature_width = $(\".Sidebar_parent\").width()\n  var svg = d3.select(node),\n    margin = { top: 30, right: 15, bottom: 20, left: 7 },\n    width = feature_width - margin.left - margin.right,\n    height = feature_height - margin.top - margin.bottom;\n  if (isNaN(data[0].y)) {\n    //-----------------------------------------------------------(handle the categorical features here)\n    var occur = {}\n    data.map(item => {\n      if (item.y in occur) {\n        occur[item.y] = occur[item.y] + 1\n      }\n      else {\n        occur[item.y] = 1\n      }\n    })\n    // Create items array\n    var items = Object.keys(occur).map(function (key) {\n      return [key, occur[key]];\n    });\n\n    // Sort the array based on the second element\n    items.sort(function (first, second) {\n      return second[1] - first[1];\n    });\n    //-----\n    var y = items.map(element => element[0]);\n    var x = items.map(element => element[1]);\n    var sum_x = d3.sum(x)\n    var cScale = d3.scaleSequential()\n      .interpolator(d3.interpolate(\"#999999b3\", \"#999999b3\"))\n      .domain([0, x.length]);\n    svg.selectAll(\".hist_title\").data([0]).join(\"text\").attr(\"class\", \"hist_title\").attr(\"y\", 15).attr(\"x\", width / 2).attr(\"text-anchor\", \"middle\").text(feature);\n    var g = svg.selectAll(\".g1\").data([0]).join(\"g\").attr(\"class\", \"g1\").attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n    var svg1 = g.selectAll(\".svg1\").data([0]).join('svg').attr(\"class\", \"svg1\").attr('width', width).attr('height', height)\n    svg1.selectAll('rect').data(x).join(\"rect\")\n      .style('fill', (d, i) => cScale(i)).attr(\"height\", height)\n      .attr('width', (d, i) => {\n        return (((d / sum_x) * width) - .2)\n      })\n      .attr(\"x\", (d, i) => {\n        var temp_sum = d3.sum(x.slice(0, i))\n        return ((temp_sum / sum_x) * width)\n      })\n      .attr(\"id\", (d, i) => y[i])\n      .on(\"click\", (d, i) => {\n        d3.select(\"#\" + y[i]).classed(\"cat_item_clicked\", () => {\n          if (d3.select(\"#\" + y[i]).classed(\"cat_item_clicked\")) {\n\n            return false\n          }\n          else {\n            var statelist = cat_states(feature_data, selected_year, y[i])\n            handleHistogramselection(statelist, \"histogram_data\")\n            return true\n          }\n        })\n\n      }\n      )\n    //---\n    svg1.selectAll(\"text\").data(y, d => d).join(\"text\")\n      .text((d, i) => {\n        if (((x[i] / sum_x) * width) > 12) { return d }\n        else { return \"\" }\n      })\n      .attr(\"x\", (d, i) => {\n        var temp_sum = d3.sum(x.slice(0, i))\n        return ((temp_sum / sum_x) * width) + 8\n      })\n      .attr(\"y\", height / 2)\n      .style(\"font-size\", 9)\n      .style(\"writing-mode\", \"tb\")\n      .style(\"text-anchor\", \"middle\")\n    //-----------------------------------------------------------Barchart ends here\n  }\n  else {\n    //----------------------------------------------------------- Handle the Numeric features here)\n    svg.selectAll(\".hist_title\").data([feature], d => d).join(\"text\").attr(\"class\", \"hist_title\").attr(\"y\", 15).attr(\"x\", width / 2).attr(\"text-anchor\", \"middle\").text(feature.replace(/_/g, ' '));\n\n    var temp_x = data.map(item => parseFloat(item['y'])),\n      x = d3.scaleLinear().domain([d3.min(temp_x), d3.max(temp_x)]).range([0, width]).nice(),\n      tick_values = x.ticks(4),\n      hist_height = height,\n      histogram = d3.histogram()\n        .value(d => d)   // I need to give the vector of value\n        .domain(x.domain())  // then the domain of the graphic\n        .thresholds(4); // then the numbers of bins\n    var bins = histogram(temp_x),\n      y_hist = d3.scaleLinear()\n        .range([hist_height, 0]);\n    y_hist.domain([0, d3.max(bins, function (d) { return d.length; })]);   // d3.hist has to be called before the Y axis obviously\n    var svg0 = svg.selectAll('.svg0').data([0]).join('svg').attr(\"class\", \"svg0\").selectAll(\".myg0\").data([0]).join('g').attr(\"class\", \"myg0\").attr(\"transform\",\n      \"translate(\" + margin.left + \",\" + margin.top + \")\")\n\n    svg0.selectAll(\"rect\").data(bins).join('rect')\n      .attr(\"x\", 1)\n      .attr(\"fill\", \"#999999b3\")\n      .attr(\"transform\", function (d) {\n        if(d.x0==d.x1){return \"translate(\" + 0 + \",\" + y_hist(d.length) + \")\"}\n        return \"translate(\" + x(d.x0) + \",\" + y_hist(d.length) + \")\";\n      })\n      .attr(\"width\", function (d) { \n        if(d.x0==d.x1){return width}\n        return x(d.x1) - x(d.x0) - 0.2; })\n      .attr(\"height\", function (d) { return hist_height - y_hist(d.length); });\n    //-------Add text of bars\n    \n    svg0.selectAll(\".mylabel\").data(bins).join('text').attr(\"class\",\"mylabel\")\n      .attr(\"x\", d=>x(d.x0)+((x(d.x1)-x(d.x0))/3))\n      .text(d=>d.length)\n      .attr('y',d=> y_hist(d.length)-2)\n      .attr('font-size',10)\n  \n    //------------- Add X axis\n    if(d3.max(tick_values)>1000){\n      svg0.selectAll(\".myXaxis\").data([0]).join('g').attr(\"class\", \"myXaxis\")\n      .attr(\"transform\", \"translate(0,\" + hist_height + \")\")\n      .call(d3.axisBottom(x).tickValues(tick_values).tickFormat(d3.format(\".2s\")))\n    }\n    else{\n      svg0.selectAll(\".myXaxis\").data([0]).join('g').attr(\"class\", \"myXaxis\")\n      .attr(\"transform\", \"translate(0,\" + hist_height + \")\")\n      .call(d3.axisBottom(x).tickValues(tick_values))\n    }\n\n    svg0.selectAll(\".tick line,.domain\").attr(\"stroke\", \"#adadad\")\n\n    //------------------------------------------------------------------------------------------------------ Create Histogram ends here    \n    //---drag starts here\n    var selectionRect = {\n      element: null,\n      previousElement: null,\n      currentY: 0,\n      currentX: 0,\n      originX: 0,\n      originY: 0,\n      setElement: function (ele) {\n        this.previousElement = this.element;\n        this.element = ele;\n      },\n      getNewAttributes: function () {\n        var x = this.currentX < this.originX ? this.currentX : this.originX;\n        var y = this.currentY < this.originY ? this.currentY : this.originY;\n        var width = Math.abs(this.currentX - this.originX);\n        var height = Math.abs(this.currentY - this.originY);\n        return { x: x, y: y, width: width, height: height }; // returning the javascript object\n      },\n      getCurrentAttributes: function () {\n        // use plus sign to convert string into number\n        var x = +this.element.attr(\"x\");\n        var y = +this.element.attr(\"y\");\n        var width = +this.element.attr(\"width\");\n        var height = +this.element.attr(\"height\");\n        return { x1: x, y1: y, x2: x + width, y2: y + height }; // returning the javascript object\n      },\n      getCurrentAttributesAsText: function () {\n        var attrs = this.getCurrentAttributes();\n        return \"x1: \" + attrs.x1 + \" x2: \" + attrs.x2 + \" y1: \" + attrs.y1 + \" y2: \" + attrs.y2;\n      },\n      init: function (newX, newY) {\n        var rectElement = svg.append(\"rect\")\n          .attr('rx', 1).attr('ry', 1).attr(\"x\", 0).attr(\"y\", 0)\n          .attr('width', 0).attr('height', 0).classed(\"selection\", true);\n        this.setElement(rectElement);\n        this.originX = newX;\n        this.originY = newY;\n        this.update(newX, newY);\n      },\n      update: function (newX, newY) {\n        this.currentX = newX;\n        this.currentY = newY;\n        var NewAttr = this.getNewAttributes()\n        this.element.attr(\"x\", NewAttr.x).attr(\"y\", NewAttr.y)\n          .attr('width', NewAttr.width).attr('height', NewAttr.height)\n      },\n      focus: function () {\n        this.element\n          .style(\"stroke\", \"\")\n          .style(\"stroke-width\", \"1\");\n      },\n      remove: function () {\n        this.element.remove();\n        this.element = null;\n      },\n      removePrevious: function () {\n        if (this.previousElement) {\n          this.previousElement.remove();\n        }\n      }\n    };\n\n    //-----------------\n    function dragStart() {\n      var p = d3.mouse(this);\n      selectionRect.init(p[0], p[1]);\n      selectionRect.removePrevious();\n    }\n    function dragMove() {\n      var p = d3.mouse(this);\n      selectionRect.update(p[0], p[1]);\n    }\n    function dragEnd() {\n      var finalAttributes = selectionRect.getCurrentAttributes();\n      if (finalAttributes.x1 != finalAttributes.x2) {\n        var myx1 = finalAttributes.x1 - margin.left\n        var myx2 = finalAttributes.x2 - margin.left\n        var temp_range = [x.invert(myx1).toFixed(4), x.invert(myx2).toFixed(4)]\n        var statelist = states(feature_data, temp_range, selected_year, feature)\n        handleHistogramselection(statelist, \"histogram_data\")\n      }\n      if (finalAttributes.x2 - finalAttributes.x1 > 1 && finalAttributes.y2 - finalAttributes.y1 > 1) {\n        // range selected\n        d3.event.sourceEvent.preventDefault();\n        selectionRect.focus();\n      } else {\n        selectionRect.remove();\n      }\n    }\n    var dragBehavior = d3.drag()\n      .on(\"start\", dragStart)\n      .on(\"drag\", dragMove)\n      .on(\"end\", dragEnd);\n    svg.call(dragBehavior);\n    //---drag ends here\n  }\n  function states(original_data,range,year,feature){\n    var temp=[]\n    original_data.forEach(element => {\n      if(element[\"1-qid\"]==year && parseFloat(element[feature])>=range[0] && parseFloat(element[feature])<=range[1]){\n       temp.push(parseInt(element['two_realRank']))\n      }\n    });\n    return temp;\n  }\n  function cat_states(original_data,year,country){\n    var temp=[]\n    original_data.forEach(element => {\n      if(element[\"1-qid\"]==year && element[\"country\"]==country){\n       temp.push(parseInt(element['two_realRank']))\n      }\n    });\n    return temp;\n  }\n  //----------------------------------------------------------- Histogram creation ends here\n}\n\n//https://www.youtube.com/watch?v=N9nHQzboCUI","import React, { Component, PureComponent } from 'react';\nimport * as d3 from 'd3';\nimport './Histogram.css';\nimport * as algo1 from \"../../Algorithms/algo1\";\nimport CreateChart from \"./Histogram\"\nimport exp_fiscal_CordAscent from \"../../Data/data/fiscal/lime/chart1_data.csv\";\nimport exp_school_CordAscent from \"../../Data/data/school/lime/chart1_data.csv\";\nimport exp_house_CordAscent from \"../../Data/data/house/lime/chart1_data.csv\";\nimport { connect } from 'react-redux'\nimport { Button } from '@material-ui/core';\nimport * as $ from \"jquery\"\nclass Chart extends Component {\n  constructor(props) {\n    super(props);\n    this.myRef = React.createRef();\n    this.state = { feaures_dict: {}, features_voted: null, feature_data: null, selected_states: [] } // This is the default height\n  }\n  componentDidMount() {\n    var self = this\n    var filename; if (this.props.dataset == \"fiscal\") { filename = exp_fiscal_CordAscent } else if (this.props.dataset == \"school\") { filename = exp_school_CordAscent } else if (this.props.dataset == \"house\") { filename = exp_house_CordAscent }\n    d3.csv(filename).then(function (feature_data) {\n      self.setState({ feature_data: feature_data })\n    })\n  }\n  shouldComponentUpdate() {\n    return true;\n  }\n  componentDidUpdate() {\n    var self = this\n    var legend_data = this.makeArr(this.props.state_range);\n    //------\n    var height_between = 20\n    var feature_height = 260\n    var number_of_elements = (this.props.state_range[1] - this.props.state_range[0]) + (2 * this.props.deviate_by);\n    if (number_of_elements * height_between < 700) { height_between = 700 / number_of_elements }\n    var exp_chart_height = (number_of_elements * height_between);\n    var number_of_charts = Math.floor(exp_chart_height / feature_height) * 3\n    if(number_of_charts<9){number_of_charts=9}\n    //------\n    var features_dict = algo1.features_with_score(this.props.dataset, this.props.defualt_models, legend_data, this.props.selected_year,number_of_charts,this.props.rank_data)\n    var items = Object.keys(features_dict).map(function (key) {\n      return [key, features_dict[key]];\n    });\n    items.sort(function (first, second) { // Sort the array based on the second element\n      return second[1] - first[1];\n    });\n    items = items.map((element) => element[0])\n    //--------\n    var filename; if (this.props.dataset == \"fiscal\") { filename = exp_fiscal_CordAscent } else if (this.props.dataset == \"school\") { filename = exp_school_CordAscent }\n    //--------------------------------Iterate through each features\n    if (this.state.feature_data != null) {\n      var feature_width=$(\".Sidebar_parent\").width()\n      var feature_height = 150; // Feature height for individual feature\n //--------------------------------------------- Iterate trough eact item and create histograms\n    items.forEach((feature, feature_index) => {\n        var feature_id = \"feature\"+feature.replace(/[^\\w\\s]/gi, '')\n        var temp = []\n        this.state.feature_data.forEach(element => {\n          if (element[\"1-qid\"] == self.props.selected_year) {\n            var temp_dict = {}\n            temp_dict[\"x\"] = parseInt(element['two_realRank'])\n            temp_dict[\"y\"] = element[feature]\n            temp.push(temp_dict)\n          }\n        });\n        d3.select(\"#histogram_container\").attr(\"height\", items.length * feature_height).selectAll(\"#\" + feature_id).data([feature_id], d => d).join(\"svg\").attr(\"id\", feature_id).attr(\"width\", feature_width)\n          .attr(\"x\", d => {\n            //--------------------------------------------- Create chart is imported from the Histogram.js and this is the function that creates all the histograms\n            CreateChart(feature, temp, \"#\" + feature_id, feature_height, self.props.selected_year, self.handleHistogramselection, self.state.feature_data)\n            return 0;\n          })\n          .attr(\"y\", (d, i) => feature_height * feature_index)\n      })\n    }\n  }\n  handleHistogramselection = (data, type) => {\n    \n    var temp = this.state.selected_states\n    data.forEach(element => {\n      if (!temp.includes(element)) { temp.push(element) }\n    });\n    this.setState({ selected_states: temp })\n  }\n  update_histogram_data = () => {\n    d3.selectAll(\".cat_item_clicked\").classed(\"cat_item_clicked\",false)\n    d3.selectAll(\".selection\").remove()\n    if(this.state.selected_states.length<1){alert(\"Empty selection!\");return}\n    var myfunc = this.props.appHandleChange\n    var filtered_states = this.state.selected_states.filter((item) => {\n      if (item >= this.props.state_range[0] && item <= this.props.state_range[1]) {\n        return item\n      }\n    })\n    if(filtered_states.length<1){alert(\"Empty Selection\")}\n    if (this.props.slider_and_feature_value[\"Feature\"] == 1 && this.props.slider_and_feature_value[\"Rank range\"] == 1) { // If rank range is selected then filter states within the range\n      this.props.Set_histogram_data(filtered_states)\n      myfunc(filtered_states, \"histogram_data\")\n    }\n    else {\n      this.props.Set_histogram_data(this.state.selected_states) // else set states as selected\n      myfunc(this.state.selected_states, \"histogram_data\")\n    }\n    this.setState({ selected_states: [] })\n  }\n  //-----------------------------------------------------------------\n  render() {\n    return (\n      <div>\n        <Button className=\"update\" style={{marginLeft:0,padding:0,width:197}} onClick={() => {\n          var self=this\n              if(!this.props.slider_and_feature_value[\"Rank range\"]){\n                if(d3.min(this.state.selected_states)<this.props.state_range[0]){\n                  this.props.Set_state_range([d3.min(this.state.selected_states),this.props.state_range[1]])\n                }\n                if(d3.max(this.state.selected_states)>this.props.state_range[1]){\n                  this.props.Set_state_range([this.props.state_range[0],d3.max(this.state.selected_states)])\n                }\n              }\n              setTimeout(function(){ self.update_histogram_data(); }, 500);\n          }}\n          >Update</Button>\n        <div className=\"hitograms_container\">\n        <svg id=\"histogram_container\" style={{ width: this.props.width }}></svg>\n        </div>\n      </div>\n    );\n  }\n  makeArr = (state_range) => {\n    var startValue = state_range[0];\n    var stopValue = state_range[1];\n    var arr = [];\n    for (var i = startValue; i <= stopValue; i++) {\n      arr.push(i);\n    }\n    return arr;\n  }\n}\nconst maptstateToprop = (state) => {\n  return {\n    state_range: state.state_range,\n    defualt_models: state.defualt_models,\n    dataset: state.dataset,\n    selected_year: state.selected_year,\n    slider_and_feature_value: state.slider_and_feature_value,\n    deviate_by:state.deviate_by,\n    rank_data:state.rank_data\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_defualt_models: (val) => dispatch({ type: \"defualt_models\", value: val }),\n    Set_sparkline_data: (val) => dispatch({ type: \"sparkline_data\", value: val }),\n    Set_histogram_data: (val) => dispatch({ type: \"histogram_data\", value: val }),\n    Set_state_range: (val) => dispatch({ type: \"state_range\", value: val }),\n    Set_clicked_items_in_slopechart: (val) => dispatch({ type: \"clicked_items_in_slopechart\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Chart);","import React from 'react';\nimport { connect } from 'react-redux'\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Grid from '@material-ui/core/Grid';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nfunction Tracking(props) {\n  return (\n    <Grid\n      container\n      direction=\"row\"\n      justify=\"flex-start\"\n      alignItems=\"baseline\"\n    >\n      <FormControlLabel\n        labelPlacement=\"start\"\n        control={\n          <Checkbox\n            checked={props.tracking}\n            onChange={(event) => props.set_tracking(event.target.checked)}\n            name=\"checkedB\"\n            color=\"primary\"\n          />\n        }\n        label=\"Tracking\"\n      />\n    </Grid>\n  );\n}\n\nconst maptstateToprop = (state) => {\n  return {\n    tracking: state.tracking,\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    set_tracking: (val) => dispatch({ type: \"tracking\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Tracking);\n//https://material-ui.com/components/menus/\n","import React from 'react';\nimport \"./Sidebar.scss\";\nimport * as $ from 'jquery';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Slider from '@material-ui/core/Slider';\nimport Histograms from \"./Histograms\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport { connect } from \"react-redux\";\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport Button from \"@material-ui/core/Button\";\nimport Grid from '@material-ui/core/Grid';\nimport Tracking from \"./Tracking\"\nimport * as algo1 from \"../../Algorithms/algo1\"\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: '100%',\n    },\n    heading: {\n        fontSize: theme.typography.pxToRem(15),\n        flexBasis: '33.33%',\n        flexShrink: 0,\n    },\n    secondaryHeading: {\n        fontSize: theme.typography.pxToRem(15),\n        color: theme.palette.text.secondary,\n    },\n    tRoot: {\n        marginBottom: 35,\n    },\n    rang_input: {\n        marginLeft: 10,\n    },\n}));\nfunction Modes(props) {\n    const classes = useStyles();\n    // states \n    const [sliderRange, set_sliderRange] = React.useState(props.state_range);\n    const [range_mode_slider_value1, set_range_mode_slider_value1] = React.useState(props.range_mode_range1);\n    const [range_mode_slider_value2, set_range_mode_slider_value2] = React.useState(props.range_mode_range2);\n    const [time_mode_slider_value, set_time_mode_slider_value] = React.useState(props.time_mode_range);\n    const [dummy, set_dummy] = React.useState(0);\n\n    //-----------------------------------------------------------------\n    var temp_marks = [];\n    var step = (props.slider_max - 1) / (6 - 1);\n    for (var i = 0; i < 6; i++) {\n        temp_marks.push(1 + (step * i));\n    }\n    var marks = temp_marks.map(item => {\n        var myitem = parseInt(item)\n        return { value: myitem, label: myitem }\n    })\n    //console.log(props.marks)\n    //-----------------------------------------------------------------\n    return (\n        <div style={{ borderTop: \"1px solid #eaeaea\" }}>\n            <p className=\"title_show\" style={{ marginBottom: 8 }}>Compare:</p>\n            <Autocomplete className=\"autocomplete_mode\" style={{ border: \"1px solid grey\", borderRadius: 0, paddingTop: 0, paddingBottom: 0, marginLeft: 5, marginRight: 30, width: $('.Sidebar').width() - 10 }}\n                defaultValue={\"Models\"}\n                id=\"debug\"\n                debug\n                options={[\"Models\", \"Ranges\", \"Time\"]}\n                renderInput={(params) => (\n                    <TextField {...params} label=\"\" margin=\"normal\" fullWidth={true} InputProps={{ ...params.InputProps, disableUnderline: true }} />\n                )}\n                onChange={(event, val) => {\n                    var value = val.replace('s', \"\")\n                    props.Set_mode(value)\n                    props.Set_clicked_items_in_slopechart([])\n                }\n                }\n            />\n            {props.mode == \"Model\" ? <div style={{ marginTop: 10, paddingLeft: 5, width: $('.Sidebar').width() }}>\n                <p style={{ marginLeft: 0, marginBottom: -5, marginTop: 15, marginRight: 12, paddingLeft: 5, backgroundColor: \"#f7f7f7\", fontSize: 16 }}>{props.dataset == \"fiscal\" ? \"Select states\" : \"Select \" + props.dataset + \"s\"}</p>\n                <div key={props.slider_and_feature_value} className=\"slider_feature_container\">\n                    <List className={classes.listroot}>\n                        {['Rank range', 'Feature'].map((value) => {\n                            const labelId = `checkbox-list-label-${value}`;\n                            return (\n                                <div className=\"listItem\"><ListItem key={value} role={undefined} >\n                                    <Checkbox\n                                        checked={props.slider_and_feature_value[value]}\n                                        edge=\"start\"\n                                        tabIndex={-1}\n                                        value={value}\n                                        onChange={(event) => {\n                                            var temp_val = props.slider_and_feature_value\n                                            if (props.slider_and_feature_value[event.target.value]) { temp_val[event.target.value] = 0 }\n                                            else { temp_val[event.target.value] = 1 }\n                                            set_dummy(JSON.stringify(temp_val)) // This is to change the state so that the component is updated\n                                            //console.log(\"dummy\",dummy)\n                                            props.Set_slider_and_feature_value(temp_val)\n                                        }}\n                                    />\n                                    <p className=\"list_item_label\" id={labelId}>{value}</p>\n                                </ListItem>\n                                </div>\n                            );\n                        })}\n                    </List>\n                </div>\n                {props.slider_and_feature_value[\"Rank range\"] == 1 ?\n                    <div className=\"rangeslider\" style={{ width: $('.Sidebar').width() - 12 }} >\n                        <Slider\n                            value={sliderRange}\n                            onChange={(event, newValue) => set_sliderRange(newValue)}\n                            onChangeCommitted={(event, newValue) => props.Set_changed(\"range\")}\n                            valueLabelDisplay=\"auto\"\n                            aria-labelledby=\"range-slider\"\n                            valueLabelDisplay=\"on\"\n                            min={1}\n                            max={props.slider_max}\n                            marks={marks}\n                        />\n                        <Grid style={{ marginBottom: 15 }} container\n                            direction=\"row\"\n                            justify=\"space-around\"\n                            alignItems=\"center\">\n                            <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Lower\" value={sliderRange[0]} style={{ width: 40 }}\n                                onChange={event => {\n                                    if (isNaN(parseInt(event.target.value))) {\n                                        set_sliderRange([\"\", sliderRange[1]])\n                                    } else {\n                                        if (event.target.value > sliderRange[1]) {\n                                            alert(\"Lower range can not be larger than the upper range\")\n                                        }\n                                        else {\n                                            set_sliderRange([event.target.value, sliderRange[1]])\n                                        }\n                                    }\n                                }\n                                }\n                            />\n                            <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Upper\" value={sliderRange[1]} style={{ width: 40 }}\n                                onChange={event => {\n                                    if (isNaN(parseInt(event.target.value))) {\n                                        set_sliderRange([sliderRange[0], \"\"])\n                                    } else {\n                                        if (parseInt(event.target.value) > props.slider_max) {\n                                            alert(\"Upper range can not exceed maximum\")\n                                            set_sliderRange([sliderRange[0], props.slider_max])\n                                        }\n                                        else {\n                                            set_sliderRange([sliderRange[0], parseInt(event.target.value)])\n                                        }\n                                    }\n                                }\n                                }\n                            />\n                        </Grid>\n                        <Tracking></Tracking>\n                        <Button className=\"range_button\" style={{ width: $('.Sidebar').width() - 11, backgroundColor: \"#ededed\", height: 30, marginBottom: 5, marginLeft: -3 }}\n                            onClick={() =>{\n                                props.Set_state_range(sliderRange)\n                                var temp_Models = algo1.sort(props.sort_by, sliderRange, props.defualt_models,props.selected_year, props.grouped_by_year_data)[0];\n                                var default_model_scores = algo1.sort(props.sort_by, sliderRange, props.defualt_models,props.selected_year, props.grouped_by_year_data)[1];\n                                props.Set_default_model_scores(default_model_scores)\n                                props.Set_defualt_models([...temp_Models])\n                                \n                            }}\n                        >Update range</Button>\n                    </div> : null}\n                {props.slider_and_feature_value[\"Feature\"] == 1 ?\n                    <div>\n                        <div>\n                            <Histograms\n                                year={props.selected_year.toString()} state_range={props.state_range}\n                                Sidebar_width={$('.Sidebar').width()} appHandleChange={props.appHandleChange}>\n                            </Histograms>\n                        </div>\n                    </div> : null\n                }\n            </div> : null}\n            {props.mode == \"Range\" ? <div style={{ marginTop: 10, paddingLeft: 5, width: $('.Sidebar').width() }}>\n                <div className=\"range_model\">\n                    <Autocomplete\n                        defaultValue={props.range_mode_model}\n                        id=\"debug\"\n                        debug\n                        options={[\"CordAscent\", \"LambdaMART\", \"LambdaRank\", \"LinearReg\", \"ListNet\", \"MART\", \"RandomFor\", \"RankBoost\", \"RankNet\"].map((option) => option)}\n                        renderInput={(params) => (\n                            <TextField {...params} label=\"Model\" margin=\"normal\" InputProps={{ ...params.InputProps, disableUnderline: true }} />\n                        )}\n                        onChange={(event, value) => props.Set_range_mode_model(value)}\n                    />\n                    <p style={{ marginLeft: 0, marginBottom: -5, marginTop: 15, marginRight: 12, paddingLeft: 5, backgroundColor: \"#f7f7f7\", fontSize: 16 }}>{props.dataset == \"fiscal\" ? \"Select states\" : \"Select \" + props.dataset + \"s\"}</p>\n                </div>\n                <div className=\"rangeslider\" style={{ width: $('.Sidebar').width() - 12 }} >\n                    <Typography classes={{ root: classes.tRoot }}>\n                        Group 1\n                        </Typography>\n                    <Slider\n                        value={range_mode_slider_value1}\n                        onChange={(event, newValue) => set_range_mode_slider_value1(newValue)}\n                        onChangeCommitted={(event, newValue) => props.Set_changed(\"range\")}\n                        valueLabelDisplay=\"auto\"\n                        aria-labelledby=\"range-slider\"\n                        valueLabelDisplay=\"on\"\n                        min={1}\n                        max={props.slider_max}\n                        marks={marks}\n                    />\n                    <Grid style={{ marginBottom: 15 }} container\n                        direction=\"row\"\n                        justify=\"space-around\"\n                        alignItems=\"center\">\n                        <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Lower\" value={range_mode_slider_value1[0]} style={{ width: 40 }}\n                            onChange={event => {\n                                if (isNaN(parseInt(event.target.value))) {\n                                    set_range_mode_slider_value1([\"\", range_mode_slider_value1[1]])\n                                } else {\n                                    if (event.target.value > range_mode_slider_value1[1]) {\n                                        alert(\"Lower range can not be larger than the upper range\")\n                                    }\n                                    else {\n                                        set_range_mode_slider_value1([event.target.value, range_mode_slider_value1[1]])\n                                    }\n                                }\n                            }\n                            }\n                        />\n                        <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Upper\" value={range_mode_slider_value1[1]} style={{ width: 40 }}\n                            onChange={event => {\n                                if (isNaN(parseInt(event.target.value))) {\n                                    set_range_mode_slider_value1([range_mode_slider_value1[0], \"\"])\n                                } else {\n                                    if (parseInt(event.target.value) > props.slider_max) {\n                                        alert(\"Upper range can not exceed maximum\")\n                                        set_range_mode_slider_value1([range_mode_slider_value1[0], props.slider_max])\n                                    }\n                                    else {\n                                        set_range_mode_slider_value1([range_mode_slider_value1[0], parseInt(event.target.value)])\n                                    }\n                                }\n                            }\n                            }\n                        />\n                    </Grid>\n                    <Button className=\"range_button\" style={{ width: $('.Sidebar').width() - 11, backgroundColor: \"#ededed\", height: 30, marginBottom: 5, marginLeft: -3 }}\n                        onClick={() => props.Set_range_mode_range1(range_mode_slider_value1)}\n                    >Update range</Button>\n                </div>\n                <div className=\"rangeslider\" style={{ width: $('.Sidebar').width() - 12 }} >\n                    <Typography classes={{ root: classes.tRoot }}>\n                        Group 2\n                        </Typography>\n                    <Slider\n                        value={range_mode_slider_value2}\n                        onChange={(event, newValue) => set_range_mode_slider_value2(newValue)}\n                        onChangeCommitted={(event, newValue) => { props.Set_changed(\"range\") }}\n                        valueLabelDisplay=\"auto\"\n                        aria-labelledby=\"range-slider\"\n                        valueLabelDisplay=\"on\"\n                        min={1}\n                        max={props.slider_max}\n                        marks={marks}\n                    />\n                </div>\n                <Grid style={{ marginBottom: 15 }} container\n                    direction=\"row\"\n                    justify=\"space-around\"\n                    alignItems=\"center\">\n                    <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Lower\" value={range_mode_slider_value2[0]} style={{ width: 40 }}\n                        onChange={event => {\n                            if (isNaN(parseInt(event.target.value))) {\n                                set_range_mode_slider_value2([\"\", range_mode_slider_value2[1]])\n                            } else {\n                                if (event.target.value > range_mode_slider_value2[1]) {\n                                    alert(\"Lower range can not be larger than the upper range\")\n                                }\n                                else {\n                                    set_range_mode_slider_value2([event.target.value, range_mode_slider_value2[1]])\n                                }\n                            }\n                        }\n                        }\n                    />\n                    <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Upper\" value={range_mode_slider_value2[1]} style={{ width: 40 }}\n                        onChange={event => {\n                            if (isNaN(parseInt(event.target.value))) {\n                                set_range_mode_slider_value2([range_mode_slider_value2[0], \"\"])\n                            } else {\n                                if (parseInt(event.target.value) > props.slider_max) {\n                                    alert(\"Upper range can not exceed maximum\")\n                                    set_range_mode_slider_value2([range_mode_slider_value2[0], props.slider_max])\n                                }\n                                else {\n                                    set_range_mode_slider_value2([range_mode_slider_value2[0], parseInt(event.target.value)])\n                                }\n                            }\n                        }\n                        }\n                    />\n                </Grid>\n                <Button className=\"range_button\" style={{ width: $('.Sidebar').width() - 11, backgroundColor: \"#ededed\", height: 30, marginBottom: 5, marginLeft: 0 }}\n                    onClick={() => props.Set_range_mode_range2(range_mode_slider_value2)}\n                >Update range</Button>\n\n            </div> : null}\n            {props.mode == \"Time\" ?\n                <div style={{ marginTop: 10, paddingLeft: 5, marginBottom: 10, width: $('.Sidebar').width() }}>\n                    <div className=\"model\">\n                        <Autocomplete\n                            defaultValue={props.time_mode_model}\n                            id=\"debug\"\n                            debug\n                            options={[\"CordAscent\", \"LambdaMART\", \"LambdaRank\", \"LinearReg\", \"ListNet\", \"MART\", \"RandomFor\", \"RankBoost\", \"RankNet\"].map((option) => option)}\n                            renderInput={(params) => (\n                                <TextField {...params} label=\"Model\" margin=\"normal\" InputProps={{ ...params.InputProps, disableUnderline: true }} />\n                            )}\n                            onChange={(event, value) => props.Set_time_mode_model(value)}\n                        />\n                        <p style={{ marginLeft: 0, marginBottom: -5, marginTop: 15, marginRight: 12, paddingLeft: 5, backgroundColor: \"#f7f7f7\", fontSize: 16 }}>{props.dataset == \"fiscal\" ? \"Select states\" : \"Select \" + props.dataset + \"s\"}</p>\n                        <div className=\"rangeslider\" style={{ width: $('.Sidebar').width() - 12 }} >\n                            <Slider\n                                value={time_mode_slider_value}\n                                onChange={(event, newValue) => set_time_mode_slider_value(newValue)}\n                                onChangeCommitted={(event, newValue) => props.Set_changed(\"range\")}\n                                valueLabelDisplay=\"auto\"\n                                aria-labelledby=\"range-slider\"\n                                valueLabelDisplay=\"on\"\n                                min={1}\n                                max={props.slider_max}\n                                marks={marks}\n                            />\n                            <Grid style={{ marginBottom: 15 }} container\n                                direction=\"row\"\n                                justify=\"space-around\"\n                                alignItems=\"center\">\n                                <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Lower\" value={time_mode_slider_value[0]} style={{ width: 40 }}\n                                    onChange={event => {\n                                        if (isNaN(parseInt(event.target.value))) {\n                                            set_time_mode_slider_value([\"\", time_mode_slider_value[1]])\n                                        } else {\n                                            if (event.target.value > time_mode_slider_value[1]) {\n                                                alert(\"Lower range can not be larger than the upper range\")\n                                            }\n                                            else {\n                                                set_time_mode_slider_value([event.target.value, time_mode_slider_value[1]])\n                                            }\n                                        }\n                                    }\n                                    }\n                                />\n                                <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Upper\" value={time_mode_slider_value[1]} style={{ width: 40 }}\n                                    onChange={event => {\n                                        if (isNaN(parseInt(event.target.value))) {\n                                            set_time_mode_slider_value([time_mode_slider_value[0], \"\"])\n                                        } else {\n                                            if (parseInt(event.target.value) > props.slider_max) {\n                                                alert(\"Upper range can not exceed maximum\")\n                                                set_time_mode_slider_value([time_mode_slider_value[0], props.slider_max])\n                                            }\n                                            else {\n                                                set_time_mode_slider_value([time_mode_slider_value[0], parseInt(event.target.value)])\n                                            }\n                                        }\n                                    }\n                                    }\n                                />\n                            </Grid>\n                            <Button className=\"range_button\" style={{ width: $('.Sidebar').width() - 11, backgroundColor: \"#ededed\", height: 30, marginBottom: 5, marginLeft: -3 }}\n                                onClick={() => props.Set_time_mode_range(time_mode_slider_value)}\n                            >Update range</Button>\n                        </div>\n                        <div className=\"year\">\n                            <Autocomplete className={{ root: classes.MuiAutocompleteroot }}\n                                defaultValue={props.time_mode_year1.toString()}\n                                id=\"debug\"\n                                debug\n                                options={props.years_for_dropdown.map((option) => option)}\n                                renderInput={(params) => (\n                                    <TextField {...params} label=\"Year 1\" margin=\"normal\" fullWidth={true} InputProps={{ ...params.InputProps, disableUnderline: true }} />\n                                )}\n                                onChange={(event, value) => {\n                                    props.Set_time_mode_year1(value)\n                                    props.Set_changed(\"year\")\n                                }}\n                            />\n                        </div>\n                        <div className=\"year\">\n                            <Autocomplete className={{ root: classes.MuiAutocompleteroot }}\n                                defaultValue={props.time_mode_year2.toString()}\n                                id=\"debug\"\n                                debug\n                                options={props.years_for_dropdown.map((option) => option)}\n                                renderInput={(params) => (\n                                    <TextField {...params} label=\"Year 2\" margin=\"normal\" fullWidth={true} InputProps={{ ...params.InputProps, disableUnderline: true }} />\n                                )}\n                                onChange={(event, value) => {\n                                    props.Set_time_mode_year2(value)\n                                    props.Set_changed(\"year\")\n                                }}\n                            />\n                        </div>\n                    </div></div> : null}\n        </div>\n    );\n}\nconst maptstateToprop = (state) => {\n    return {\n        selected_year: state.selected_year,\n        state_range: state.state_range,\n        mode: state.mode, // Model mode model\n        slider_max: state.slider_max,\n        range_mode_model: state.range_mode_model, // Range mode model\n        range_mode_range1: state.range_mode_range1,\n        range_mode_range2: state.range_mode_range2,\n        time_mode_model: state.time_mode_model, // Time mode model\n        time_mode_range: state.time_mode_range,\n        time_mode_year1: state.time_mode_year1,\n        time_mode_year2: state.time_mode_year2,\n        years_for_dropdown: state.years_for_dropdown,\n        dataset: state.dataset,\n        defualt_models: state.defualt_models,\n        slider_and_feature_value: state.slider_and_feature_value,\n        sort_by: state.sort_by,\n        grouped_by_year_data: state.grouped_by_year_data,\n    }\n}\nconst mapdispatchToprop = (dispatch) => {\n    return {\n        Set_slider_max: (val) => dispatch({ type: \"slider_max\", value: val }),\n        Set_years_for_dropdown: (val) => dispatch({ type: \"years_for_dropdown\", value: val }),\n        Set_state_range: (val) => dispatch({ type: \"state_range\", value: val }),\n        Set_mode: (val) => dispatch({ type: \"mode\", value: val }),\n        Set_range_mode_model: (val) => dispatch({ type: \"range_mode_model\", value: val }),\n        Set_time_mode_model: (val) => dispatch({ type: \"time_mode_model\", value: val }),\n        Set_range_mode_range1: (val) => dispatch({ type: \"range_mode_range1\", value: val }),\n        Set_range_mode_range2: (val) => dispatch({ type: \"range_mode_range2\", value: val }),\n        Set_time_mode_range: (val) => dispatch({ type: \"time_mode_range\", value: val }),\n        Set_time_mode_year1: (val) => dispatch({ type: \"time_mode_year1\", value: val }),\n        Set_time_mode_year2: (val) => dispatch({ type: \"time_mode_year2\", value: val }),\n        Set_histogram_data: (val) => dispatch({ type: \"histogram_data\", value: val }),\n        Set_slider_and_feature_value: (val) => dispatch({ type: \"slider_and_feature_value\", value: val }),\n        Set_clicked_items_in_slopechart: (val) => dispatch({ type: \"clicked_items_in_slopechart\", value: val }),\n        Set_changed: (val) => dispatch({ type: \"changed\", value: val }),\n        Set_pop_over_models: (val) => dispatch({ type: \"pop_over_models\", value: val }),\n        Set_defualt_models: (val) => dispatch({ type: \"defualt_models\", value: val }),\n        Set_default_model_scores: (val) => dispatch({ type: \"default_model_scores\", value: val }),\n\n    }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Modes);","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport \"./Sidebar.scss\";\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport TextField from '@material-ui/core/TextField';\nimport { connect } from \"react-redux\";\nimport Modes from \"./Modes\"\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n  },\n  listroot: {\n    width: '100%',\n    maxWidth: 360,\n  },\n  paper: {\n\n  },\n  heading: {\n    fontSize: theme.typography.pxToRem(15),\n    fontWeight: theme.typography.fontWeightRegular,\n  },\n}));\n\nfunction Sidebar(props) {\n  const classes = useStyles();\n  //------------For list and chckbox\n  const [checked, setChecked] = React.useState([0]);\n  const handleToggle = (value) => () => {\n    const currentIndex = checked.indexOf(value);\n    const newChecked = [...checked];\n\n    if (currentIndex === -1) {\n      newChecked.push(value);\n    } else {\n      newChecked.splice(currentIndex, 1);\n    }\n    setChecked(newChecked);\n  };\n  const inputchanged = (event) => {\n    var val = parseInt(event.target.value)\n    if (val > -1) {\n      setTimeout(function () {\n        props.Set_deviate_by(val)\n      }, 100);\n\n    }\n  }\n  const show_checkboxChanged = (event,val) => {\n    var myfunc = props.appHandleChange\n    myfunc(val, \"show_checkboxChanged\")\n  }\n  return (\n    <div className=\"Sidebar_parent\" style={{height:window.innerHeight}}>\n      <h4 className=\"app_title\">RIEVAL </h4>\n      {props.view_data==1?\n      <div className=\"rangeSlidercontainer\">\n        <Modes appHandleChange={props.appHandleChange} ></Modes>\n        <div className=\"deviation\" style={{marginLeft:5, borderTop:\"0px solid #eaeaea\"}}>\n          <p className=\"title_show\">Margin:</p>\n          <TextField\n            id=\"outlined-size-normal\"\n            defaultValue={props.deviate_by}\n            variant=\"filled\"\n            color=\"primary\"\n            onChange={(event) => inputchanged(event)}\n            fullWidth={false}\n            style={{height:24}}\n          />\n        </div>\n        <div className=\"show\">\n          <p className=\"title_show\">Show:</p>\n          <List className={classes.listroot}>\n            {['Rankings', 'Explanation'].map((value) => {\n              const labelId = `checkbox-list-label-${value}`;\n              return (\n                <ListItem key={value} role={undefined} onClick={handleToggle(value)}>\n                  <Checkbox\n                    checked={props.show.includes(value)}\n                    edge=\"start\"\n                    tabIndex={-1}\n                    value={value}\n                    onChange={(event, value) => {\n                      var temp_show=[...props.show]\n                      if(temp_show.includes(event.target.value) && event.target.value!=\"Rankings\"){\n                        temp_show=temp_show.filter(item=>item!=event.target.value)\n                      }\n                      else{\n                        temp_show.push(event.target.value)\n                      }\n                      props.Set_show(temp_show)\n                    }\n                  }\n                  />\n                  <p className=\"list_item_label\" id={labelId}>{value}</p>\n                </ListItem>\n              );\n            })}\n          </List>\n        </div>\n      </div>:null}\n    </div>\n  );\n}\nconst maptstateToprop = (state) => {\n  return {\n    deviate_by:state.deviate_by,\n    state_range:state.state_range,\n    defualt_models:state.defualt_models,\n    selected_year:state.selected_year,\n    sparkline_data:state.sparkline_data,\n    show:state.show,\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_defualt_models: (val) => dispatch({ type: \"defualt_models\", value: val }),\n    Set_sparkline_data: (val) => dispatch({ type: \"sparkline_data\", value: val }),\n    Set_slider_max: (val) => dispatch({ type: \"slider_max\", value: val }),\n    Set_years_for_dropdown: (val) => dispatch({ type: \"years_for_dropdown\", value: val }),\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: val }),\n    Set_ref_year: (val) => dispatch({ type: \"ref_year\", value: val }),\n    Set_original_data: (val) => dispatch({ type: \"original_data\", value: val }),\n    Set_state_range: (val) => dispatch({ type: \"state_range\", value: val }),\n    Set_deviate_by:(val) => dispatch({ type: \"deviate_by\", value: val }),\n    Set_show:(val)=>dispatch({type:\"show\",value:val}),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Sidebar);\n\n//https://material-ui.com/api/slider/\n//https://material-ui.com/components/expansion-panels/\n//https://material-ui.com/api/checkbox/\n//https://material-ui.com/components/radio-buttons/","import React,{useEffect} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport { connect } from \"react-redux\";\nimport { Button } from '@material-ui/core';\nimport * as $ from 'jquery';\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    position: 'absolute',\n    width: 400,\n    backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n}));\nfunction SimpleModal(props) {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n  const [mouseX, setmouseX] = React.useState(0);\n  const [mouseY, setmouseY] = React.useState(0);\n  \n  useEffect(() => {\n    $(\".slopechart_container\").on(\"contextmen\",(e)=>{\n      e.preventDefault()\n      setOpen(true)\n      setmouseX(e.pageX)\n      setmouseY(e.pageY)\n      if(typeof(props.Set_replay)!=\"undefined\"){\n        props.Set_replay(true)\n      }\n    })\n  })\n  const handleClose = () => {\n    setOpen(false);\n    props.Set_replay(false)\n  };\n  const handleReplay = () => {\n    setOpen(false);\n    setTimeout(() => { props.Set_replay(false) }, 24000);\n    //---------------------------------------------------------- Model mode start here\n    if (props.changed == \"range\") {\n      if ('state_range' in props.prev_prop) {\n        props.Set_state_range(props.prev_prop.state_range)\n        setTimeout(() => { props.Set_state_range(props.state_range) }, 12000);\n      }\n    }\n    else {\n      if ('selected_year' in props.prev_prop) {\n        props.Set_selected_year(props.prev_prop.selected_year)\n        setTimeout(() => { props.Set_selected_year(props.selected_year) }, 12000);\n      }\n    }\n    //---------------------------------------------------------- Model mode ends here\n    \n    //---------------------------------------------------------- Range mode starts here\n    if (props.changed == \"range\") {\n      if ('range_mode_range1' in props.prev_prop) {\n        props.Set_range_mode_range1(props.prev_prop.range_mode_range1)\n        setTimeout(() => { props.Set_range_mode_range1(props.range_mode_range1) }, 12000);\n      }\n      if ('range_mode_range2' in props.prev_prop) {\n        props.Set_range_mode_range2(props.prev_prop.range_mode_range2)\n        setTimeout(() => { props.Set_range_mode_range2(props.range_mode_range2) }, 12000);\n      }\n    }\n    else {\n      if ('selected_year' in props.prev_prop) {\n        props.Set_selected_year(props.prev_prop.selected_year)\n        setTimeout(() => { props.Set_selected_year(props.selected_year) }, 12000);\n      }\n    }\n    //---------------------------------------------------------- Range mode ends here\n  \n    //---------------------------------------------------------- Time mode starts here\n      if (props.changed == \"range\") {\n        if ('time_mode_range' in props.prev_prop) {\n          props.Set_time_mode_range(props.prev_prop.time_mode_range)\n          setTimeout(() => { props.Set_time_mode_range(props.time_mode_range) }, 12000);\n        }\n      }\n      else {\n        if ('time_mode_year1' in props.prev_prop) {\n          props.Set_time_mode_year1(props.prev_prop.time_mode_year1)\n          setTimeout(() => { props.Set_time_mode_year1(props.time_mode_year1) }, 12000);\n        }\n        if ('time_mode_year2' in props.prev_prop) {\n          props.Set_time_mode_year2(props.prev_prop.time_mode_year2)\n          setTimeout(() => { props.Set_time_mode_year2(props.time_mode_year2) }, 12000);\n        }\n      }\n      //---------------------------------------------------------- Time mode ends here\n  }\n  const body = (\n    <div style={{ left: mouseX, top: mouseY }} className={classes.paper}>\n      <h2 id=\"simple-modal-title\" style={{ marginBottom: 15 }}>Animation Replay</h2>\n      <Button onClick={handleReplay} variant=\"outlined\" color=\"primary\">Replay</Button>\n      <Button onClick={handleClose} variant=\"outlined\" color=\"primary\" style={{ marginLeft: 12 }}>Cancel</Button>\n      <SimpleModal />\n    </div>\n  );\n\n  return (\n    <div>\n      <Modal\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"simple-modal-title\"\n        aria-describedby=\"simple-modal-description\"\n      >\n        {body}\n      </Modal>\n    </div>\n  );\n}\nconst maptstateToprop = (state) => {\n  return {\n    replay: state.replay,\n    prev_prop: state.prev_prop,\n    state_range: state.state_range,\n    changed: state.changed,\n    selected_year: state.selected_year,\n    \n    range_mode_range1: state.range_mode_range1,\n    range_mode_range2: state.range_mode_range2,\n    \n    time_mode_range: state.time_mode_range,\n    time_mode_year1: state.time_mode_year1,\n    time_mode_year2: state.time_mode_year2,\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_replay: (val) => dispatch({ type: \"replay\", value: val }),\n    Set_state_range: (val) => dispatch({ type: \"state_range\", value: val }),\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: val }),\n\n    Set_range_mode_range1: (val) => dispatch({ type: \"range_mode_range1\", value: val }),\n    Set_range_mode_range2: (val) => dispatch({ type: \"range_mode_range2\", value: val }),\n\n    Set_time_mode_range: (val) => dispatch({ type: \"time_mode_range\", value: val }),\n    Set_time_mode_year1: (val) => dispatch({ type: \"time_mode_year1\", value: val }),\n    Set_time_mode_year2: (val) => dispatch({ type: \"time_mode_year2\", value: val }),\n    \n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(SimpleModal);\n\n","import React, { Component } from 'react';\n//------------------------------------------------All datasets imports\nimport fiscal from \"./Data/fiscal.csv\";\nimport school from \"./Data/school.csv\";\nimport house from \"./Data/house.csv\";\n\nimport fiscal_rank from \"./Data/data/fiscal/lime/fiscal_rank.csv\";\nimport fiscal_lime from \"./Data/data/fiscal/lime/fiscal_lime.csv\";\n\nimport school_rank from \"./Data/data/school/lime/school_rank.csv\";\nimport school_lime from \"./Data/data/school/lime/school_lime.csv\";\n\nimport house_rank from \"./Data/data/house/lime/house_rank.csv\";\nimport house_lime from \"./Data/data/house/lime/house_lime.csv\";\n//import fiscal from \"./Data/data/fiscal/lime/fiscal.json\";\n//import house from \"../Data/data/house/lime/house.json\";\n//------------------------------------------------All datasets imports ends here\nimport \"./App.scss\";\nimport * as d3 from 'd3';\nimport * as algo1 from \"./Algorithms/algo1\";\nimport SlopeChart from \"./components/Slopecharts/Model/SlopeChart\"\nimport RangeChart from \"./components/Slopecharts/Range/RangeChart\"\nimport YearChart from \"./components/Slopecharts/Time/YearChart\"\nimport TopBar from \"./components/TopBar/TopBar\"\nimport { Row, Col } from 'reactstrap';\nimport Sidebar from \"./components/Sidebar/Sidebar\";\nimport Button from '@material-ui/core/Button';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport * as $ from 'jquery';\nimport { connect } from \"react-redux\";\nimport Grid from '@material-ui/core/Grid';\nimport \"./components/Slopecharts/SlopeChart.css\"\nimport Replay from \"../src/components/Slopecharts/Replay\"\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    // mydata is original data\n    this.state = {\n      random: 10,\n      original_data: null, grouped_by_year_data: null, show: [\"Slope charts\", \"Rankings\", \"Explanation\"], view_data: 1,\n      histogram_data: [], ref_year: null, features_dict: {}, features_voted: null, Legend_ready_to_vis: null, legend_model: \"CordAscent\",\n    };\n  }\n  handleradioChange = (event) => {\n    this.setState({ show: [\"Slope charts\", \"Rankings\", \"Explanation\"] })\n    this.props.Set_slider_and_feature_value({ 'Rank range': 1, 'Feature': 0 })\n    this.props.Set_clicked_items_in_slopechart([])\n    this.props.Set_state_range([1, 15])\n    this.props.Set_histogram_data([])\n    this.props.Set_mode(\"Model\")\n    this.props.Set_range_mode_range1([5, 35])\n    this.props.Set_range_mode_range2([15, 35])\n    this.props.Set_time_mode_range([5, 35])\n    if (event.target.value == 'Fiscal Dataset') {\n      this.setState({ dataset: 'fiscal' })\n      this.props.Set_dataset('fiscal')\n      this.dataprocessor(\"fiscal\")\n    }\n    else if (event.target.value == 'House Dataset') {\n      this.setState({ dataset: 'house' })\n      this.props.Set_dataset('house')\n      this.dataprocessor(\"house\")\n    }\n    else {\n      this.setState({ dataset: 'school' })\n      this.props.Set_dataset('school')\n      this.dataprocessor(\"school\")\n    }\n  };\n\n  task2 = () => {\n    if (this.props.clicked_items_in_slopechart.length > 0) {\n      d3.selectAll('circle,.datapoint').attr('opacity', this.props.config.reduced_opacity)\n    }\n    this.props.clicked_items_in_slopechart.map(idName => d3.selectAll('#' + idName).attr('opacity', 1))\n  }\n\n  textClickHandler_original = (state_name) => { // state_name is set as the id of each element\n    var idName = state_name.replace(/ +/g, \"\")\n\n    //----Whatever properties are changed due to click change back here for the original \n    d3.selectAll('#' + idName).filter(d3.matcher('line')).style('stroke-width', 1)\n    //----Whatever properties are changed due to click change back here for the original\n\n    //-----Store the clicked items\n    var clicked_items_in_slopechart = [...this.props.clicked_items_in_slopechart]\n    if (clicked_items_in_slopechart.includes(idName)) {\n      clicked_items_in_slopechart = clicked_items_in_slopechart.filter(element => element != idName)\n    }\n    else { clicked_items_in_slopechart.push(idName) }\n    this.props.Set_clicked_items_in_slopechart(clicked_items_in_slopechart)\n    //-----Store the clicked items ends here\n\n    if (clicked_items_in_slopechart.length > 0) {\n      d3.selectAll('circle,.datapoint').attr('opacity', this.props.config.reduced_opacity)\n      this.props.clicked_items_in_slopechart.map(idName => {\n        d3.selectAll('#' + idName).attr('opacity', 1)\n        d3.selectAll('#' + idName).filter(d3.matcher('line')).style('stroke-width', 3)\n      })\n    }\n    else {\n      d3.selectAll('circle,.datapoint').attr('opacity', 1)\n    }\n\n    //d3.selectAll('.line1,.line2').attr('opacity',1)\n  }\n\n  //--------- data processor processes data for initial render\n  dataprocessor = (dataset_name) => {\n    if (dataset_name == \"school\") { this.process_data(school, school_rank, school_lime, dataset_name) }\n    if (dataset_name == \"fiscal\") { this.process_data(fiscal, fiscal_rank, fiscal_lime, dataset_name) }\n    if (dataset_name == \"house\") { this.process_data(house, house_rank, house_lime, dataset_name) }\n  }\n  process_data = (slopechart_data_filename, rank_data_filename, lime_data_filename, dataset_name) => {\n    var self = this\n    //-------------\n    d3.csv(slopechart_data_filename).then(original_data => {\n\n      var grouped_by_year_data = algo1.groupby_year(original_data).years\n      var sparkline_data = algo1.groupby_year(original_data).sparkline_data\n      var years_for_dropdown = Object.keys(grouped_by_year_data)\n      self.props.Set_sparkline_data(sparkline_data)\n      self.props.Set_slider_max(grouped_by_year_data[years_for_dropdown[0]].length)\n      self.setState({ years_for_dropdown: years_for_dropdown })\n      self.props.Set_years_for_dropdown(years_for_dropdown)\n      self.props.Set_time_mode_year1(years_for_dropdown[0])\n      self.props.Set_time_mode_year2(years_for_dropdown[1])\n      self.props.Set_legend_year(years_for_dropdown[0])\n      self.setState({ ref_year: years_for_dropdown[0] })\n      self.props.Set_grouped_by_year_data(grouped_by_year_data)\n      self.setState({ grouped_by_year_data: grouped_by_year_data }, () => {\n        self.appHandleChange(original_data, \"original\");\n      })\n      self.setState({ original_data: original_data })\n      self.props.Set_original_data(original_data)\n      if (dataset_name == 'fiscal') {\n        self.props.Set_selected_year(\"2011\")\n        var all_models = [\"MART\", \"RandomFor\", \"LinearReg\", \"CordAscent\", \"LambdaMART\", \"LambdaRank\", \"ListNet\", \"RankBoost\", \"RankNet\"]\n        var temp_Models = algo1.sort(this.props.sort_by, this.props.state_range, all_models, \"2011\", grouped_by_year_data)[0];\n        var default_model_scores = algo1.sort(this.props.sort_by, this.props.state_range, all_models, \"2011\", grouped_by_year_data)[1];\n      }\n      else {\n        self.props.Set_selected_year(\"2016\")\n        var all_models = [\"MART\", \"RandomFor\", \"LinearReg\", \"CordAscent\", \"LambdaMART\", \"LambdaRank\", \"ListNet\", \"RankBoost\", \"RankNet\"]\n        var temp_Models = algo1.sort(this.props.sort_by, this.props.state_range, all_models, \"2016\", grouped_by_year_data)[0];\n        var default_model_scores = algo1.sort(this.props.sort_by, this.props.state_range, all_models, \"2016\", grouped_by_year_data)[1];\n      }\n      this.props.Set_default_model_scores(default_model_scores)\n      this.props.Set_defualt_models(temp_Models.slice(1, 3))\n      this.props.Set_pop_over_models(temp_Models.slice(1, 3))\n\n    })\n    //-------------\n    d3.csv(rank_data_filename).then(data => {\n      var nested_data = {}\n      d3.nest().key(function (d) { return d.model; }).entries(data).map(item => {\n        nested_data[item.key] = item.values\n      })\n      self.props.Set_rank_data(nested_data)\n    })\n    //-------------\n    d3.csv(lime_data_filename).then(data => {\n      var nested_data = {}\n      d3.nest().key(function (d) { return d.model; }).entries(data).map(item => {\n        nested_data[item.key] = item.values\n      })\n      self.props.Set_lime_data(nested_data)\n    })\n\n  }\n  //---------\n  appHandleChange = (data, type) => { // get the resopnses from Sidebar\n    this.setState({ features_dict: {} })\n    var temp_Models = this.props.defualt_models\n    var temp_show = this.state.show\n    var year = this.props.selected_year\n    if (type == 'year_changed') { this.props.Set_selected_year(data) } // This is called when circles on the sparklines are clicked\n    if (type == 'original') { var original_data = data } else { original_data = this.props.original_data }\n    //-----------------Handle show changes here\n    if (type == \"show_checkboxChanged\") {\n      if (temp_show.includes(data)) { temp_show = temp_show.filter(element => element != data) }\n      else { temp_show.push(data) }\n      this.setState({ show: temp_show })\n    }\n    temp_Models = algo1.sort(this.props.sort_by, this.props.state_range, temp_Models, this.props.selected_year, this.state.grouped_by_year_data)[0];\n    this.setState({ defualt_models: temp_Models })\n    //--------------------------------------------------------------------------------------------------------------All types are handled here end\n    var prev_year;\n    if (parseInt(year) == this.state.years_for_dropdown[0]) { prev_year = parseInt(year) } else { prev_year = parseInt(year) - 1 }\n\n  }\n\n  buttonclickHandler = (value, type) => {\n    setTimeout(() => { this.setState({ random: Math.random() }) }, 500);\n    type = \"button\" ? this.setState({ view_data: value }) : null\n    type = \"form\" ? this.setState({ view_data: value }) : null\n  }\n  //-----------------Models are generated ends here\n  componentDidMount() {\n    this.dataprocessor(\"fiscal\")\n  }\n  shouldComponentUpdate() {\n    return true;\n  }\n  render() {\n    return (\n      <div key={this.state.random}>\n        <Replay key={Math.random()}></Replay>\n        <Row>\n          <div style={{ width: 207 }} className=\"Sidebar\">\n            {this.props.selected_year != null ?\n              <Sidebar view_data={this.state.view_data} appHandleChange={this.appHandleChange}\n                dataset={this.props.dataset} sort_by={this.props.sort_by} chart_scale_type={this.props.chart_scale_type}>\n              </Sidebar> : null}\n          </div>\n          <Col style={{ width: window.innerWidth - 200, minHeight: window.innerHeight }} className=\"container_header_and_components\">\n            <div className=\"uploader_topbar\">\n              <Grid container spacing={0} className=\"myheader\" style={{ left: $('.Sidebar').width() }}>\n                <Grid item style={{ borderRight: \"1px dashed #eaeaea\", width: 100 }}><Button onClick={() => this.buttonclickHandler(1, \"button\")}>View Data</Button></Grid>\n                <Grid item style={{ borderRight: \"1px dashed #eaeaea\", width: 120 }}><Button onClick={() => this.buttonclickHandler(0, \"button\")}>Load Data</Button></Grid>\n              </Grid>\n              {this.state.view_data == false ?\n                <Row className=\"Topbar_container\">\n                  <div className=\"load\">\n                    <form onSubmit={() => this.buttonclickHandler(1, \"form\")}>\n                      <FormControl component=\"fieldset\">\n                        <FormLabel component=\"legend\"></FormLabel>\n                        <RadioGroup aria-label=\"gender\" name=\"gender1\" onChange={this.handleradioChange}>\n                          {['Fiscal Dataset', 'School Dataset'].map((value) => {\n                            return <FormControlLabel value={value} control={<Radio />} label={value} />\n                          })}\n                        </RadioGroup>\n                        <Button type=\"submit\" variant=\"outlined\" color=\"primary\">Load</Button>\n                      </FormControl>\n                    </form>\n                  </div></Row>\n                : null}\n              {this.state.view_data == true ? <Row className=\"Topbar_container\"><TopBar key={this.props.selected_year} appHandleChange={this.appHandleChange} tracking={this.props.tracking}></TopBar></Row> : null}\n            </div>\n            {this.state.view_data == true ?\n              <Grid container direction=\"row\" justify=\"flex-start\" alignItems=\"center\" >\n                <Grid container spacing={0} direction=\"row\" justify=\"space-evenly\" className=\"slopechart_container\" key={this.props.defualt_models.length} style={{ height: this.props.mode == \"Time\" ? window.innerHeight - $('.myheader').height() - 5 : window.innerHeight - $('.uploader_topbar').height() - 5, marginLeft: 5, width: window.innerWidth - ($('.Sidebar_parent').width() + $('.legend').width() + 15) }}>\n                  {this.props.mode == \"Model\" && this.state.grouped_by_year_data != null && this.props.original_data != null && this.props.lime_data != null ?\n                    <SlopeChart task2={this.task2} textClickHandler_original={this.textClickHandler_original} appHandleChange={this.appHandleChange}\n                      model_name={\"RandomFor\"} grouped_by_year_data={this.state.grouped_by_year_data} cmodel={this.state.cmodel} ref_year={this.state.ref_year}>\n                    </SlopeChart> : null}\n\n                  {this.props.mode == \"Range\" ?\n                    [\"Range1\", \"Range2\"].map((model_name, i) => {\n                      return this.state.grouped_by_year_data != null && this.props.original_data != null ?\n                        <RangeChart task2={this.task2} textClickHandler_original={this.textClickHandler_original} myindex={i} key={model_name + \"slopechart\" + this.state.show[2] + this.props.mode} chart_scale_type={this.props.chart_scale_type} histogram_data={this.state.histogram_data} original_data={this.props.original_data} sparkline_data={this.props.sparkline_data}\n                          appHandleChange={this.appHandleChange} deviate_by={this.props.deviate_by} model_name={model_name} grouped_by_year_data={this.state.grouped_by_year_data}\n                          cmodel={this.state.cmodel} ref_year={this.state.ref_year} tracking={this.props.tracking}>\n                        </RangeChart>\n                        : null\n                    }) : null}\n                  {this.props.mode == \"Time\" && this.props.time_mode_year1 != \"Null\" && this.props.time_mode_year2 != \"Null\" ?\n                    [\"Year1\", \"Year2\"].map((model_name, i) => {\n                      return this.state.grouped_by_year_data != null && this.props.original_data != null ?\n                        <YearChart task2={this.task2} textClickHandler_original={this.textClickHandler_original} myindex={i} key={model_name + \"slopechart\" + this.state.show[2]} chart_scale_type={this.props.chart_scale_type} histogram_data={this.state.histogram_data} original_data={this.props.original_data} sparkline_data={this.props.sparkline_data}\n                          appHandleChange={this.appHandleChange} deviate_by={this.props.deviate_by} model_name={model_name} grouped_by_year_data={this.state.grouped_by_year_data}\n                          cmodel={this.state.cmodel} ref_year={this.state.ref_year} tracking={this.props.tracking}>\n                        </YearChart> : null\n                    }) : null}\n                </Grid>\n                {\n                  //            <div className=\"legend\" style={{height:window.innerHeight/2,width:40}}><p>High</p><svg></svg><p>Low</p></div>\n\n                }\n              </Grid> : null}\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n  makeArr = () => {\n    var startValue = this.props.state_range[0];\n    var stopValue = this.props.state_range[1];\n    var arr = [];\n    for (var i = startValue; i <= stopValue; i++) {\n      arr.push(i);\n    }\n    //hi\n    return arr;\n  }\n}\nconst maptstateToprop = (state) => {\n  return {\n    tracking: state.tracking,\n    state_range: state.state_range,\n    deviate_by: state.deviate_by,\n    defualt_models: state.defualt_models,\n    sparkline_data: state.sparkline_data,\n    selected_year: state.selected_year,\n    mode: state.mode,\n    range_mode_model: state.range_mode_model,\n    original_data: state.original_data,\n    time_mode_model: state.time_mode_model,\n    chart_scale_type: state.chart_scale_type,\n    dataset: state.dataset,\n    histogram_data: state.histogram_data,\n    sort_by: state.sort_by,\n    time_mode_year1: state.time_mode_year1,\n    time_mode_year2: state.time_mode_year2,\n    popup_chart_data: state.popup_chart_data,\n    clicked_items_in_slopechart: state.clicked_items_in_slopechart,\n    config: state.config,\n    lime_data: state.lime_data,\n    rank_data: state.rank_data,\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_dataset: (val) => dispatch({ type: \"dataset\", value: val }),\n    Set_defualt_models: (val) => dispatch({ type: \"defualt_models\", value: val }),\n    Set_sparkline_data: (val) => dispatch({ type: \"sparkline_data\", value: val }),\n    Set_slider_max: (val) => dispatch({ type: \"slider_max\", value: val }),\n    Set_years_for_dropdown: (val) => dispatch({ type: \"years_for_dropdown\", value: val }),\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: parseInt(val) }),\n    Set_ref_year: (val) => dispatch({ type: \"ref_year\", value: val }),\n    Set_original_data: (val) => dispatch({ type: \"original_data\", value: val }),\n    Set_grouped_by_year_data: (val) => dispatch({ type: \"grouped_by_year_data\", value: val }),\n    Set_slider_and_feature_value: (val) => dispatch({ type: \"slider_and_feature_value\", value: val }),\n    Set_clicked_items_in_slopechart: (val) => dispatch({ type: \"clicked_items_in_slopechart\", value: val }),\n    Set_histogram_data: (val) => dispatch({ type: \"histogram_data\", value: val }),\n    Set_state_range: (val) => dispatch({ type: \"state_range\", value: val }),\n    Set_legend_year: (val) => dispatch({ type: \"legend_year\", value: val }),\n\n    Set_mode: (val) => dispatch({ type: \"mode\", value: val }),\n    Set_range_mode_range1: (val) => dispatch({ type: \"range_mode_range1\", value: val }),\n    Set_range_mode_range2: (val) => dispatch({ type: \"range_mode_range2\", value: val }),\n    Set_time_mode_range: (val) => dispatch({ type: \"time_mode_range\", value: val }),\n    Set_time_mode_year1: (val) => dispatch({ type: \"time_mode_year1\", value: val }),\n    Set_time_mode_year2: (val) => dispatch({ type: \"time_mode_year2\", value: val }),\n\n    Set_rank_data: (val) => dispatch({ type: \"rank_data\", value: val }),\n    Set_lime_data: (val) => dispatch({ type: \"lime_data\", value: val }),\n    Set_pop_over_models: (val) => dispatch({ type: \"pop_over_models\", value: val }),\n    Set_default_model_scores: (val) => dispatch({ type: \"default_model_scores\", value: val }),\n\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(App);","let initialState = {\n   config: { \"reduced_opacity\": 0.2, \"animation1\": 4000, \"animation2\": 2000, \"animation3\": 4000, \"animation4\": 2500 },\n   appHandleChange: null,\n   sparkline_data: null,\n   sort_by: \"Average Precision\",\n   original_data: null,\n   rank_data: null,\n   lime_data: null,\n   grouped_by_year_data: null,\n   slope_chart_ready_to_vis: null,\n   defualt_models: [\"MART\", \"LinearReg\"], // Change the pop_over_models as well\n   state_range: [1, 35], // Change in handleradioChange\n   deviate_by: 0,\n   show: [\n      \"Slope charts\", \"Rankings\", \"Explanation\" // change in app.js\n   ],\n   years_for_dropdown: [\n      \"2006\"\n   ],\n   selected_year: 2006,\n   selected_years: [\"2006\"],\n   slider_min: 1,\n   slider_max: 50,\n   view_data: 1,\n   dataset: \"fiscal\", // change in componentDidmount in app.js too\n   histogram_data: [],\n   chart_scale_type: \"true\",\n   features_with_score: null,\n   ref_year: null,\n   cmodel: \"CordAscent\",\n   clicked_items_in_slopechart: [],\n   tracking: false,\n   dummy: null,\n   features_dict: {},\n   features_voted: null,\n   Legend_ready_to_vis: null,\n   legend_model: \"CordAscent\",\n   legend_show_option: \"Rank\",\n   legend_year: 2012,\n   mode: \"Model\",\n   range_mode_model: \"CordAscent\",\n   range_mode_range1: [1, 10],\n   range_mode_range2: [20, 30],\n   time_mode_model: \"CordAscent\",\n   time_mode_year1: \"Null\",\n   time_mode_year2: \"Null\",\n   time_mode_range: [6, 32],\n   chart_scale_type: \"true\",\n   slider_and_feature_value: { 'Rank range': 1, 'Feature': 0 },\n   prev_prop: {},\n   replay: false,\n   changed: \"year\",\n   popup_chart_data: null,\n   pop_over: true,\n   pop_over_models: [\"MART\", \"LinearReg\"],\n   clicked_features: [],\n   drag_drop_feautre_data: {},\n   dbclicked_features: [],\n   default_model_scores: {},\n   all_models: [\"MART\", \"RandomFor\", \"LinearReg\", \"CordAscent\", \"LambdaMART\", \"LambdaRank\", \"RankBoost\", \"RankNet\"],\n   average_y: false,\n   average_m: false,\n}\n//---InitialState ends here\nconst reducer = (state = initialState, action) => {\n   if (action.type === \"average_y\") {\n      console.log(action.value)\n      return { ...state, average_y: action.value }\n   }\n   if (action.type === \"average_m\") {\n      console.log(action.value)\n      return { ...state, average_m: action.value }\n   } \n   if (action.type === \"selected_years\") {\n      console.log(action.value)\n      return { ...state, selected_years: action.value }\n   }\n   if (action.type === \"default_model_scores\") {\n      //console.log(action.value)\n      return { ...state, default_model_scores: action.value }\n   }\n   if (action.type === \"dbclicked_features\") {\n      return { ...state, dbclicked_features: action.value }\n   }\n   if (action.type === \"drag_drop_feautre_data\") {\n      return { ...state, drag_drop_feautre_data: action.value }\n   }\n   if (action.type === \"config\") {\n      return { ...state, config: action.value }\n   }\n   if (action.type === \"show\") {\n      return { ...state, show: action.value }\n   }\n   if (action.type === \"lime_data\") {\n      return { ...state, lime_data: action.value }\n   }\n   if (action.type === \"defualt_models\") {\n      return { ...state, defualt_models: action.value }\n   }\n   if (action.type === \"rank_data\") {\n      return { ...state, rank_data: action.value }\n   }\n   if (action.type === \"original_data\") {\n      return { ...state, original_data: action.value }\n   }\n   if (action.type === \"years_for_dropdown\") {\n      return { ...state, years_for_dropdown: action.value }\n   }\n   if (action.type === \"appHandleChange\") {\n      return { ...state, appHandleChange: action.value }\n   }\n   if (action.type === \"state_range\") {\n      return { ...state, state_range: action.value }\n   }\n   if (action.type === \"selected_year\") {\n      return { ...state, selected_year: action.value }\n   }\n   if (action.type === \"tracking\") {\n      return { ...state, tracking: action.value }\n   }\n   if (action.type === \"grouped_by_year_data\") {\n      return { ...state, grouped_by_year_data: action.value }\n   }\n   if (action.type === \"sort_by\") {\n      return { ...state, sort_by: action.value }\n   }\n   if (action.type === \"deviate_by\") {\n      return { ...state, deviate_by: action.value }\n   }\n   if (action.type === \"mode\") {\n      return { ...state, mode: action.value }\n   }\n   if (action.type === \"slider_max\") {\n      return { ...state, slider_max: action.value }\n   }\n   if (action.type === \"range_mode_model\") {\n      return { ...state, range_mode_model: action.value }\n   }\n   //----\n   if (action.type === \"range_mode_range1\") {\n      return { ...state, range_mode_range1: action.value }\n   }\n   if (action.type === \"range_mode_range2\") {\n      return { ...state, range_mode_range2: action.value }\n   }\n   if (action.type === \"time_mode_range\") {\n      return { ...state, time_mode_range: action.value }\n   }\n   if (action.type === \"time_mode_model\") {\n      return { ...state, time_mode_model: action.value }\n   }\n   if (action.type === \"time_mode_year1\") {\n      return { ...state, time_mode_year1: action.value }\n   }\n   if (action.type === \"time_mode_year2\") {\n      return { ...state, time_mode_year2: action.value }\n   }\n   if (action.type === \"clicked_items_in_slopechart\") {\n      return { ...state, clicked_items_in_slopechart: action.value }\n   }\n   if (action.type === \"features_with_score\") {\n      return { ...state, features_with_score: action.value }\n   }\n   if (action.type === \"sparkline_data\") {\n      return { ...state, sparkline_data: action.value }\n   }\n   if (action.type === \"legend_show_option\") {\n      return { ...state, legend_show_option: action.value }\n   }\n   if (action.type === \"legend_model\") {\n      return { ...state, legend_model: action.value }\n   }\n   if (action.type === \"histogram_data\") {\n      return { ...state, histogram_data: action.value }\n   }\n   if (action.type === \"dataset\") {\n      return { ...state, dataset: action.value }\n   }\n   if (action.type === \"slider_and_feature_value\") {\n      return { ...state, slider_and_feature_value: action.value }\n   }\n   if (action.type === \"legend_year\") {\n      return { ...state, legend_year: action.value }\n   }\n   if (action.type === \"prev_prop\") {\n      return { ...state, prev_prop: action.value }\n   }\n   if (action.type === \"replay\") {\n      return { ...state, replay: action.value }\n   }\n   if (action.type === \"changed\") {\n      return { ...state, changed: action.value }\n   }\n   if (action.type === \"popup_chart_data\") {\n      return { ...state, popup_chart_data: action.value }\n   }\n   if (action.type === \"pop_over\") {\n      return { ...state, pop_over: action.value }\n   }\n   if (action.type === \"pop_over_models\") {\n      var temp = action.value.filter(item => item != \"ListNet\")\n      return { ...state, pop_over_models: temp }\n   }\n   if (action.type === \"clicked_features\") {\n      //console.log(action.value)\n      return { ...state, clicked_features: action.value }\n   }\n   return state;\n}\nexport default reducer;","import { createMuiTheme } from '@material-ui/core/styles';\nconst theme = createMuiTheme({      \n  typography: {\n    button: {\n      textTransform: 'none'\n    }\n  }\n});\nexport default theme;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { createStore } from 'redux';\nimport {Provider} from 'react-redux';\nimport reducer from './store/reducer';\nimport theme from './Themes'; \nimport { ThemeProvider } from '@material-ui/styles';\nconst store=createStore(reducer);\nReactDOM.render( <ThemeProvider theme={theme}><Provider store={store}><App /></Provider></ThemeProvider>,document.getElementById('root'));\n\n\n","module.exports = __webpack_public_path__ + \"static/media/chart1_data.d3b20544.csv\";","module.exports = __webpack_public_path__ + \"static/media/chart1_data.cca71c9e.csv\";"],"sourceRoot":""}