{"version":3,"sources":["Data/fiscal.csv","Data/school.csv","Data/house.csv","Data/data/fiscal/lime/fiscal_rank.csv","Data/data/fiscal/lime/fiscal_lime.csv","Data/data/school/lime/school_rank.csv","Data/data/school/lime/school_lime.csv","Data/data/house/lime/house_rank.csv","Data/data/house/lime/house_lime.csv","Data/data/house/lime/chart1_data.csv","Algorithms/algo1.js","components/Slopecharts/Model/slopechart1.js","components/Slopecharts/Legend.js","components/Slopecharts/Model/SlopeChart.js","components/Slopecharts/Range/sparkline1.js","components/Slopecharts/Range/sparkline2.js","components/Slopecharts/Exp_Chart/Chart2.js","components/Slopecharts/Exp_Chart/Popover/chart_pop.js","components/Slopecharts/Exp_Chart/Popover/FilterModel.js","components/Slopecharts/Exp_Chart/Popover/Popover.js","components/Slopecharts/Range/RangeChart.js","components/Slopecharts/Range/slopechart1.js","components/Slopecharts/Time/sparkline1.js","components/Slopecharts/Time/sparkline2.js","components/Slopecharts/Time/YearChart.js","components/Slopecharts/Time/slopechart1.js","components/TopBar/DefaultModels.js","components/TopBar/Sort.js","components/TopBar/TopBar.js","components/Sidebar/Histogram.js","components/Sidebar/Histograms.js","components/Sidebar/Tracking.js","components/Sidebar/Modes.js","components/Sidebar/Sidebar.js","components/Slopecharts/Replay.js","App.js","store/reducer.js","Themes.js","index.js","Data/data/fiscal/lime/chart1_data.csv","Data/data/school/lime/chart1_data.csv"],"names":["module","exports","groupby_year","original_data","years","sparkline_data","forEach","element","replace","temp_dict","year","parseInt","rank","push","sort","type","state_range","default_models","selected_year","grouped_by_year_data","nDCG_dict","i","Object","keys","key","parseFloat","items","map","substring","first","second","temp_ndcg","length","includes","temp1","myitem","console","log","mydict","model","temp","Math","sqrt","temp_ap","features_with_score","dataset","models","number_of_charts","rank_data","temp_final","temp2","v","top_nine","sorted_features","key2","data","feautures","tempvoted_data_with_score","data2","filter","index","item","feauture","items2","CreatexpChart","selected_instances","lime_data","defualt_models","clicked_circles","Set_clicked_circles","margin","parent_width","$","width","parent_height","height","item_width","item_height","parent_svg","d3","selectAll","join","attr","d","text","svg_index","feature_name","feature_contrib_name","circ_data","xScale","domain","range","yScale","this","parentNode","on","active_ids","remove","each","append","datum","x","y","class_name","inactive_class","id","handle_transparency","createLegend","container","color","entries","svg","select","rect_height","x_shift","SlopeChart","props","line_color","state","height_slope_exp_chart","mouseX","mouseY","setState","window","innerHeight","prevProps","prevState","config","selected_years","average","div","style","temp_scale_data","abs","y_distance","circle_radius","data_for_all_years","line_data","model_name","a","sclale1","transition","duration","d2","avg","html","pageX","pageY","slopechart1","average_m","algo1","b","slice","Grid","className","padding","border","boxShadow","marginBottom","Component","connect","deviate_by","clicked_items_in_slopechart","tracking","time_mode_model","chart_scale_type","histogram_data","show","default_model_scores","sort_by","average_y","dispatch","val","value","Set_prev_prop","Set_defualt_models","Set_sparkline_data","Set_clicked_items_in_slopechart","Set_replay","sparklineGen","appHandleChange","className2","sparkline_color","path_id","s_margin","s_width","s_height","s_svg","y0","y1","preventDefault","divid","temp_data","enter","Chart","CreateChart","feature_className","feature","feature_height","self","myindex","animation4","delay4","animation1","animation2","animation3","left2","right2","space_for_feature_title","bottom2","number_of_filters_start","number_of_filters_end","two_realRank","svg1","model_name2","clicked_features","event","defaultPrevented","classed","set_clicked_features","dbclicked_features","unshift","set_dbclicked_features","popup_chart_data","Set_popup_chart_data","set_pop_over","svg2","temp_x","nice","temp_y","isNaN","String","reduced_opacity","color_gen","textClickHandler_original","update","delay","delay3","top","right","bottom","space_for_contribution_text","vertical_space_between_features","horizontal_space_between_features","horizontal_capacity","floor","vertical_capacity","feature_width","total_capacity","number_of_features","drag_drop_feautre_data","diff","dest_index","indexOf","splice","ceil","deltaX","deltaY","is_dragging","top_features","feature_container","call","raise","e","origin_index","lower","document","elementFromPoint","sourceEvent","clientX","clientY","set_config","alert","set_drag_drop_feautre_data","undefined","concat","prev_prop","scatterplot_data","feature_contribute","myid","hist_height","bins","histogram","y_hist","svg0","x0","x1","y2","tickSize","ticks","tickValues","tickFormat","CreateChart_cat","barplot_data","values","bandwidth","merged_arr","apply","pop_over_models","idName","marginLeft","marginTop","mode","range_mode_model","Set_pop_over_models","React","useState","anchorEl","setAnchorEl","open","Boolean","checked","setChecked","handleToggle","currentIndex","newChecked","Button","aria-controls","aria-haspopup","onClick","currentTarget","Menu","keepMounted","onClose","TransitionComponent","Fade","List","labelId","ListItem","role","Checkbox","edge","tabIndex","onChange","temp_Models","target","checkboxChanged","pop_over","position","left","pointerEvents","backgroundColor","borderBottom","direction","justify","alignItems","FilterModel","maxHeight","overflow","maxWidth","CreateCharts","animate","range_mode_range1","range_mode_range2","mydata3","selected_by_year_data","max_rank","start_range","deviate_check_lower","end_range","deviate_check_upper","tempA","tempB","node","actual_model_for_range_and_time_mode","slope_chart_anim1","slope_chart_anim2","number_of_elements","all_together","nestedByName","name","range_chart_col_range1_height","height_between","range_chart_col_range2_height","yOffset","labelGroupOffset","labelKeyOffset","radius","sparkline_height","var_to_lift_up","borderLines","selection","g","sparkline1","split","sparkline2","my_state_range","ref_year","track_states_ranged_dictionary","track_states_year_data","min","max","line_color2","interpolate","Rgbdict","Legend","addEventListener","innerWidth","JSON","stringify","replay","task2","marginRight","paddingRight","xs","ref","Chart2","Popover","changed","task1","time_mode_year1","time_mode_year2","time_mode_range","cmodel","slopechart_col_height","myRef","createRef","random","borderRight","myfunc","Set_sort_by","Set_default_model_scores","set_sort_by","FormControl","component","FormLabel","RadioGroup","aria-label","FormControlLabel","control","Radio","label","useStyles","makeStyles","theme","MuiAutocompleteroot","root","listroot","paper","heading","fontSize","typography","pxToRem","fontWeight","fontWeightRegular","all_models","years_for_dropdown","add","Set_selected_years","Set_selected_year","set_tracking","Set_histogram_data","Set_changed","Set_state_range","Set_slider_max","Set_range_mode_range1","Set_range_mode_range2","Set_time_mode_range","Set_average_m","handle_year_click","handle_model_click","display","handleHistogramselection","feature_data","occur","sum_x","cScale","interpolator","statelist","country","cat_states","tick_values","thresholds","selectionRect","previousElement","currentY","currentX","originX","originY","setElement","ele","getNewAttributes","getCurrentAttributes","x2","getCurrentAttributesAsText","attrs","init","newX","newY","rectElement","NewAttr","focus","removePrevious","dragBehavior","p","finalAttributes","myx1","myx2","temp_range","invert","toFixed","states","selected_states","update_histogram_data","filtered_states","slider_and_feature_value","makeArr","startValue","stopValue","arr","feaures_dict","features_voted","filename","exp_fiscal_CordAscent","exp_school_CordAscent","exp_house_CordAscent","then","legend_data","exp_chart_height","features_dict","feature_index","feature_id","setTimeout","labelPlacement","flexBasis","flexShrink","secondaryHeading","palette","secondary","tRoot","rang_input","slider_max","Set_years_for_dropdown","Set_mode","Set_range_mode_model","Set_time_mode_model","Set_time_mode_year1","Set_time_mode_year2","Set_slider_and_feature_value","classes","sliderRange","set_sliderRange","range_mode_slider_value1","set_range_mode_slider_value1","range_mode_slider_value2","set_range_mode_slider_value2","time_mode_slider_value","set_time_mode_slider_value","set_dummy","temp_marks","step","marks","borderTop","Autocomplete","borderRadius","paddingTop","paddingBottom","defaultValue","debug","options","renderInput","params","TextField","fullWidth","InputProps","disableUnderline","paddingLeft","temp_val","Slider","newValue","onChangeCommitted","valueLabelDisplay","aria-labelledby","input","Histograms","toString","Sidebar_width","option","Typography","Set_ref_year","Set_original_data","Set_deviate_by","Set_show","view_data","variant","inputchanged","temp_show","background","shadows","spacing","SimpleModal","setOpen","setmouseX","setmouseY","useEffect","handleClose","body","Modal","aria-describedby","App","handleradioChange","Set_dataset","dataprocessor","state_name","dataset_name","process_data","school","school_rank","school_lime","fiscal","fiscal_rank","fiscal_lime","house","house_rank","house_lime","slopechart_data_filename","rank_data_filename","lime_data_filename","Set_legend_year","Set_grouped_by_year_data","nested_data","Set_rank_data","Set_lime_data","buttonclickHandler","Legend_ready_to_vis","legend_model","Replay","Row","Col","minHeight","onSubmit","RangeChart","YearChart","initialState","slope_chart_ready_to_vis","slider_min","dummy","legend_show_option","legend_year","reducer","action","createMuiTheme","button","textTransform","store","createStore","ReactDOM","render","ThemeProvider","getElementById"],"mappings":"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","file":"static/js/main.cf2a99ff.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/fiscal.977bae2d.csv\";","module.exports = __webpack_public_path__ + \"static/media/school.2d2c77ef.csv\";","module.exports = __webpack_public_path__ + \"static/media/house.88979d03.csv\";","module.exports = __webpack_public_path__ + \"static/media/fiscal_rank.6e0a824e.csv\";","module.exports = __webpack_public_path__ + \"static/media/fiscal_lime.7992abf1.csv\";","module.exports = __webpack_public_path__ + \"static/media/school_rank.edf0b9e3.csv\";","module.exports = __webpack_public_path__ + \"static/media/school_lime.644683c6.csv\";","module.exports = __webpack_public_path__ + \"static/media/house_rank.f85c2352.csv\";","module.exports = __webpack_public_path__ + \"static/media/house_lime.b31dfb61.csv\";","module.exports = __webpack_public_path__ + \"static/media/chart1_data.45acbae8.csv\";","export function groupby_year(original_data) {\n  var years = {}\n  var sparkline_data = {}\n  original_data.forEach(element => {\n    years[element['1-qid']] = []\n    sparkline_data[element['State'].replace(/ /g, '').replace(/[^\\w\\s]/gi, '')] = []\n  });\n\n  original_data.forEach(element => {\n    var temp_dict = { year: parseInt(element['1-qid']), rank: parseInt(element['two_realRank']) }\n    sparkline_data[element['State'].replace(/ /g, '').replace(/[^\\w\\s]/gi, '')].push(temp_dict)\n    years[element['1-qid']].push(element)\n  });\n  return { years: years, sparkline_data: sparkline_data };\n}\n//------------------------------------------------------------------------------------------------- Sort Models\nexport function sort(type, state_range, default_models, selected_year, grouped_by_year_data) {\n  //------------Handle ndgc sorting\n  if (type == 'Discounted Cumulative Gain') {\n    var nDCG_dict = { \"ndcg_term_CordAscent\": 0, \"ndcg_term_LambdaMART\": 0, \"ndcg_term_LambdaRank\": 0, \"ndcg_term_LinearReg\": 0, \"ndcg_term_ListNet\": 0, \"ndcg_term_MART\": 0, \"ndcg_term_RandomFor\": 0, \"ndcg_term_RankBoost\": 0, \"ndcg_term_RankNet\": 0 }\n    for (var i = state_range[0]; i < state_range[1]; i++) {\n      Object.keys(nDCG_dict).forEach(key => {\n          nDCG_dict[key] = nDCG_dict[key] + parseFloat(grouped_by_year_data[selected_year][i][key])\n      })\n    }\n    //---- sort\n    var items = Object.keys(nDCG_dict).map(function (key) {\n      return [key.substring(10), nDCG_dict[key]];\n    });\n    items.sort(function (first, second) {\n      return second[1] - first[1];\n    });\n    var temp_ndcg = []\n    for (var i = 0; i < items.length; i++) {\n      if (default_models.includes(items[i][0])) {\n        temp_ndcg.push(items[i][0])\n      }\n    }\n    var temp1={}\n    items.map(myitem=>{temp1[myitem[0]]=myitem[1]})\n    console.log(items)\n    return [temp_ndcg,temp1]\n  }\n  //----\n\n  //------------Handle AP sorting\n  if (type == 'Average Precision') {\n    var mydict = {}\n    default_models.forEach((model) => {\n      var temp = 1\n      for (var i = state_range[0]; i < state_range[1]; i++) {\n        temp = temp + (grouped_by_year_data[selected_year][i][\"two_realRank\"] - grouped_by_year_data[selected_year][i][model]) ** 2\n      }\n      mydict[model] = ((state_range[1] - state_range[0]) + 1) / (Math.sqrt(temp))\n    })\n    //---- sort\n    var items = Object.keys(mydict).map(function (key) {\n      return [key, mydict[key]];\n    });\n    items.sort(function (first, second) {\n      return second[1] - first[1];\n    });\n    var temp_ap = []\n    for (var i = 0; i < items.length; i++) {\n      if (default_models.includes(items[i][0])) {\n        temp_ap.push(items[i][0])\n      }\n    }\n    return [temp_ap,mydict]\n  }\n  //------------Handle Alphabatic sorting\n  if (type == 'Alphabetically') {\n    var temp=default_models.sort()\n    return [temp,[0]]\n  }\n}\n\n\nexport function features_with_score(dataset, models, state_range, selected_year, number_of_charts, rank_data) {\n  var temp1 = {}\n  var temp_final = {}\n  models.map(model => {\n    var temp2 = {}\n    var v = number_of_charts;\n    var top_nine = sorted_features(dataset, model, state_range, selected_year,rank_data)\n    if (top_nine.length < number_of_charts) { v = top_nine.length;; number_of_charts = top_nine.length } // This is because number of charts is calculated based on space but there are cases when we don't have that many features\n    for (var i = 0; i < number_of_charts; i++) {\n      temp2[top_nine[i]] = v;\n      v = v - 1\n    }\n    temp1[model] = temp2\n  });\n\n  for (var key in temp1) {\n    for (var key2 in temp1[key]) {\n      if (temp_final[key2] > 0) {\n\n        temp_final[key2] = temp_final[key2] + temp1[key][key2]\n      }\n      else {\n        temp_final[key2] = temp1[key][key2]\n      }\n    }\n  }\n  return temp_final;\n}\n\n\nexport function sorted_features(dataset, model, state_range, selected_year,rank_data) { // Uses feature rank to rank and return features name by removing the feature_rank string\n  if (!state_range.length > 0) { return [] }\n  state_range = state_range.map(element => element - 1)\n  var tempvoted_data_with_score = {},items,data,feautures;\n\n  if (model == \"ListNet\") { return [] }\n  var data2 = rank_data[model].filter(element => { if (parseInt(element['1-qid']) == parseInt(selected_year)) { return element } })\n  data = state_range.map(index => data2[index])\n  feautures = Object.keys(data[0])\n\n  data.map(item => {\n    feautures.forEach(feauture => {\n      if (tempvoted_data_with_score[feauture] >= 0 || tempvoted_data_with_score[feauture] < 0) {\n        tempvoted_data_with_score[feauture] = tempvoted_data_with_score[feauture] + (parseFloat(item[feauture]))\n      }\n      else { tempvoted_data_with_score[feauture] = parseFloat(item[feauture]) }\n    })\n  })\n  //-----------------------------------------------------------------\n  // Create items array\n  items = Object.keys(tempvoted_data_with_score).map(function (key) {\n    return [key, tempvoted_data_with_score[key]];\n  });\n  // Sort the array based on the second element\n  items.sort(function (first, second) {\n    return first[1] - second[1];\n  });\n  var items2 = items.map((element) => element[0].replace(\"_feature_rank\", \"\"))\n  items2 = items2.filter(item => item != \"1-qid\" && item!=\"model\")\n  return items2;\n  //-----------------------------------------------------------------\n}\n","\nimport * as d3 from 'd3';\nimport * as $ from 'jquery';\nimport * as algo1 from \"../../../Algorithms/algo1\";\nexport function CreateSlopeChart1(selected_instances, original_data, defualt_models, config, selected_years, average) {\n  var div = d3.select(\"body\").append(\"div\").attr(\"class\", \"tooltip\").style(\"opacity\", 0);\n  var parent_width = $(\"#dev_plot_container\").width()\n  var data = original_data.filter(item => selected_years.includes(item['1-qid']) && selected_instances.includes(parseInt(item['two_realRank'])))\n  console.log(data)\n  var temp_scale_data = []\n  data.map(item => {defualt_models.map(model => temp_scale_data.push(Math.abs(parseInt(item[model]) - parseInt(item['two_realRank'])))) })\n\n  var config = { fontSize: 12, font_dy: -6, font_line_gap: 4, line_stroke_width: 10, animation_duration: 0, container_height: 100, my_svg_top_margin: 10, myg_top_margin: 10, left_margin: 100 }\n  var y_distance = config.line_stroke_width + 2\n  var circle_radius = config.line_stroke_width / 2\n\n  var parent_g = d3.select(\"#dev_plot_container\").style(\"background-color\", \"#ededed\").attr('height', y_distance + data.length * y_distance)\n    .selectAll(\".parent_g\").data([0]).join('g').attr('class', 'parent_g').attr('transform', \"translate(\" + 0 + \",20)\")\n  parent_g.selectAll(\".items\").data(data).join(\"g\").attr(\"class\", \"items\").attr('transform', (d, i) => \"translate(\" + config.left_margin + \",\" + i * y_distance + \")\")\n    .attr(\"add_state\", function (d) {\n      d3.select(this).selectAll(\"text\").data([d]).join('text').text(d['State']+\" (\"+d['two_realRank']+\")\").attr('fill', '#494949').attr(\"dominant-baseline\", \"hanging\").attr(\"font-size\", config.fontSize)\n        .attr(\"x\", 0).attr('text-anchor', 'end').attr(\"dy\", config.font_dy)\n    })\n    .attr(\"add_lines_and_circles\", function (d) {\n      var data_for_all_years = data.filter(item => d['two_realRank'] == parseInt(item['two_realRank']))\n      var line_data = []\n      defualt_models.map(model_name => {\n        data_for_all_years.map(item => {\n          var a = {}\n          a['two_realRank'] = parseInt(item['two_realRank'])\n          a['predicted_rank'] = parseInt(item[model_name])\n          a[\"model\"] = model_name\n          a['year'] = item['1-qid']\n          line_data.push(a)\n        })\n      })\n      // This is only for scaling starts here\n      var temp_scale_data = []\n      data.map(item => { defualt_models.map(model => temp_scale_data.push(Math.abs(parseInt(item[model]) - parseInt(item['two_realRank'])))) })\n      var sclale1 = d3.scaleLinear().domain([0, d3.max(temp_scale_data)]).range([config.font_line_gap, parent_width - (config.left_margin + circle_radius)])\n      // This is only for scaling ends here\n      d3.select(this).selectAll(\"line\").data([d]).join('line')\n        .attr(\"x1\", config.font_line_gap).attr(\"y1\", (d, i) => y_distance * i).attr(\"y2\", (d, i) => y_distance * i).attr(\"stroke-width\", config.line_stroke_width).attr(\"stroke\", \"#cecece\")\n        .transition().duration(config.animation_duration).attr(\"x2\", (d2) => {\n          var temp = []\n          line_data.map(item => temp.push(Math.abs(item[\"predicted_rank\"] - item[\"two_realRank\"])))\n          return sclale1(d3.max(temp))\n        })\n      // ------------ Circles start here\n      var data_for_all_years = data.filter(item => d['two_realRank'] == parseInt(item['two_realRank']))\n      var circ_data = []\n      defualt_models.map(model_name => {\n        data_for_all_years.map(item => {\n          var a = {}\n          a['two_realRank'] = parseInt(item['two_realRank'])\n          a['predicted_rank'] = parseInt(item[model_name])\n          a[\"model\"] = model_name\n          a['year'] = item['1-qid']\n          circ_data.push(a)\n        })\n      })\n      if (average) {\n        var avg = d3.mean(circ_data.map(item => item['predicted_rank']))\n        circ_data = circ_data.map(item => {\n          item['predicted_rank'] = avg\n          item['model'] = \"Average\"\n          item['year'] = \"Average\"\n          return item;\n        })\n      }\n      d3.select(this).selectAll(\"circle\").data(circ_data).join(\"circle\")\n        .attr(\"r\", circle_radius).attr('fill', '#7c7b7b')\n        // .transition().duration(config.animation_duration)\n        .attr(\"cx\", (d2, i) => {\n          if (d2[\"predicted_rank\"] - d2['two_realRank'] == 0) { return sclale1(Math.abs(d2[\"predicted_rank\"] - d2['two_realRank'])) + circle_radius }\n          return sclale1(Math.abs(d2[\"predicted_rank\"] - d2['two_realRank']))\n        })\n        .on(\"mouseover\", function (d2) {\n          div.transition().duration(200).style(\"opacity\", .9);\n          div.html(\"Year : \" + d2[\"year\"] + \"<br></br>\" + d2[\"model\"] + \" : \" + Math.abs(d2[\"predicted_rank\"] - d2['two_realRank'])).style(\"left\", (d3.event.pageX - 130) + \"px\").style(\"top\", (d3.event.pageY - 68) + \"px\");\n        }).on(\"mouseout\", function (d2) {\n          div.transition()\n            .duration(500)\n            .style(\"opacity\", 0);\n        })\n    })\n}\n\nexport function CreatexpChart(selected_instances, sorted_features, lime_data, selected_year, defualt_models,clicked_circles,Set_clicked_circles) {\n  var margin = { item_top_margin: 15, right: 14, bottom: 0, left: 20, circ_radius: 5,item_left_margin:25,item_right_margin:3 }\n  var parent_width = $(\"#exp_container\").width()-margin.item_left_margin\n  var parent_height = $(\"#exp_container\").height()-margin.item_top_margin*2\n  var item_width = parent_width / sorted_features.length - margin.item_right_margin\n  var item_height = parent_height\n  var height = parent_height - margin.item_top_margin - margin.bottom;\n  \n  var parent_svg=d3.select(\"#exp_container\")\n  parent_svg.selectAll(\".ylabels\").data([[.125, \"++\"], [.375, \"+\"],[.5, \"0\"], [.625, \"-\"], [.875, \"--\"]]).join('text').attr('class', 'ylabels')\n  .attr(\"y\", d => d[0] * item_height).attr(\"x\", margin.item_left_margin-5)// change x and text-anchor together\n  .attr('text-anchor', 'end').attr('dominant-baseline', 'hanging')\n  .text(d => d[1]).attr(\"font-size\", 14).attr('fill', \"#636363\")\n\n  parent_svg.selectAll('.title_rect').data(sorted_features).join('rect').attr('class','title_rect').attr('width',item_width+2).attr('height',margin.item_top_margin).attr('x',(d,i)=>margin.item_left_margin+item_width*i+(margin.item_right_margin*i-1)).attr('fill','#d1d1d1')\n  parent_svg.selectAll(\".title_text\").data(sorted_features).join('text').attr('class', 'title_text').text(d=>d[0]).attr('y', 0).attr('dominant-baseline', 'hanging').attr(\"font-size\", 12).attr('x',(d,i)=>(margin.item_left_margin+margin.item_right_margin*i)+item_width*i+item_width/2).attr('text-anchor','middle')\n  parent_svg.selectAll('.item_rect').data(sorted_features).join('rect').attr('class','item_rect').attr('width',item_width).attr('height',item_height).attr('x',(d,i)=>margin.item_left_margin+item_width*i+(margin.item_right_margin*i))\n  .attr('y',margin.item_top_margin).attr('fill','#d1d1d1').attr('fill-opacity', 0).attr('stroke','#b2b0b0')\n  \n  .attr('add_circle_rect_line', function (d,svg_index) {\n    parent_svg.selectAll(\".mylines\"+svg_index).data([[.25], [.5],[.75]]).join('line').attr('class', 'mylines'+svg_index)\n    .attr('x1',margin.item_left_margin+item_width*svg_index+(margin.item_right_margin*svg_index)).attr('x2',margin.item_left_margin+item_width*svg_index+(margin.item_right_margin*svg_index+item_width))\n    .attr('y1',d=>d*(item_height+margin.item_top_margin)).attr('y2',d=>d*(item_height+margin.item_top_margin)).attr('stroke-width',1).attr(\"stroke\", \"#bababa\")\n\n    var feature_name=d[0]\n    var feature_contrib_name = d[0] + \"_contribution\"\n    var circ_data = []\n    defualt_models.map(model => {\n      lime_data[model].map(item => {\n        if (item['1-qid'] == selected_year && selected_instances.includes(parseInt(item['two_realRank']))) { \n          item['id']=item['State'].replace(/\\s/g,'')+item['1-qid']+model.replace(/\\s/g,'')\n          circ_data.push(item) \n        }\n      })\n    })\n    var xScale=d3.scaleLinear().domain([d3.min(circ_data.map(item=>parseFloat(item[d[0]]))),d3.max(circ_data.map(item=>parseFloat(item[d[0]])))]).range([margin.item_left_margin+2*margin.circ_radius,item_width-2*margin.circ_radius])\n    var yScale=d3.scaleLinear().domain([d3.min(circ_data.map(item=>parseFloat(item[feature_contrib_name]))),d3.max(circ_data.map(item=>parseFloat(item[feature_contrib_name])))]).range([margin.item_top_margin+margin.circ_radius,item_height-margin.circ_radius])\n    d3.select(this.parentNode).selectAll(\".my_circles\"+svg_index).data(circ_data).join('circle').attr('class','circle2 my_circles'+svg_index)\n    .attr('cx',(d,i)=>(item_width*svg_index)+margin.item_left_margin+margin.circ_radius/2+ xScale(parseFloat(d[feature_name]))).attr('cy',d=>margin.circ_radius/2+yScale(parseFloat(d[feature_contrib_name]))).attr('r',margin.circ_radius).attr('fill','grey')\n    .attr('id',d=>d['id'])\n    .on('click',function(d){\n      var active_ids=[]\n      if(clicked_circles.includes(d['id'])){\n        d3.selectAll(\"#\"+d['id']).filter(d3.matcher('path')).remove()\n        active_ids=clicked_circles.filter(item=>item!=d['id'])\n        Set_clicked_circles(active_ids)\n      }\n      else{\n        active_ids=[...clicked_circles,d['id']]\n        Set_clicked_circles(active_ids)\n      var data=[]\n      d3.select(\"#exp_container\").selectAll(\"#\"+d['id']).each(function(d) {\n       data.push([d3.select(this).attr('cx'),d3.select(this).attr('cy')])\n      })\n      d3.select(this.parentNode).append(\"path\").datum(data).attr('id',d['id']).attr('class','active').attr(\"fill\", \"none\").attr(\"stroke\", \"grey\").attr(\"stroke-width\", 2)\n      .attr(\"d\", d3.line().x(function(d) { return d[0] }).y(function(d) { return d[1] }))\n      /*\n      .on('click',function(){\n        \n        var active_ids=[]\n        d3.select(this).remove()\n        console.log(clicked_circles,d['id'])\n        if(clicked_circles.includes(d['id'])){\n          active_ids=clicked_circles.filter(item=>item!=d['id'])\n          Set_clicked_circles(active_ids)\n        }\n        else{\n          active_ids=[...clicked_circles,d['id']]\n          Set_clicked_circles(active_ids)\n        } \n        handle_transparency(\"circle2\",active_ids)\n      })\n      */\n      }\n      handle_transparency(\"circle2\",active_ids)\n    })\n    })\n}\nfunction handle_transparency(class_name,active_ids,inactive_class){\n  //console.log(active_ids)\n  if(active_ids.length==0){d3.selectAll(\".\"+class_name).attr('opacity',1)}\n  else{\n    d3.selectAll(\".\"+class_name).attr('opacity',0.5)\n    active_ids.map(id=>d3.selectAll(\"#\"+id).attr('opacity',1)) \n  }\n}\n","\nimport * as d3 from 'd3';\nimport * as $ from 'jquery';\nexport function createLegend(container,range,color) {\n    var data=Object.entries(color)\n    var parent_width=$(\".\"+container).width()\n    var parent_height=$(\".\"+container).height()\n    var svg=d3.select(\".\"+container).select('svg').attr('width',parent_width).attr('height',parent_height)\n    //var height=parent_height/data.length\n    var rect_width = 15\n    var rect_height = parent_height/data.length\n    var x_shift = 5\n    svg.selectAll(\".leg_rect\").data(data).join('rect').attr('class', \"leg_rect\").attr('x', 2).attr('y', (d, i) => (rect_height*i))\n    .attr('width', rect_width).attr('height', rect_height).attr('fill', d => d[1])\n\n    svg.selectAll(\".leg_text\").data([[10,range[0]],[parent_height/2,parseInt((range[1]+range[0])/2)],[parent_height-5,range[1]]]).join('text').attr('class', \"leg_text\").attr('x', x_shift + rect_width)\n    .attr('y', d =>d[0])\n    .text(d=>d[1]).attr('font-size', 12)\n\n}","import React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport * as $ from 'jquery';\nimport * as slopechart1 from \"./slopechart1\";\nimport { connect } from \"react-redux\";\nimport Grid from '@material-ui/core/Grid';\nimport * as Legend from '../Legend'\nimport * as algo1 from \"../../../Algorithms/algo1\";\nclass SlopeChart extends Component {\n  constructor(props) {\n    super(props);\n    this.line_color = null;\n    this.state = { height_slope_exp_chart: 700, mouseX: 0, mouseY: 0 }\n  }\n  componentDidMount() {\n    this.setState({ width: window.innerHeight })\n  }\n  shouldComponentUpdate(prevProps, prevState) {\n    return true;\n  }\n  componentDidUpdate(prevProps, prevState) {\n    var selected_instances=d3.range(this.props.state_range[0], this.props.state_range[1]+1)\n    console.log(selected_instances)\n    slopechart1.CreateSlopeChart1(selected_instances, this.props.original_data, this.props.defualt_models, this.props.config, this.props.selected_years, this.props.average_m)\n    var number_of_charts=9\n    var features_with_score=algo1.features_with_score(this.props.dataset, this.props.defualt_models, this.props.state_range, this.props.selected_year, number_of_charts, this.props.rank_data)\n    var sorted_features=Object.entries(features_with_score).sort((a,b)=>a[1]-b[1]).slice(0,8)\n    slopechart1.CreatexpChart(selected_instances,sorted_features,this.props.lime_data,this.props.selected_year,this.props.defualt_models,this.props.clicked_circles,this.props.Set_clicked_circles)\n  }\n  render() {\n    return (\n      <Grid container className=\"slope_chart_exp\" style={{ padding: \"0px 0px\", border: \"1px solid #eaeaea\", width: \"99%\", boxShadow: \"-2px 1px 4px -1px white\" }}>\n        <svg id=\"dev_plot_container\" style={{ width: \"100%\", height: \"50%\",marginBottom:10 }}></svg>\n        <svg id=\"exp_container\" style={{ width: \"100%\", height: \"50%\" }}></svg>\n      </Grid>\n    )\n  }\n}\nconst maptstateToprop = (state) => {\n  return {\n    state_range: state.state_range,\n    selected_year: state.selected_year,\n    selected_years: state.selected_years,\n    deviate_by: state.deviate_by,\n    clicked_items_in_slopechart: state.clicked_items_in_slopechart,\n    tracking: state.tracking,\n    defualt_models: state.defualt_models,\n    original_data: state.original_data,\n    time_mode_model: state.time_mode_model,\n    chart_scale_type: state.chart_scale_type,\n    features_with_score: state.features_with_score,\n    dataset: state.dataset,\n    histogram_data: state.histogram_data,\n    sparkline_data: state.sparkline_data,\n    dataset: state.dataset,\n    config: state.config,\n    show: state.show,\n    default_model_scores: state.default_model_scores,\n    sort_by: state.sort_by,\n    average_m: state.average_m,\n    average_y: state.average_y,\n    lime_data: state.lime_data,\n    features_with_score: state.features_with_score,\n    rank_data: state.rank_data,\n    clicked_circles:state.clicked_circles\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_clicked_circles: (val) => dispatch({ type: \"clicked_circles\", value: val }),\n    Set_prev_prop: (val) => dispatch({ type: \"prev_prop\", value: val }),\n    Set_defualt_models: (val) => dispatch({ type: \"defualt_models\", value: val }),\n    Set_sparkline_data: (val) => dispatch({ type: \"sparkline_data\", value: val }),\n    Set_clicked_items_in_slopechart: (val) => dispatch({ type: \"clicked_items_in_slopechart\", value: val }),\n    Set_replay: (val) => dispatch({ type: \"replay\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(SlopeChart);","import * as d3 from 'd3';\nimport * as $ from 'jquery';\n//--------\nexport function sparklineGen(className, sparkline_data, key, state, year, appHandleChange, className2, sparkline_color, path_id) {\n  var config = { labelKeyOffset: 55, radius: 3, sparkline_height: 20 }\n  var s_margin = { top: 0, right: 0, bottom: 0, left: 4 },\n    s_width = config.labelKeyOffset / 2 - 5,\n    s_height = config.sparkline_height - 2;\n  var s_svg = d3.select(\".\"+className)\n    .attr(\"width\", s_width + s_margin.left + s_margin.right)\n    .attr(\"height\", s_height + s_margin.top + s_margin.bottom)\n  var data = sparkline_data[key]\n  // Add X axis  \n  var x = d3.scaleLinear()\n    .domain(d3.extent(data, function (d) { return d.year; }))\n    .range([0, s_width]);\n  //-----------------------------------------------------------------------------------------------------------------------------------------Add the area\n  s_svg.select(\"path\")\n    .datum(data, d => d)\n    .attr(\"id\", \"A\"+path_id)\n    .attr(\"opacity\",1)\n    .attr(\"fill\", sparkline_color) //#969696\n    .attr(\"stroke\", sparkline_color)\n    .attr(\"stroke-width\", (d) => {\n      return 1.5\n    })\n    .attr(\"d\", d3.area()\n      .x(function (d) { return x(d.year) })\n      .y0(function () {\n        var y = d3.scaleLinear().domain([0, d3.max(data, function (d) { return +d.rank; })]).range([s_height, 0]);\n        return y(0)\n      })\n      .y1(function (d) {\n        var y = d3.scaleLinear().domain([0, d3.max(data, function (d) { return +d.rank; })]).range([0, s_height]);\n        return y(d.rank)\n      })\n    )\n  //------------Circles\n  s_svg.selectAll('circle').data(data).join('circle')\n    .attr('cx', function (d, i) { return x(d.year) })\n    .attr('cy', s_height - 2)\n    .attr(\"class\", \"myid\" + className2)\n    .on(\"mouseover\", function (d) {\n      d3.select(this).style('fill', 'black')\n      d3.select(this).attr('r', 3)\n    })\n    .style('fill', (d) => d.year != year ? 'transparent' : 'black')\n    .attr('class', (d) => d.year != year ? 'transparent_class' : 'red_class')\n    .attr('r', 2)\n    .on('dblclick', (d, i) => {\n      d3.event.preventDefault();\n      appHandleChange(d.year, \"year_changed\")\n    })\n    .on(\"mouseout\", function (d) {\n      d3.select(this).style('fill', 'transparent')\n      var divid=\"#div\"+className\n      d3.selectAll(divid).remove()\n    })\n    .on('click', (d) => {\n      d3.select(\"body\").append(\"div\")\n        .attr(\"id\", \"div\"+className)\n        .attr(\"class\", \"tooltip\")\n        .style(\"opacity\", 0)\n        .html(\"<p>\" + \"Year: \" + d.year + \"</p>\" + \"<p>\" + \"Rank: \" + d.rank + \"</p>\")\n        .style(\"left\", ((d) => {\n          var left_div_width = $('.Sidebar_parent').width()\n          return left_div_width - 125 + \"px\"\n        }))\n        .style(\"top\", (d3.event.pageY - 40) + \"px\")\n        .transition()\n        .duration(200)\n        .style(\"opacity\", .97);\n    })\n\n}","import * as d3 from 'd3';\nimport * as $ from 'jquery';\n//--------\nexport function sparklineGen(className, sparkline_data, key, model_name, original_data, state, year, appHandleChange, className2, sparkline_color, path_id) {\n  var temp_data = []\n  original_data.forEach(element => {\n    if (element['State'] == state && element[model_name]) {\n      temp_data.push({ year: parseInt(element['1-qid']), rank: parseInt(element[model_name]) })\n    }\n  });\n  var config = { labelKeyOffset: 55, radius: 3, sparkline_height: 20 }\n  var s_margin = { top: 0, right: 0, bottom: 0, left: 5 },\n    s_width = config.labelKeyOffset / 2,\n    s_height = config.sparkline_height - 2;\n  var s_svg = d3.selectAll(\".\"+className)\n  //var s_svg = d3.selectAll(\".\"+className).data([className],d=>d).join(\"svg\").attr(\"class\",className)\n    .attr(\"width\", s_width + s_margin.left + s_margin.right)\n    .attr(\"height\", s_height + s_margin.top + s_margin.bottom)\n  var data = temp_data\n  // Add X axis  \n  var x = d3.scaleLinear()\n    .domain(d3.extent(data, function (d) { return d.year; }))\n    .range([0, s_width]);\n  //---Add the area\n  s_svg.select(\"path\")\n    .datum(data, d => d)\n    .attr(\"id\", \"A\"+path_id)\n    .attr(\"fill\", sparkline_color) //#969696\n    .attr(\"stroke\", sparkline_color)\n    .attr(\"stroke-width\", (d) => {\n      return 1.5\n    })\n    .attr(\"d\", d3.area()\n      .x(function (d) { return x(d.year) })\n      .y0(function () {\n        var y = d3.scaleLinear().domain([0, d3.max(data, function (d) { return +d.rank; })]).range([s_height, 0]);\n        return y(0)\n      })\n      .y1(function (d) {\n        var y = d3.scaleLinear().domain([0, d3.max(data, function (d) { return +d.rank; })]).range([0, s_height]);\n        return y(d.rank)\n      })\n    )\n\n  var div = d3.select(\"body\").append(\"div\")\n    .attr(\"class\", \"tooltip\")\n    .style(\"opacity\", 0);\n  //------------Circles\n  s_svg.selectAll('circle').data(data).enter().append('circle')\n    .attr('cx', function (d, i) { return x(d.year) })\n    .attr('cy', s_height - 2)\n    .attr(\"class\", \"myid\" + className2)\n    .on(\"mouseover\", function (d) {\n      d3.select(this).style('fill', 'black')\n      d3.select(this).attr('r', 2)\n    })\n    .on(\"mouseout\", function (d) {\n      d3.select(this).style('fill', 'transparent')\n      var divid=\"#div\"+className\n      d3.selectAll(divid).remove()\n    })\n    .style('fill', (d) => d.year != year ? 'transparent' : 'black')\n    .attr('class', (d) => d.year != year ? 'transparent_class' : 'red_class')\n    .attr('r', 2)\n    .on('dblclick', (d, i) => {\n      d3.event.preventDefault();\n      appHandleChange(d.year, \"year_changed\")\n    })\n    .on('click', (d) => {\n      d3.select(\"body\").append(\"div\")\n        .attr(\"id\", \"div\"+className)\n        .attr(\"class\", \"tooltip\")\n        .style(\"opacity\", 0)\n        .html(\"<p>\" + \"Year: \" + d.year + \"</p>\" + \"<p>\" + \"Rank: \" + d.rank + \"</p>\")\n        .style(\"left\", ((d) => {\n          var left_div_width = $('.Sidebar_parent').width()\n          return left_div_width - 125 + \"px\"\n        }))\n        .style(\"top\", (d3.event.pageY - 40) + \"px\")\n        .transition()\n        .duration(200)\n        .style(\"opacity\", .97);\n    })\n}","import React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport * as $ from 'jquery';\nimport './Chart.css';\nimport * as algo1 from \"../../../Algorithms/algo1\";\nimport { connect } from \"react-redux\";\nclass Chart extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { \"sorted_features_dragged\": null }\n  }\n  componentDidMount() {\n    this.setState({ \"sorted_features\": null })\n  }\n  componentDidUpdate() {\n    var self = this\n    var animation3 = this.props.config.animation3\n    var delay3 = this.props.config.animation1 + this.props.config.animation2\n    //------------------------------------------------------------------------------------------------------------------------------ Dynamic feature calcuation starts here\n    var margin = {\n      top: 0, right: 20, bottom: 0, space_for_contribution_text: 40, space_for_feature_title: 0, right2: 5,\n      bottom2: 0, left2: 18, vertical_space_between_features: 4, horizontal_space_between_features: 4\n    }\n    // Subtract margin.space_for_contribution_text from the parent width and use the rest for dynamic width calculation\n    var parent_width = $('#' + \"root_container\" + this.props.model_name2.replace(/\\s/g, '').replace(/[`~!@#$%^&*()_|+\\-=?;:'\",.<>\\{\\}\\[\\]\\\\\\/]/gi, '')).width() - (margin.space_for_contribution_text * 2),\n      parent_height = $('#' + \"root_container\" + this.props.model_name2.replace(/\\s/g, '').replace(/[`~!@#$%^&*()_|+\\-=?;:'\",.<>\\{\\}\\[\\]\\\\\\/]/gi, '')).height()\n    var feature_width_temp = 70, feature_height_temp = 150; // Use them as the base to estimate the actual feature width and height. Change here to accomodate more features\n    var horizontal_capacity = Math.floor(parent_width / feature_width_temp)\n    var vertical_capacity = Math.floor(parent_height / feature_height_temp)\n\n    var feature_width = (parent_width / horizontal_capacity),\n      feature_height = (parent_height / vertical_capacity) - margin.top - margin.bottom\n\n    var total_capacity = horizontal_capacity * vertical_capacity\n    var number_of_features = total_capacity\n    //------------------\n    var sorted_features = algo1.sorted_features(this.props.dataset, this.props.model_name, d3.range(this.props.state_range[0], this.props.state_range[1]), this.props.selected_year, this.props.rank_data)\n    if (Object.keys(this.props.drag_drop_feautre_data).length > 0) {\n      Object.keys(this.props.drag_drop_feautre_data).map(feature_name => {\n        var diff = this.props.drag_drop_feautre_data[feature_name]\n        var origin_ind = sorted_features.indexOf(feature_name)\n        sorted_features = sorted_features.filter(item => item != feature_name)\n        var dest_index = origin_ind + diff\n        sorted_features.splice(dest_index, 0, feature_name)\n      })\n    }\n    //------------------\n    if (sorted_features.length < total_capacity) {\n      vertical_capacity = Math.ceil(sorted_features.length / horizontal_capacity)\n      number_of_features = sorted_features.length\n    }\n    var top_features = sorted_features.slice(0, number_of_features).map(item => [item.replace(/\\s/g, '').replace(/[`~!@#$%^&*()_|+\\-=?;:'\",.<>\\{\\}\\[\\]\\\\\\/]/gi, ''), item])\n\n    //------------------------------------------------------------------------------------------------------------------------------Dynamic feature calcuation ends here  \n\n\n    //----------------------------------------------------------------------- Select the container identified by the model name. This container is under the root container and will contain all the features\n    var feature_container = d3.selectAll(\"#feature_container\" + this.props.model_name2.replace(/\\s/g, '').replace(/[`~!@#$%^&*()_|+\\-=?;:'\",.<>\\{\\}\\[\\]\\\\\\/]/gi, ''))\n      .attr(\"width\", parent_width).attr(\"height\", parent_height).attr('x', margin.space_for_contribution_text) // subtract the contribution text space and then\n\n    //----------------------------------------------------------------------- Select all svgs to append individual features and set their x and y value\n    feature_container.selectAll('.svg1').data(top_features, d => d[0])\n      .join(\n        enter => enter.append(\"svg\").attr('class', d => d[0] + \" svg1\")\n          .attr(\"x\", (d, i) => (i % horizontal_capacity) * feature_width) // subtract horizontal_space_between_features and vertical_space_between_features from each features but keep the x and y values as feature width and height to make space\n          .attr('y', (d, i) => parseInt(i / horizontal_capacity) * feature_height)\n          .attr(\"myindex\", (d, i) => i)\n        ,\n        update => update.transition().duration(animation3).delay(delay3).attr('class', d => d[0] + \" svg1\")\n          .attr(\"x\", (d, i) => (i % horizontal_capacity) * feature_width) // subtract horizontal_space_between_features and vertical_space_between_features from each features but keep the x and y values as feature width and height to make space. change x position of each feature container to move right\n          .attr('y', (d, i) => parseInt(i / horizontal_capacity) * feature_height)\n          .attr(\"myindex\", (d, i) => i)\n      )\n      .attr(\"feature_name\", d => d[1])\n      .call(d3.drag()\n        .on(\"start\", dragstarted)\n        .on(\"drag\", dragged)\n        .on(\"end\", dragended))\n    //--------------------------------------------------------------------------\n    var deltaX, deltaY, is_dragging;\n    function dragstarted(d) {\n      deltaX = d3.select(this).attr(\"x\") - d3.event.x;\n      deltaY = d3.select(this).attr(\"y\") - d3.event.y;\n    }\n    function dragged(d) {\n      is_dragging = true\n      d3.select(this).raise();\n      d3.select(this).attr(\"x\", d3.event.x + deltaX).attr(\"y\", d3.event.y + deltaY);\n    }\n    function dragended(d, e) {\n      if (is_dragging) {\n        var origin_index = parseInt(d3.select(this).attr(\"myindex\")); d3.select(this).lower(); d3.select(this).select('rect').classed(\"exp_chart_clicked\", true);\n        var dest_index = parseInt(d3.select(document.elementFromPoint(d3.event.sourceEvent.clientX, d3.event.sourceEvent.clientY)).attr(\"myindex\")), feature_name = d3.select(this).attr(\"feature_name\"); d3.select(this).raise();\n        self.props.set_config({ ...self.props.config, animation1: 0, animation2: 0 }) // Change config\n\n        //-------------------------------------------------------------------------------------------------------------Set drag_drop_feautre_data starts here\n        var diff = dest_index - origin_index\n        if (isNaN(dest_index)) {\n          alert(\"Please drop again\")\n        }\n        else {\n          var temp = { ...self.props.drag_drop_feautre_data }\n          if (feature_name in self.props.drag_drop_feautre_data) {\n            diff = diff + self.props.drag_drop_feautre_data[feature_name]\n          }\n          temp[feature_name] = diff\n          self.props.set_drag_drop_feautre_data(temp)\n        }\n        //-------------------------------------------------------------------------------------------------------------Set drag_drop_feautre_data ends here\n        self.props.set_config({ ...self.props.config, animation1: 4000, animation2: 2000 }) // Change config back\n        if (!self.props.clicked_features.includes(feature_name)) { self.props.set_clicked_features([...self.props.clicked_features, feature_name]) } // Set clicked features for highlight\n      }\n      else { // This is to handle only the click\n        if (self.props.clicked_features.includes(feature_name)) { self.props.set_clicked_features(self.props.clicked_features.filter(item => item != feature_name)) }\n        else {\n          if (feature_name != undefined) { self.props.set_clicked_features([...self.props.clicked_features, feature_name]) }\n        }\n      }\n    }\n\n    //--------------------------------------------------------------------------\n    // use the following to aviod transition issue during on('click)\n    feature_container.selectAll('.svg1').data(top_features, d => d[0]).join(\"svg\").attr('class', d => \"feat\" + d[0] + \" svg1\")\n      .attr(\"a\", (d, i) => { // subtract horizontal_space_between_features and vertical_space_between_features from each features but keep the x and y values as feature width and height to make space\n        this.CreateChart(\"feat\" + d[0], d[1], feature_width - margin.horizontal_space_between_features, feature_height - margin.vertical_space_between_features, margin, self, i) // call the createChart and pass the d[0] as the className to combine the modelname with it to access each feature container. subtract 5 from the width to make space on the right of each feature\n        return i\n      })\n\n    //----------------------------------------------------------------------- Contribution text containers starts here\n    d3.select('#' + \"root_container\" + this.props.model_name2.replace(/\\s/g, '').replace(/[`~!@#$%^&*()_|+\\-=?;:'\",.<>\\{\\}\\[\\]\\\\\\/]/gi, ''))\n      .selectAll('.contribution_container').data(d3.range(vertical_capacity).concat(d3.range(vertical_capacity))).join('svg').attr('class', \"contribution_container\").attr('width', margin.space_for_contribution_text)\n      .attr('height', feature_height - margin.vertical_space_between_features)\n      .attr('y', (d, i) => {\n        return (feature_height * Math.floor(i / 2))\n      })\n      .attr('add_rect', function () {\n        d3.select(this).selectAll('rect').data([0]).join('rect').attr('width', margin.space_for_contribution_text).attr('height', feature_height - margin.space_for_feature_title).attr('fill', '#ededed')\n      })\n      .attr('x', (d, i) => i % 2 == 0 ? 0 : margin.space_for_contribution_text + parent_width - margin.horizontal_space_between_features)\n      .attr(\"add_text\", function (d, i) { //Contribution text starts here\n        d3.select(this).selectAll(\"text\").data([[8, '++ ve'], [2.6, \"+ ve\"], [1.977, '0'], [1.6, \"- ve\"], [1.15, \"-- ve\"]]).join('text')\n          .attr(\"x\", i % 2 == 0 ? margin.space_for_contribution_text - 5 : 5)\n          .attr(\"y\", (d, i) => (feature_height / d[0]) + 1)\n          .text(d => d[1])\n          .attr(\"font-size\", 13)\n          .attr('text-anchor', i % 2 == 0 ? 'end' : 'start')\n      })\n      .attr('add_horizontal_lines', function () { //horizontal lines starts here\n        d3.select(this).selectAll(\"line\").data([3.9, 1.31]).join('line')\n          .attr(\"x1\", 4)\n          .attr(\"x2\", margin.space_for_contribution_text)\n          .attr(\"y1\", d => (feature_height / d) - 2)\n          .attr(\"y2\", d => (feature_height / d) - 2)\n          .style(\"stroke\", \"#a5a5a5\")\n      })\n\n      .attr('add_0horizontal_line', function (d, i) { //horizontal lines starts here\n        d3.select(this).selectAll(\".line0\").data([0]).join('line').attr('class', \"line0\")\n          .attr(\"x1\", i % 2 == 0 ? 4 : 15)\n          .attr(\"x2\", i % 2 == 0 ? margin.space_for_contribution_text - 15 : margin.space_for_contribution_text)\n          .attr(\"y1\", d => (feature_height / 2) - 2)\n          .attr(\"y2\", d => (feature_height / 2) - 2)\n          .style(\"stroke\", \"#a5a5a5\")\n      })\n\n  }\n\n  //-------------------------------------------------------------------------------------------------------------------------------------CreateChart function\n  CreateChart = (feature_className, feature, width, feature_height, margin, self, myindex) => {\n    //console.log(myindex)\n    var animation4 = this.props.config.animation4\n    var delay4 = this.props.config.animation1 + this.props.config.animation2 + this.props.config.animation3\n    /*\n    svg1 is for to contain the feature tittle and svg2. svg2 contains the dots\n    */\n    var width = width - margin.left2 - margin.right2, // width for individual features \n      height = feature_height - margin.space_for_feature_title - margin.bottom2; // height for individual features\n    var year = self.props.selected_year;\n    var number_of_filters_start = self.props.state_range[0];\n    var number_of_filters_end = self.props.state_range[1];\n    var histogram_data = self.props.histogram_data;\n    var selected_range = [];\n    var data = null\n    // Data for the chart\n    if (histogram_data.length > 0) { data = self.props.lime_data[self.props.model_name].filter(element => { if ((parseInt(element['1-qid']) == parseInt(year)) && (histogram_data.includes(parseInt(element['two_realRank'])))) { return element } }); }\n    else { data = self.props.lime_data[self.props.model_name].filter(element => { if ((parseInt(element['1-qid']) == parseInt(year)) && (parseInt(element['two_realRank']) >= parseInt(number_of_filters_start) && (parseInt(element['two_realRank']) <= parseInt(number_of_filters_end)))) { return element } }); }\n\n    selected_range = data.map(function (d) { return parseInt(d.two_realRank) });\n    selected_range.sort(function (a, b) { return a - b });\n    //----------------------------------------------------------------------------------------------------------------------------------SVG1 for svg2\n    var svg1 = d3.select(\"#feature_container\" + self.props.model_name2.replace(/\\s/g, '').replace(/[`~!@#$%^&*()_|+\\-=?;:'\",.<>\\{\\}\\[\\]\\\\\\/]/gi, '')).select(\".\" + feature_className) // select the model and then select the feature container from that\n      .attr(\"width\", width + margin.left2 + margin.right2).attr(\"height\", height + margin.space_for_feature_title + margin.bottom2).attr('class', 'svg1')\n\n    svg1.selectAll('rect').data([0]).join('rect').attr(\"width\", width + margin.left2 + margin.right2).attr(\"height\", height + margin.bottom2).attr(\"y\", margin.space_for_feature_title)\n      .attr('fill', '#f7f7f7')\n      .attr('class', d => {\n        //if (self.props.clicked_features.includes(feature) || self.props.dbclicked_features.includes(feature)) {\n        if (self.props.clicked_features.includes(feature)) {\n          return \"exp_chart_clicked rect\" + feature_className\n        }\n        else {\n          return \"rect\" + feature_className\n        }\n      })\n      .attr(\"myindex\", myindex)\n      .on('click', function (event, d) {\n        if (event.defaultPrevented) return;\n        var temp = [...self.props.clicked_features]\n        if (d3.selectAll(\".rect\" + feature_className).classed(\"exp_chart_clicked\") == true) {\n          temp = self.props.clicked_features.filter(item => item != feature)\n          d3.selectAll(\".rect\" + feature_className).classed(\"exp_chart_clicked\", false)\n        }\n        else {\n          temp.push(feature)\n          d3.selectAll(\".rect\" + feature_className).classed(\"exp_chart_clicked\", true)\n        }\n        self.props.set_clicked_features(temp)\n      })\n      .on('dblclick', (d) => {\n        d3.event.preventDefault()\n        var temp = [...self.props.dbclicked_features]\n          if (!temp.includes(feature)) {\n            temp.unshift(feature)\n            d3.selectAll(\".rect\" + feature_className).classed(\"exp_chart_clicked\", true)\n        }\n        self.props.set_dbclicked_features(temp)\n        //----------------------------Data for popup chart\n        var popup_chart_data = {}\n        self.props.defualt_models.filter(item=>item!=\"ListNet\").map(model_name => {\n          //if(model_name==\"ListNet\"){return}\n          if (histogram_data.length > 0) {\n            data = self.props.lime_data[model_name].filter(element => { if ((parseInt(element['1-qid']) == parseInt(year)) && (histogram_data.includes(parseInt(element['two_realRank'])))) { return element } });\n          }\n          else { data = self.props.lime_data[model_name].filter(element => { if ((parseInt(element['1-qid']) == parseInt(year)) && (parseInt(element['two_realRank']) >= parseInt(number_of_filters_start) && (parseInt(element['two_realRank']) <= parseInt(number_of_filters_end)))) { return element } }); }\n          popup_chart_data[model_name] = data\n        })\n        //self.props.Set_popup_chart_data([popup_chart_data,feature]) // This is to update the pop when the year or anything changes during the pop up is open\n        self.props.Set_popup_chart_data([popup_chart_data, feature])\n        self.props.set_pop_over(true)\n      })\n    //---------------------------------------------------------------------------------------------------------------------------------- SVG2 for title and circles\n    var svg2 = svg1.selectAll('.svg2').data([0]).join('svg').attr('class', 'svg2').attr(\"width\", width + margin.left2 + margin.right2).attr(\"height\", height + margin.space_for_feature_title + margin.bottom2)\n      .attr('x', margin.left2).attr('y', margin.space_for_feature_title)\n    svg1.selectAll(\"text\").data([feature]).join('text').attr('class', \"features\").attr('x', 10).attr('y', height / 2).text(d => d).attr(\"font-size\", 12).style(\"text-anchor\", \"middle\")\n      .style(\"writing-mode\", \"tb\")\n\n    svg2.selectAll(\"line\").data([4, 2, 1.3]).join('line')\n      .attr(\"x1\", 2)\n      .attr(\"x2\", width)\n      .attr(\"y1\", d => height / d)\n      .attr(\"y2\", d => height / d)\n      .style(\"stroke\", \"#a5a5a5\")\n\n    //----------------------------------------------------------------------------------------------------------------------------------Create scatterplot\n    var temp_x = data.map(item => parseFloat(item[feature]))\n    var x = d3.scaleLinear().domain([d3.min(temp_x), d3.max(temp_x)]).range([0, width]).nice();\n    var temp_y = data.map(item => parseFloat(item[feature + \"_contribution\"])) // d[1]\n    var y = d3.scaleLinear().domain([d3.min(temp_y), d3.max(temp_y)]).range([height, 0]).nice(); // circles will start from y position 10 and go upto height-10\n\n    if (data.length > 0) { // This is to avoid erro caused by the next line\n      if (isNaN(data[0][feature])) {\n        var temp_x = data.map(item => item[feature])\n        var x = d3.scaleOrdinal().domain(temp_x).range([0, width]); // overwrites the previous variable when condition is true\n      }\n    }\n    var circs = svg2.selectAll(\"circle\").data(data, d => d[feature + \"_contribution\"])\n    circs.join(\n      enter => enter.append(\"circle\")\n        .attr(\"cx\", (d, i) => {\n          if (x(d[feature]) < 10) {\n            return 10;\n          }\n          return x(d[feature])\n        })\n        .attr(\"cy\", (d, i) => {\n          if (y(parseFloat(d[feature + \"_contribution\"])) < 10) {\n            return 10;\n          }\n          else if (y(parseFloat(d[feature + \"_contribution\"])) > (height - 10)) {\n            return height - 10;\n          }\n          return y(parseFloat(d[feature + \"_contribution\"])) - 0\n        })\n        .attr(\"actual_Y_valu\", d => d[feature + \"_contribution\"])\n        .attr(\"r\", 4)\n        .attr('opacity', d => {\n          if ((self.props.clicked_items_in_slopechart.length > 0 && self.props.clicked_items_in_slopechart.includes(\"A\" + String(d['State']).replace(/ +/g, \"\"))) || self.props.clicked_items_in_slopechart.length == 0) {\n            return 1\n          }\n          else {\n            return self.props.config.reduced_opacity\n          }\n        })\n        .attr(\"fill\", (d) => self.props.color_gen(d['State']))\n        .attr(\"id\", d => \"A\" + String(d['State']).replace(/ +/g, \"\"))\n        .attr(\"class\", d => \"bar myid\" + String(d['two_realRank']) + \" exp_circles\")\n        .attr(\"myindex\", myindex)\n        .on(\"click\", d => self.props.textClickHandler_original(\"A\" + d[\"State\"]))\n      ,\n      update =>\n        update\n          .attr(\"cx\", (d, i) => {\n            if (x(d[feature]) < 10) {\n              return 10;\n            }\n            return x(d[feature]) - 5\n          })\n          .attr('opacity', d => {\n            if ((self.props.clicked_items_in_slopechart.length > 0 && self.props.clicked_items_in_slopechart.includes(\"A\" + String(d['State']).replace(/ +/g, \"\"))) || self.props.clicked_items_in_slopechart.length == 0) {\n              return 1\n            }\n            else {\n              return self.props.config.reduced_opacity\n            }\n          })\n          .on(\"click\", function (d) {\n            self.props.textClickHandler_original(\"A\" + d[\"State\"])\n          })\n          .transition()\n          .duration(animation4)\n          .delay(delay4)\n          .attr(\"cy\", (d, i) => {\n            if (y(parseFloat(d[feature + \"_contribution\"])) < 10) {\n              return 10;\n            }\n            else if (y(parseFloat(d[feature + \"_contribution\"])) > (height - 10)) {\n              return height - 10;\n            }\n            return y(parseFloat(d[feature + \"_contribution\"])) - 0\n          })\n          .attr(\"actual_Y_valu\", d => d[feature + \"_contribution\"])\n          .attr(\"r\", 4)\n          .attr(\"fill\", (d) => self.props.color_gen(d['State']))\n          .attr(\"id\", d => \"A\" + String(d['State']).replace(/ +/g, \"\"))\n          .attr(\"myindex\", myindex)\n          .attr(\"class\", function (d) {\n            return \"bar myid\" + String(d['two_realRank']) + \" exp_circles\"\n          })\n\n    );\n    // Define the div for the tooltip\n    var div = d3.select(\"body\").append(\"div\")\n      .attr(\"class\", \"tooltip2\")\n      .style(\"opacity\", 0);\n    d3.selectAll('.exp_circles')\n      .on(\"mouseover\", function (d) {\n        div.transition()\n          .duration(200)\n          .style(\"opacity\", .9);\n        //div.html(\"<p>\" + d['State'] + \"</p>\" + \"<p>\" + \"Rank: \" + d['two_realRank'] + \"</p>\")\n        div.html(d['State'])\n          .style(\"left\", (d3.event.pageX) + \"px\")\n          .style(\"top\", (d3.event.pageY - 28) + \"px\");\n      })\n      .on(\"mouseout\", function (d) {\n        d3.selectAll('.tooltip2').transition()\n          .duration(500)\n          .style(\"opacity\", 0);\n      })\n  }\n\n  render() {\n    return (\n      <svg id={\"root_container\" + this.props.model_name2.replace(/\\s/g, '').replace(/[`~!@#$%^&*()_|+\\-=?;:'\",.<>\\{\\}\\[\\]\\\\\\/]/gi, '')} style={{ width: \"100%\", height: \"100%\" }}>\n        <svg id={\"feature_container\" + this.props.model_name2.replace(/\\s/g, '').replace(/[`~!@#$%^&*()_|+\\-=?;:'\",.<>\\{\\}\\[\\]\\\\\\/]/gi, '')}> </svg>\n      </svg>\n    );\n  }\n}\nconst maptstateToprop = (state) => {\n  return {\n    clicked_items_in_slopechart: state.clicked_items_in_slopechart,\n    original_data: state.original_data,\n    chart_scale_type: state.chart_scale_type,\n    features_with_score: state.features_with_score,\n    dataset: state.dataset,\n    histogram_data: state.histogram_data,\n    deviate_by: state.deviate_by,\n    prev_prop: state.prev_prop,\n    clicked_features: state.clicked_features,\n    config: state.config,\n    rank_data: state.rank_data,\n    lime_data: state.lime_data,\n    defualt_models: state.defualt_models,\n    drag_drop_feautre_data: state.drag_drop_feautre_data,\n    dbclicked_features: state.dbclicked_features,\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_defualt_models: (val) => dispatch({ type: \"defualt_models\", value: val }),\n    Set_clicked_items_in_slopechart: (val) => dispatch({ type: \"clicked_items_in_slopechart\", value: val }),\n    Set_popup_chart_data: (val) => dispatch({ type: \"popup_chart_data\", value: val }),\n    set_pop_over: (val) => dispatch({ type: \"pop_over\", value: val }),\n    set_clicked_features: (val) => dispatch({ type: \"clicked_features\", value: val }),\n    set_config: (val) => dispatch({ type: \"config\", value: val }),\n    set_drag_drop_feautre_data: (val) => dispatch({ type: \"drag_drop_feautre_data\", value: val }),\n    set_dbclicked_features: (val) => dispatch({ type: \"dbclicked_features\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Chart);\n\n//https://stackoverflow.com/questions/51304266/how-to-get-target-element-in-drag-n-drop-d3-v4","import React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport { connect } from \"react-redux\";\n//import {get_feature_voting} from \"../Algorithms/exp_algo\";\n\nclass Chart extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { \"a\": 10 }\n  }\n  componentDidMount() {\n    this.setState({ a: 5 })\n  }\n  componentDidUpdate() {\n    var temp_dict = {}\n    this.props.defualt_models.filter(item => item != \"ListNet\").map(model => {\n      temp_dict[model] = this.props.popup_chart_data[0][model]\n    })\n    var merged_arr = [].concat.apply([], Object.values(temp_dict))\n    var scatterplot_data = Object.entries(this.props.popup_chart_data[0]).filter(item => this.props.pop_over_models.includes(item[0]))\n\n    //console.log(this.props.popup_chart_data[0],this.props.pop_over_models)\n    //----------------------------------------------------------------------------------------------------------Call createChart\n    if (merged_arr.length > 0) { // This is to avoid the error caused by the next line\n      if (isNaN(merged_arr[0][this.props.popup_chart_data[1]])) {\n        this.CreateChart_cat(merged_arr, this.props.popup_chart_data[1], scatterplot_data)\n      }\n      else {\n        //this.CreateChart_cat(merged_arr, this.props.popup_chart_data[1], scatterplot_data)\n        this.CreateChart(merged_arr, this.props.popup_chart_data[1], scatterplot_data)\n      }\n    }\n    else {\n      this.CreateChart(merged_arr, this.props.popup_chart_data[1], scatterplot_data) // calling the function to set the  graph empty when all models are unselected\n    }\n    //----------------------------------------------------------------------------------------------------------Set and unset Opacity\n    if (this.props.clicked_items_in_slopechart.length > 0) {\n      d3.selectAll('circle,.datapoint').attr('opacity', this.props.config.reduced_opacity)\n    }\n    this.props.clicked_items_in_slopechart.map(idName => d3.selectAll('#' + idName).attr('opacity', 1))\n    //----------------------------------------------------------------------------------------------------------\n  }\n  CreateChart = (data, feature, scatterplot_data) => {\n    console.log(scatterplot_data)\n    var self = this,\n      feature_contribute = feature + \"_contribution\"\n    // set the dimensions and margins of the graph\n    var margin = { top: 0, right: 30, bottom: 45, left: 50, space_for_hist: 50 },\n      width = 520 - margin.left - margin.right,\n      height = 250 - margin.top - margin.bottom;\n    var temp_x = data.map(item => parseFloat(item[feature])),\n      temp_y = data.map(item => parseFloat(item[feature_contribute]))\n    var x = d3.scaleLinear().domain([d3.min(temp_x), d3.max(temp_x)]).range([0, width]).nice(),\n      y = d3.scaleLinear().domain([d3.min(temp_y), d3.max(temp_y)]).range([height, 0]).nice(); // circles will start from y position 10 and go upto height-10\n\n    //-------------------------------------------------------------All svgs\n    var parent_svg = d3.select(\"#\" + self.props.myid).attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom + margin.space_for_hist),\n      svg1 = parent_svg.selectAll('.svg11').data([0]).join('svg').attr(\"y\", margin.space_for_hist).attr(\"class\", \"svg11\").selectAll(\".myg\").data([0]).join('g').attr(\"class\", \"myg\").attr(\"transform\",\n        \"translate(\" + margin.left + \",\" + margin.top + \")\")\n\n    //------------------------------------------------------------------------------------------------------ Create Histogram starts here\n    var hist_height = margin.space_for_hist,\n      histogram = d3.histogram()\n        .value(d => d)   // I need to give the vector of value\n        .domain(x.domain())  // then the domain of the graphic\n    //.thresholds(x.ticks(5)); // then the numbers of bins\n    var bins = histogram(temp_x),\n      y_hist = d3.scaleLinear()\n        .range([hist_height, 0]);\n\n    y_hist.domain([0, d3.max(bins, function (d) { return d.length; })]);   // d3.hist has to be called before the Y axis obviously\n    var svg0 = parent_svg.selectAll('.svg0').data([0]).join('svg').attr(\"class\", \"svg0\").selectAll(\".myg0\").data([0]).join('g').attr(\"class\", \"myg0\").attr(\"transform\",\n      \"translate(\" + margin.left + \",\" + margin.top + \")\")\n    // Add line on the bottom of the histogram\n    svg0.selectAll(\".myline\").data([0]).join('line').attr(\"class\", \"myline\").attr(\"x1\", 0).attr(\"y1\", margin.space_for_hist).attr(\"x2\", width).attr(\"y2\", margin.space_for_hist).attr(\"stroke\", \"#EBEBEB\");\n    svg0.selectAll(\"rect\").data(bins).join('rect')\n      .attr(\"x\", 1)\n      .attr(\"fill\", \"#b7b7b7\")\n      .attr(\"transform\", function (d) {\n        if (d.x0 == d.x1) { return \"translate(\" + 0 + \",\" + y_hist(d.length) + \")\" }\n        return \"translate(\" + x(d.x0) + \",\" + y_hist(d.length) + \")\";\n      })\n      .attr(\"width\", function (d) {\n        if (d.x0 == d.x1) { return width }\n        return x(d.x1) - x(d.x0) - 0.2;\n      })\n      .attr(\"height\", function (d) { return hist_height - y_hist(d.length); });\n    //------------------------------------------------------------------------------------------------------ Create Histogram ends here\n\n    var svg1 = parent_svg.selectAll('.svg11').data([0]).join('svg').attr(\"class\", \"svg11\").selectAll(\".myg\").data([0]).join('g').attr(\"class\", \"myg\").attr(\"transform\",\n      \"translate(\" + margin.left + \",\" + margin.top + \")\")\n    svg1.selectAll(\".myline2\").data([0]).join('line').attr(\"class\", \"myline2\").attr(\"x1\", 0).attr(\"y1\", 0).attr(\"x2\", 0).attr(\"y2\", height).attr(\"stroke\", \"#EBEBEB\");\n    //svg1.selectAll(\".myline3\").data([0]).join('line').attr(\"class\",\"myline3\").attr(\"x1\", 0).attr(\"y1\", height).attr(\"x2\", width).attr(\"y2\", height).attr(\"stroke\", \"#EBEBEB\");\n\n    //------------- Add Y axis\n    var y2 = d3.scaleOrdinal().domain([\".\", \"0\", \"..\"]).range([height / 4, height / 2, (3 * height) / 4]); // circles will start from y position 10 and go upto height-10\n    svg1.selectAll(\".myYaxis\").data([0]).join('g').attr(\"class\", \"myYaxis\")\n      .call(d3.axisLeft(y2).tickSize(-width * 1.0).ticks(3).tickValues([\",\", \"0\", \"..\"]).tickFormat(d => d))\n      .select(\".domain\").remove()\n    svg1.selectAll(\".myYaxis\").selectAll('text').remove()\n\n    d3.selectAll('.svg11').selectAll('.myYtext').data([[\"++ ve\", height / 8], [\"+ ve\", (3 * height) / 8], [\"0\", height / 2], [\"- ve\", (5 * height) / 8], [\"-- ve\", (7 * height) / 8]]).join(\"text\").attr(\"class\", \"myYtext\")\n      .attr(\"x\", 45).attr(\"y\", (d, i) => d[1] + 4).text(d => d[0]).attr('font-size', 14).attr(\"text-anchor\", \"end\")\n    d3.selectAll('.svg11').attr('add_horizontal_lines', function () { //horizontal lines starts here\n      d3.select(this).selectAll(\".horiz_line\").data([3.85, 1.31]).join('line').attr('class', \"horiz_line\")\n        .attr(\"x1\", 11)\n        .attr(\"x2\", 50)\n        .attr(\"y1\", d => (height / d) - 2)\n        .attr(\"y2\", d => (height / d) - 2)\n        .style(\"stroke\", \"#EBEBEB\")\n    })\n\n    d3.selectAll('.svg11').selectAll(\".line0\").data([0]).join('line').attr('class', \"line0\")\n      .attr(\"x1\", 11)\n      .attr(\"x2\", 35)\n      .attr(\"y1\", d => (height / 2))\n      .attr(\"y2\", d => (height / 2))\n      .style(\"stroke\", \"#EBEBEB\")\n\n\n    //------------- Add X axis\n    if (d3.max(d3.max(bins)) > 1000) {\n      svg1.selectAll(\".myXaxis\").data([0]).join('g').attr(\"class\", \"myXaxis\")\n        .attr(\"transform\", \"translate(0,\" + height + \")\")\n        .call(d3.axisBottom(x).tickSize(-height * 1.3).tickValues(bins.map(item => item['x1'])).tickFormat(d3.format(\".2s\")))\n        .select(\".domain\").remove()\n    }\n    else {\n      svg1.selectAll(\".myXaxis\").data([0]).join('g').attr(\"class\", \"myXaxis\")\n        .attr(\"transform\", \"translate(0,\" + height + \")\")\n        .call(d3.axisBottom(x).tickSize(-height * 1.3).tickValues(bins.map(item => item['x1'])))\n        .select(\".domain\").remove()\n    }\n    svg1.selectAll(\".tick line\").attr(\"stroke\", \"#EBEBEB\")\n\n    //------------------------------------------------------------------------------------------------------ Scatterplot starts here\n    svg1.selectAll(\".scatterplot_g\").data(scatterplot_data).join('g').attr(\"id\", d => d[0] + \"scatterplot_g_id\").attr(\"class\", \"scatterplot_g\").attr(\"ax\", function (d) {\n      temp_x = d[1].map(item => parseFloat(item[feature]))\n      temp_y = d[1].map(item => parseFloat(item[feature_contribute]))\n\n      x = d3.scaleLinear().domain([d3.min(temp_x), d3.max(temp_x)]).range([0, width]).nice()\n      y = d3.scaleLinear().domain([d3.min(temp_y), d3.max(temp_y)]).range([height, 0]).nice();\n\n      d3.select(this).selectAll('circle').data(d[1])\n        .join(\"circle\")\n        .attr(\"cx\", (d, i) => {\n          if (x(parseFloat(d[feature])) < 10) {\n            return 10;\n          }\n          else if (x(parseFloat(d[feature])) > width - 10) {\n            return width - 10;\n          }\n          return x(d[feature]) + 2\n        })\n        .attr(\"cy\", (d, i) => {\n          if (y(parseFloat(d[feature_contribute])) < 10) {\n            return 10;\n          }\n          else if (y(parseFloat(d[feature_contribute])) > (height - 10)) {\n            return height - 10;\n          }\n          return y(parseFloat(d[feature_contribute])) - 0\n\n        })\n        .attr(\"actual_Y_valu\", d => d[feature_contribute])\n        .attr(\"r\", 4)\n        .attr(\"class\", \"random\")\n        .attr(\"fill\", (d) => self.props.color_gen(d['State']))\n        .attr(\"id\", d => \"A\" + String(d['State']).replace(/ +/g, \"\"))\n        .attr(\"class\", function (d) {\n          return \"bar myid\" + String(d['two_realRank']) + \" exp_circles\"\n        })\n        .attr('dataset_name',d[0])\n        .on(\"click\", d => {\n          self.props.textClickHandler_original(\"A\" + d[\"State\"])\n        })\n    })\n\n// Define the div for the tooltip\n    var div = d3.select(\"body\").append(\"div\")\n      .attr(\"class\", \"tooltip2\")\n      .style(\"opacity\", 0);\n    d3.selectAll('.exp_circles')\n      .on(\"mouseover\", function (d) {\n        div.transition()\n          .duration(200)\n          .style(\"opacity\", .9);\n        div.html(\"<p>\" + d['State'] + \"</p>\" + \"<p>\" + \"Model: \" + d3.select(this).attr('dataset_name') + \"</p>\")\n        //div.html(d['State'])\n          .style(\"left\", (d3.event.pageX) + \"px\")\n          .style(\"top\", (d3.event.pageY - 28) + \"px\");\n      })\n      .on(\"mouseout\", function (d) {\n        d3.selectAll('.tooltip2').transition()\n          .duration(500)\n          .style(\"opacity\", 0);\n      })\n\n    //------------------------------------------------------------------------------------------------------ Scatterplot ends here\n\n  }\n  CreateChart_cat = (data, feature, scatterplot_data) => {\n    var self = this,\n      feature_contribute = feature + \"_contribution\"\n    var margin = { top: 0, right: 30, bottom: 75, left: 50, space_for_hist: 50 }, width = 520 - margin.left - margin.right, height = 270 - margin.top - margin.bottom;\n    var barplot_data = {}\n    data.map(item => { if (barplot_data[item[feature]] > 0) { barplot_data[item[feature]] += 1 } else { barplot_data[item[feature]] = 1 } })\n\n    var temp_x = Object.keys(barplot_data),\n      temp_y = Object.values(barplot_data),\n      y = d3.scaleLinear().domain([d3.min(temp_y), d3.max(temp_y)]).range([height, 0]).nice(); // circles will start from y position 10 and go upto height-10\n\n    var x = d3.scaleBand().domain(temp_x).range([0, width]).padding(0.1);\n\n    // add the x Axis\n    //svg.append(\"g\").attr(\"transform\", \"translate(0,\" + height + \")\").call(d3.axisBottom(x));\n\n\n    //-------------------------------------------------------------All svgs\n    var parent_svg = d3.select(\"#\" + self.props.myid).attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom + margin.space_for_hist),\n      svg1 = parent_svg.selectAll('.svg11').data([0]).join('svg').attr(\"y\", margin.space_for_hist).attr(\"class\", \"svg11\").selectAll(\".myg\").data([0]).join('g').attr(\"class\", \"myg\").attr(\"transform\",\n        \"translate(\" + margin.left + \",\" + margin.top + \")\")\n\n    //------------------------------------------------------------------------------------------------------ Create Histogram starts here\n    var hist_height = margin.space_for_hist\n    y = d3.scaleLinear().domain([0, d3.max(temp_y)]).range([hist_height, 0]).nice();\n    var svg0 = parent_svg.selectAll('.svg0').data([0]).join('svg').attr(\"class\", \"svg0\").selectAll(\".myg0\").data([0]).join('g').attr(\"class\", \"myg0\")\n      .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\")\n    // Add line on the bottom of the histogram\n    svg0.selectAll(\".myline\").data([0]).join('line').attr(\"class\", \"myline\").attr(\"x1\", 0).attr(\"y1\", margin.space_for_hist).attr(\"x2\", width).attr(\"y2\", margin.space_for_hist).attr(\"stroke\", \"#EBEBEB\");\n    svg0.selectAll(\"rect\").data(Object.entries(barplot_data)).join('rect')\n      .attr(\"x\", d => x(d[0]))\n      .attr(\"fill\", \"#b7b7b7\")\n      .attr(\"width\", x.bandwidth())\n      .attr(\"y\", d => y(d[1]))\n      .attr(\"height\", d => hist_height - y(d[1]));\n    //------------------------------------------------------------------------------------------------------ Create Histogram ends here\n\n    var svg1 = parent_svg.selectAll('.svg11').data([0]).join('svg').attr(\"class\", \"svg11\").selectAll(\".myg\").data([0]).join('g').attr(\"class\", \"myg\").attr(\"transform\",\n      \"translate(\" + margin.left + \",\" + margin.top + \")\")\n    svg1.selectAll(\".myline2\").data([0]).join('line').attr(\"class\", \"myline2\").attr(\"x1\", 0).attr(\"y1\", 0).attr(\"x2\", 0).attr(\"y2\", height).attr(\"stroke\", \"#EBEBEB\");\n    svg1.selectAll(\".myline3\").data([0]).join('line').attr(\"class\", \"myline3\").attr(\"x1\", 0).attr(\"y1\", height).attr(\"x2\", width).attr(\"y2\", height).attr(\"stroke\", \"#EBEBEB\");\n\n\n    //------------- Add Y axis\n    var y2 = d3.scaleOrdinal().domain([\".\", \"0\", \"..\"]).range([height / 4, height / 2, (3 * height) / 4]); // circles will start from y position 10 and go upto height-10\n    svg1.selectAll(\".myYaxis\").data([0]).join('g').attr(\"class\", \"myYaxis\")\n      .call(d3.axisLeft(y2).tickSize(-width * 1.0).ticks(3).tickValues([\",\", \"0\", \"..\"]).tickFormat(d => d))\n      .select(\".domain\").remove()\n    svg1.selectAll(\".myYaxis\").selectAll('text').remove()\n    d3.selectAll('.svg11').selectAll('.myYtext').data([[\"++ve\", height / 8], [\"+ve\", (3 * height) / 8], [\"0\", height / 2], [\"-ve\", (5 * height) / 8], [\"--ve\", (7 * height) / 8]]).join(\"text\").attr(\"class\", \"myYtext\")\n      .attr(\"x\", 45).attr(\"y\", (d, i) => d[1] + 4).text(d => d[0]).attr('font-size', 14).attr(\"text-anchor\", \"end\")\n    d3.selectAll('.svg11').attr('add_horizontal_lines', function () { //horizontal lines starts here\n      d3.select(this).selectAll(\".horiz_line\").data([3.85, 1.31]).join('line').attr('class', \"horiz_line\")\n        .attr(\"x1\", 11)\n        .attr(\"x2\", 50)\n        .attr(\"y1\", d => (height / d) - 2)\n        .attr(\"y2\", d => (height / d) - 2)\n        .style(\"stroke\", \"#EBEBEB\")\n    })\n\n    d3.selectAll('.svg11').selectAll(\".line0\").data([0]).join('line').attr('class', \"line0\")\n      .attr(\"x1\", 11)\n      .attr(\"x2\", 35)\n      .attr(\"y1\", d => (height / 2))\n      .attr(\"y2\", d => (height / 2))\n      .style(\"stroke\", \"#EBEBEB\")\n\n\n    //------------- Add X axis\n    svg1.selectAll(\".myXaxis\").data([0]).join('g').attr(\"class\", \"myXaxis\")\n      .attr(\"transform\", \"translate(0,\" + height + \")\")\n      .call(d3.axisBottom(x).tickSize(-height * 1.3)).selectAll(\"text\")\n      .style(\"text-anchor\", \"end\")\n      .attr(\"dx\", \"-.8em\")\n      .attr(\"dy\", \"0em\")\n      .attr(\"transform\", \"rotate(-90)\")\n      .selectAll(\".tick line\").remove()\n    svg1.selectAll(\".domain\").remove()\n    svg1.selectAll(\".tick line\").attr(\"stroke\", \"#EBEBEB\")\n    //------------------------------------------------------------------------------------------------------ Create Histogram ends here\n    //------------------------------------------------------------------------------------------------------ Scatterplot starts here\n    svg1.selectAll(\".scatterplot_g\").data(scatterplot_data).join('g').attr(\"id\", d => d[0] + \"scatterplot_g_id\").attr(\"class\", \"scatterplot_g\").attr(\"ax\", function (d) {\n      var temp_y = d[1].map(item => parseFloat(item[feature + \"_contribution\"])) // d[1] \n      y = d3.scaleLinear().domain([d3.min(temp_y), d3.max(temp_y)]).range([height, 0]).nice();\n\n      d3.select(this).selectAll('circle').data(d[1])\n        .join(\"circle\")\n        .attr(\"cx\", (d, i) => {\n          return x(d[feature]) + x.bandwidth() / 2\n        })\n        .attr(\"cy\", (d, i) => {\n          if (y(parseFloat(d[feature_contribute])) < 10) {\n            return 10;\n          }\n          else if (y(parseFloat(d[feature_contribute])) > (height - 10)) {\n            return height - 10;\n          }\n          return y(parseFloat(d[feature_contribute])) - 0\n\n        })\n        .attr(\"actual_Y_valu\", d => d[feature_contribute])\n        .attr(\"r\", 4)\n        .attr(\"class\", \"random\")\n        .attr(\"fill\", (d) => self.props.color_gen(d['State']))\n        .attr(\"id\", d => \"A\" + String(d['State']).replace(/ +/g, \"\"))\n        .attr(\"class\", function (d) {\n          return \"bar myid\" + String(d['two_realRank']) + \" exp_circles\"\n        })\n        .attr('dataset_name',d[0])\n        .on(\"click\", d => {\n          self.props.textClickHandler_original(\"A\" + d[\"State\"])\n        })\n    })\n\n// Define the div for the tooltip\nvar div = d3.select(\"body\").append(\"div\")\n.attr(\"class\", \"tooltip2\")\n.style(\"opacity\", 0);\nd3.selectAll('.exp_circles')\n.on(\"mouseover\", function (d) {\n  div.transition()\n    .duration(200)\n    .style(\"opacity\", .9);\n  div.html(\"<p>\" + d['State'] + \"</p>\" + \"<p>\" + \"Model: \" + d3.select(this).attr('dataset_name') + \"</p>\")\n  //div.html(d['State'])\n    .style(\"left\", (d3.event.pageX) + \"px\")\n    .style(\"top\", (d3.event.pageY - 28) + \"px\");\n})\n.on(\"mouseout\", function (d) {\n  d3.selectAll('.tooltip2').transition()\n    .duration(500)\n    .style(\"opacity\", 0);\n})\n\n    //------------------------------------------------------------------------------------------------------ Scatterplot ends here\n  }\n\n  render() {\n    return (\n      <div style={{ margin: 10, padding: 10, border: this.props.index == 0 ? \"3px solid #e5e5e5\" : \"white\" }}>\n        <svg id={this.props.myid}> </svg>\n        <p style={{ color: \"#4f4c4c\", marginLeft: \"42%\", marginTop: -25, marginBottom: 0 }}>{this.props.popup_chart_data[1]}</p>\n      </div>\n    );\n  }\n}\nconst maptstateToprop = (state) => {\n  return {\n    //popup_chart_data: state.popup_chart_data,\n    pop_over_models: state.pop_over_models,\n    clicked_items_in_slopechart: state.clicked_items_in_slopechart,\n    config: state.config,\n    mode: state.mode,\n    range_mode_model: state.range_mode_model,\n    time_mode_model: state.time_mode_model,\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_clicked_items_in_slopechart: (val) => dispatch({ type: \"clicked_items_in_slopechart\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Chart);","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Fade from '@material-ui/core/Fade';\nimport { connect } from \"react-redux\";\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nfunction FadeMenu(props) {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const open = Boolean(anchorEl);\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  //------------For list and chckbox\n  const [checked, setChecked] = React.useState([0]);\n  const handleToggle = (value) => () => {\n    const currentIndex = checked.indexOf(value);\n    const newChecked = [...checked];\n    if (currentIndex === -1) {\n      newChecked.push(value);\n    } else {\n      newChecked.splice(currentIndex, 1);\n    }\n    setChecked(newChecked);\n  };\n  //----------------\n  const checkboxChanged = (event) => {\n    let temp_Models=[...props.pop_over_models].filter(item=>item!=\"ListNet\")\n    if (temp_Models.includes(event.target.value)) {\n      temp_Models = props.pop_over_models.filter(item => item != event.target.value)\n      props.Set_pop_over_models(temp_Models)\n    }\n    else {\n      temp_Models.push(event.target.value)\n      props.Set_pop_over_models(temp_Models)\n    }\n  }\n  return (\n    <div>\n      <Button aria-controls=\"fade-menu\" aria-haspopup=\"true\" onClick={handleClick}>\n        Filter Models\n        <ArrowDropDownIcon></ArrowDropDownIcon>\n      </Button>\n      <Menu\n        id=\"fade-menu\"\n        anchorEl={anchorEl}\n        keepMounted\n        open={open}\n        onClose={handleClose}\n        TransitionComponent={Fade}\n      >\n        <div className=\"CheckboxContainer\">\n          <List>\n            {props.defualt_models.map((value) => {\n              const labelId = `checkbox-list-label-${value}`;\n              return (\n                <ListItem key={value} role={undefined} onClick={handleToggle(value)}>\n                  <Checkbox\n                    checked={props.pop_over_models.includes(value)}\n                    edge=\"start\"\n                    tabIndex={-1}\n                    value={value}\n                    onChange={(event, value) => {\n                      checkboxChanged(event, value)\n                    }\n                    }\n                  />\n                  <p className=\"list_item_label\" id={labelId}>{value}</p>\n                </ListItem>\n              );\n            })}\n          </List>\n        </div>\n      </Menu>\n    </div>\n  );\n}\nconst maptstateToprop = (state) => {\n  return {\n    pop_over_models:state.pop_over_models\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_defualt_models: (val) => dispatch({ type: \"defualt_models\", value: val }),\n    Set_pop_over_models: (val) => dispatch({ type: \"pop_over_models\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(FadeMenu);\n//https://material-ui.com/components/menus/\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport { connect } from \"react-redux\";\nimport Chart_pop from './chart_pop'\nimport Draggable from 'react-draggable';\nimport * as d3 from 'd3';\nimport Grid from \"@material-ui/core/Grid\"\nimport FilterModel from \"./FilterModel\"\nimport * as $ from 'jquery';\nexport function SimplePopover(props) {\n    console.log(props.dbclicked_features)\n    const handleClose = () =>{\n        props.set_pop_over(false)\n        props.set_dbclicked_features([])\n    };\n    return (\n        <div style={{ position: \"relative\" }}>\n            {props.pop_over == true ?\n                <div style={{ top: \"2%\", left: \"14%\", position: \"fixed\",pointerEvents:\"none\",backgroundColor:\"transparent\" }}>\n                    <Draggable>\n                        <Grid style={{ backgroundColor: \"#ffffff\", boxShadow: \"3px 2px 15px -7px #000000\",pointerEvents:\"auto\" }}>\n                            <Grid container style={{ borderBottom: \"1px solid #e2e2e2\", marginBottom: 20 }}\n                                direction=\"row\"\n                                justify=\"space-between\"\n                                alignItems=\"center\"\n                            >\n                                <FilterModel defualt_models={props.defualt_models}></FilterModel>\n                                <Button color=\"secondary\" id=\"draggable-dialog-title\" onClick={handleClose}>close</Button>\n                            </Grid>\n                            <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\" style={{maxHeight:700,overflow:\"scroll\",maxWidth:1600}}>\n                                {\n                                props.dbclicked_features.length>0?props.dbclicked_features.map((item,index)=><Chart_pop index={index} popup_chart_data={[props.popup_chart_data[0],item]} defualt_models={props.defualt_models} myid={item.replace(/\\s/g, '').replace(/[`~!@#$%^&*()_|+\\-=?;:'\",.<>\\{\\}\\[\\]\\\\\\/]/gi, '')} color_gen={props.color_gen} textClickHandler_original={props.textClickHandler_original}></Chart_pop>):<Chart_pop popup_chart_data={props.popup_chart_data} defualt_models={props.defualt_models} myid=\"myid1\" color_gen={props.color_gen} textClickHandler_original={props.textClickHandler_original}></Chart_pop>\n                                }\n                            </Grid>\n                        </Grid>\n                    </Draggable>\n                </div> : null}\n        </div>\n    );\n}\nconst maptstateToprop = (state) => {\n    return {\n        popup_chart_data: state.popup_chart_data,\n        pop_over: state.pop_over,\n        dbclicked_features:state.dbclicked_features,\n    }\n}\nconst mapdispatchToprop = (dispatch) => {\n    return {\n        set_pop_over: (val) => dispatch({ type: \"pop_over\", value: val }),\n        set_dbclicked_features: (val) => dispatch({ type: \"dbclicked_features\", value: val }),\n        set_clicked_features: (val) => dispatch({ type: \"clicked_features\", value: val }),\n    }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(SimplePopover);\n","import React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport * as $ from 'jquery';\nimport * as slopechart1 from \"./slopechart1\";\nimport Chart2 from \"../Exp_Chart/Chart2\"\nimport { connect } from \"react-redux\";\nimport Grid from '@material-ui/core/Grid';\nimport Popover from \"../Exp_Chart/Popover/Popover\"\nimport * as Legend from '../Legend'\n\nclass SlopeChart extends Component {\n  constructor(props) {\n    super(props);\n    this.line_color = null;\n    this.state = { height_slope_exp_chart: 700 }\n\n  }\n  componentDidMount() {\n    window.addEventListener('resize', () => {\n      this.setState({ width: window.innerWidth })\n      this.setState({ width: window.innerHeight })\n    });\n    this.CreateCharts()\n    this.setState({ width: window.innerHeight })\n  }\n  shouldComponentUpdate() {\n    return true;\n  }\n  componentDidUpdate(prevProps, prevState) {\n    //---- Animation replay starts\n    if (JSON.stringify(this.props.range_mode_range1) != JSON.stringify(prevProps.range_mode_range1)) {\n      //console.log(\"prev\",prevProps.range_mode_range1)\n      this.props.Set_prev_prop(prevProps)\n    }\n    if (this.props.selected_year !== prevProps.selected_year) {\n      this.props.Set_prev_prop(prevProps)\n    }//---- Animation replay ends\n\n    if (!this.props.replay) { // if replay is false\n      this.props.selected_year != prevProps.selected_year ? this.CreateCharts(\"animate\") : this.CreateCharts(\"dont_animate\")\n    }\n    else {\n      this.CreateCharts(\"dont_animate\")\n    }\n\n    //----------------------------------------------------------------------------------------------------------Set and unset Opacity\n    this.props.task2()\n  }\n  CreateCharts = (animate) => {\n    var state_range;\n    if (this.props.model_name == \"Range1\") { state_range = this.props.range_mode_range1 }\n    else {\n      state_range = this.props.range_mode_range2\n    }\n    //------------------------------------------------------\n    var mydata3 = { \"A\": [], \"B\": [] }\n    var deviate_by = this.props.deviate_by\n    var selected_by_year_data = this.props.grouped_by_year_data[this.props.selected_year] // This is the data passed a dictionay where year is the key\n    var max_rank = selected_by_year_data.length\n    var model_name = this.props.range_mode_model // This is the model name on the right side\n    //--------\n    var start_range = state_range != null ? state_range[0] : 10; // range to start\n    if (start_range > 0) { start_range -= 1 } // This is to start from index 0\n    if (start_range < 0) { start_range = 0 } // check if the deviation make the starting range less than the available rank\n    if (start_range < deviate_by) { deviate_by = start_range } // check if the deviation make the starting range less than the available rank\n    start_range = start_range - deviate_by\n    if (start_range < 0) { start_range = 0; deviate_by = 0 }\n    var deviate_check_lower = start_range + deviate_by + 1\n    //-----\n    deviate_by = this.props.deviate_by\n    var end_range = state_range != null ? state_range[1] : 25\n    var deviate_check_upper = end_range // Upper deviation check is this\n    end_range = end_range + deviate_by // changes the end range to include the deviation; next if checks when it goes beyond range\n    if (end_range > max_rank) {\n      deviate_check_upper = end_range - deviate_by; // set the upper range by subtracting the deviation\n      end_range = max_rank\n    }\n\n    for (var i = start_range; i < end_range; i++) {\n      var tempA = {}\n      var tempB = {}\n      tempA[\"Model\"] = model_name\n      tempA[\"name\"] = selected_by_year_data[i][\"State\"]\n      tempA[\"rank\"] = selected_by_year_data[i][\"two_realRank\"]\n      tempB[\"name\"] = selected_by_year_data[i][\"State\"]\n      tempB[\"rank\"] = selected_by_year_data[i][model_name]\n      mydata3[\"A\"].push(tempA)\n      mydata3[\"B\"].push(tempB)\n    }\n    //------------ Slopechart 1\n    slopechart1.CreateSlopeChart1(this.node, mydata3, start_range + 1, end_range, deviate_check_lower,\n      deviate_check_upper, this.props.model_name, this.props.selected_year, this.props.appHandleChange,\n      this.props.sparkline_data, this.props.original_data, this.props.histogram_data, this.props.textClickHandler_original,\n      this.color_gen(), animate, this.props.range_mode_model, this.props.config)\n    //------------        \n  }\n  color_gen = () => {\n    var my_state_range = [d3.min([this.props.range_mode_range1[0], this.props.range_mode_range2[0]]), d3.max([this.props.range_mode_range1[1], this.props.range_mode_range2[1]])] // Get the minimum and maximum from both\n    //------------------------------------------------------\n    var deviate_by = this.props.deviate_by\n    var selected_by_year_data = this.props.grouped_by_year_data[this.props.selected_year] // This is the data passed a dictionay where year is the key\n    var max_rank = selected_by_year_data.length\n    //--------\n    var start_range = my_state_range != null ? my_state_range[0] : 10; // range to start\n    if (start_range > 0) { start_range -= 1 } // This is to start from index 0\n    if (start_range < 0) { start_range = 0 } // check if the deviation make the starting range less than the available rank\n    if (start_range < deviate_by) { deviate_by = start_range } // check if the deviation make the starting range less than the available rank\n    start_range = start_range - deviate_by\n    if (start_range < 0) { start_range = 0; deviate_by = 0 }\n    var deviate_check_lower = start_range + deviate_by + 1\n    //-----\n    deviate_by = this.props.deviate_by\n    var end_range = my_state_range != null ? my_state_range[1] : 25\n    var deviate_check_upper = end_range // Upper deviation check is this\n    end_range = end_range + deviate_by // changes the end range to include the deviation; next if checks when it goes beyond range\n    if (end_range > max_rank) {\n      deviate_check_upper = end_range - deviate_by; // set the upper range by subtracting the deviation\n      end_range = max_rank\n    }\n    //---------------------------------------------------------------------------- Tracking starts here\n    var ref_year = this.props.ref_year\n    var track_states;\n    var track_states_ranged_dictionary = {}\n    if (this.props.tracking) {\n      var track_states_year_data = this.props.grouped_by_year_data[ref_year] // when tracking is activated we use reference year for color\n      var min = deviate_check_lower;\n      var max = deviate_check_upper;\n      for (var i = deviate_check_lower - 1; i < deviate_check_upper; i++) {\n        track_states_ranged_dictionary[track_states_year_data[i][\"State\"]] = track_states_year_data[i][\"two_realRank\"]\n      }\n      var d = (max - min) / 8;\n      var line_color2 = d3.scaleLinear().domain([min + d * 7, min + d * 6, min + d * 5, min + d * 4, min + d * 3, min + d * 2, min]).interpolate(d3.interpolateRgb).range(['#00429d', '#4771b2', '#73a2c6', '#a5d5d8', /*'#ffffe0',*/ '#ffbcaf', '#f4777f', '#cf3759', '#93003a']);\n      var Rgbdict = {}\n      for (var key in track_states_ranged_dictionary) {\n        Rgbdict[key] = line_color2(track_states_ranged_dictionary[key])\n      }\n      this.line_color = d3.scaleOrdinal().domain(Object.keys(Rgbdict)).range(Object.values(Rgbdict))\n      console.log(track_states_ranged_dictionary, min, max, Rgbdict, this.line_color.range())\n    }\n    //------------------------------If tracking is not activated\n    else {\n      var track_states_year_data = this.props.grouped_by_year_data[this.props.selected_year] // when tracking is not activated we use selected year for color\n      var track_states_ranged_dictionary = {}\n      for (var i = deviate_check_lower - 1; i < deviate_check_upper; i++) {\n        track_states_ranged_dictionary[track_states_year_data[i][\"State\"]] = track_states_year_data[i][\"two_realRank\"]\n      }\n      var min = deviate_check_lower;\n      var max = deviate_check_upper;\n      var d = (max - min) / 8;\n      var line_color2 = d3.scaleLinear().domain([min + d * 7, min + d * 6, min + d * 5, min + d * 4, min + d * 3, min + d * 2, min]).interpolate(d3.interpolateRgb).range(['#00429d', '#4771b2', '#73a2c6', '#a5d5d8', /*'#ffffe0',*/ '#ffbcaf', '#f4777f', '#cf3759', '#93003a']);\n      var Rgbdict = {}\n      for (var key in track_states_ranged_dictionary) {\n        Rgbdict[key] = line_color2(track_states_ranged_dictionary[key])\n      }\n      this.line_color = d3.scaleOrdinal().domain(Object.keys(Rgbdict)).range(Object.values(Rgbdict))\n      //console.log(Rgbdict,this.line_color.range())  \n    }\n    Legend.createLegend(\"legend\", [min, max], Rgbdict)\n    //---------------------------------------------------------------------------- Tracking ends here \n    return this.line_color\n  }\n  render() {\n    return (\n      this.props.show.includes(\"Explanation\") ? <Grid container style={{ width: \"49.5%\", marginRight: \"0.5%\", marginTop: \"0.5%\", paddingRight: 0, border: \"1px solid #eaeaea\" }} key={JSON.stringify(this.props.range_mode_range1) + JSON.stringify(this.props.range_mode_range2)} className=\"Grid_container\">\n        <Grid item xs=\"6\" className={this.props.model_name == \"Range1\" ? \"slopechart range_chart_col range_chart_col_range1\" : \"slopechart range_chart_col range_chart_col_range2\"} style={{ width: '100%' }} >\n          <div className=\"slope_chart_title\">\n            <p>True Rank</p>\n            <p className=\"model_title\">{this.props.model_name == \"Range1\" ? \"Group 1\" : \"Group 2\"}</p>\n            <p>Predicted Rank</p>\n          </div>\n          <div className=\"mysvg\" ref={node => this.node = node}><svg id={this.props.model_name}><g id=\"myg\"></g></svg></div>\n        </Grid>\n        <Grid item xs=\"6\" className={this.props.model_name == \"Range1\" ? \"exp_chart exp_chart_range1\" : \"exp_chart exp_chart_range2\"}>\n          {this.props.range_mode_model != \"ListNet\" ? <Chart2\n            task2={this.props.task2}\n            textClickHandler_original={this.props.textClickHandler_original}\n            color_gen={this.color_gen()}\n            model_name={this.props.range_mode_model}\n            model_name2={this.props.model_name}\n            state_range={this.props.model_name == \"Range1\" ? this.props.range_mode_range1 : this.props.range_mode_range2}\n            selected_year={this.props.selected_year}\n            grouped_by_year_data={this.props.grouped_by_year_data}\n            defualt_models={[this.props.range_mode_model]}\n          >\n          </Chart2> : <div className=\"not_avail\"><h3>NOT AVAILABLE</h3></div>}\n          {this.props.popup_chart_data != null && this.props.myindex == 0 ? <Popover defualt_models={[this.props.range_mode_model]} color_gen={this.color_gen()} textClickHandler_original={this.props.textClickHandler_original}></Popover> : null}\n        </Grid>\n\n      </Grid > :\n        <Grid item className={this.props.model_name == \"Range1\" ? \"range_chart_col range_chart_col_range1\" : \"range_chart_col range_chart_col_range2\"} style={{ marginTop: 5, border: \"1px solid #eaeaea\", width: \"48%\", marginRight: \"1%\", height: window.innerHeight - $('.uploader_topbar').height() }}>\n          <div className=\"slope_chart_title\">\n            <p>True Rank</p>\n            <p className=\"model_title\">{this.props.range_mode_model}</p>\n            <p>Predicted Rank</p>\n          </div>\n          <div className=\"mysvg\" ref={node => this.node = node}><svg id={this.props.model_name}><g id=\"myg\"></g></svg></div>\n        </Grid>\n    );\n  }\n\n}\nconst maptstateToprop = (state) => {\n  return {\n    deviate_by: state.deviate_by,\n    selected_year: state.selected_year,\n    range_mode_model: state.range_mode_model,\n    range_mode_range1: state.range_mode_range1,\n    range_mode_range2: state.range_mode_range2,\n    clicked_items_in_slopechart: state.clicked_items_in_slopechart,\n    replay: state.replay,\n    changed: state.changed,\n    popup_chart_data: state.popup_chart_data,\n    config: state.config,\n    show: state.show,\n\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_defualt_models: (val) => dispatch({ type: \"defualt_models\", value: val }),\n    Set_sparkline_data: (val) => dispatch({ type: \"sparkline_data\", value: val }),\n    Set_clicked_items_in_slopechart: (val) => dispatch({ type: \"clicked_items_in_slopechart\", value: val }),\n    Set_replay: (val) => dispatch({ type: \"replay\", value: val }),\n    Set_prev_prop: (val) => dispatch({ type: \"prev_prop\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(SlopeChart);","\nimport * as d3 from 'd3';\nimport * as $ from 'jquery';\nimport * as sparkline1 from \"./sparkline1\";\nimport * as sparkline2 from \"./sparkline2\";\nexport function CreateSlopeChart1(node, grouped_by_year_data, start_range, end_range, deviate_check_lower, deviate_check_upper, model_name, \n  year, appHandleChange, sparkline_data, original_data, histogram_data, textClickHandler_original, \n  line_color, animate, actual_model_for_range_and_time_mode,config) {\n  var base_height_between=18\n  // we don't need the delay here because the animations are happening one after the another\n  var slope_chart_anim1 = config.animation1\n  var slope_chart_anim2 = config.animation2\n  var number_of_elements = (end_range - start_range); // \n  var all_together = [];\n  grouped_by_year_data[\"A\"].forEach(function (d) { all_together.push(d); });\n  grouped_by_year_data[\"B\"].forEach(function (d) { all_together.push(d); });\n  var nestedByName = d3.nest().key(function (d) { return d.name }).entries(all_together);\n\n  //--------------------------------------------------------------------------------------------------------------------------------------------------------------Height management\n  var margin = { top: 10, right: 70, bottom: 10, left: 160 };\n  if (model_name == \"Range1\") {\n    var range_chart_col_range1_height = $('.slopechart_container').height(), \n    range_chart_col_range1_width = $('.range_chart_col_range1').width(),\n    width = range_chart_col_range1_width - margin.left - margin.right;\n  var height_between = range_chart_col_range1_height / number_of_elements\n  if(height_between<base_height_between){height_between=base_height_between}\n  var height = (number_of_elements * height_between)-10; // -10 is the bottom margin\n    d3.selectAll(\".range_chart_col_range1\").style(\"height\", height + \"px\");\n    d3.selectAll(\".exp_chart_range1\").style(\"height\", height + \"px!important\");\n  }\n  else {\n    var range_chart_col_range2_height = $('.slopechart_container').height(),\n    range_chart_col_range2_width = $('.range_chart_col_range2').width(),\n    width = range_chart_col_range2_width - margin.left - margin.right;\n  var height_between = range_chart_col_range2_height / number_of_elements\n  if(height_between<base_height_between){height_between=base_height_between}\n  var height = (number_of_elements * height_between)-10; // -10 is the bottom margin\n  d3.selectAll(\".range_chart_col_range2\").style(\"height\", height + \"px\");\n    d3.selectAll(\".slopechart_col\").style(\"height\", height + \"px\");\n    d3.selectAll(\".exp_chart\").style(\"height\", height + \"px\");\n    d3.selectAll(\".exp_chart_range2\").style(\"height\", height + \"px!important\");\n  }\n  height = height - 45 // This height is going to be used for slopechart\n  var config = { yOffset: 0, width: width, height: height, labelGroupOffset: 1, labelKeyOffset: 55, radius: 3, sparkline_height: height_between }\n  //--------------------------------------------------------------------------------------------------------------------------------------------------------------Height management\n  var yScale = d3.scaleLinear().range([0, height]).domain([start_range, end_range]);\n  var var_to_lift_up = yScale(nestedByName[0].values[0].rank); // nestedByName[5] places the 5th element at the beginning\n  var svg = d3.select(\"#\" + model_name).attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom)\n    .select(\"#myg\").attr('transform', `translate(150,10)`)\n\n  var borderLines = svg.selectAll(\".border-lines\").data([0]).join(\"g\").attr(\"class\", \"border-lines\") //--Ractangle that sets the boundary of lines  \n  borderLines.selectAll(\".line1\").data([0]).join(\"line\").attr(\"class\", \"line1\").attr(\"fill\", \"black\").attr(\"x1\", 0).attr(\"y1\", 0).attr(\"x2\", 0).attr(\"y2\", config.height); // left line x1,x2,y1 0 and y2 is the height\n  borderLines.selectAll(\".line2\").data([0]).join(\"line\").attr(\"class\", \"line2\").attr(\"fill\", \"black\").attr(\"x1\", width).attr(\"y1\", 0).attr(\"x2\", width).attr(\"y2\", config.height); // right line starts at x1,x2 at width and goes until height\n  //---------\n  var slopeGroups_upd = svg.selectAll(\".datapoint\").data(nestedByName, d => {\n    if (d !== undefined) {\n      return d.key;\n    }\n  }).join(onEnter, onUpdate, onExit)\n  //-----------------------------------------------------------------------------------------------------------------------------------------Enter function starts here\n  function onEnter(selection) {\n\n    const makeDatapoint = g => {\n      //-----------------------------------------------------------------------------------------------------------------------------------------state name text starts here\n      g.append(\"text\")\n        .attr(\"x\", d => -config.labelGroupOffset)\n        .attr(\"y\", d => yScale(d.values[0].rank) - var_to_lift_up)\n        .attr(\"dx\", -config.labelKeyOffset)\n        .attr(\"dy\", 3)\n        .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n        .attr(\"class\", (d) => {\n          return \"myid\" + d.values[0].rank + \" state_name\" + \" slopechart_text\"\n        })\n        .attr(\"text-anchor\", \"end\")\n        .on(\"mouseover\", function (d) { //-------Tooltip starts\t\t\n          var div = d3.select(\"body\").append(\"div\")\n            .attr(\"id\", \"div\" + d.key.replace(/ +/g, \"\"))\n            .attr(\"class\", \"tooltip\")\n            .style(\"opacity\", 0)\n          div.transition()\n            .duration(200)\n            .style(\"opacity\", .97)\n          div.html(\"<p>\" + d.key + \"</p>\" + \"<p>\" + \"Predicted rank: \" + d.values[1].rank + \"</p>\")\n            .style(\"left\", ((d) => {\n              var left_div_width = $('.Sidebar_parent').width()\n              return left_div_width - 125 + \"px\"\n            }))\n            .style(\"top\", (d3.event.pageY - 40) + \"px\");\n        })\n        .on(\"mouseout\", function (d) {\n          var myid = \"#div\" + d.key.replace(/ +/g, \"\")\n          d3.select(\"body\").selectAll(\".tooltip\").transition()\n            .duration(500)\n            .style(\"opacity\", 0).remove();\n        }) // Tooltip ends\n        .on(\"click\", function (d) {\n          return textClickHandler_original(\"A\" + d.key)\n          /*\n          if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) {\n            if (clicked_items_in_slopechart.includes(d.key.replace(/ +/g, \"\"))) { return textClickHandler_original(\"A\"+d.key) }\n          }\n          else { return textClickHandler_original(\"A\"+d.key) }\n          */\n        })\n        .text(d => {\n          var val = d.key\n          if (val.length > 15) { val = val.replace(\"University\", \"U\") }\n          return val.length > 15 ? val.substring(0, 15) : val\n        })\n        .attr(\"fill\", function (d) {\n          if (d.values[0].rank < deviate_check_lower) {\n            return \"rgb(110, 112, 112,.5)\";\n          }\n          else if (d.values[0].rank > deviate_check_upper) {\n            return \"rgb(110, 112, 112,.5)\";\n          }\n          else {\n            return line_color(d.key);\n          }\n        }) //state name text ends here\n      //-----------------------------------------------------------------------------------------------------------------------------------------Left sparkline starts here\n      g.append(\"svg\")\n        .attr('class', d => \"svg1 \" + model_name + d.values[1].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '') + 'original')\n        .attr(\"x\", d => {\n          return -config.labelGroupOffset - config.labelKeyOffset + 3;\n        })\n        .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n        .attr(\"y\", d => yScale(d.values[0].rank) - var_to_lift_up - 14)\n        .append(\"path\")\n        .attr(\"class\", \"mypath\")\n        .attr(\"opacity\", d => {\n          var className = model_name + d.values[1].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '') + 'original'\n          if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) { var sparkline_color = \"grey\" } else { var sparkline_color = line_color(d.key) }\n          sparkline1.sparklineGen(className, sparkline_data, d.key.replace(/ /g, '').replace(/[^\\w\\s]/gi, ''), d.key, year, appHandleChange, d.values[0].rank, sparkline_color, d.key.replace(/ +/g, \"\"))\n          return 1;\n        }\n        )\n      //-----------------------------------------------------------------------------------------------------------------------------------------Left rank text starts here\n      g.append(\"text\")\n        .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n        .attr(\"class\", (d) => \"myid\" + d.values[0].rank + \" left_rank_text\" + \" slopechart_text\")\n        .attr(\"x\", d => -config.labelGroupOffset)\n        .attr(\"y\", d => yScale(d.values[0].rank) - var_to_lift_up)\n        .attr(\"dx\", -10)\n        .attr(\"dy\", 3)\n        .attr(\"text-anchor\", \"end\")\n        .text(d => (d.values[0].rank))\n        .attr(\"fill\", function (d) {\n          if (d.values[0].rank < deviate_check_lower) {\n            return \"rgb(110, 112, 112,.5)\";\n          }\n          else if (d.values[0].rank > deviate_check_upper) {\n            return \"rgb(110, 112, 112,.5)\";\n          }\n          else {\n            return line_color(d.key);\n          }\n        }); //rank text ends here\n      //-----------------------------------------------------------------------------------------------------------------------------------------circle starts\n      g.append(\"circle\")\n        .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n        .attr(\"r\", d => {\n          if (d.values[0].rank < deviate_check_lower) {\n            return 0\n          }\n          else if (d.values[0].rank > deviate_check_upper) {\n            return 0\n          }\n          else { return config.radius }\n        })\n        .attr(\"cy\", d => yScale(d.values[0].rank) - var_to_lift_up)\n        .attr(\"class\", (d) => {\n          return d.values[0].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '') + \" myid\" + d.values[0].rank + \" left_circle\"\n        })\n        .attr(\"fill\", function (d) {\n          if (d.values[0].rank < deviate_check_lower) {\n            //return line_color(d);\n            return \"rgb(110, 112, 112,.5)\";\n          }\n          else if (d.values[0].rank > deviate_check_upper) {\n            //return line_color(d);\n            return \"rgb(110, 112, 112,.5)\";\n          }\n          else {\n            return line_color(d.key);\n          }\n        }); //circle ends\n      //-----------------------------------------------------------------------------------------------------------------------------------------Slope lines starts here\n      g.append(\"line\")\n        .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n        .attr(\"class\", (d) => \"slope-line myid\" + d.values[0].rank)\n        .attr(\"x1\", 0)\n        .attr(\"x2\", config.width)\n        .on(\"click\", function (d) {\n          return textClickHandler_original(\"A\" + d.key)\n          // if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) { } else { return textClickHandler_original(\"A\"+d.key) }\n        })\n        .attr(\"y1\", function (d) {\n          return yScale(d.values[0].rank) - var_to_lift_up;\n        })\n        .attr(\"y2\", function (d) {\n          return yScale(d.values[1].rank) - var_to_lift_up;\n        })\n        .attr(\"stroke\", (d) => {\n          if (d.values[0].rank < deviate_check_lower) {\n            return \"transparent\";\n          }\n          else if (d.values[0].rank > deviate_check_upper) {\n            return \"transparent\";\n          }\n          else {\n            return line_color(d.key)\n          }\n        })\n\n\n\n      //-----------------------------------------------------------------------------------------------------------------------------------------Right side   \n      //-----------------------------------------------------------------------------------------------------------------------------------------Right circle starts here      \n      g.append(\"circle\")\n        .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n        .attr(\"cy\", d => yScale(d.values[1].rank) - var_to_lift_up).attr(\"class\", (d) => {\n          return d.values[0].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '') + \" right_circle myid\" + d.values[0].rank\n        })\n        .attr(\"r\", d => {\n          if (d.values[0].rank < deviate_check_lower) {\n            return 0\n          }\n          else if (d.values[0].rank > deviate_check_upper) {\n            return 0\n          }\n          else { return config.radius }\n        })\n        .attr(\"cx\", config.width)\n        .attr(\"fill\", (d) => {\n          if (!(d.values[0].rank < deviate_check_lower | d.values[0].rank > deviate_check_upper)) {\n            return line_color(d.key);\n          }\n        });\n      //-----------------------------------------------------------------------------------------------------------------------------------------Right text - Ranks starts here\n      g.append(\"text\")\n        .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n        .attr(\"class\", (d) => \"slopechart_text right_rank_text myid\" + d.values[0].rank)\n        .attr(\"x\", d => width + config.labelGroupOffset)\n        .attr(\"y\", d => yScale(d.values[1].rank) - var_to_lift_up)\n        .attr(\"dx\", 10)\n        .attr(\"dy\", 3)\n        .attr(\"text-anchor\", \"start\")\n        .text(d => {\n          if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) {\n            return \"\";\n          }\n          else {\n            return d.values[1].rank\n          }\n        })\n        .attr(\"fill\", function (d) {\n          if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) {\n            return \"\";\n          }\n          else {\n            return line_color(d.key)\n          }\n        })\n        .on(\"click\", function (d) {\n          return textClickHandler_original(\"A\" + d.key)\n          // if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) { } else { return textClickHandler_original(\"A\"+d.key) }\n        }); //Text - Ranks ends here\n      //-----------------------------------------------------------------------------------------------------------------------------------------Right sparkline starts here\n      g.append(\"svg\")\n        .attr('class', d => \"svg2 \" + model_name.replace(\".\", \"stupid\") + d.values[1].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '').split('.').join(' '))\n        .attr(\"x\", d => {\n          return width + config.labelGroupOffset + 25\n        })\n        .attr(\"y\", d => yScale(d.values[1].rank) - var_to_lift_up - 14)\n        .attr(\"width\", d => {\n          if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) {\n            return 0;\n          }\n        })\n        .append(\"path\")\n        .attr(\"class\", \"mypath2\")\n        .attr(\"opacity\", d => {\n          if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) { } else {\n            var className = model_name.replace(\".\", \"stupid\") + d.values[1].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '').split('.').join(' ')\n            sparkline2.sparklineGen(className, sparkline_data, d.key.replace(/ /g, '').replace(/[^\\w\\s]/gi, ''), actual_model_for_range_and_time_mode, original_data, d.key, year, appHandleChange, d.values[0].rank, line_color(d.key), d.key.replace(/ +/g, \"\"))\n            return 1;\n          }\n        })\n    }\n    return selection\n      .append(\"g\")\n      .attr(\"class\", \"datapoint\")\n      .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n      .call(makeDatapoint);\n  }\n  //-----------------------------------------------------------------------------------------------------------------------------------------Onupdate starts here\n  function onUpdate(selection) {\n\n    //-----------------------------------------------------------------------------------------------------------------------------------------state name text ends here\n    selection.select(\".state_name\")\n      .attr(\"x\", -config.labelGroupOffset)\n      .attr(\"dx\", -config.labelKeyOffset)\n      .attr(\"dy\", 3)\n      .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n      .attr(\"class\", (d) => {\n        return \"slopechart_text myid\" + d.values[0].rank + \" state_name\"\n      })\n      .attr(\"text-anchor\", \"end\")\n      .on(\"mouseover\", function (d) { //-------Tooltip starts\t\t\n        var div = d3.select(\"body\").append(\"div\")\n          .attr(\"id\", \"div\" + d.key.replace(/ +/g, \"\"))\n          .attr(\"class\", \"tooltip\")\n          .style(\"opacity\", 0)\n        div.transition()\n          .duration(100)\n          .style(\"opacity\", .97)\n        div.html(\"<p>\" + d.key + \"</p>\" + \"<p>\" + \"Predicted rank: \" + d.values[1].rank + \"</p>\")\n          .style(\"left\", ((d) => {\n            var left_div_width = $('.Sidebar_parent').width()\n            return left_div_width - 125 + \"px\"\n          }))\n          .style(\"top\", (d3.event.pageY - 40) + \"px\");\n      })\n      .on(\"mouseout\", function (d) {\n        var myid = \"#div\" + d.key.replace(/ +/g, \"\")\n        d3.select(\"body\").selectAll(\".tooltip\").transition()\n          .duration(500)\n          .style(\"opacity\", 0).remove();\n      }) // Tooltip ends\n      .on(\"click\", function (d) {\n        return textClickHandler_original(\"A\" + d.key)\n        /*\n        if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) {\n          if (clicked_items_in_slopechart.includes(d.key.replace(/ +/g, \"\"))) { return textClickHandler_original(\"A\"+d.key) }\n        }\n        else { return textClickHandler_original(\"A\"+d.key) }\n        */\n      })\n      .text(d => {\n        var val = d.key\n        if (val.length > 15) { val = val.replace(\"University\", \"U\") }\n        return val.length > 15 ? val.substring(0, 15) : val\n      })\n      .attr(\"fill\", function (d) {\n        if (d.values[0].rank == 23) {\n\n        }\n        if ((d.values[0].rank < deviate_check_lower) || (d.values[0].rank > deviate_check_upper)) {\n          return \"rgb(110, 112, 112,.5)\";\n        }\n        else {\n          return line_color(d.key);\n        }\n      }).transition().duration(d => {\n        if (animate == \"animate\") {\n          return slope_chart_anim1\n        }\n        else {\n          return 0\n        }\n      })\n      .attr(\"y\", d => yScale(d.values[0].rank) - var_to_lift_up)\n    //state name text ends here\n    //-----------------------------------------------------------------------------------------------------------------------------------------Left sparkline starts here\n    selection.select(\".svg1\")\n      .attr('class', d => \"svg1 \" + model_name + d.values[1].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '') + 'original')\n      .attr(\"x\", d => {\n        var className = model_name + d.values[1].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '') + 'original'\n        if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) { var sparkline_color = \"grey\" } else { var sparkline_color = line_color(d.key) }\n        sparkline1.sparklineGen(className, sparkline_data, d.key.replace(/ /g, '').replace(/[^\\w\\s]/gi, ''), d.key, year, appHandleChange, d.values[0].rank, sparkline_color, d.key.replace(/ +/g, \"\"))\n        return -config.labelGroupOffset - config.labelKeyOffset + 3;\n      })\n      .transition().duration(d => {\n        if (animate == \"animate\") {\n          return slope_chart_anim1\n        }\n        else {\n          return 0\n        }\n      })\n      .attr(\"y\", d => yScale(d.values[0].rank) - var_to_lift_up - 14)\n      .attr(\"opacity\", 1)\n    //-----------------------------------------------------------------------------------------------------------------------------------------Left rank text starts here\n    selection.select(\".left_rank_text\")\n      .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n      .attr(\"class\", (d) => \"slopechart_text myid\" + d.values[0].rank + \" left_rank_text\")\n      .attr(\"x\", d => -config.labelGroupOffset)\n      .attr(\"dx\", -10)\n      .attr(\"dy\", 3)\n      .attr(\"text-anchor\", \"end\")\n      .text(d => (d.values[0].rank))\n      .attr(\"fill\", function (d) {\n        if (d.values[0].rank < deviate_check_lower) {\n          return \"rgb(110, 112, 112,.5)\";\n        }\n        else if (d.values[0].rank > deviate_check_upper) {\n          return \"rgb(110, 112, 112,.5)\";\n        }\n        else {\n          return line_color(d.key);\n        }\n      })\n      .transition().duration(d => {\n        if (animate == \"animate\") {\n          return slope_chart_anim1\n        }\n        else {\n          return 0\n        }\n      })\n      .attr(\"y\", d => yScale(d.values[0].rank) - var_to_lift_up); //rank text ends here\n\n    //-----------------------------------------------------------------------------------------------------------------------------------------Left circle starts here\n    selection.select(\".left_circle\")\n      .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n      .attr(\"r\", d => {\n        if (d.values[0].rank < deviate_check_lower) {\n          return 0\n        }\n        else if (d.values[0].rank > deviate_check_upper) {\n          return 0\n        }\n        else { return config.radius }\n      })\n      .attr(\"class\", (d) => {\n        return d.values[0].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '') + \" myid\" + d.values[0].rank + \" left_circle\"\n      })\n      .attr(\"fill\", function (d) {\n        if (d.values[0].rank < deviate_check_lower) {\n          //return line_color(d);\n          return \"rgb(110, 112, 112,.5)\";\n        }\n        else if (d.values[0].rank > deviate_check_upper) {\n          //return line_color(d);\n          return \"rgb(110, 112, 112,.5)\";\n        }\n        else {\n          return line_color(d.key);\n        }\n      })\n      .transition().duration(d => {\n        if (animate == \"animate\") {\n          return slope_chart_anim1\n        }\n        else {\n          return 0\n        }\n      })\n      .attr(\"cy\", d => yScale(d.values[0].rank) - var_to_lift_up); //left circle ends\n    //----------------------------------------------------------------------------------------------------------------------------------------- Slope lines starts here\n\n    selection.select(\".slope-line\")\n      .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n      .attr(\"class\", (d) => \"slope-line myid\" + d.values[0].rank)\n      .attr(\"x1\", 0)\n      .attr(\"x2\", config.width)\n      .on(\"click\", function (d) {\n        return textClickHandler_original(\"A\" + d.key)\n        // if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) { } else { return textClickHandler_original(\"A\"+d.key) }\n      })\n      .attr(\"stroke\", (d) => {\n        if (d.values[0].rank < deviate_check_lower) {\n          return \"transparent\";\n        }\n        else if (d.values[0].rank > deviate_check_upper) {\n          return \"transparent\";\n        }\n        else {\n          return line_color(d.key)\n        }\n      })\n      .transition().duration(d => {\n        if (animate == \"animate\") {\n          return slope_chart_anim1\n        }\n        else {\n          return 0\n        }\n      })\n      .attr(\"y1\", function (d) {\n        return yScale(d.values[0].rank) - var_to_lift_up;\n      })\n      .transition().duration(d => { // we don't need to set delay here because this is happening one after another\n        if (animate == \"animate\") {\n          return slope_chart_anim2\n        }\n        else {\n          return 0\n        }\n      })\n      .attr(\"y2\", function (d) {\n        return yScale(d.values[1].rank);\n      }) // Right slope lines ends here\n    //-----------------------------------------------------------------------------------------------------------------------------------------Right side  \n    //-----------------------------------------------------------------------------------------------------------------------------------------Right circle starts here      \n    selection.select(\".right_circle\")\n      .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n      .attr(\"class\", (d) => {\n        return d.values[0].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '') + \" right_circle myid\" + d.values[0].rank\n      })\n      .attr(\"r\", d => {\n        if (d.values[0].rank < deviate_check_lower) {\n          return 0\n        }\n        else if (d.values[0].rank > deviate_check_upper) {\n          return 0\n        }\n        else { return config.radius }\n      })\n      .attr(\"cx\", config.width)\n      .attr(\"cy\", d => {\n        return yScale(d.values[1].rank) - var_to_lift_up\n      })\n      .attr(\"fill\", (d) => {\n        if (!(d.values[0].rank < deviate_check_lower | d.values[0].rank > deviate_check_upper)) {\n          return line_color(d.key);\n        }\n      });\n    //-----------------------------------------------------------------------------------------------------------------------------------------Right text rank starts here\n    selection.select(\".right_rank_text\")\n      .attr(\"class\", (d) => \"slopechart_text right_rank_text myid\" + d.values[0].rank)\n      .attr(\"x\", d => width + config.labelGroupOffset)\n      .attr(\"y\", d => yScale(d.values[1].rank) - var_to_lift_up)\n      .attr(\"dx\", 10)\n      .attr(\"dy\", 3)\n      .attr(\"text-anchor\", \"start\")\n      .text(d => {\n        if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) {\n          return \"\";\n        }\n        else {\n          return d.values[1].rank\n        }\n      })\n      .attr(\"fill\", function (d) {\n        if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) {\n          return \"\";\n        }\n        else {\n          return line_color(d.key)\n        }\n      })\n      .on(\"click\", function (d) {\n        return textClickHandler_original(\"A\" + d.key)\n        // if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) { } else { return textClickHandler_original(\"A\"+d.key) }\n      }); //Text - Ranks ends here\n    //-----------------------------------------------------------------------------------------------------------------------------------------Right sparkline starts here\n    selection.select(\".svg2\")\n      .attr('class', d => \"svg2 \" + model_name.replace(\".\", \"stupid\") + d.values[1].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '').split('.').join(' '))\n      .attr(\"x\", d => {\n        var className = model_name.replace(\".\", \"stupid\") + d.values[1].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '').split('.').join(' ')\n        sparkline2.sparklineGen(className, sparkline_data, d.key.replace(/ /g, '').replace(/[^\\w\\s]/gi, ''), actual_model_for_range_and_time_mode, original_data, d.key, year, appHandleChange, d.values[0].rank, line_color(d.key), d.key.replace(/ +/g, \"\"))\n        return width + config.labelGroupOffset + 27\n      })\n      .attr(\"y\", d => yScale(d.values[1].rank) - var_to_lift_up - 14)\n      .attr(\"width\", d => {\n        if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) {\n          return 0;\n        }\n      })\n\n  }\n\n  function onExit(selection) {\n    selection.remove();\n  }\n}\n","import * as d3 from 'd3';\nimport * as $ from 'jquery';\n//--------\nexport function sparklineGen(className, sparkline_data, key, state, year, appHandleChange, className2, sparkline_color, path_id) {\n  var config = { labelKeyOffset: 55, radius: 3, sparkline_height: 20 }\n  var s_margin = { top: 0, right: 0, bottom: 0, left: 4 },\n    s_width = config.labelKeyOffset / 2 - 5,\n    s_height = config.sparkline_height - 2;\n  var s_svg = d3.select(\".\"+className)\n    .attr(\"width\", s_width + s_margin.left + s_margin.right)\n    .attr(\"height\", s_height + s_margin.top + s_margin.bottom)\n  var data = sparkline_data[key]\n  // Add X axis  \n  var x = d3.scaleLinear()\n    .domain(d3.extent(data, function (d) { return d.year; }))\n    .range([0, s_width]);\n  //-----------------------------------------------------------------------------------------------------------------------------------------Add the area\n  s_svg.select(\"path\")\n    .datum(data, d => d)\n    .attr(\"id\", \"A\"+path_id)\n    .attr(\"opacity\",1)\n    .attr(\"fill\", sparkline_color) //#969696\n    .attr(\"stroke\", sparkline_color)\n    .attr(\"stroke-width\", (d) => {\n      return 1.5\n    })\n    .attr(\"d\", d3.area()\n      .x(function (d) { return x(d.year) })\n      .y0(function () {\n        var y = d3.scaleLinear().domain([0, d3.max(data, function (d) { return +d.rank; })]).range([s_height, 0]);\n        return y(0)\n      })\n      .y1(function (d) {\n        var y = d3.scaleLinear().domain([0, d3.max(data, function (d) { return +d.rank; })]).range([0, s_height]);\n        return y(d.rank)\n      })\n    )\n  //------------Circles\n  s_svg.selectAll('circle').data(data).join('circle')\n    .attr('cx', function (d, i) { return x(d.year) })\n    .attr('cy', s_height - 2)\n    .attr(\"class\", \"myid\" + className2)\n    .on(\"mouseover\", function (d) {\n      d3.select(this).style('fill', 'black')\n      d3.select(this).attr('r', 3)\n    })\n    .style('fill', (d) => d.year != year ? 'transparent' : 'black')\n    .attr('class', (d) => d.year != year ? 'transparent_class' : 'red_class')\n    .attr('r', 2)\n    .on('dblclick', (d, i) => {\n      d3.event.preventDefault();\n      appHandleChange(d.year, \"year_changed\")\n    })\n    .on(\"mouseout\", function (d) {\n      d3.select(this).style('fill', 'transparent')\n      var divid=\"#div\"+className\n      d3.selectAll(divid).remove()\n    })\n    .on('click', (d) => {\n      d3.select(\"body\").append(\"div\")\n        .attr(\"id\", \"div\"+className)\n        .attr(\"class\", \"tooltip\")\n        .style(\"opacity\", 0)\n        .html(\"<p>\" + \"Year: \" + d.year + \"</p>\" + \"<p>\" + \"Rank: \" + d.rank + \"</p>\")\n        .style(\"left\", ((d) => {\n          var left_div_width = $('.Sidebar_parent').width()\n          return left_div_width - 125 + \"px\"\n        }))\n        .style(\"top\", (d3.event.pageY - 40) + \"px\")\n        .transition()\n        .duration(200)\n        .style(\"opacity\", .97);\n    })\n\n}","import * as d3 from 'd3';\nimport * as $ from 'jquery';\n//--------\nexport function sparklineGen(className, sparkline_data, key, model_name, original_data, state, year, appHandleChange, className2, sparkline_color, path_id) {\n  var temp_data = []\n  original_data.forEach(element => {\n    if (element['State'] == state && element[model_name]) {\n      temp_data.push({ year: parseInt(element['1-qid']), rank: parseInt(element[model_name]) })\n    }\n  });\n  var config = { labelKeyOffset: 55, radius: 3, sparkline_height: 20 }\n  var s_margin = { top: 0, right: 0, bottom: 0, left: 5 },\n    s_width = config.labelKeyOffset / 2,\n    s_height = config.sparkline_height - 2;\n  var s_svg = d3.selectAll(\".\"+className)\n  //var s_svg = d3.selectAll(\".\"+className).data([className],d=>d).join(\"svg\").attr(\"class\",className)\n    .attr(\"width\", s_width + s_margin.left + s_margin.right)\n    .attr(\"height\", s_height + s_margin.top + s_margin.bottom)\n  var data = temp_data\n  // Add X axis  \n  var x = d3.scaleLinear()\n    .domain(d3.extent(data, function (d) { return d.year; }))\n    .range([0, s_width]);\n  //---Add the area\n  s_svg.select(\"path\")\n    .datum(data, d => d)\n    .attr(\"id\", \"A\"+path_id)\n    .attr(\"fill\", sparkline_color) //#969696\n    .attr(\"stroke\", sparkline_color)\n    .attr(\"stroke-width\", (d) => {\n      return 1.5\n    })\n    .attr(\"d\", d3.area()\n      .x(function (d) { return x(d.year) })\n      .y0(function () {\n        var y = d3.scaleLinear().domain([0, d3.max(data, function (d) { return +d.rank; })]).range([s_height, 0]);\n        return y(0)\n      })\n      .y1(function (d) {\n        var y = d3.scaleLinear().domain([0, d3.max(data, function (d) { return +d.rank; })]).range([0, s_height]);\n        return y(d.rank)\n      })\n    )\n\n  var div = d3.select(\"body\").append(\"div\")\n    .attr(\"class\", \"tooltip\")\n    .style(\"opacity\", 0);\n  //------------Circles\n  s_svg.selectAll('circle').data(data).enter().append('circle')\n    .attr('cx', function (d, i) { return x(d.year) })\n    .attr('cy', s_height - 2)\n    .attr(\"class\", \"myid\" + className2)\n    .on(\"mouseover\", function (d) {\n      d3.select(this).style('fill', 'black')\n      d3.select(this).attr('r', 2)\n    })\n    .on(\"mouseout\", function (d) {\n      d3.select(this).style('fill', 'transparent')\n      var divid=\"#div\"+className\n      d3.selectAll(divid).remove()\n    })\n    .style('fill', (d) => d.year != year ? 'transparent' : 'black')\n    .attr('class', (d) => d.year != year ? 'transparent_class' : 'red_class')\n    .attr('r', 2)\n    .on('dblclick', (d, i) => {\n      d3.event.preventDefault();\n      appHandleChange(d.year, \"year_changed\")\n    })\n    .on('click', (d) => {\n      d3.select(\"body\").append(\"div\")\n        .attr(\"id\", \"div\"+className)\n        .attr(\"class\", \"tooltip\")\n        .style(\"opacity\", 0)\n        .html(\"<p>\" + \"Year: \" + d.year + \"</p>\" + \"<p>\" + \"Rank: \" + d.rank + \"</p>\")\n        .style(\"left\", ((d) => {\n          var left_div_width = $('.Sidebar_parent').width()\n          return left_div_width - 125 + \"px\"\n        }))\n        .style(\"top\", (d3.event.pageY - 40) + \"px\")\n        .transition()\n        .duration(200)\n        .style(\"opacity\", .97);\n    })\n}","import React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport * as $ from 'jquery';\nimport * as slopechart1 from \"./slopechart1\";\nimport Chart2 from \"../Exp_Chart/Chart2\"\nimport { connect } from \"react-redux\";\nimport Grid from '@material-ui/core/Grid';\nimport Popover from \"../Exp_Chart/Popover/Popover\"\nimport * as Legend from '../Legend'\nclass SlopeChart extends Component {\n  constructor(props) {\n    super(props);\n    this.myRef = React.createRef();\n  }\n  componentDidMount() {\n    this.setState({ random: 0 })\n  }\n  componentDidUpdate(prevProps, prevState) {\n    //---- Animation replay starts\n    if (JSON.stringify(this.props.time_mode_range) != JSON.stringify(prevProps.time_mode_range)) {\n      this.props.Set_prev_prop(prevProps)\n    }\n    if (this.props.time_mode_year1 !== prevProps.time_mode_year1) {\n      this.props.Set_prev_prop(prevProps)\n    }\n    if (this.props.time_mode_year2 !== prevProps.time_mode_year2) {\n      this.props.Set_prev_prop(prevProps)\n    }\n    //---- Animation replay ends\n\n    if (!this.props.replay) { // if replay is false\n      this.props.time_mode_range[0] != prevProps.time_mode_range[0] ? this.task1(\"dont_animate\") : this.task1(\"animate\")\n    }\n    else {\n      this.task1(\"dont_animate\")\n    }\n    this.props.task2()\n  }\n  task1 = (animate) => {\n    var selected_year;\n    if (this.props.model_name == \"Year1\") { selected_year = this.props.time_mode_year1 } else { selected_year = this.props.time_mode_year2 }\n    var state_range = this.props.time_mode_range\n    var mydata3 = { \"A\": [], \"B\": [] }\n    var deviate_by = this.props.deviate_by\n    var selected_by_year_data = this.props.grouped_by_year_data[selected_year] // This is the data passed a dictionay where year is the key\n    var max_rank = selected_by_year_data.length\n    var model_name = this.props.time_mode_model // This is the model name on the right side\n    var cmodel = this.props.cmodel // This is the selected model for color in case of sorting by predicted rank\n    //--------\n    var start_range = state_range != null ? state_range[0] : 10; // range to start\n    if (start_range > 0) { start_range -= 1 } // This is to start from index 0\n    if (start_range < 0) { start_range = 0 } // check if the deviation make the starting range less than the available rank\n    if (start_range < deviate_by) { deviate_by = start_range } // check if the deviation make the starting range less than the available rank\n    start_range = start_range - deviate_by\n    if (start_range < 0) { start_range = 0; deviate_by = 0 }\n    var deviate_check_lower = start_range + deviate_by + 1\n    //-----\n    deviate_by = this.props.deviate_by\n    var end_range = state_range != null ? state_range[1] : 25\n    var deviate_check_upper = end_range // Upper deviation check is this\n    end_range = end_range + deviate_by // changes the end range to include the deviation; next if checks when it goes beyond range\n    if (end_range > max_rank) {\n      deviate_check_upper = end_range - deviate_by; // set the upper range by subtracting the deviation\n      end_range = max_rank\n    }\n\n    for (var i = start_range; i < end_range; i++) {\n      var tempA = {}\n      var tempB = {}\n      tempA[\"Model\"] = model_name\n      tempA[\"name\"] = selected_by_year_data[i][\"State\"]\n      tempA[\"rank\"] = selected_by_year_data[i][\"two_realRank\"]\n      tempB[\"name\"] = selected_by_year_data[i][\"State\"]\n      tempB[\"rank\"] = selected_by_year_data[i][model_name]\n      mydata3[\"A\"].push(tempA)\n      mydata3[\"B\"].push(tempB)\n    }\n    //------------ Slopechart 1\n    slopechart1.CreateSlopeChart1(this.node, mydata3, start_range + 1, end_range, deviate_check_lower,\n      deviate_check_upper, this.props.model_name, selected_year, this.props.appHandleChange,\n      this.props.sparkline_data, this.props.original_data, this.props.histogram_data, this.props.textClickHandler_original,\n      this.color_gen(), animate, this.props.time_mode_model, this.props.config)\n    //------------        \n\n  }\n  color_gen = () => {\n    var selected_year;\n    if (this.props.model_name == \"Year1\") { selected_year = this.props.time_mode_year1 } else { selected_year = this.props.time_mode_year2 }\n    //------------------------------------------------------\n    var deviate_by = this.props.deviate_by\n    var selected_by_year_data = this.props.grouped_by_year_data[selected_year] // This is the data passed a dictionay where year is the key\n    var max_rank = selected_by_year_data.length\n    //--------\n    var start_range = this.props.time_mode_range != null ? this.props.time_mode_range[0] : 10; // range to start\n    if (start_range > 0) { start_range -= 1 } // This is to start from index 0\n    if (start_range < 0) { start_range = 0 } // check if the deviation make the starting range less than the available rank\n    if (start_range < deviate_by) { deviate_by = start_range } // check if the deviation make the starting range less than the available rank\n    start_range = start_range - deviate_by\n    if (start_range < 0) { start_range = 0; deviate_by = 0 }\n    var deviate_check_lower = start_range + deviate_by + 1\n    //-----\n    deviate_by = this.props.deviate_by\n    var end_range = this.props.time_mode_range != null ? this.props.time_mode_range[1] : 25\n    var deviate_check_upper = end_range // Upper deviation check is this\n    end_range = end_range + deviate_by // changes the end range to include the deviation; next if checks when it goes beyond range\n    if (end_range > max_rank) {\n      deviate_check_upper = end_range - deviate_by; // set the upper range by subtracting the deviation\n      end_range = max_rank\n    }\n    //---------------------------------------------------------------------------- Tracking starts here\n    var track_states_ranged_dictionary = {}\n    var track_states_year_data = this.props.grouped_by_year_data[selected_year] // when tracking is not activated we use selected year for color\n    var track_states_ranged_dictionary = {}\n    for (var i = deviate_check_lower - 1; i < deviate_check_upper; i++) {\n      track_states_ranged_dictionary[track_states_year_data[i][\"State\"]] = track_states_year_data[i][\"two_realRank\"]\n    }\n    var min = deviate_check_lower;\n    var max = deviate_check_upper;\n    var d = (max - min) / 8;\n    var line_color2 = d3.scaleLinear().domain([min + d * 7, min + d * 6, min + d * 5, min + d * 4, min + d * 3, min + d * 2, min]).interpolate(d3.interpolateRgb).range(['#00429d', '#4771b2', '#73a2c6', '#a5d5d8', /*'#ffffe0',*/ '#ffbcaf', '#f4777f', '#cf3759', '#93003a']);\n    var Rgbdict = {}\n    for (var key in track_states_ranged_dictionary) {\n      Rgbdict[key] = line_color2(track_states_ranged_dictionary[key])\n    }\n    this.line_color = d3.scaleOrdinal().domain(Object.keys(Rgbdict)).range(Object.values(Rgbdict))\n    Legend.createLegend(\"legend\",[min,max],Rgbdict) \n    //---------------------------------------------------------------------------- Tracking ends here \n    return this.line_color\n  }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  render() {\n    return (\n      this.props.show.includes(\"Explanation\") ? <Grid container style={{ width: \"49.5%\", marginRight: \"0.5%\", marginTop: \"0.5%\", paddingRight: 0, border: \"1px solid #eaeaea\"}} className=\"slopechart\">\n        <Grid item xs=\"6\" className=\"slopechart_col\">\n          <div className=\"slope_chart_title\">\n            <p>True Rank</p>\n            <p className=\"model_title\">{this.props.model_name == \"Year1\" ? \"Year 1\" : \"Year 2\"}</p>\n            <p>Predicted Rank</p>\n          </div>\n          <div className=\"mysvg\" ref={node => this.node = node}><svg id={this.props.model_name}><g id=\"myg\"></g></svg></div>\n        </Grid>\n        <Grid item xs=\"6\" className=\"exp_chart\" >\n          {this.props.time_mode_model != \"ListNet\" ? <Chart2\n            textClickHandler_original={this.props.textClickHandler_original}\n            color_gen={this.color_gen()}\n            model_name={this.props.time_mode_model}\n            model_name2={this.props.model_name}\n            state_range={this.props.time_mode_range}\n            selected_year={this.props.model_name == \"Year1\" ? this.props.time_mode_year1 : this.props.time_mode_year2}\n            grouped_by_year_data={this.props.grouped_by_year_data}\n            defualt_models={[this.props.time_mode_model]}\n          >\n          </Chart2> : <div className=\"not_avail\"><h3>NOT AVAILABLE</h3></div>}\n          {this.props.popup_chart_data != null && this.props.myindex == 0 ? <Popover defualt_models={[this.props.time_mode_model]} color_gen={this.color_gen()} textClickHandler_original={this.props.textClickHandler_original}></Popover> : null}\n        </Grid>\n      </Grid > :\n        <Grid item className=\"slopechart_col\" style={{ marginTop: 5, border: \"1px solid #eaeaea\", width: \"48%\", marginRight: \"1%\" }}>\n          <div className=\"slope_chart_title\">\n            <p>True Rank</p>\n            <p className=\"model_title\">{this.props.time_mode_model} ({this.props.model_name == \"Year1\" ? this.props.time_mode_year1 : this.props.time_mode_year2})</p>\n            <p>Predicted Rank</p>\n          </div>\n          <div className=\"mysvg\" ref={node => this.node = node}><svg id={this.props.model_name}><g id=\"myg\"></g></svg></div>\n        </Grid>\n    );\n  }\n\n}\n\n\nconst maptstateToprop = (state) => {\n  return {\n    selected_year: state.selected_year,\n    time_mode_model: state.time_mode_model,\n    time_mode_range: state.time_mode_range,\n    deviate_by: state.deviate_by,\n    time_mode_year1: state.time_mode_year1,\n    time_mode_year2: state.time_mode_year2,\n    clicked_items_in_slopechart: state.clicked_items_in_slopechart,\n    replay: state.replay,\n    popup_chart_data: state.popup_chart_data,\n    config: state.config,\n    show: state.show,\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_prev_prop: (val) => dispatch({ type: \"prev_prop\", value: val }),\n    Set_defualt_models: (val) => dispatch({ type: \"defualt_models\", value: val }),\n    Set_sparkline_data: (val) => dispatch({ type: \"sparkline_data\", value: val }),\n    Set_clicked_items_in_slopechart: (val) => dispatch({ type: \"clicked_items_in_slopechart\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(SlopeChart);","\nimport * as d3 from 'd3';\nimport * as $ from 'jquery';\nimport * as sparkline1 from \"./sparkline1\";\nimport * as sparkline2 from \"./sparkline2\";\nexport function CreateSlopeChart1(node, grouped_by_year_data, start_range, end_range, deviate_check_lower, deviate_check_upper, \n  model_name, year, appHandleChange, sparkline_data, original_data, histogram_data, textClickHandler_original, line_color, \n  animate, actual_model_for_range_and_time_mode,config) {\n  var base_height_between=18\n  // we don't need the delay here because the animations are happening one after the another\n  var slope_chart_anim1 = config.animation1\n  var slope_chart_anim2 = config.animation2\n  var number_of_elements = (end_range - start_range); // \n  var all_together = [];\n  grouped_by_year_data[\"A\"].forEach(function (d) { all_together.push(d); });\n  grouped_by_year_data[\"B\"].forEach(function (d) { all_together.push(d); });\n  var nestedByName = d3.nest().key(function (d) { return d.name }).entries(all_together);\n  //----------------------------------------------------------------------------------------------Height management\n  var margin = { top: 10, right: 70, bottom: 10, left: 160 };\n  var slopechart_col_height = $('.slopechart_container').height(),\n    slopechart_col_width = $('.slopechart_col').width(),\n    width = slopechart_col_width - margin.left - margin.right;\n  var height_between = slopechart_col_height / number_of_elements\n  if(height_between<base_height_between){height_between=base_height_between}\n  var height = (number_of_elements * height_between)-10 // -10 is the bottom margin\n  \n  d3.selectAll(\".slopechart_col\").style(\"height\",height+\"px\");\n  d3.selectAll(\".exp_chart\").style(\"height\", height + \"px\");\n\n  height = height - 45 // This height is going to be used for slopechart\n  var config = { yOffset: 0, width: width, height: height, labelGroupOffset: 1, labelKeyOffset: 55, radius: 3, sparkline_height: height_between }\n  //----------------------------------------------------------------------------------------------Height management\n  var yScale = d3.scaleLinear().range([0, height]).domain([start_range, end_range]);\n  var var_to_lift_up = yScale(nestedByName[0].values[0].rank); // nestedByName[5] places the 5th element at the beginning\n  var svg = d3.select(\"#\" + model_name).attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom)\n    .select(\"#myg\").attr('transform', `translate(150,10)`)\n\n  var borderLines = svg.selectAll(\".border-lines\").data([0]).join(\"g\").attr(\"class\", \"border-lines\") //--Ractangle that sets the boundary of lines  \n  borderLines.selectAll(\".line1\").data([0]).join(\"line\").attr(\"class\", \"line1\").attr(\"fill\", \"black\").attr(\"x1\", 0).attr(\"y1\", 0).attr(\"x2\", 0).attr(\"y2\", config.height); // left line x1,x2,y1 0 and y2 is the height\n  borderLines.selectAll(\".line2\").data([0]).join(\"line\").attr(\"class\", \"line2\").attr(\"fill\", \"black\").attr(\"x1\", width).attr(\"y1\", 0).attr(\"x2\", width).attr(\"y2\", config.height); // right line starts at x1,x2 at width and goes until height\n  //---------\n  var slopeGroups_upd = svg.selectAll(\".datapoint\").data(nestedByName, d => {\n    if (d !== undefined) {\n      return d.key;\n    }\n  }).join(onEnter, onUpdate, onExit)\n  //-----------------------------------------------------------------------------------------------------------------------------------------Enter function starts here\n  function onEnter(selection) {\n\n    const makeDatapoint = g => {\n      //-----------------------------------------------------------------------------------------------------------------------------------------state name text starts here\n      g.append(\"text\")\n        .attr(\"x\", d => -config.labelGroupOffset)\n        .attr(\"y\", d => yScale(d.values[0].rank) - var_to_lift_up)\n        .attr(\"dx\", -config.labelKeyOffset)\n        .attr(\"dy\", 3)\n        .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n        .attr(\"class\", (d) => {\n          return \"myid\" + d.values[0].rank + \" state_name\" + \" slopechart_text\"\n        })\n        .attr(\"text-anchor\", \"end\")\n        .on(\"mouseover\", function (d) { //-------Tooltip starts\t\t\n          var div = d3.select(\"body\").append(\"div\")\n            .attr(\"id\", \"div\" + d.key.replace(/ +/g, \"\"))\n            .attr(\"class\", \"tooltip\")\n            .style(\"opacity\", 0)\n          div.transition()\n            .duration(200)\n            .style(\"opacity\", .97)\n          div.html(\"<p>\" + d.key + \"</p>\" + \"<p>\" + \"Predicted rank: \" + d.values[1].rank + \"</p>\")\n            .style(\"left\", ((d) => {\n              var left_div_width = $('.Sidebar_parent').width()\n              return left_div_width - 125 + \"px\"\n            }))\n            .style(\"top\", (d3.event.pageY - 40) + \"px\");\n        })\n        .on(\"mouseout\", function (d) {\n          var myid = \"#div\" + d.key.replace(/ +/g, \"\")\n          d3.select(\"body\").selectAll(\".tooltip\").transition()\n            .duration(500)\n            .style(\"opacity\", 0).remove();\n        }) // Tooltip ends\n        .on(\"click\", function (d) {\n          return textClickHandler_original(\"A\" + d.key)\n          /*\n          if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) {\n            if (clicked_items_in_slopechart.includes(d.key.replace(/ +/g, \"\"))) { return textClickHandler_original(\"A\"+d.key) }\n          }\n          else { return textClickHandler_original(\"A\"+d.key) }\n          */\n        })\n        .text(d => {\n          var val = d.key\n          if (val.length > 15) { val = val.replace(\"University\", \"U\") }\n          return val.length > 15 ? val.substring(0, 15) : val\n        })\n        .attr(\"fill\", function (d) {\n          if (d.values[0].rank < deviate_check_lower) {\n            return \"rgb(110, 112, 112,.5)\";\n          }\n          else if (d.values[0].rank > deviate_check_upper) {\n            return \"rgb(110, 112, 112,.5)\";\n          }\n          else {\n            return line_color(d.key);\n          }\n        }) //state name text ends here\n      //-----------------------------------------------------------------------------------------------------------------------------------------Left sparkline starts here\n      g.append(\"svg\")\n        .attr('class', d => \"svg1 \" + model_name + d.values[1].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '') + 'original')\n        .attr(\"x\", d => {\n          return -config.labelGroupOffset - config.labelKeyOffset + 3;\n        })\n        .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n        .attr(\"y\", d => yScale(d.values[0].rank) - var_to_lift_up - 14)\n        .append(\"path\")\n        .attr(\"class\", \"mypath\")\n        .attr(\"opacity\", d => {\n          var className = model_name + d.values[1].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '') + 'original'\n          if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) { var sparkline_color = \"grey\" } else { var sparkline_color = line_color(d.key) }\n          sparkline1.sparklineGen(className, sparkline_data, d.key.replace(/ /g, '').replace(/[^\\w\\s]/gi, ''), d.key, year, appHandleChange, d.values[0].rank, sparkline_color, d.key.replace(/ +/g, \"\"))\n          return 1;\n        }\n        )\n      //-----------------------------------------------------------------------------------------------------------------------------------------Left rank text starts here\n      g.append(\"text\")\n        .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n        .attr(\"class\", (d) => \"myid\" + d.values[0].rank + \" left_rank_text\" + \" slopechart_text\")\n        .attr(\"x\", d => -config.labelGroupOffset)\n        .attr(\"y\", d => yScale(d.values[0].rank) - var_to_lift_up)\n        .attr(\"dx\", -10)\n        .attr(\"dy\", 3)\n        .attr(\"text-anchor\", \"end\")\n        .text(d => (d.values[0].rank))\n        .attr(\"fill\", function (d) {\n          if (d.values[0].rank < deviate_check_lower) {\n            return \"rgb(110, 112, 112,.5)\";\n          }\n          else if (d.values[0].rank > deviate_check_upper) {\n            return \"rgb(110, 112, 112,.5)\";\n          }\n          else {\n            return line_color(d.key);\n          }\n        }); //rank text ends here\n      //-----------------------------------------------------------------------------------------------------------------------------------------circle starts\n      g.append(\"circle\")\n        .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n        .attr(\"r\", d => {\n          if (d.values[0].rank < deviate_check_lower) {\n            return 0\n          }\n          else if (d.values[0].rank > deviate_check_upper) {\n            return 0\n          }\n          else { return config.radius }\n        })\n        .attr(\"cy\", d => yScale(d.values[0].rank) - var_to_lift_up)\n        .attr(\"class\", (d) => {\n          return d.values[0].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '') + \" myid\" + d.values[0].rank + \" left_circle\"\n        })\n        .attr(\"fill\", function (d) {\n          if (d.values[0].rank < deviate_check_lower) {\n            //return line_color(d);\n            return \"rgb(110, 112, 112,.5)\";\n          }\n          else if (d.values[0].rank > deviate_check_upper) {\n            //return line_color(d);\n            return \"rgb(110, 112, 112,.5)\";\n          }\n          else {\n            return line_color(d.key);\n          }\n        }); //circle ends\n      //-----------------------------------------------------------------------------------------------------------------------------------------Slope lines starts here\n      g.append(\"line\")\n        .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n        .attr(\"class\", (d) => \"slope-line myid\" + d.values[0].rank)\n        .attr(\"x1\", 0)\n        .attr(\"x2\", config.width)\n        .on(\"click\", function (d) {\n          return textClickHandler_original(\"A\" + d.key)\n          // if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) { } else { return textClickHandler_original(\"A\"+d.key) }\n        })\n        .attr(\"y1\", function (d) {\n          return yScale(d.values[0].rank) - var_to_lift_up;\n        })\n        .attr(\"y2\", function (d) {\n          return yScale(d.values[1].rank) - var_to_lift_up;\n        })\n        .attr(\"stroke\", (d) => {\n          if (d.values[0].rank < deviate_check_lower) {\n            return \"transparent\";\n          }\n          else if (d.values[0].rank > deviate_check_upper) {\n            return \"transparent\";\n          }\n          else {\n            return line_color(d.key)\n          }\n        })\n\n\n\n      //-----------------------------------------------------------------------------------------------------------------------------------------Right side   \n      //-----------------------------------------------------------------------------------------------------------------------------------------Right circle starts here      \n      g.append(\"circle\")\n        .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n        .attr(\"cy\", d => yScale(d.values[1].rank) - var_to_lift_up).attr(\"class\", (d) => {\n          return d.values[0].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '') + \" right_circle myid\" + d.values[0].rank\n        })\n        .attr(\"r\", d => {\n          if (d.values[0].rank < deviate_check_lower) {\n            return 0\n          }\n          else if (d.values[0].rank > deviate_check_upper) {\n            return 0\n          }\n          else { return config.radius }\n        })\n        .attr(\"cx\", config.width)\n        .attr(\"fill\", (d) => {\n          if (!(d.values[0].rank < deviate_check_lower | d.values[0].rank > deviate_check_upper)) {\n            return line_color(d.key);\n          }\n        });\n      //-----------------------------------------------------------------------------------------------------------------------------------------Right text - Ranks starts here\n      g.append(\"text\")\n        .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n        .attr(\"class\", (d) => \"slopechart_text right_rank_text myid\" + d.values[0].rank)\n        .attr(\"x\", d => width + config.labelGroupOffset)\n        .attr(\"y\", d => yScale(d.values[1].rank) - var_to_lift_up)\n        .attr(\"dx\", 10)\n        .attr(\"dy\", 3)\n        .attr(\"text-anchor\", \"start\")\n        .text(d => {\n          if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) {\n            return \"\";\n          }\n          else {\n            return d.values[1].rank\n          }\n        })\n        .attr(\"fill\", function (d) {\n          if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) {\n            return \"\";\n          }\n          else {\n            return line_color(d.key)\n          }\n        })\n        .on(\"click\", function (d) {\n          return textClickHandler_original(\"A\" + d.key)\n          // if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) { } else { return textClickHandler_original(\"A\"+d.key) }\n        }); //Text - Ranks ends here\n      //-----------------------------------------------------------------------------------------------------------------------------------------Right sparkline starts here\n      g.append(\"svg\")\n        .attr('class', d => \"svg2 \" + model_name.replace(\".\", \"stupid\") + d.values[1].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '').split('.').join(' '))\n        .attr(\"x\", d => {\n          return width + config.labelGroupOffset + 25\n        })\n        .attr(\"y\", d => yScale(d.values[1].rank) - var_to_lift_up - 14)\n        .attr(\"width\", d => {\n          if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) {\n            return 0;\n          }\n        })\n        .append(\"path\")\n        .attr(\"class\", \"mypath2\")\n        .attr(\"opacity\", d => {\n          if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) { } else {\n            var className = model_name.replace(\".\", \"stupid\") + d.values[1].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '').split('.').join(' ')\n            sparkline2.sparklineGen(className, sparkline_data, d.key.replace(/ /g, '').replace(/[^\\w\\s]/gi, ''), actual_model_for_range_and_time_mode, original_data, d.key, year, appHandleChange, d.values[0].rank, line_color(d.key), d.key.replace(/ +/g, \"\"))\n            return 1;\n          }\n        })\n    }\n    return selection\n      .append(\"g\")\n      .attr(\"class\", \"datapoint\")\n      .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n      .call(makeDatapoint);\n  }\n  //-----------------------------------------------------------------------------------------------------------------------------------------Onupdate starts here\n  function onUpdate(selection) {\n\n    //-----------------------------------------------------------------------------------------------------------------------------------------state name text ends here\n    selection.select(\".state_name\")\n      .attr(\"x\", -config.labelGroupOffset)\n      .attr(\"dx\", -config.labelKeyOffset)\n      .attr(\"dy\", 3)\n      .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n      .attr(\"class\", (d) => {\n        return \"slopechart_text myid\" + d.values[0].rank + \" state_name\"\n      })\n      .attr(\"text-anchor\", \"end\")\n      .on(\"mouseover\", function (d) { //-------Tooltip starts\t\t\n        var div = d3.select(\"body\").append(\"div\")\n          .attr(\"id\", \"div\" + d.key.replace(/ +/g, \"\"))\n          .attr(\"class\", \"tooltip\")\n          .style(\"opacity\", 0)\n        div.transition()\n          .duration(100)\n          .style(\"opacity\", .97)\n        div.html(\"<p>\" + d.key + \"</p>\" + \"<p>\" + \"Predicted rank: \" + d.values[1].rank + \"</p>\")\n          .style(\"left\", ((d) => {\n            var left_div_width = $('.Sidebar_parent').width()\n            return left_div_width - 125 + \"px\"\n          }))\n          .style(\"top\", (d3.event.pageY - 40) + \"px\");\n      })\n      .on(\"mouseout\", function (d) {\n        var myid = \"#div\" + d.key.replace(/ +/g, \"\")\n        d3.select(\"body\").selectAll(\".tooltip\").transition()\n          .duration(500)\n          .style(\"opacity\", 0).remove();\n      }) // Tooltip ends\n      .on(\"click\", function (d) {\n        return textClickHandler_original(\"A\" + d.key)\n        /*\n        if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) {\n          if (clicked_items_in_slopechart.includes(d.key.replace(/ +/g, \"\"))) { return textClickHandler_original(\"A\"+d.key) }\n        }\n        else { return textClickHandler_original(\"A\"+d.key) }\n        */\n      })\n      .text(d => {\n        var val = d.key\n        if (val.length > 15) { val = val.replace(\"University\", \"U\") }\n        return val.length > 15 ? val.substring(0, 15) : val\n      })\n      .attr(\"fill\", function (d) {\n        if (d.values[0].rank == 23) {\n\n        }\n        if ((d.values[0].rank < deviate_check_lower) || (d.values[0].rank > deviate_check_upper)) {\n          return \"rgb(110, 112, 112,.5)\";\n        }\n        else {\n          return line_color(d.key);\n        }\n      }).transition().duration(d => {\n        if (animate == \"animate\") {\n          return slope_chart_anim1\n        }\n        else {\n          return 0\n        }\n      })\n      .attr(\"y\", d => yScale(d.values[0].rank) - var_to_lift_up)\n    //state name text ends here\n    //-----------------------------------------------------------------------------------------------------------------------------------------Left sparkline starts here\n    selection.select(\".svg1\")\n      .attr('class', d => \"svg1 \" + model_name + d.values[1].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '') + 'original')\n      .attr(\"x\", d => {\n        var className = model_name + d.values[1].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '') + 'original'\n        if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) { var sparkline_color = \"grey\" } else { var sparkline_color = line_color(d.key) }\n        sparkline1.sparklineGen(className, sparkline_data, d.key.replace(/ /g, '').replace(/[^\\w\\s]/gi, ''), d.key, year, appHandleChange, d.values[0].rank, sparkline_color, d.key.replace(/ +/g, \"\"))\n        return -config.labelGroupOffset - config.labelKeyOffset + 3;\n      })\n      .transition().duration(d => {\n        if (animate == \"animate\") {\n          return slope_chart_anim1\n        }\n        else {\n          return 0\n        }\n      })\n      .attr(\"y\", d => yScale(d.values[0].rank) - var_to_lift_up - 14)\n      .attr(\"opacity\", 1)\n    //-----------------------------------------------------------------------------------------------------------------------------------------Left rank text starts here\n    selection.select(\".left_rank_text\")\n      .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n      .attr(\"class\", (d) => \"slopechart_text myid\" + d.values[0].rank + \" left_rank_text\")\n      .attr(\"x\", d => -config.labelGroupOffset)\n      .attr(\"dx\", -10)\n      .attr(\"dy\", 3)\n      .attr(\"text-anchor\", \"end\")\n      .text(d => (d.values[0].rank))\n      .attr(\"fill\", function (d) {\n        if (d.values[0].rank < deviate_check_lower) {\n          return \"rgb(110, 112, 112,.5)\";\n        }\n        else if (d.values[0].rank > deviate_check_upper) {\n          return \"rgb(110, 112, 112,.5)\";\n        }\n        else {\n          return line_color(d.key);\n        }\n      })\n      .transition().duration(d => {\n        if (animate == \"animate\") {\n          return slope_chart_anim1\n        }\n        else {\n          return 0\n        }\n      })\n      .attr(\"y\", d => yScale(d.values[0].rank) - var_to_lift_up); //rank text ends here\n\n    //-----------------------------------------------------------------------------------------------------------------------------------------Left circle starts here\n    selection.select(\".left_circle\")\n      .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n      .attr(\"r\", d => {\n        if (d.values[0].rank < deviate_check_lower) {\n          return 0\n        }\n        else if (d.values[0].rank > deviate_check_upper) {\n          return 0\n        }\n        else { return config.radius }\n      })\n      .attr(\"class\", (d) => {\n        return d.values[0].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '') + \" myid\" + d.values[0].rank + \" left_circle\"\n      })\n      .attr(\"fill\", function (d) {\n        if (d.values[0].rank < deviate_check_lower) {\n          //return line_color(d);\n          return \"rgb(110, 112, 112,.5)\";\n        }\n        else if (d.values[0].rank > deviate_check_upper) {\n          //return line_color(d);\n          return \"rgb(110, 112, 112,.5)\";\n        }\n        else {\n          return line_color(d.key);\n        }\n      })\n      .transition().duration(d => {\n        if (animate == \"animate\") {\n          return slope_chart_anim1\n        }\n        else {\n          return 0\n        }\n      })\n      .attr(\"cy\", d => yScale(d.values[0].rank) - var_to_lift_up); //left circle ends\n    //----------------------------------------------------------------------------------------------------------------------------------------- Slope lines starts here\n\n    selection.select(\".slope-line\")\n      .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n      .attr(\"class\", (d) => \"slope-line myid\" + d.values[0].rank)\n      .attr(\"x1\", 0)\n      .attr(\"x2\", config.width)\n      .on(\"click\", function (d) {\n        return textClickHandler_original(\"A\" + d.key)\n        // if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) { } else { return textClickHandler_original(\"A\"+d.key) }\n      })\n      .attr(\"stroke\", (d) => {\n        if (d.values[0].rank < deviate_check_lower) {\n          return \"transparent\";\n        }\n        else if (d.values[0].rank > deviate_check_upper) {\n          return \"transparent\";\n        }\n        else {\n          return line_color(d.key)\n        }\n      })\n      .transition().duration(d => {\n        if (animate == \"animate\") {\n          return slope_chart_anim1\n        }\n        else {\n          return 0\n        }\n      })\n      .attr(\"y1\", function (d) {\n        return yScale(d.values[0].rank) - var_to_lift_up;\n      })\n      .transition().duration(d => { // we don't need to set delay here because this is happening one after another\n        if (animate == \"animate\") {\n          return slope_chart_anim2\n        }\n        else {\n          return 0\n        }\n      })\n      .attr(\"y2\", function (d) {\n        return yScale(d.values[1].rank);\n      }) // Right slope lines ends here\n    //-----------------------------------------------------------------------------------------------------------------------------------------Right side  \n    //-----------------------------------------------------------------------------------------------------------------------------------------Right circle starts here      \n    selection.select(\".right_circle\")\n      .attr(\"id\", d => \"A\" + d.key.replace(/ +/g, \"\"))\n      .attr(\"class\", (d) => {\n        return d.values[0].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '') + \" right_circle myid\" + d.values[0].rank\n      })\n      .attr(\"r\", d => {\n        if (d.values[0].rank < deviate_check_lower) {\n          return 0\n        }\n        else if (d.values[0].rank > deviate_check_upper) {\n          return 0\n        }\n        else { return config.radius }\n      })\n      .attr(\"cx\", config.width)\n      .attr(\"cy\", d => {\n        return yScale(d.values[1].rank) - var_to_lift_up\n      })\n      .attr(\"fill\", (d) => {\n        if (!(d.values[0].rank < deviate_check_lower | d.values[0].rank > deviate_check_upper)) {\n          return line_color(d.key);\n        }\n      });\n    //-----------------------------------------------------------------------------------------------------------------------------------------Right text rank starts here\n    selection.select(\".right_rank_text\")\n      .attr(\"class\", (d) => \"slopechart_text right_rank_text myid\" + d.values[0].rank)\n      .attr(\"x\", d => width + config.labelGroupOffset)\n      .attr(\"y\", d => yScale(d.values[1].rank) - var_to_lift_up)\n      .attr(\"dx\", 10)\n      .attr(\"dy\", 3)\n      .attr(\"text-anchor\", \"start\")\n      .text(d => {\n        if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) {\n          return \"\";\n        }\n        else {\n          return d.values[1].rank\n        }\n      })\n      .attr(\"fill\", function (d) {\n        if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) {\n          return \"\";\n        }\n        else {\n          return line_color(d.key)\n        }\n      })\n      .on(\"click\", function (d) {\n        return textClickHandler_original(\"A\" + d.key)\n        // if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) { } else { return textClickHandler_original(\"A\"+d.key) }\n      }); //Text - Ranks ends here\n    //-----------------------------------------------------------------------------------------------------------------------------------------Right sparkline starts here\n    selection.select(\".svg2\")\n      .attr('class', d => \"svg2 \" + model_name.replace(\".\", \"stupid\") + d.values[1].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '').split('.').join(' '))\n      .attr(\"x\", d => {\n        var className = model_name.replace(\".\", \"stupid\") + d.values[1].name.replace(/ /g, '').replace(/[^\\w\\s]/gi, '').split('.').join(' ')\n        sparkline2.sparklineGen(className, sparkline_data, d.key.replace(/ /g, '').replace(/[^\\w\\s]/gi, ''), actual_model_for_range_and_time_mode, original_data, d.key, year, appHandleChange, d.values[0].rank, line_color(d.key), d.key.replace(/ +/g, \"\"))\n        return width + config.labelGroupOffset + 27\n      })\n      .attr(\"y\", d => yScale(d.values[1].rank) - var_to_lift_up - 14)\n      .attr(\"width\", d => {\n        if (d.values[0].rank < deviate_check_lower || d.values[0].rank > deviate_check_upper) {\n          return 0;\n        }\n      })\n\n  }\n\n  function onExit(selection) {\n    selection.remove();\n  }\n}\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Fade from '@material-ui/core/Fade';\nimport { connect } from \"react-redux\";\nimport * as algo1 from \"../../Algorithms/algo1\";\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nfunction FadeMenu(props) {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const open = Boolean(anchorEl);\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  //------------For list and chckbox\n  const [checked, setChecked] = React.useState([0]);\n  const [selected_states, setSelected_states] = React.useState([]);\n  const handleToggle = (value) => () => {\n    const currentIndex = checked.indexOf(value);\n    const newChecked = [...checked];\n\n    if (currentIndex === -1) {\n      newChecked.push(value);\n    } else {\n      newChecked.splice(currentIndex, 1);\n    }\n    setChecked(newChecked);\n  };\n  //----------------\n  const show_checkboxChanged = (event) => {\n    var myfunc = props.appHandleChange\n    myfunc(event.target.value, \"show_checkboxChanged\")\n  }\n  const checkboxChanged = (event) => {\n    var temp_Models;\n    if (props.defualt_models.includes(event.target.value)) {\n      temp_Models = props.defualt_models.filter(item => {\n        if (item != event.target.value)\n          return item\n      })\n      temp_Models = algo1.sort(props.sort_by, props.state_range, temp_Models, props.selected_year, props.grouped_by_year_data)[0];\n      props.Set_defualt_models(temp_Models)\n      props.Set_pop_over_models(temp_Models)\n    }\n    else {\n      temp_Models = props.defualt_models\n      temp_Models.push(event.target.value)\n      temp_Models = algo1.sort(props.sort_by, props.state_range, temp_Models, props.selected_year, props.grouped_by_year_data)[0];\n      props.Set_defualt_models(temp_Models)\n      props.Set_pop_over_models(temp_Models)\n    }\n    var myfunc = props.appHandleChange\n    myfunc(event.target.value, \"clicked_model\")\n  }\n  return (\n    <div style={{ borderRight: \"1px dashed #eaeaea\" }}>\n      <Button aria-controls=\"fade-menu\" aria-haspopup=\"true\" onClick={handleClick}>\n        Select Model\n        <ArrowDropDownIcon></ArrowDropDownIcon>\n      </Button>\n      <Menu\n        id=\"fade-menu\"\n        anchorEl={anchorEl}\n        keepMounted\n        open={open}\n        onClose={handleClose}\n        TransitionComponent={Fade}\n      >\n        <div className=\"CheckboxContainer\">\n          <List>\n            {[ \"MART\",\"RandomFor\",\"LinearReg\",\"CordAscent\", \"LambdaMART\", \"LambdaRank\",\"RankBoost\", \"RankNet\"].map((value) => {\n              const labelId = `checkbox-list-label-${value}`;\n              return (\n                <ListItem key={value} role={undefined} onClick={handleToggle(value)}>\n                  <Checkbox\n                    checked={props.defualt_models.includes(value)}\n                    edge=\"start\"\n                    tabIndex={-1}\n                    value={value}\n                    onChange={(event, value) => {\n                      checkboxChanged(event, value)\n                    }\n                    }\n                  />\n                  <p className=\"list_item_label\" id={labelId}>{value}</p>\n                </ListItem>\n              );\n            })}\n          </List>\n        </div>\n      </Menu>\n    </div>\n  );\n}\nconst maptstateToprop = (state) => {\n  return {\n    defualt_models: state.defualt_models,\n    sort_by: state.sort_by,\n    state_range: state.state_range,\n    selected_year: state.selected_year,\n    grouped_by_year_data: state.grouped_by_year_data,\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_defualt_models: (val) => dispatch({ type: \"defualt_models\", value: val }),\n    Set_pop_over_models: (val) => dispatch({ type: \"pop_over_models\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(FadeMenu);\n//https://material-ui.com/components/menus/\n","import React from 'react';\nimport { connect } from \"react-redux\";\nimport Button from '@material-ui/core/Button';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport Radio from '@material-ui/core/Radio';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport Menu from '@material-ui/core/Menu';\nimport Fade from '@material-ui/core/Fade';\nimport * as algo1 from \"../../Algorithms/algo1\";\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nfunction Sort(props) {\n    const [anchorEl, setAnchorEl] = React.useState(null);\n    const [sort_by, set_sort_by] = React.useState(props.sort_by);\n    const open = Boolean(anchorEl);\n    const handleClick = (event) => {\n        setAnchorEl(event.currentTarget);\n    };\n    const handleClose = () => {\n        setAnchorEl(null);\n    };\n    const handleradioChange = (event) => {\n        set_sort_by(event.target.value)\n        if(event.target.value==\"None\"){var val=\"Alphabetically\"}\n        else{var val=event.target.value}\n        props.Set_sort_by(val)\n        var temp_Models = algo1.sort(val, props.state_range, props.defualt_models, props.selected_year,props.grouped_by_year_data)[0];\n        var default_model_scores = algo1.sort(val, props.state_range, props.defualt_models, props.selected_year,props.grouped_by_year_data)[1];\n        props.Set_default_model_scores(default_model_scores)\n        props.Set_defualt_models(temp_Models)\n      };\n    return (\n        <div className=\"sort\" style={{borderRight:\"1px dashed #eaeaea\"}}>\n            <Button aria-controls=\"fade-menu\" aria-haspopup=\"true\" onClick={handleClick}>Select Metrics <ArrowDropDownIcon></ArrowDropDownIcon></Button>\n            <Menu\n                id=\"fade-menu\"\n                anchorEl={anchorEl}\n                keepMounted\n                open={open}\n                onClose={handleClose}\n                TransitionComponent={Fade}\n            >\n            <FormControl component=\"fieldset\">\n                <FormLabel component=\"legend\"></FormLabel>\n                <RadioGroup aria-label=\"gender\" name=\"gender1\" value={sort_by} onChange={handleradioChange}>\n                    {['Discounted Cumulative Gain', 'Average Precision', 'None'].map((value) => {\n                        return <FormControlLabel value={value} control={<Radio />} label={value} />\n                    })}\n                </RadioGroup>\n            </FormControl>\n            </Menu>\n        </div>\n    );\n}\nconst maptstateToprop = (state) => {\n    return {\n        defualt_models: state.defualt_models,\n        sort_by:state.sort_by,\n        state_range: state.state_range,\n        selected_year: state.selected_year,\n        grouped_by_year_data:state.grouped_by_year_data,\n    }\n}\nconst mapdispatchToprop = (dispatch) => {\n    return {\n        Set_sort_by: (val) => dispatch({ type: \"sort_by\", value: val }),\n        Set_defualt_models: (val) => dispatch({ type: \"defualt_models\", value: val }),\n        Set_default_model_scores: (val) => dispatch({ type: \"default_model_scores\", value: val }),\n    }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Sort);\n//https://material-ui.com/components/menus/\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport \"./TopBar.scss\";\nimport TextField from '@material-ui/core/TextField';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport * as d3 from 'd3';\nimport DefaultModels from './DefaultModels'\nimport Sort from './Sort'\nimport { connect } from \"react-redux\";\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\nimport * as algo1 from \"../../Algorithms/algo1\"\nconst useStyles = makeStyles((theme) => ({\n  MuiAutocompleteroot: {\n    marginTop: 0,\n  },\n  root: {\n    width: '100%',\n  },\n  listroot: {\n    width: '100%',\n    maxWidth: 360,\n  },\n  paper: {\n  },\n  heading: {\n    fontSize: theme.typography.pxToRem(15),\n    fontWeight: theme.typography.fontWeightRegular,\n  },\n}));\nfunction TopBar(props) {\n  const classes = useStyles();\n  const handleyearChange = (event, value, reason) => {\n    if (reason == 'select-option') {\n      props.Set_selected_year(value)\n      var myfunc = props.appHandleChange\n      myfunc(value, \"year_changed\")\n    }\n  };\n  var handle_year_click = (year) => {\n    if(year==\"All\"){props.Set_selected_years([...props.years_for_dropdown])}\n    else{\n      if (props.selected_years.includes(year)) {\n        props.Set_selected_years(props.selected_years.filter(item=>item!=year))\n      }\n      else {\n        props.Set_selected_years([...props.selected_years,year])\n      }  \n    }\n  }\n  var handle_model_click=(model)=>{\n    if(model==\"All\"){props.Set_defualt_models([...props.all_models])}\n    else if(model==\"Average\"){props.Set_average_m(!props.average_m)}\n    else{\n      if (props.defualt_models.includes(model)) {\n        props.Set_defualt_models(props.defualt_models.filter(item=>item!=model))\n      }\n      else {\n        props.Set_defualt_models([...props.defualt_models,model])\n      }  \n    }\n  }\n  return (\n    <div>\n    <div><h5 style={{ display: \"inline-block\", marginLeft: 30 }}>Years:</h5>{props.years_for_dropdown.map(item => <p className={props.selected_years.includes(item) ? \"years_p_selected years_p\" : \"years_p\"} onClick={() => handle_year_click(item)}>{item}</p>)}<p className=\"years_p\" style={{ display: \"inline-block\"}} onClick={() => handle_year_click(\"All\")}>All</p> <p className=\"years_p\" style={{ display: \"inline-block\"}}>Average</p></div>\n    <div><h5 style={{ display: \"inline-block\", marginLeft: 30 }}>Models:</h5>{props.all_models.map(item => <p className={props.defualt_models.includes(item) ? \"years_p_selected years_p\" : \"years_p\"} onClick={() => handle_model_click(item)}>{item}</p>)}<p className=\"years_p\" style={{ display: \"inline-block\"}} onClick={() => handle_model_click(\"All\")}>All</p> <p className={props.average_m ? \"years_p_selected years_p\" : \"years_p\"} style={{ display: \"inline-block\"}} onClick={() => handle_model_click(\"Average\")}>Average</p></div>\n    </div>\n  );\n}\nconst maptstateToprop = (state) => {\n  return {\n    all_models:state.all_models,\n    selected_years: state.selected_years,\n    tracking: state.tracking,\n    selected_year: state.selected_year,\n    years_for_dropdown: state.years_for_dropdown,\n    defualt_models: state.defualt_models,\n    mode: state.mode,\n    prev_prop: state.prev_prop,\n    state_range: state.state_range,\n    replay: state.replay,\n    grouped_by_year_data: state.grouped_by_year_data,\n    clicked_items_in_slopechart: state.clicked_items_in_slopechart,\n    range_mode_range1: state.range_mode_range1,\n    range_mode_range2: state.range_mode_range2,\n    time_mode_range: state.time_mode_range,\n    mode: state.mode, // Model mode model\n    sort_by: state.sort_by,\n    average_m:state.average_m\n\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    add: (val) => dispatch({ type: \"add\", value: val }),\n    Set_selected_years: (val) => dispatch({ type: \"selected_years\", value: val }),\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: val }),\n    set_tracking: (val) => dispatch({ type: \"tracking\", value: val }),\n    Set_histogram_data: (val) => dispatch({ type: \"histogram_data\", value: val }),\n    Set_changed: (val) => dispatch({ type: \"changed\", value: val }),\n    Set_state_range: (val) => dispatch({ type: \"state_range\", value: val }),\n    Set_slider_max: (val) => dispatch({ type: \"slider_max\", value: val }),\n    Set_range_mode_range1: (val) => dispatch({ type: \"range_mode_range1\", value: val }),\n    Set_range_mode_range2: (val) => dispatch({ type: \"range_mode_range2\", value: val }),\n    Set_time_mode_range: (val) => dispatch({ type: \"time_mode_range\", value: val }),\n    Set_pop_over_models: (val) => dispatch({ type: \"pop_over_models\", value: val }),\n    Set_defualt_models: (val) => dispatch({ type: \"defualt_models\", value: val }),\n    Set_default_model_scores: (val) => dispatch({ type: \"default_model_scores\", value: val }),\n    Set_average_m: (val) => dispatch({ type: \"average_m\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(TopBar);\n\n//https://material-ui.com/api/slider/\n//https://material-ui.com/components/expansion-panels/\n//https://material-ui.com/api/checkbox/\n//https://material-ui.com/components/radio-buttons/","import * as d3 from 'd3';\nimport * as $ from \"jquery\"\nexport default function CreateChart(feature, data, node, feature_height, selected_year, handleHistogramselection, feature_data) {\n  var feature_width = $(\".Sidebar_parent\").width()\n  var svg = d3.select(node),\n    margin = { top: 30, right: 15, bottom: 20, left: 7 },\n    width = feature_width - margin.left - margin.right,\n    height = feature_height - margin.top - margin.bottom;\n  if (isNaN(data[0].y)) {\n    //-----------------------------------------------------------(handle the categorical features here)\n    var occur = {}\n    data.map(item => {\n      if (item.y in occur) {\n        occur[item.y] = occur[item.y] + 1\n      }\n      else {\n        occur[item.y] = 1\n      }\n    })\n    // Create items array\n    var items = Object.keys(occur).map(function (key) {\n      return [key, occur[key]];\n    });\n\n    // Sort the array based on the second element\n    items.sort(function (first, second) {\n      return second[1] - first[1];\n    });\n    //-----\n    var y = items.map(element => element[0]);\n    var x = items.map(element => element[1]);\n    var sum_x = d3.sum(x)\n    var cScale = d3.scaleSequential()\n      .interpolator(d3.interpolate(\"#999999b3\", \"#999999b3\"))\n      .domain([0, x.length]);\n    svg.selectAll(\".hist_title\").data([0]).join(\"text\").attr(\"class\", \"hist_title\").attr(\"y\", 15).attr(\"x\", width / 2).attr(\"text-anchor\", \"middle\").text(feature);\n    var g = svg.selectAll(\".g1\").data([0]).join(\"g\").attr(\"class\", \"g1\").attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n    var svg1 = g.selectAll(\".svg1\").data([0]).join('svg').attr(\"class\", \"svg1\").attr('width', width).attr('height', height)\n    svg1.selectAll('rect').data(x).join(\"rect\")\n      .style('fill', (d, i) => cScale(i)).attr(\"height\", height)\n      .attr('width', (d, i) => {\n        return (((d / sum_x) * width) - .2)\n      })\n      .attr(\"x\", (d, i) => {\n        var temp_sum = d3.sum(x.slice(0, i))\n        return ((temp_sum / sum_x) * width)\n      })\n      .attr(\"id\", (d, i) => y[i])\n      .on(\"click\", (d, i) => {\n        d3.select(\"#\" + y[i]).classed(\"cat_item_clicked\", () => {\n          if (d3.select(\"#\" + y[i]).classed(\"cat_item_clicked\")) {\n\n            return false\n          }\n          else {\n            var statelist = cat_states(feature_data, selected_year, y[i])\n            handleHistogramselection(statelist, \"histogram_data\")\n            return true\n          }\n        })\n\n      }\n      )\n    //---\n    svg1.selectAll(\"text\").data(y, d => d).join(\"text\")\n      .text((d, i) => {\n        if (((x[i] / sum_x) * width) > 12) { return d }\n        else { return \"\" }\n      })\n      .attr(\"x\", (d, i) => {\n        var temp_sum = d3.sum(x.slice(0, i))\n        return ((temp_sum / sum_x) * width) + 8\n      })\n      .attr(\"y\", height / 2)\n      .style(\"font-size\", 9)\n      .style(\"writing-mode\", \"tb\")\n      .style(\"text-anchor\", \"middle\")\n    //-----------------------------------------------------------Barchart ends here\n  }\n  else {\n    //----------------------------------------------------------- Handle the Numeric features here)\n    svg.selectAll(\".hist_title\").data([feature], d => d).join(\"text\").attr(\"class\", \"hist_title\").attr(\"y\", 15).attr(\"x\", width / 2).attr(\"text-anchor\", \"middle\").text(feature.replace(/_/g, ' '));\n\n    var temp_x = data.map(item => parseFloat(item['y'])),\n      x = d3.scaleLinear().domain([d3.min(temp_x), d3.max(temp_x)]).range([0, width]).nice(),\n      tick_values = x.ticks(4),\n      hist_height = height,\n      histogram = d3.histogram()\n        .value(d => d)   // I need to give the vector of value\n        .domain(x.domain())  // then the domain of the graphic\n        .thresholds(4); // then the numbers of bins\n    var bins = histogram(temp_x),\n      y_hist = d3.scaleLinear()\n        .range([hist_height, 0]);\n    y_hist.domain([0, d3.max(bins, function (d) { return d.length; })]);   // d3.hist has to be called before the Y axis obviously\n    var svg0 = svg.selectAll('.svg0').data([0]).join('svg').attr(\"class\", \"svg0\").selectAll(\".myg0\").data([0]).join('g').attr(\"class\", \"myg0\").attr(\"transform\",\n      \"translate(\" + margin.left + \",\" + margin.top + \")\")\n\n    svg0.selectAll(\"rect\").data(bins).join('rect')\n      .attr(\"x\", 1)\n      .attr(\"fill\", \"#999999b3\")\n      .attr(\"transform\", function (d) {\n        if(d.x0==d.x1){return \"translate(\" + 0 + \",\" + y_hist(d.length) + \")\"}\n        return \"translate(\" + x(d.x0) + \",\" + y_hist(d.length) + \")\";\n      })\n      .attr(\"width\", function (d) { \n        if(d.x0==d.x1){return width}\n        return x(d.x1) - x(d.x0) - 0.2; })\n      .attr(\"height\", function (d) { return hist_height - y_hist(d.length); });\n    //-------Add text of bars\n    \n    svg0.selectAll(\".mylabel\").data(bins).join('text').attr(\"class\",\"mylabel\")\n      .attr(\"x\", d=>x(d.x0)+((x(d.x1)-x(d.x0))/3))\n      .text(d=>d.length)\n      .attr('y',d=> y_hist(d.length)-2)\n      .attr('font-size',10)\n  \n    //------------- Add X axis\n    if(d3.max(tick_values)>1000){\n      svg0.selectAll(\".myXaxis\").data([0]).join('g').attr(\"class\", \"myXaxis\")\n      .attr(\"transform\", \"translate(0,\" + hist_height + \")\")\n      .call(d3.axisBottom(x).tickValues(tick_values).tickFormat(d3.format(\".2s\")))\n    }\n    else{\n      svg0.selectAll(\".myXaxis\").data([0]).join('g').attr(\"class\", \"myXaxis\")\n      .attr(\"transform\", \"translate(0,\" + hist_height + \")\")\n      .call(d3.axisBottom(x).tickValues(tick_values))\n    }\n\n    svg0.selectAll(\".tick line,.domain\").attr(\"stroke\", \"#adadad\")\n\n    //------------------------------------------------------------------------------------------------------ Create Histogram ends here    \n    //---drag starts here\n    var selectionRect = {\n      element: null,\n      previousElement: null,\n      currentY: 0,\n      currentX: 0,\n      originX: 0,\n      originY: 0,\n      setElement: function (ele) {\n        this.previousElement = this.element;\n        this.element = ele;\n      },\n      getNewAttributes: function () {\n        var x = this.currentX < this.originX ? this.currentX : this.originX;\n        var y = this.currentY < this.originY ? this.currentY : this.originY;\n        var width = Math.abs(this.currentX - this.originX);\n        var height = Math.abs(this.currentY - this.originY);\n        return { x: x, y: y, width: width, height: height }; // returning the javascript object\n      },\n      getCurrentAttributes: function () {\n        // use plus sign to convert string into number\n        var x = +this.element.attr(\"x\");\n        var y = +this.element.attr(\"y\");\n        var width = +this.element.attr(\"width\");\n        var height = +this.element.attr(\"height\");\n        return { x1: x, y1: y, x2: x + width, y2: y + height }; // returning the javascript object\n      },\n      getCurrentAttributesAsText: function () {\n        var attrs = this.getCurrentAttributes();\n        return \"x1: \" + attrs.x1 + \" x2: \" + attrs.x2 + \" y1: \" + attrs.y1 + \" y2: \" + attrs.y2;\n      },\n      init: function (newX, newY) {\n        var rectElement = svg.append(\"rect\")\n          .attr('rx', 1).attr('ry', 1).attr(\"x\", 0).attr(\"y\", 0)\n          .attr('width', 0).attr('height', 0).classed(\"selection\", true);\n        this.setElement(rectElement);\n        this.originX = newX;\n        this.originY = newY;\n        this.update(newX, newY);\n      },\n      update: function (newX, newY) {\n        this.currentX = newX;\n        this.currentY = newY;\n        var NewAttr = this.getNewAttributes()\n        this.element.attr(\"x\", NewAttr.x).attr(\"y\", NewAttr.y)\n          .attr('width', NewAttr.width).attr('height', NewAttr.height)\n      },\n      focus: function () {\n        this.element\n          .style(\"stroke\", \"\")\n          .style(\"stroke-width\", \"1\");\n      },\n      remove: function () {\n        this.element.remove();\n        this.element = null;\n      },\n      removePrevious: function () {\n        if (this.previousElement) {\n          this.previousElement.remove();\n        }\n      }\n    };\n\n    //-----------------\n    function dragStart() {\n      var p = d3.mouse(this);\n      selectionRect.init(p[0], p[1]);\n      selectionRect.removePrevious();\n    }\n    function dragMove() {\n      var p = d3.mouse(this);\n      selectionRect.update(p[0], p[1]);\n    }\n    function dragEnd() {\n      var finalAttributes = selectionRect.getCurrentAttributes();\n      if (finalAttributes.x1 != finalAttributes.x2) {\n        var myx1 = finalAttributes.x1 - margin.left\n        var myx2 = finalAttributes.x2 - margin.left\n        var temp_range = [x.invert(myx1).toFixed(4), x.invert(myx2).toFixed(4)]\n        var statelist = states(feature_data, temp_range, selected_year, feature)\n        handleHistogramselection(statelist, \"histogram_data\")\n      }\n      if (finalAttributes.x2 - finalAttributes.x1 > 1 && finalAttributes.y2 - finalAttributes.y1 > 1) {\n        // range selected\n        d3.event.sourceEvent.preventDefault();\n        selectionRect.focus();\n      } else {\n        selectionRect.remove();\n      }\n    }\n    var dragBehavior = d3.drag()\n      .on(\"start\", dragStart)\n      .on(\"drag\", dragMove)\n      .on(\"end\", dragEnd);\n    svg.call(dragBehavior);\n    //---drag ends here\n  }\n  function states(original_data,range,year,feature){\n    var temp=[]\n    original_data.forEach(element => {\n      if(element[\"1-qid\"]==year && parseFloat(element[feature])>=range[0] && parseFloat(element[feature])<=range[1]){\n       temp.push(parseInt(element['two_realRank']))\n      }\n    });\n    return temp;\n  }\n  function cat_states(original_data,year,country){\n    var temp=[]\n    original_data.forEach(element => {\n      if(element[\"1-qid\"]==year && element[\"country\"]==country){\n       temp.push(parseInt(element['two_realRank']))\n      }\n    });\n    return temp;\n  }\n  //----------------------------------------------------------- Histogram creation ends here\n}\n\n//https://www.youtube.com/watch?v=N9nHQzboCUI","import React, { Component, PureComponent } from 'react';\nimport * as d3 from 'd3';\nimport './Histogram.css';\nimport * as algo1 from \"../../Algorithms/algo1\";\nimport CreateChart from \"./Histogram\"\nimport exp_fiscal_CordAscent from \"../../Data/data/fiscal/lime/chart1_data.csv\";\nimport exp_school_CordAscent from \"../../Data/data/school/lime/chart1_data.csv\";\nimport exp_house_CordAscent from \"../../Data/data/house/lime/chart1_data.csv\";\nimport { connect } from 'react-redux'\nimport { Button } from '@material-ui/core';\nimport * as $ from \"jquery\"\nclass Chart extends Component {\n  constructor(props) {\n    super(props);\n    this.myRef = React.createRef();\n    this.state = { feaures_dict: {}, features_voted: null, feature_data: null, selected_states: [] } // This is the default height\n  }\n  componentDidMount() {\n    var self = this\n    var filename; if (this.props.dataset == \"fiscal\") { filename = exp_fiscal_CordAscent } else if (this.props.dataset == \"school\") { filename = exp_school_CordAscent } else if (this.props.dataset == \"house\") { filename = exp_house_CordAscent }\n    d3.csv(filename).then(function (feature_data) {\n      self.setState({ feature_data: feature_data })\n    })\n  }\n  shouldComponentUpdate() {\n    return true;\n  }\n  componentDidUpdate() {\n    var self = this\n    var legend_data = this.makeArr(this.props.state_range);\n    //------\n    var height_between = 20\n    var feature_height = 260\n    var number_of_elements = (this.props.state_range[1] - this.props.state_range[0]) + (2 * this.props.deviate_by);\n    if (number_of_elements * height_between < 700) { height_between = 700 / number_of_elements }\n    var exp_chart_height = (number_of_elements * height_between);\n    var number_of_charts = Math.floor(exp_chart_height / feature_height) * 3\n    if(number_of_charts<9){number_of_charts=9}\n    //------\n    var features_dict = algo1.features_with_score(this.props.dataset, this.props.defualt_models, legend_data, this.props.selected_year,number_of_charts,this.props.rank_data)\n    var items = Object.keys(features_dict).map(function (key) {\n      return [key, features_dict[key]];\n    });\n    items.sort(function (first, second) { // Sort the array based on the second element\n      return second[1] - first[1];\n    });\n    items = items.map((element) => element[0])\n    //--------\n    var filename; if (this.props.dataset == \"fiscal\") { filename = exp_fiscal_CordAscent } else if (this.props.dataset == \"school\") { filename = exp_school_CordAscent }\n    //--------------------------------Iterate through each features\n    if (this.state.feature_data != null) {\n      var feature_width=$(\".Sidebar_parent\").width()\n      var feature_height = 150; // Feature height for individual feature\n //--------------------------------------------- Iterate trough eact item and create histograms\n    items.forEach((feature, feature_index) => {\n        var feature_id = \"feature\"+feature.replace(/[^\\w\\s]/gi, '')\n        var temp = []\n        this.state.feature_data.forEach(element => {\n          if (element[\"1-qid\"] == self.props.selected_year) {\n            var temp_dict = {}\n            temp_dict[\"x\"] = parseInt(element['two_realRank'])\n            temp_dict[\"y\"] = element[feature]\n            temp.push(temp_dict)\n          }\n        });\n        d3.select(\"#histogram_container\").attr(\"height\", items.length * feature_height).selectAll(\"#\" + feature_id).data([feature_id], d => d).join(\"svg\").attr(\"id\", feature_id).attr(\"width\", feature_width)\n          .attr(\"x\", d => {\n            //--------------------------------------------- Create chart is imported from the Histogram.js and this is the function that creates all the histograms\n            CreateChart(feature, temp, \"#\" + feature_id, feature_height, self.props.selected_year, self.handleHistogramselection, self.state.feature_data)\n            return 0;\n          })\n          .attr(\"y\", (d, i) => feature_height * feature_index)\n      })\n    }\n  }\n  handleHistogramselection = (data, type) => {\n    \n    var temp = this.state.selected_states\n    data.forEach(element => {\n      if (!temp.includes(element)) { temp.push(element) }\n    });\n    this.setState({ selected_states: temp })\n  }\n  update_histogram_data = () => {\n    d3.selectAll(\".cat_item_clicked\").classed(\"cat_item_clicked\",false)\n    d3.selectAll(\".selection\").remove()\n    if(this.state.selected_states.length<1){alert(\"Empty selection!\");return}\n    var myfunc = this.props.appHandleChange\n    var filtered_states = this.state.selected_states.filter((item) => {\n      if (item >= this.props.state_range[0] && item <= this.props.state_range[1]) {\n        return item\n      }\n    })\n    if(filtered_states.length<1){alert(\"Empty Selection\")}\n    if (this.props.slider_and_feature_value[\"Feature\"] == 1 && this.props.slider_and_feature_value[\"Rank range\"] == 1) { // If rank range is selected then filter states within the range\n      this.props.Set_histogram_data(filtered_states)\n      myfunc(filtered_states, \"histogram_data\")\n    }\n    else {\n      this.props.Set_histogram_data(this.state.selected_states) // else set states as selected\n      myfunc(this.state.selected_states, \"histogram_data\")\n    }\n    this.setState({ selected_states: [] })\n  }\n  //-----------------------------------------------------------------\n  render() {\n    return (\n      <div>\n        <Button className=\"update\" style={{marginLeft:0,padding:0,width:197}} onClick={() => {\n          var self=this\n              if(!this.props.slider_and_feature_value[\"Rank range\"]){\n                if(d3.min(this.state.selected_states)<this.props.state_range[0]){\n                  this.props.Set_state_range([d3.min(this.state.selected_states),this.props.state_range[1]])\n                }\n                if(d3.max(this.state.selected_states)>this.props.state_range[1]){\n                  this.props.Set_state_range([this.props.state_range[0],d3.max(this.state.selected_states)])\n                }\n              }\n              setTimeout(function(){ self.update_histogram_data(); }, 500);\n          }}\n          >Update</Button>\n        <div className=\"hitograms_container\">\n        <svg id=\"histogram_container\" style={{ width: this.props.width }}></svg>\n        </div>\n      </div>\n    );\n  }\n  makeArr = (state_range) => {\n    var startValue = state_range[0];\n    var stopValue = state_range[1];\n    var arr = [];\n    for (var i = startValue; i <= stopValue; i++) {\n      arr.push(i);\n    }\n    return arr;\n  }\n}\nconst maptstateToprop = (state) => {\n  return {\n    state_range: state.state_range,\n    defualt_models: state.defualt_models,\n    dataset: state.dataset,\n    selected_year: state.selected_year,\n    slider_and_feature_value: state.slider_and_feature_value,\n    deviate_by:state.deviate_by,\n    rank_data:state.rank_data\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_defualt_models: (val) => dispatch({ type: \"defualt_models\", value: val }),\n    Set_sparkline_data: (val) => dispatch({ type: \"sparkline_data\", value: val }),\n    Set_histogram_data: (val) => dispatch({ type: \"histogram_data\", value: val }),\n    Set_state_range: (val) => dispatch({ type: \"state_range\", value: val }),\n    Set_clicked_items_in_slopechart: (val) => dispatch({ type: \"clicked_items_in_slopechart\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Chart);","import React from 'react';\nimport { connect } from 'react-redux'\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Grid from '@material-ui/core/Grid';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nfunction Tracking(props) {\n  return (\n    <Grid\n      container\n      direction=\"row\"\n      justify=\"flex-start\"\n      alignItems=\"baseline\"\n    >\n      <FormControlLabel\n        labelPlacement=\"start\"\n        control={\n          <Checkbox\n            checked={props.tracking}\n            onChange={(event) => props.set_tracking(event.target.checked)}\n            name=\"checkedB\"\n            color=\"primary\"\n          />\n        }\n        label=\"Tracking\"\n      />\n    </Grid>\n  );\n}\n\nconst maptstateToprop = (state) => {\n  return {\n    tracking: state.tracking,\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    set_tracking: (val) => dispatch({ type: \"tracking\", value: val }),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Tracking);\n//https://material-ui.com/components/menus/\n","import React from 'react';\nimport \"./Sidebar.scss\";\nimport * as $ from 'jquery';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Slider from '@material-ui/core/Slider';\nimport Histograms from \"./Histograms\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport { connect } from \"react-redux\";\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport Button from \"@material-ui/core/Button\";\nimport Grid from '@material-ui/core/Grid';\nimport Tracking from \"./Tracking\"\nimport * as algo1 from \"../../Algorithms/algo1\"\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: '100%',\n    },\n    heading: {\n        fontSize: theme.typography.pxToRem(15),\n        flexBasis: '33.33%',\n        flexShrink: 0,\n    },\n    secondaryHeading: {\n        fontSize: theme.typography.pxToRem(15),\n        color: theme.palette.text.secondary,\n    },\n    tRoot: {\n        marginBottom: 35,\n    },\n    rang_input: {\n        marginLeft: 10,\n    },\n}));\nfunction Modes(props) {\n    const classes = useStyles();\n    // states \n    const [sliderRange, set_sliderRange] = React.useState(props.state_range);\n    const [range_mode_slider_value1, set_range_mode_slider_value1] = React.useState(props.range_mode_range1);\n    const [range_mode_slider_value2, set_range_mode_slider_value2] = React.useState(props.range_mode_range2);\n    const [time_mode_slider_value, set_time_mode_slider_value] = React.useState(props.time_mode_range);\n    const [dummy, set_dummy] = React.useState(0);\n\n    //-----------------------------------------------------------------\n    var temp_marks = [];\n    var step = (props.slider_max - 1) / (6 - 1);\n    for (var i = 0; i < 6; i++) {\n        temp_marks.push(1 + (step * i));\n    }\n    var marks = temp_marks.map(item => {\n        var myitem = parseInt(item)\n        return { value: myitem, label: myitem }\n    })\n    //console.log(props.marks)\n    //-----------------------------------------------------------------\n    return (\n        <div style={{ borderTop: \"1px solid #eaeaea\" }}>\n            <p className=\"title_show\" style={{ marginBottom: 8 }}>Compare:</p>\n            <Autocomplete className=\"autocomplete_mode\" style={{ border: \"1px solid grey\", borderRadius: 0, paddingTop: 0, paddingBottom: 0, marginLeft: 5, marginRight: 30, width: $('.Sidebar').width() - 10 }}\n                defaultValue={\"Models\"}\n                id=\"debug\"\n                debug\n                options={[\"Models\", \"Ranges\", \"Time\"]}\n                renderInput={(params) => (\n                    <TextField {...params} label=\"\" margin=\"normal\" fullWidth={true} InputProps={{ ...params.InputProps, disableUnderline: true }} />\n                )}\n                onChange={(event, val) => {\n                    var value = val.replace('s', \"\")\n                    props.Set_mode(value)\n                    props.Set_clicked_items_in_slopechart([])\n                }\n                }\n            />\n            {props.mode == \"Model\" ? <div style={{ marginTop: 10, paddingLeft: 5, width: $('.Sidebar').width() }}>\n                <p style={{ marginLeft: 0, marginBottom: -5, marginTop: 15, marginRight: 12, paddingLeft: 5, backgroundColor: \"#f7f7f7\", fontSize: 16 }}>{props.dataset == \"fiscal\" ? \"Select states\" : \"Select \" + props.dataset + \"s\"}</p>\n                <div key={props.slider_and_feature_value} className=\"slider_feature_container\">\n                    <List className={classes.listroot}>\n                        {['Rank range', 'Feature'].map((value) => {\n                            const labelId = `checkbox-list-label-${value}`;\n                            return (\n                                <div className=\"listItem\"><ListItem key={value} role={undefined} >\n                                    <Checkbox\n                                        checked={props.slider_and_feature_value[value]}\n                                        edge=\"start\"\n                                        tabIndex={-1}\n                                        value={value}\n                                        onChange={(event) => {\n                                            var temp_val = props.slider_and_feature_value\n                                            if (props.slider_and_feature_value[event.target.value]) { temp_val[event.target.value] = 0 }\n                                            else { temp_val[event.target.value] = 1 }\n                                            set_dummy(JSON.stringify(temp_val)) // This is to change the state so that the component is updated\n                                            //console.log(\"dummy\",dummy)\n                                            props.Set_slider_and_feature_value(temp_val)\n                                        }}\n                                    />\n                                    <p className=\"list_item_label\" id={labelId}>{value}</p>\n                                </ListItem>\n                                </div>\n                            );\n                        })}\n                    </List>\n                </div>\n                {props.slider_and_feature_value[\"Rank range\"] == 1 ?\n                    <div className=\"rangeslider\" style={{ width: $('.Sidebar').width() - 12 }} >\n                        <Slider\n                            value={sliderRange}\n                            onChange={(event, newValue) => set_sliderRange(newValue)}\n                            onChangeCommitted={(event, newValue) => props.Set_changed(\"range\")}\n                            valueLabelDisplay=\"auto\"\n                            aria-labelledby=\"range-slider\"\n                            valueLabelDisplay=\"on\"\n                            min={1}\n                            max={props.slider_max}\n                            marks={marks}\n                        />\n                        <Grid style={{ marginBottom: 15 }} container\n                            direction=\"row\"\n                            justify=\"space-around\"\n                            alignItems=\"center\">\n                            <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Lower\" value={sliderRange[0]} style={{ width: 40 }}\n                                onChange={event => {\n                                    if (isNaN(parseInt(event.target.value))) {\n                                        set_sliderRange([\"\", sliderRange[1]])\n                                    } else {\n                                        if (event.target.value > sliderRange[1]) {\n                                            alert(\"Lower range can not be larger than the upper range\")\n                                        }\n                                        else {\n                                            set_sliderRange([event.target.value, sliderRange[1]])\n                                        }\n                                    }\n                                }\n                                }\n                            />\n                            <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Upper\" value={sliderRange[1]} style={{ width: 40 }}\n                                onChange={event => {\n                                    if (isNaN(parseInt(event.target.value))) {\n                                        set_sliderRange([sliderRange[0], \"\"])\n                                    } else {\n                                        if (parseInt(event.target.value) > props.slider_max) {\n                                            alert(\"Upper range can not exceed maximum\")\n                                            set_sliderRange([sliderRange[0], props.slider_max])\n                                        }\n                                        else {\n                                            set_sliderRange([sliderRange[0], parseInt(event.target.value)])\n                                        }\n                                    }\n                                }\n                                }\n                            />\n                        </Grid>\n                        <Tracking></Tracking>\n                        <Button className=\"range_button\" style={{ width: $('.Sidebar').width() - 11, backgroundColor: \"#ededed\", height: 30, marginBottom: 5, marginLeft: -3 }}\n                            onClick={() =>{\n                                props.Set_state_range(sliderRange)\n                                var temp_Models = algo1.sort(props.sort_by, sliderRange, props.defualt_models,props.selected_year, props.grouped_by_year_data)[0];\n                                var default_model_scores = algo1.sort(props.sort_by, sliderRange, props.defualt_models,props.selected_year, props.grouped_by_year_data)[1];\n                                props.Set_default_model_scores(default_model_scores)\n                                props.Set_defualt_models([...temp_Models])\n                                \n                            }}\n                        >Update range</Button>\n                    </div> : null}\n                {props.slider_and_feature_value[\"Feature\"] == 1 ?\n                    <div>\n                        <div>\n                            <Histograms\n                                year={props.selected_year.toString()} state_range={props.state_range}\n                                Sidebar_width={$('.Sidebar').width()} appHandleChange={props.appHandleChange}>\n                            </Histograms>\n                        </div>\n                    </div> : null\n                }\n            </div> : null}\n            {props.mode == \"Range\" ? <div style={{ marginTop: 10, paddingLeft: 5, width: $('.Sidebar').width() }}>\n                <div className=\"range_model\">\n                    <Autocomplete\n                        defaultValue={props.range_mode_model}\n                        id=\"debug\"\n                        debug\n                        options={[\"CordAscent\", \"LambdaMART\", \"LambdaRank\", \"LinearReg\", \"ListNet\", \"MART\", \"RandomFor\", \"RankBoost\", \"RankNet\"].map((option) => option)}\n                        renderInput={(params) => (\n                            <TextField {...params} label=\"Model\" margin=\"normal\" InputProps={{ ...params.InputProps, disableUnderline: true }} />\n                        )}\n                        onChange={(event, value) => props.Set_range_mode_model(value)}\n                    />\n                    <p style={{ marginLeft: 0, marginBottom: -5, marginTop: 15, marginRight: 12, paddingLeft: 5, backgroundColor: \"#f7f7f7\", fontSize: 16 }}>{props.dataset == \"fiscal\" ? \"Select states\" : \"Select \" + props.dataset + \"s\"}</p>\n                </div>\n                <div className=\"rangeslider\" style={{ width: $('.Sidebar').width() - 12 }} >\n                    <Typography classes={{ root: classes.tRoot }}>\n                        Group 1\n                        </Typography>\n                    <Slider\n                        value={range_mode_slider_value1}\n                        onChange={(event, newValue) => set_range_mode_slider_value1(newValue)}\n                        onChangeCommitted={(event, newValue) => props.Set_changed(\"range\")}\n                        valueLabelDisplay=\"auto\"\n                        aria-labelledby=\"range-slider\"\n                        valueLabelDisplay=\"on\"\n                        min={1}\n                        max={props.slider_max}\n                        marks={marks}\n                    />\n                    <Grid style={{ marginBottom: 15 }} container\n                        direction=\"row\"\n                        justify=\"space-around\"\n                        alignItems=\"center\">\n                        <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Lower\" value={range_mode_slider_value1[0]} style={{ width: 40 }}\n                            onChange={event => {\n                                if (isNaN(parseInt(event.target.value))) {\n                                    set_range_mode_slider_value1([\"\", range_mode_slider_value1[1]])\n                                } else {\n                                    if (event.target.value > range_mode_slider_value1[1]) {\n                                        alert(\"Lower range can not be larger than the upper range\")\n                                    }\n                                    else {\n                                        set_range_mode_slider_value1([event.target.value, range_mode_slider_value1[1]])\n                                    }\n                                }\n                            }\n                            }\n                        />\n                        <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Upper\" value={range_mode_slider_value1[1]} style={{ width: 40 }}\n                            onChange={event => {\n                                if (isNaN(parseInt(event.target.value))) {\n                                    set_range_mode_slider_value1([range_mode_slider_value1[0], \"\"])\n                                } else {\n                                    if (parseInt(event.target.value) > props.slider_max) {\n                                        alert(\"Upper range can not exceed maximum\")\n                                        set_range_mode_slider_value1([range_mode_slider_value1[0], props.slider_max])\n                                    }\n                                    else {\n                                        set_range_mode_slider_value1([range_mode_slider_value1[0], parseInt(event.target.value)])\n                                    }\n                                }\n                            }\n                            }\n                        />\n                    </Grid>\n                    <Button className=\"range_button\" style={{ width: $('.Sidebar').width() - 11, backgroundColor: \"#ededed\", height: 30, marginBottom: 5, marginLeft: -3 }}\n                        onClick={() => props.Set_range_mode_range1(range_mode_slider_value1)}\n                    >Update range</Button>\n                </div>\n                <div className=\"rangeslider\" style={{ width: $('.Sidebar').width() - 12 }} >\n                    <Typography classes={{ root: classes.tRoot }}>\n                        Group 2\n                        </Typography>\n                    <Slider\n                        value={range_mode_slider_value2}\n                        onChange={(event, newValue) => set_range_mode_slider_value2(newValue)}\n                        onChangeCommitted={(event, newValue) => { props.Set_changed(\"range\") }}\n                        valueLabelDisplay=\"auto\"\n                        aria-labelledby=\"range-slider\"\n                        valueLabelDisplay=\"on\"\n                        min={1}\n                        max={props.slider_max}\n                        marks={marks}\n                    />\n                </div>\n                <Grid style={{ marginBottom: 15 }} container\n                    direction=\"row\"\n                    justify=\"space-around\"\n                    alignItems=\"center\">\n                    <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Lower\" value={range_mode_slider_value2[0]} style={{ width: 40 }}\n                        onChange={event => {\n                            if (isNaN(parseInt(event.target.value))) {\n                                set_range_mode_slider_value2([\"\", range_mode_slider_value2[1]])\n                            } else {\n                                if (event.target.value > range_mode_slider_value2[1]) {\n                                    alert(\"Lower range can not be larger than the upper range\")\n                                }\n                                else {\n                                    set_range_mode_slider_value2([event.target.value, range_mode_slider_value2[1]])\n                                }\n                            }\n                        }\n                        }\n                    />\n                    <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Upper\" value={range_mode_slider_value2[1]} style={{ width: 40 }}\n                        onChange={event => {\n                            if (isNaN(parseInt(event.target.value))) {\n                                set_range_mode_slider_value2([range_mode_slider_value2[0], \"\"])\n                            } else {\n                                if (parseInt(event.target.value) > props.slider_max) {\n                                    alert(\"Upper range can not exceed maximum\")\n                                    set_range_mode_slider_value2([range_mode_slider_value2[0], props.slider_max])\n                                }\n                                else {\n                                    set_range_mode_slider_value2([range_mode_slider_value2[0], parseInt(event.target.value)])\n                                }\n                            }\n                        }\n                        }\n                    />\n                </Grid>\n                <Button className=\"range_button\" style={{ width: $('.Sidebar').width() - 11, backgroundColor: \"#ededed\", height: 30, marginBottom: 5, marginLeft: 0 }}\n                    onClick={() => props.Set_range_mode_range2(range_mode_slider_value2)}\n                >Update range</Button>\n\n            </div> : null}\n            {props.mode == \"Time\" ?\n                <div style={{ marginTop: 10, paddingLeft: 5, marginBottom: 10, width: $('.Sidebar').width() }}>\n                    <div className=\"model\">\n                        <Autocomplete\n                            defaultValue={props.time_mode_model}\n                            id=\"debug\"\n                            debug\n                            options={[\"CordAscent\", \"LambdaMART\", \"LambdaRank\", \"LinearReg\", \"ListNet\", \"MART\", \"RandomFor\", \"RankBoost\", \"RankNet\"].map((option) => option)}\n                            renderInput={(params) => (\n                                <TextField {...params} label=\"Model\" margin=\"normal\" InputProps={{ ...params.InputProps, disableUnderline: true }} />\n                            )}\n                            onChange={(event, value) => props.Set_time_mode_model(value)}\n                        />\n                        <p style={{ marginLeft: 0, marginBottom: -5, marginTop: 15, marginRight: 12, paddingLeft: 5, backgroundColor: \"#f7f7f7\", fontSize: 16 }}>{props.dataset == \"fiscal\" ? \"Select states\" : \"Select \" + props.dataset + \"s\"}</p>\n                        <div className=\"rangeslider\" style={{ width: $('.Sidebar').width() - 12 }} >\n                            <Slider\n                                value={time_mode_slider_value}\n                                onChange={(event, newValue) => set_time_mode_slider_value(newValue)}\n                                onChangeCommitted={(event, newValue) => props.Set_changed(\"range\")}\n                                valueLabelDisplay=\"auto\"\n                                aria-labelledby=\"range-slider\"\n                                valueLabelDisplay=\"on\"\n                                min={1}\n                                max={props.slider_max}\n                                marks={marks}\n                            />\n                            <Grid style={{ marginBottom: 15 }} container\n                                direction=\"row\"\n                                justify=\"space-around\"\n                                alignItems=\"center\">\n                                <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Lower\" value={time_mode_slider_value[0]} style={{ width: 40 }}\n                                    onChange={event => {\n                                        if (isNaN(parseInt(event.target.value))) {\n                                            set_time_mode_slider_value([\"\", time_mode_slider_value[1]])\n                                        } else {\n                                            if (event.target.value > time_mode_slider_value[1]) {\n                                                alert(\"Lower range can not be larger than the upper range\")\n                                            }\n                                            else {\n                                                set_time_mode_slider_value([event.target.value, time_mode_slider_value[1]])\n                                            }\n                                        }\n                                    }\n                                    }\n                                />\n                                <TextField classes={{ input: classes.rang_input }} id=\"standard-basic\" label=\"Upper\" value={time_mode_slider_value[1]} style={{ width: 40 }}\n                                    onChange={event => {\n                                        if (isNaN(parseInt(event.target.value))) {\n                                            set_time_mode_slider_value([time_mode_slider_value[0], \"\"])\n                                        } else {\n                                            if (parseInt(event.target.value) > props.slider_max) {\n                                                alert(\"Upper range can not exceed maximum\")\n                                                set_time_mode_slider_value([time_mode_slider_value[0], props.slider_max])\n                                            }\n                                            else {\n                                                set_time_mode_slider_value([time_mode_slider_value[0], parseInt(event.target.value)])\n                                            }\n                                        }\n                                    }\n                                    }\n                                />\n                            </Grid>\n                            <Button className=\"range_button\" style={{ width: $('.Sidebar').width() - 11, backgroundColor: \"#ededed\", height: 30, marginBottom: 5, marginLeft: -3 }}\n                                onClick={() => props.Set_time_mode_range(time_mode_slider_value)}\n                            >Update range</Button>\n                        </div>\n                        <div className=\"year\">\n                            <Autocomplete className={{ root: classes.MuiAutocompleteroot }}\n                                defaultValue={props.time_mode_year1.toString()}\n                                id=\"debug\"\n                                debug\n                                options={props.years_for_dropdown.map((option) => option)}\n                                renderInput={(params) => (\n                                    <TextField {...params} label=\"Year 1\" margin=\"normal\" fullWidth={true} InputProps={{ ...params.InputProps, disableUnderline: true }} />\n                                )}\n                                onChange={(event, value) => {\n                                    props.Set_time_mode_year1(value)\n                                    props.Set_changed(\"year\")\n                                }}\n                            />\n                        </div>\n                        <div className=\"year\">\n                            <Autocomplete className={{ root: classes.MuiAutocompleteroot }}\n                                defaultValue={props.time_mode_year2.toString()}\n                                id=\"debug\"\n                                debug\n                                options={props.years_for_dropdown.map((option) => option)}\n                                renderInput={(params) => (\n                                    <TextField {...params} label=\"Year 2\" margin=\"normal\" fullWidth={true} InputProps={{ ...params.InputProps, disableUnderline: true }} />\n                                )}\n                                onChange={(event, value) => {\n                                    props.Set_time_mode_year2(value)\n                                    props.Set_changed(\"year\")\n                                }}\n                            />\n                        </div>\n                    </div></div> : null}\n        </div>\n    );\n}\nconst maptstateToprop = (state) => {\n    return {\n        selected_year: state.selected_year,\n        state_range: state.state_range,\n        mode: state.mode, // Model mode model\n        slider_max: state.slider_max,\n        range_mode_model: state.range_mode_model, // Range mode model\n        range_mode_range1: state.range_mode_range1,\n        range_mode_range2: state.range_mode_range2,\n        time_mode_model: state.time_mode_model, // Time mode model\n        time_mode_range: state.time_mode_range,\n        time_mode_year1: state.time_mode_year1,\n        time_mode_year2: state.time_mode_year2,\n        years_for_dropdown: state.years_for_dropdown,\n        dataset: state.dataset,\n        defualt_models: state.defualt_models,\n        slider_and_feature_value: state.slider_and_feature_value,\n        sort_by: state.sort_by,\n        grouped_by_year_data: state.grouped_by_year_data,\n    }\n}\nconst mapdispatchToprop = (dispatch) => {\n    return {\n        Set_slider_max: (val) => dispatch({ type: \"slider_max\", value: val }),\n        Set_years_for_dropdown: (val) => dispatch({ type: \"years_for_dropdown\", value: val }),\n        Set_state_range: (val) => dispatch({ type: \"state_range\", value: val }),\n        Set_mode: (val) => dispatch({ type: \"mode\", value: val }),\n        Set_range_mode_model: (val) => dispatch({ type: \"range_mode_model\", value: val }),\n        Set_time_mode_model: (val) => dispatch({ type: \"time_mode_model\", value: val }),\n        Set_range_mode_range1: (val) => dispatch({ type: \"range_mode_range1\", value: val }),\n        Set_range_mode_range2: (val) => dispatch({ type: \"range_mode_range2\", value: val }),\n        Set_time_mode_range: (val) => dispatch({ type: \"time_mode_range\", value: val }),\n        Set_time_mode_year1: (val) => dispatch({ type: \"time_mode_year1\", value: val }),\n        Set_time_mode_year2: (val) => dispatch({ type: \"time_mode_year2\", value: val }),\n        Set_histogram_data: (val) => dispatch({ type: \"histogram_data\", value: val }),\n        Set_slider_and_feature_value: (val) => dispatch({ type: \"slider_and_feature_value\", value: val }),\n        Set_clicked_items_in_slopechart: (val) => dispatch({ type: \"clicked_items_in_slopechart\", value: val }),\n        Set_changed: (val) => dispatch({ type: \"changed\", value: val }),\n        Set_pop_over_models: (val) => dispatch({ type: \"pop_over_models\", value: val }),\n        Set_defualt_models: (val) => dispatch({ type: \"defualt_models\", value: val }),\n        Set_default_model_scores: (val) => dispatch({ type: \"default_model_scores\", value: val }),\n\n    }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Modes);","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport \"./Sidebar.scss\";\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport TextField from '@material-ui/core/TextField';\nimport { connect } from \"react-redux\";\nimport Modes from \"./Modes\"\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n  },\n  listroot: {\n    width: '100%',\n    maxWidth: 360,\n  },\n  paper: {\n\n  },\n  heading: {\n    fontSize: theme.typography.pxToRem(15),\n    fontWeight: theme.typography.fontWeightRegular,\n  },\n}));\n\nfunction Sidebar(props) {\n  const classes = useStyles();\n  //------------For list and chckbox\n  const [checked, setChecked] = React.useState([0]);\n  const handleToggle = (value) => () => {\n    const currentIndex = checked.indexOf(value);\n    const newChecked = [...checked];\n\n    if (currentIndex === -1) {\n      newChecked.push(value);\n    } else {\n      newChecked.splice(currentIndex, 1);\n    }\n    setChecked(newChecked);\n  };\n  const inputchanged = (event) => {\n    var val = parseInt(event.target.value)\n    if (val > -1) {\n      setTimeout(function () {\n        props.Set_deviate_by(val)\n      }, 100);\n\n    }\n  }\n  const show_checkboxChanged = (event,val) => {\n    var myfunc = props.appHandleChange\n    myfunc(val, \"show_checkboxChanged\")\n  }\n  return (\n    <div className=\"Sidebar_parent\" style={{height:window.innerHeight}}>\n      <h4 className=\"app_title\">RIEVAL </h4>\n      {props.view_data==1?\n      <div className=\"rangeSlidercontainer\">\n        <Modes appHandleChange={props.appHandleChange} ></Modes>\n        <div className=\"deviation\" style={{marginLeft:5, borderTop:\"0px solid #eaeaea\"}}>\n          <p className=\"title_show\">Margin:</p>\n          <TextField\n            id=\"outlined-size-normal\"\n            defaultValue={props.deviate_by}\n            variant=\"filled\"\n            color=\"primary\"\n            onChange={(event) => inputchanged(event)}\n            fullWidth={false}\n            style={{height:24}}\n          />\n        </div>\n        <div className=\"show\">\n          <p className=\"title_show\">Show:</p>\n          <List className={classes.listroot}>\n            {['Rankings', 'Explanation'].map((value) => {\n              const labelId = `checkbox-list-label-${value}`;\n              return (\n                <ListItem key={value} role={undefined} onClick={handleToggle(value)}>\n                  <Checkbox\n                    checked={props.show.includes(value)}\n                    edge=\"start\"\n                    tabIndex={-1}\n                    value={value}\n                    onChange={(event, value) => {\n                      var temp_show=[...props.show]\n                      if(temp_show.includes(event.target.value) && event.target.value!=\"Rankings\"){\n                        temp_show=temp_show.filter(item=>item!=event.target.value)\n                      }\n                      else{\n                        temp_show.push(event.target.value)\n                      }\n                      props.Set_show(temp_show)\n                    }\n                  }\n                  />\n                  <p className=\"list_item_label\" id={labelId}>{value}</p>\n                </ListItem>\n              );\n            })}\n          </List>\n        </div>\n      </div>:null}\n    </div>\n  );\n}\nconst maptstateToprop = (state) => {\n  return {\n    deviate_by:state.deviate_by,\n    state_range:state.state_range,\n    defualt_models:state.defualt_models,\n    selected_year:state.selected_year,\n    sparkline_data:state.sparkline_data,\n    show:state.show,\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_defualt_models: (val) => dispatch({ type: \"defualt_models\", value: val }),\n    Set_sparkline_data: (val) => dispatch({ type: \"sparkline_data\", value: val }),\n    Set_slider_max: (val) => dispatch({ type: \"slider_max\", value: val }),\n    Set_years_for_dropdown: (val) => dispatch({ type: \"years_for_dropdown\", value: val }),\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: val }),\n    Set_ref_year: (val) => dispatch({ type: \"ref_year\", value: val }),\n    Set_original_data: (val) => dispatch({ type: \"original_data\", value: val }),\n    Set_state_range: (val) => dispatch({ type: \"state_range\", value: val }),\n    Set_deviate_by:(val) => dispatch({ type: \"deviate_by\", value: val }),\n    Set_show:(val)=>dispatch({type:\"show\",value:val}),\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(Sidebar);\n\n//https://material-ui.com/api/slider/\n//https://material-ui.com/components/expansion-panels/\n//https://material-ui.com/api/checkbox/\n//https://material-ui.com/components/radio-buttons/","import React,{useEffect} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport { connect } from \"react-redux\";\nimport { Button } from '@material-ui/core';\nimport * as $ from 'jquery';\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    position: 'absolute',\n    width: 400,\n    backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n}));\nfunction SimpleModal(props) {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n  const [mouseX, setmouseX] = React.useState(0);\n  const [mouseY, setmouseY] = React.useState(0);\n  \n  useEffect(() => {\n    $(\".slopechart_container\").on(\"contextmen\",(e)=>{\n      e.preventDefault()\n      setOpen(true)\n      setmouseX(e.pageX)\n      setmouseY(e.pageY)\n      if(typeof(props.Set_replay)!=\"undefined\"){\n        props.Set_replay(true)\n      }\n    })\n  })\n  const handleClose = () => {\n    setOpen(false);\n    props.Set_replay(false)\n  };\n  const handleReplay = () => {\n    setOpen(false);\n    setTimeout(() => { props.Set_replay(false) }, 24000);\n    //---------------------------------------------------------- Model mode start here\n    if (props.changed == \"range\") {\n      if ('state_range' in props.prev_prop) {\n        props.Set_state_range(props.prev_prop.state_range)\n        setTimeout(() => { props.Set_state_range(props.state_range) }, 12000);\n      }\n    }\n    else {\n      if ('selected_year' in props.prev_prop) {\n        props.Set_selected_year(props.prev_prop.selected_year)\n        setTimeout(() => { props.Set_selected_year(props.selected_year) }, 12000);\n      }\n    }\n    //---------------------------------------------------------- Model mode ends here\n    \n    //---------------------------------------------------------- Range mode starts here\n    if (props.changed == \"range\") {\n      if ('range_mode_range1' in props.prev_prop) {\n        props.Set_range_mode_range1(props.prev_prop.range_mode_range1)\n        setTimeout(() => { props.Set_range_mode_range1(props.range_mode_range1) }, 12000);\n      }\n      if ('range_mode_range2' in props.prev_prop) {\n        props.Set_range_mode_range2(props.prev_prop.range_mode_range2)\n        setTimeout(() => { props.Set_range_mode_range2(props.range_mode_range2) }, 12000);\n      }\n    }\n    else {\n      if ('selected_year' in props.prev_prop) {\n        props.Set_selected_year(props.prev_prop.selected_year)\n        setTimeout(() => { props.Set_selected_year(props.selected_year) }, 12000);\n      }\n    }\n    //---------------------------------------------------------- Range mode ends here\n  \n    //---------------------------------------------------------- Time mode starts here\n      if (props.changed == \"range\") {\n        if ('time_mode_range' in props.prev_prop) {\n          props.Set_time_mode_range(props.prev_prop.time_mode_range)\n          setTimeout(() => { props.Set_time_mode_range(props.time_mode_range) }, 12000);\n        }\n      }\n      else {\n        if ('time_mode_year1' in props.prev_prop) {\n          props.Set_time_mode_year1(props.prev_prop.time_mode_year1)\n          setTimeout(() => { props.Set_time_mode_year1(props.time_mode_year1) }, 12000);\n        }\n        if ('time_mode_year2' in props.prev_prop) {\n          props.Set_time_mode_year2(props.prev_prop.time_mode_year2)\n          setTimeout(() => { props.Set_time_mode_year2(props.time_mode_year2) }, 12000);\n        }\n      }\n      //---------------------------------------------------------- Time mode ends here\n  }\n  const body = (\n    <div style={{ left: mouseX, top: mouseY }} className={classes.paper}>\n      <h2 id=\"simple-modal-title\" style={{ marginBottom: 15 }}>Animation Replay</h2>\n      <Button onClick={handleReplay} variant=\"outlined\" color=\"primary\">Replay</Button>\n      <Button onClick={handleClose} variant=\"outlined\" color=\"primary\" style={{ marginLeft: 12 }}>Cancel</Button>\n      <SimpleModal />\n    </div>\n  );\n\n  return (\n    <div>\n      <Modal\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"simple-modal-title\"\n        aria-describedby=\"simple-modal-description\"\n      >\n        {body}\n      </Modal>\n    </div>\n  );\n}\nconst maptstateToprop = (state) => {\n  return {\n    replay: state.replay,\n    prev_prop: state.prev_prop,\n    state_range: state.state_range,\n    changed: state.changed,\n    selected_year: state.selected_year,\n    \n    range_mode_range1: state.range_mode_range1,\n    range_mode_range2: state.range_mode_range2,\n    \n    time_mode_range: state.time_mode_range,\n    time_mode_year1: state.time_mode_year1,\n    time_mode_year2: state.time_mode_year2,\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_replay: (val) => dispatch({ type: \"replay\", value: val }),\n    Set_state_range: (val) => dispatch({ type: \"state_range\", value: val }),\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: val }),\n\n    Set_range_mode_range1: (val) => dispatch({ type: \"range_mode_range1\", value: val }),\n    Set_range_mode_range2: (val) => dispatch({ type: \"range_mode_range2\", value: val }),\n\n    Set_time_mode_range: (val) => dispatch({ type: \"time_mode_range\", value: val }),\n    Set_time_mode_year1: (val) => dispatch({ type: \"time_mode_year1\", value: val }),\n    Set_time_mode_year2: (val) => dispatch({ type: \"time_mode_year2\", value: val }),\n    \n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(SimpleModal);\n\n","import React, { Component } from 'react';\n//------------------------------------------------All datasets imports\nimport fiscal from \"./Data/fiscal.csv\";\nimport school from \"./Data/school.csv\";\nimport house from \"./Data/house.csv\";\n\nimport fiscal_rank from \"./Data/data/fiscal/lime/fiscal_rank.csv\";\nimport fiscal_lime from \"./Data/data/fiscal/lime/fiscal_lime.csv\";\n\nimport school_rank from \"./Data/data/school/lime/school_rank.csv\";\nimport school_lime from \"./Data/data/school/lime/school_lime.csv\";\n\nimport house_rank from \"./Data/data/house/lime/house_rank.csv\";\nimport house_lime from \"./Data/data/house/lime/house_lime.csv\";\n//import fiscal from \"./Data/data/fiscal/lime/fiscal.json\";\n//import house from \"../Data/data/house/lime/house.json\";\n//------------------------------------------------All datasets imports ends here\nimport \"./App.scss\";\nimport * as d3 from 'd3';\nimport * as algo1 from \"./Algorithms/algo1\";\nimport SlopeChart from \"./components/Slopecharts/Model/SlopeChart\"\nimport RangeChart from \"./components/Slopecharts/Range/RangeChart\"\nimport YearChart from \"./components/Slopecharts/Time/YearChart\"\nimport TopBar from \"./components/TopBar/TopBar\"\nimport { Row, Col } from 'reactstrap';\nimport Sidebar from \"./components/Sidebar/Sidebar\";\nimport Button from '@material-ui/core/Button';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport * as $ from 'jquery';\nimport { connect } from \"react-redux\";\nimport Grid from '@material-ui/core/Grid';\nimport \"./components/Slopecharts/SlopeChart.css\"\nimport Replay from \"../src/components/Slopecharts/Replay\"\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    // mydata is original data\n    this.state = {\n      random: 10,\n      original_data: null, grouped_by_year_data: null, show: [\"Slope charts\", \"Rankings\", \"Explanation\"], view_data: 1,\n      histogram_data: [], ref_year: null, features_dict: {}, features_voted: null, Legend_ready_to_vis: null, legend_model: \"CordAscent\",\n    };\n  }\n  handleradioChange = (event) => {\n    this.setState({ show: [\"Slope charts\", \"Rankings\", \"Explanation\"] })\n    this.props.Set_slider_and_feature_value({ 'Rank range': 1, 'Feature': 0 })\n    this.props.Set_clicked_items_in_slopechart([])\n    this.props.Set_state_range([1, 15])\n    this.props.Set_histogram_data([])\n    this.props.Set_mode(\"Model\")\n    this.props.Set_range_mode_range1([5, 35])\n    this.props.Set_range_mode_range2([15, 35])\n    this.props.Set_time_mode_range([5, 35])\n    if (event.target.value == 'Fiscal Dataset') {\n      this.setState({ dataset: 'fiscal' })\n      this.props.Set_dataset('fiscal')\n      this.dataprocessor(\"fiscal\")\n    }\n    else if (event.target.value == 'House Dataset') {\n      this.setState({ dataset: 'house' })\n      this.props.Set_dataset('house')\n      this.dataprocessor(\"house\")\n    }\n    else {\n      this.setState({ dataset: 'school' })\n      this.props.Set_dataset('school')\n      this.dataprocessor(\"school\")\n    }\n  };\n\n  task2 = () => {\n    if (this.props.clicked_items_in_slopechart.length > 0) {\n      d3.selectAll('circle,.datapoint').attr('opacity', this.props.config.reduced_opacity)\n    }\n    this.props.clicked_items_in_slopechart.map(idName => d3.selectAll('#' + idName).attr('opacity', 1))\n  }\n\n  textClickHandler_original = (state_name) => { // state_name is set as the id of each element\n    var idName = state_name.replace(/ +/g, \"\")\n\n    //----Whatever properties are changed due to click change back here for the original \n    d3.selectAll('#' + idName).filter(d3.matcher('line')).style('stroke-width', 1)\n    //----Whatever properties are changed due to click change back here for the original\n\n    //-----Store the clicked items\n    var clicked_items_in_slopechart = [...this.props.clicked_items_in_slopechart]\n    if (clicked_items_in_slopechart.includes(idName)) {\n      clicked_items_in_slopechart = clicked_items_in_slopechart.filter(element => element != idName)\n    }\n    else { clicked_items_in_slopechart.push(idName) }\n    this.props.Set_clicked_items_in_slopechart(clicked_items_in_slopechart)\n    //-----Store the clicked items ends here\n\n    if (clicked_items_in_slopechart.length > 0) {\n      d3.selectAll('circle,.datapoint').attr('opacity', this.props.config.reduced_opacity)\n      this.props.clicked_items_in_slopechart.map(idName => {\n        d3.selectAll('#' + idName).attr('opacity', 1)\n        d3.selectAll('#' + idName).filter(d3.matcher('line')).style('stroke-width', 3)\n      })\n    }\n    else {\n      d3.selectAll('circle,.datapoint').attr('opacity', 1)\n    }\n\n    //d3.selectAll('.line1,.line2').attr('opacity',1)\n  }\n\n  //--------- data processor processes data for initial render\n  dataprocessor = (dataset_name) => {\n    if (dataset_name == \"school\") { this.process_data(school, school_rank, school_lime, dataset_name) }\n    if (dataset_name == \"fiscal\") { this.process_data(fiscal, fiscal_rank, fiscal_lime, dataset_name) }\n    if (dataset_name == \"house\") { this.process_data(house, house_rank, house_lime, dataset_name) }\n  }\n  process_data = (slopechart_data_filename, rank_data_filename, lime_data_filename, dataset_name) => {\n    var self = this\n    //-------------\n    d3.csv(slopechart_data_filename).then(original_data => {\n\n      var grouped_by_year_data = algo1.groupby_year(original_data).years\n      var sparkline_data = algo1.groupby_year(original_data).sparkline_data\n      var years_for_dropdown = Object.keys(grouped_by_year_data)\n      self.props.Set_sparkline_data(sparkline_data)\n      self.props.Set_slider_max(grouped_by_year_data[years_for_dropdown[0]].length)\n      self.setState({ years_for_dropdown: years_for_dropdown })\n      self.props.Set_years_for_dropdown(years_for_dropdown)\n      self.props.Set_time_mode_year1(years_for_dropdown[0])\n      self.props.Set_time_mode_year2(years_for_dropdown[1])\n      self.props.Set_legend_year(years_for_dropdown[0])\n      self.setState({ ref_year: years_for_dropdown[0] })\n      self.props.Set_grouped_by_year_data(grouped_by_year_data)\n      self.setState({ grouped_by_year_data: grouped_by_year_data }, () => {\n        self.appHandleChange(original_data, \"original\");\n      })\n      self.setState({ original_data: original_data })\n      self.props.Set_original_data(original_data)\n      if (dataset_name == 'fiscal') {\n        self.props.Set_selected_year(\"2011\")\n        var all_models = [\"MART\", \"RandomFor\", \"LinearReg\", \"CordAscent\", \"LambdaMART\", \"LambdaRank\", \"ListNet\", \"RankBoost\", \"RankNet\"]\n        var temp_Models = algo1.sort(this.props.sort_by, this.props.state_range, all_models, \"2011\", grouped_by_year_data)[0];\n        var default_model_scores = algo1.sort(this.props.sort_by, this.props.state_range, all_models, \"2011\", grouped_by_year_data)[1];\n      }\n      else {\n        self.props.Set_selected_year(\"2016\")\n        var all_models = [\"MART\", \"RandomFor\", \"LinearReg\", \"CordAscent\", \"LambdaMART\", \"LambdaRank\", \"ListNet\", \"RankBoost\", \"RankNet\"]\n        var temp_Models = algo1.sort(this.props.sort_by, this.props.state_range, all_models, \"2016\", grouped_by_year_data)[0];\n        var default_model_scores = algo1.sort(this.props.sort_by, this.props.state_range, all_models, \"2016\", grouped_by_year_data)[1];\n      }\n      this.props.Set_default_model_scores(default_model_scores)\n      this.props.Set_defualt_models(temp_Models.slice(1, 3))\n      this.props.Set_pop_over_models(temp_Models.slice(1, 3))\n\n    })\n    //-------------\n    d3.csv(rank_data_filename).then(data => {\n      var nested_data = {}\n      d3.nest().key(function (d) { return d.model; }).entries(data).map(item => {\n        nested_data[item.key] = item.values\n      })\n      self.props.Set_rank_data(nested_data)\n    })\n    //-------------\n    d3.csv(lime_data_filename).then(data => {\n      var nested_data = {}\n      d3.nest().key(function (d) { return d.model; }).entries(data).map(item => {\n        nested_data[item.key] = item.values\n      })\n      self.props.Set_lime_data(nested_data)\n    })\n\n  }\n  //---------\n  appHandleChange = (data, type) => { // get the resopnses from Sidebar\n    this.setState({ features_dict: {} })\n    var temp_Models = this.props.defualt_models\n    var temp_show = this.state.show\n    var year = this.props.selected_year\n    if (type == 'year_changed') { this.props.Set_selected_year(data) } // This is called when circles on the sparklines are clicked\n    if (type == 'original') { var original_data = data } else { original_data = this.props.original_data }\n    //-----------------Handle show changes here\n    if (type == \"show_checkboxChanged\") {\n      if (temp_show.includes(data)) { temp_show = temp_show.filter(element => element != data) }\n      else { temp_show.push(data) }\n      this.setState({ show: temp_show })\n    }\n    temp_Models = algo1.sort(this.props.sort_by, this.props.state_range, temp_Models, this.props.selected_year, this.state.grouped_by_year_data)[0];\n    this.setState({ defualt_models: temp_Models })\n    //--------------------------------------------------------------------------------------------------------------All types are handled here end\n    var prev_year;\n    if (parseInt(year) == this.state.years_for_dropdown[0]) { prev_year = parseInt(year) } else { prev_year = parseInt(year) - 1 }\n\n  }\n\n  buttonclickHandler = (value, type) => {\n    setTimeout(() => { this.setState({ random: Math.random() }) }, 500);\n    type = \"button\" ? this.setState({ view_data: value }) : null\n    type = \"form\" ? this.setState({ view_data: value }) : null\n  }\n  //-----------------Models are generated ends here\n  componentDidMount() {\n    this.dataprocessor(\"fiscal\")\n  }\n  shouldComponentUpdate() {\n    return true;\n  }\n  render() {\n    return (\n      <div key={this.state.random}>\n        <Replay key={Math.random()}></Replay>\n        <Row>\n          <div style={{ width: 207 }} className=\"Sidebar\">\n            {this.props.selected_year != null ?\n              <Sidebar view_data={this.state.view_data} appHandleChange={this.appHandleChange}\n                dataset={this.props.dataset} sort_by={this.props.sort_by} chart_scale_type={this.props.chart_scale_type}>\n              </Sidebar> : null}\n          </div>\n          <Col style={{ width: window.innerWidth - 200, minHeight: window.innerHeight }} className=\"container_header_and_components\">\n            <div className=\"uploader_topbar\">\n              <Grid container spacing={0} className=\"myheader\" style={{ left: $('.Sidebar').width() }}>\n                <Grid item style={{ borderRight: \"1px dashed #eaeaea\", width: 100 }}><Button onClick={() => this.buttonclickHandler(1, \"button\")}>View Data</Button></Grid>\n                <Grid item style={{ borderRight: \"1px dashed #eaeaea\", width: 120 }}><Button onClick={() => this.buttonclickHandler(0, \"button\")}>Load Data</Button></Grid>\n              </Grid>\n              {this.state.view_data == false ?\n                <Row className=\"Topbar_container\">\n                  <div className=\"load\">\n                    <form onSubmit={() => this.buttonclickHandler(1, \"form\")}>\n                      <FormControl component=\"fieldset\">\n                        <FormLabel component=\"legend\"></FormLabel>\n                        <RadioGroup aria-label=\"gender\" name=\"gender1\" onChange={this.handleradioChange}>\n                          {['Fiscal Dataset', 'School Dataset'].map((value) => {\n                            return <FormControlLabel value={value} control={<Radio />} label={value} />\n                          })}\n                        </RadioGroup>\n                        <Button type=\"submit\" variant=\"outlined\" color=\"primary\">Load</Button>\n                      </FormControl>\n                    </form>\n                  </div></Row>\n                : null}\n              {this.state.view_data == true ? <Row className=\"Topbar_container\"><TopBar key={this.props.selected_year} appHandleChange={this.appHandleChange} tracking={this.props.tracking}></TopBar></Row> : null}\n            </div>\n            {this.state.view_data == true ?\n              <Grid container direction=\"row\" justify=\"flex-start\" alignItems=\"center\" >\n                <Grid container spacing={0} direction=\"row\" justify=\"space-evenly\" className=\"slopechart_container\" key={this.props.defualt_models.length} style={{ height: this.props.mode == \"Time\" ? window.innerHeight - $('.myheader').height() - 5 : window.innerHeight - $('.uploader_topbar').height() - 5, marginLeft: 5, width: window.innerWidth - ($('.Sidebar_parent').width() + $('.legend').width() + 15) }}>\n                  {this.props.mode == \"Model\" && this.state.grouped_by_year_data != null && this.props.original_data != null && this.props.lime_data != null ?\n                    <SlopeChart task2={this.task2} textClickHandler_original={this.textClickHandler_original} appHandleChange={this.appHandleChange}\n                      model_name={\"RandomFor\"} grouped_by_year_data={this.state.grouped_by_year_data} cmodel={this.state.cmodel} ref_year={this.state.ref_year}>\n                    </SlopeChart> : null}\n\n                  {this.props.mode == \"Range\" ?\n                    [\"Range1\", \"Range2\"].map((model_name, i) => {\n                      return this.state.grouped_by_year_data != null && this.props.original_data != null ?\n                        <RangeChart task2={this.task2} textClickHandler_original={this.textClickHandler_original} myindex={i} key={model_name + \"slopechart\" + this.state.show[2] + this.props.mode} chart_scale_type={this.props.chart_scale_type} histogram_data={this.state.histogram_data} original_data={this.props.original_data} sparkline_data={this.props.sparkline_data}\n                          appHandleChange={this.appHandleChange} deviate_by={this.props.deviate_by} model_name={model_name} grouped_by_year_data={this.state.grouped_by_year_data}\n                          cmodel={this.state.cmodel} ref_year={this.state.ref_year} tracking={this.props.tracking}>\n                        </RangeChart>\n                        : null\n                    }) : null}\n                  {this.props.mode == \"Time\" && this.props.time_mode_year1 != \"Null\" && this.props.time_mode_year2 != \"Null\" ?\n                    [\"Year1\", \"Year2\"].map((model_name, i) => {\n                      return this.state.grouped_by_year_data != null && this.props.original_data != null ?\n                        <YearChart task2={this.task2} textClickHandler_original={this.textClickHandler_original} myindex={i} key={model_name + \"slopechart\" + this.state.show[2]} chart_scale_type={this.props.chart_scale_type} histogram_data={this.state.histogram_data} original_data={this.props.original_data} sparkline_data={this.props.sparkline_data}\n                          appHandleChange={this.appHandleChange} deviate_by={this.props.deviate_by} model_name={model_name} grouped_by_year_data={this.state.grouped_by_year_data}\n                          cmodel={this.state.cmodel} ref_year={this.state.ref_year} tracking={this.props.tracking}>\n                        </YearChart> : null\n                    }) : null}\n                </Grid>\n                {\n                  //            <div className=\"legend\" style={{height:window.innerHeight/2,width:40}}><p>High</p><svg></svg><p>Low</p></div>\n\n                }\n              </Grid> : null}\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n  makeArr = () => {\n    var startValue = this.props.state_range[0];\n    var stopValue = this.props.state_range[1];\n    var arr = [];\n    for (var i = startValue; i <= stopValue; i++) {\n      arr.push(i);\n    }\n    //hi\n    return arr;\n  }\n}\nconst maptstateToprop = (state) => {\n  return {\n    tracking: state.tracking,\n    state_range: state.state_range,\n    deviate_by: state.deviate_by,\n    defualt_models: state.defualt_models,\n    sparkline_data: state.sparkline_data,\n    selected_year: state.selected_year,\n    mode: state.mode,\n    range_mode_model: state.range_mode_model,\n    original_data: state.original_data,\n    time_mode_model: state.time_mode_model,\n    chart_scale_type: state.chart_scale_type,\n    dataset: state.dataset,\n    histogram_data: state.histogram_data,\n    sort_by: state.sort_by,\n    time_mode_year1: state.time_mode_year1,\n    time_mode_year2: state.time_mode_year2,\n    popup_chart_data: state.popup_chart_data,\n    clicked_items_in_slopechart: state.clicked_items_in_slopechart,\n    config: state.config,\n    lime_data: state.lime_data,\n    rank_data: state.rank_data,\n  }\n}\nconst mapdispatchToprop = (dispatch) => {\n  return {\n    Set_dataset: (val) => dispatch({ type: \"dataset\", value: val }),\n    Set_defualt_models: (val) => dispatch({ type: \"defualt_models\", value: val }),\n    Set_sparkline_data: (val) => dispatch({ type: \"sparkline_data\", value: val }),\n    Set_slider_max: (val) => dispatch({ type: \"slider_max\", value: val }),\n    Set_years_for_dropdown: (val) => dispatch({ type: \"years_for_dropdown\", value: val }),\n    Set_selected_year: (val) => dispatch({ type: \"selected_year\", value: parseInt(val) }),\n    Set_ref_year: (val) => dispatch({ type: \"ref_year\", value: val }),\n    Set_original_data: (val) => dispatch({ type: \"original_data\", value: val }),\n    Set_grouped_by_year_data: (val) => dispatch({ type: \"grouped_by_year_data\", value: val }),\n    Set_slider_and_feature_value: (val) => dispatch({ type: \"slider_and_feature_value\", value: val }),\n    Set_clicked_items_in_slopechart: (val) => dispatch({ type: \"clicked_items_in_slopechart\", value: val }),\n    Set_histogram_data: (val) => dispatch({ type: \"histogram_data\", value: val }),\n    Set_state_range: (val) => dispatch({ type: \"state_range\", value: val }),\n    Set_legend_year: (val) => dispatch({ type: \"legend_year\", value: val }),\n\n    Set_mode: (val) => dispatch({ type: \"mode\", value: val }),\n    Set_range_mode_range1: (val) => dispatch({ type: \"range_mode_range1\", value: val }),\n    Set_range_mode_range2: (val) => dispatch({ type: \"range_mode_range2\", value: val }),\n    Set_time_mode_range: (val) => dispatch({ type: \"time_mode_range\", value: val }),\n    Set_time_mode_year1: (val) => dispatch({ type: \"time_mode_year1\", value: val }),\n    Set_time_mode_year2: (val) => dispatch({ type: \"time_mode_year2\", value: val }),\n\n    Set_rank_data: (val) => dispatch({ type: \"rank_data\", value: val }),\n    Set_lime_data: (val) => dispatch({ type: \"lime_data\", value: val }),\n    Set_pop_over_models: (val) => dispatch({ type: \"pop_over_models\", value: val }),\n    Set_default_model_scores: (val) => dispatch({ type: \"default_model_scores\", value: val }),\n\n  }\n}\nexport default connect(maptstateToprop, mapdispatchToprop)(App);","let initialState = {\n   config: { \"reduced_opacity\": 0.2, \"animation1\": 4000, \"animation2\": 2000, \"animation3\": 4000, \"animation4\": 2500 },\n   appHandleChange: null,\n   sparkline_data: null,\n   sort_by: \"Average Precision\",\n   original_data: null,\n   rank_data: null,\n   lime_data: null,\n   grouped_by_year_data: null,\n   slope_chart_ready_to_vis: null,\n   defualt_models: [\"MART\", \"LinearReg\"], // Change the pop_over_models as well\n   state_range: [1, 25], // Change in handleradioChange\n   deviate_by: 0,\n   show: [\n      \"Slope charts\", \"Rankings\", \"Explanation\" // change in app.js\n   ],\n   years_for_dropdown: [\n      \"2006\"\n   ],\n   selected_year: 2006,\n   selected_years: [\"2006\"],\n   slider_min: 1,\n   slider_max: 50,\n   view_data: 1,\n   dataset: \"fiscal\", // change in componentDidmount in app.js too\n   histogram_data: [],\n   chart_scale_type: \"true\",\n   features_with_score: null,\n   ref_year: null,\n   cmodel: \"CordAscent\",\n   clicked_items_in_slopechart: [],\n   tracking: false,\n   dummy: null,\n   features_dict: {},\n   features_voted: null,\n   Legend_ready_to_vis: null,\n   legend_model: \"CordAscent\",\n   legend_show_option: \"Rank\",\n   legend_year: 2012,\n   mode: \"Model\",\n   range_mode_model: \"CordAscent\",\n   range_mode_range1: [1, 10],\n   range_mode_range2: [20, 30],\n   time_mode_model: \"CordAscent\",\n   time_mode_year1: \"Null\",\n   time_mode_year2: \"Null\",\n   time_mode_range: [6, 32],\n   chart_scale_type: \"true\",\n   slider_and_feature_value: { 'Rank range': 1, 'Feature': 0 },\n   prev_prop: {},\n   replay: false,\n   changed: \"year\",\n   popup_chart_data: null,\n   pop_over: true,\n   pop_over_models: [\"MART\", \"LinearReg\"],\n   clicked_features: [],\n   drag_drop_feautre_data: {},\n   dbclicked_features: [],\n   default_model_scores: {},\n   all_models: [\"MART\", \"RandomFor\", \"LinearReg\", \"CordAscent\", \"LambdaMART\", \"LambdaRank\", \"RankBoost\", \"RankNet\"],\n   average_y: false,\n   average_m: false,\n   clicked_circles:[]\n}\n//---InitialState ends here\nconst reducer = (state = initialState, action) => {\n   if (action.type === \"clicked_circles\") {\n      //console.log(action.value)\n      return { ...state, clicked_circles: action.value }\n   }\n   if (action.type === \"average_y\") {\n      console.log(action.value)\n      return { ...state, average_y: action.value }\n   }\n   if (action.type === \"average_m\") {\n      console.log(action.value)\n      return { ...state, average_m: action.value }\n   } \n   if (action.type === \"selected_years\") {\n      console.log(action.value)\n      return { ...state, selected_years: action.value[action.value.length-1],selected_year:action.value[action.value.length-1] }\n   }\n   if (action.type === \"default_model_scores\") {\n      //console.log(action.value)\n      return { ...state, default_model_scores: action.value }\n   }\n   if (action.type === \"dbclicked_features\") {\n      return { ...state, dbclicked_features: action.value }\n   }\n   if (action.type === \"drag_drop_feautre_data\") {\n      return { ...state, drag_drop_feautre_data: action.value }\n   }\n   if (action.type === \"config\") {\n      return { ...state, config: action.value }\n   }\n   if (action.type === \"show\") {\n      return { ...state, show: action.value }\n   }\n   if (action.type === \"lime_data\") {\n      return { ...state, lime_data: action.value }\n   }\n   if (action.type === \"defualt_models\") {\n      return { ...state, defualt_models: action.value }\n   }\n   if (action.type === \"rank_data\") {\n      return { ...state, rank_data: action.value }\n   }\n   if (action.type === \"original_data\") {\n      return { ...state, original_data: action.value }\n   }\n   if (action.type === \"years_for_dropdown\") {\n      return { ...state, years_for_dropdown: action.value }\n   }\n   if (action.type === \"appHandleChange\") {\n      return { ...state, appHandleChange: action.value }\n   }\n   if (action.type === \"state_range\") {\n      return { ...state, state_range: action.value }\n   }\n   if (action.type === \"selected_year\") {\n      return { ...state, selected_year: action.value }\n   }\n   if (action.type === \"tracking\") {\n      return { ...state, tracking: action.value }\n   }\n   if (action.type === \"grouped_by_year_data\") {\n      return { ...state, grouped_by_year_data: action.value }\n   }\n   if (action.type === \"sort_by\") {\n      return { ...state, sort_by: action.value }\n   }\n   if (action.type === \"deviate_by\") {\n      return { ...state, deviate_by: action.value }\n   }\n   if (action.type === \"mode\") {\n      return { ...state, mode: action.value }\n   }\n   if (action.type === \"slider_max\") {\n      return { ...state, slider_max: action.value }\n   }\n   if (action.type === \"range_mode_model\") {\n      return { ...state, range_mode_model: action.value }\n   }\n   //----\n   if (action.type === \"range_mode_range1\") {\n      return { ...state, range_mode_range1: action.value }\n   }\n   if (action.type === \"range_mode_range2\") {\n      return { ...state, range_mode_range2: action.value }\n   }\n   if (action.type === \"time_mode_range\") {\n      return { ...state, time_mode_range: action.value }\n   }\n   if (action.type === \"time_mode_model\") {\n      return { ...state, time_mode_model: action.value }\n   }\n   if (action.type === \"time_mode_year1\") {\n      return { ...state, time_mode_year1: action.value }\n   }\n   if (action.type === \"time_mode_year2\") {\n      return { ...state, time_mode_year2: action.value }\n   }\n   if (action.type === \"clicked_items_in_slopechart\") {\n      return { ...state, clicked_items_in_slopechart: action.value }\n   }\n   if (action.type === \"features_with_score\") {\n      return { ...state, features_with_score: action.value }\n   }\n   if (action.type === \"sparkline_data\") {\n      return { ...state, sparkline_data: action.value }\n   }\n   if (action.type === \"legend_show_option\") {\n      return { ...state, legend_show_option: action.value }\n   }\n   if (action.type === \"legend_model\") {\n      return { ...state, legend_model: action.value }\n   }\n   if (action.type === \"histogram_data\") {\n      return { ...state, histogram_data: action.value }\n   }\n   if (action.type === \"dataset\") {\n      return { ...state, dataset: action.value }\n   }\n   if (action.type === \"slider_and_feature_value\") {\n      return { ...state, slider_and_feature_value: action.value }\n   }\n   if (action.type === \"legend_year\") {\n      return { ...state, legend_year: action.value }\n   }\n   if (action.type === \"prev_prop\") {\n      return { ...state, prev_prop: action.value }\n   }\n   if (action.type === \"replay\") {\n      return { ...state, replay: action.value }\n   }\n   if (action.type === \"changed\") {\n      return { ...state, changed: action.value }\n   }\n   if (action.type === \"popup_chart_data\") {\n      return { ...state, popup_chart_data: action.value }\n   }\n   if (action.type === \"pop_over\") {\n      return { ...state, pop_over: action.value }\n   }\n   if (action.type === \"pop_over_models\") {\n      var temp = action.value.filter(item => item != \"ListNet\")\n      return { ...state, pop_over_models: temp }\n   }\n   if (action.type === \"clicked_features\") {\n      //console.log(action.value)\n      return { ...state, clicked_features: action.value }\n   }\n   return state;\n}\nexport default reducer;","import { createMuiTheme } from '@material-ui/core/styles';\nconst theme = createMuiTheme({      \n  typography: {\n    button: {\n      textTransform: 'none'\n    }\n  }\n});\nexport default theme;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { createStore } from 'redux';\nimport {Provider} from 'react-redux';\nimport reducer from './store/reducer';\nimport theme from './Themes'; \nimport { ThemeProvider } from '@material-ui/styles';\nconst store=createStore(reducer);\nReactDOM.render( <ThemeProvider theme={theme}><Provider store={store}><App /></Provider></ThemeProvider>,document.getElementById('root'));\n\n\n","module.exports = __webpack_public_path__ + \"static/media/chart1_data.d3b20544.csv\";","module.exports = __webpack_public_path__ + \"static/media/chart1_data.cca71c9e.csv\";"],"sourceRoot":""}