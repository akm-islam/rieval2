(this.webpackJsonp03_2slopechart=this.webpackJsonp03_2slopechart||[]).push([[0],{113:function(e,t,a){e.exports=a(126)},118:function(e,t,a){},123:function(e,t,a){},124:function(e,t,a){},126:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(14),o=a.n(i),l=a(26),s=a(27),c=a(54),d=a(28),_=a(30),u=a(83),p=a.n(u),m=a(84),g=a.n(m),f=a(85),h=a.n(f),y=a(86),v=a.n(y),b=a(87),k=a.n(b),w=a(88),j=a.n(w),S=a(89),x=a.n(S),O=a(90),E=a.n(O),R=a(91),C=a.n(R),A=(a(118),a(80),a(2));function N(e){var t={},a={};return e.forEach((function(e){t[e["1-qid"]]=[],a[e.State.replace(/ /g,"").replace(/[^\w\s]/gi,"")]=[]})),e.forEach((function(e){var r={year:parseInt(e["1-qid"]),rank:parseInt(e.two_realRank)};a[e.State.replace(/ /g,"").replace(/[^\w\s]/gi,"")].push(r),t[e["1-qid"]].push(e)})),{years:t,sparkline_data:a}}function L(e,t,a,r,n,i){var o={},l={};for(var s in t.map((function(e){var t={},l=n,s=function(e,t,a,r,n){if(!a.length>0)return[];a=a.map((function(e){return e-1}));var i,o,l,s={};if("ListNet"==t)return[];var c=n[t].filter((function(e){if(parseInt(e["1-qid"])==parseInt(r))return e}));o=a.map((function(e){return c[e]})),l=Object.keys(o[0]),o.map((function(e){l.forEach((function(t){s[t]>=0||s[t]<0?s[t]=s[t]+parseFloat(e[t]):s[t]=parseFloat(e[t])}))})),(i=Object.keys(s).map((function(e){return[e,s[e]]}))).sort((function(e,t){return e[1]-t[1]}));var d=i.map((function(e){return e[0].replace("_feature_rank","")}));return d=d.filter((function(e){return"1-qid"!=e&&"model"!=e}))}(0,e,a,r,i);s.length<n&&(l=s.length,n=s.length);for(var c=0;c<n;c++)t[s[c]]=l,l-=1;o[e]=t})),o)for(var c in o[s])l[c]>0?l[c]=l[c]+o[s][c]:l[c]=o[s][c];return l}var I=a(3),T=a(23),F=a(9);function B(e,t,a){0!=t.length?(A.selectAll(".items").attr("opacity",.3),t.map((function(e){A.selectAll("."+e).attr("opacity",1)}))):A.selectAll(".items").attr("opacity",1)}function z(e,t){A.selectAll("#mylines").remove(),e.map((function(e){var a=[],r=0,n=A.select("#"+e).attr("id").substring(0,3),i=[];A.select("#"+n).selectAll("#"+e).each((function(e){r=A.select(this).attr("two_realRank"),i.push([A.select(this).attr("cx2"),A.select(this).attr("cy")])})),a.push([e,A.line()(i),r]),A.select("#"+n).selectAll("."+e).data(a,(function(e){return e[0]})).join("path").attr("stroke",(function(e){return t(e[2])})).attr("stroke-width",2).attr("id","mylines").attr("State",(function(e){return e[2]})).attr("class",e).transition().duration(0).attr("d",(function(e){return e[1]})).attr("fill","none")}))}function M(e,t,a,r,n,i,o,l,s,c,d,_,u,p,m,g){var f=F("#"+e).height();A.select("#"+e).selectAll(".features").data(a).join("svg").attr("class","features").attr("x",(function(e,t){return u*t})).attr("width",u).attr("y",20).attr("height",f-20).attr("add_feature_name",(function(t,a){A.select("#"+e).selectAll(".feature_name"+a).data([0]).join("text").attr("class","feature_name"+a).attr("x",(function(e){return 10+u*a})).attr("dominant-baseline","hanging").attr("font-size",12).text(t[0].length>15?t[0].slice(0,15)+"..":t[0])})).attr("svg2",(function(e){A.select(this).selectAll("#svg1").data([0]).join("svg").attr("id","svg1").attr("x",m).attr("width",p).attr("height",f).attr("add_exp_circles",(function(){!function(e,t,a,r,n,i,o,l,s,c,d,_,u,p){var m=6,g=6,f=6,h=6,y=A.select("#svg1").attr("width"),v=A.select("#svg1").attr("height"),b=e[0],k=e[0]+"_contribution",w=A.symbol().size(30),j=[];o.map((function(e){n[e].map((function(t){t["1-qid"]==i&&a.includes(parseInt(t.two_realRank))&&(t.id=t.State.replace(/ /g,"").replace(/[^a-zA-Z ]/g,"")+e.replace(/ /g,"").replace(/[^a-zA-Z ]/g,""),j.push(t))}))}));var S=A.scaleLinear().domain([A.min(j.map((function(t){return parseFloat(t[e[0]])}))),A.max(j.map((function(t){return parseFloat(t[e[0]])})))]).range([m,v-g]),x=A.scaleLinear().domain([A.min(j.map((function(e){return parseFloat(e[k])}))),A.max(j.map((function(e){return parseFloat(e[k])})))]).range([f,y-h]);t.selectAll(".my_circles").data(j,(function(e){return e.id})).join((function(e){return e.append("g").attr("id",(function(e){return e.id})).attr("class",(function(e){return e.id+" items circle2 my_circles"})).attr("fill",(function(e){return c(e.two_realRank)})).attr("transform",(function(e,t){return"translate("+x(parseFloat(e[k]))+","+S(parseFloat(e[b]))+")"})).attr("Add_symbol",(function(e,t){A.select(this).selectAll("path").data([0]).join("path").attr("d",(function(){return w.type(A[p[e.model]]),w()})).attr("fill",c(e.two_realRank))}))}),(function(e){return e.attr("class",(function(e){return e.id+" items circle2 my_circles"})).transition().duration(d.circle_animation).delay(d.rank_animation+d.deviation_animation+d.feature_animation).attr("transform",(function(e,t){return"translate("+x(parseFloat(e[k]))+","+S(parseFloat(e[b]))+")"})).attr("id",(function(e){return e.id})).attr("Add_symbol",(function(e,t){A.select(this).selectAll("path").data([0]).join("path").attr("d",(function(){return w.type(A[p[e.model]]),w()})).attr("fill",c(e.two_realRank))}))}),(function(e){return e.remove()})).on("click",(function(e){s(l.includes(e.id)?l.filter((function(t){return t!=e.id})):[].concat(Object(T.a)(l),[e.id]))}))}(e,A.select(this),t,0,r,n,i,o,l,s,c,0,0,g)}))})).attr("svg1",(function(e){A.select(this).selectAll("#svg2").data([0]).join("g").attr("id","svg2").attr("transform","translate(0,0)").attr("width",m).attr("height",f).attr("add_exp_circles",(function(){!function(e,t,a,r,n,i,o,l,s,c,d,_,u,p,m){var g=6,f=A.select("#svg2").attr("width"),h=A.select("#svg2").attr("height"),y=m+8,v=e[0];o.map((function(e){var r=[];n[e].map((function(e){e["1-qid"]==i&&a.includes(parseInt(e.two_realRank))&&(e[v]=parseFloat(e[v]),r.push(e))}));var o=A.scaleLinear().domain([A.min(r.map((function(e){return parseFloat(e[v])}))),A.max(r.map((function(e){return parseFloat(e[v])})))]).range([0,h-g]),l=A.histogram().value((function(e){return e[v]})).domain(o.domain()).thresholds(o.ticks(3))(r),s=A.scaleLinear().domain([0,A.max(l.map((function(e){return e.length})))]).range([0,f]);t.selectAll("rect").data(l).join("rect").attr("x",(function(e){return p-s(e.length)})).attr("y",(function(e){return o(e.x0)})).attr("height",(function(e){return o(e.x1)-o(e.x0)-.5})).attr("width",(function(e){return s(e.length)})).style("fill","#b2b2b2").attr("length",(function(e){return e.length})).attr("add_horizontal_lines",(function(e,t){A.select(this.parentNode).selectAll(".myhorizontal_lines").data(l).join("line").attr("class","myhorizontal_lines").attr("y1",(function(e){return o(e.x0)})).attr("y2",(function(e){return o(e.x0)})).attr("x1",p).attr("x2",m+p-2).attr("stroke-width",.5).attr("stroke","#bababa")})).attr("add_vertical_line",(function(e,t){A.select(this.parentNode).selectAll(".my_vertical_lines").data([0]).join("line").attr("class","my_vertical_lines").attr("transform","translate("+p+",0)").attr("y1",0).attr("y2",h).attr("x1",m/2).attr("x2",m/2).attr("stroke-width",.5).attr("stroke","#bababa")})),t.selectAll(".axisRight").data([0]).join("g").attr("class","axisRight").attr("transform","translate("+y+",0)").call(A.axisRight(o).ticks(3).tickFormat(A.format(".1s"))).attr("remove",(function(){A.select(this).selectAll(".domain").remove(),A.select(this).selectAll("line").remove(),A.select(this).selectAll("text").attr("font-size",9)}))}))}(e,A.select(this),t,0,r,n,i,0,0,0,0,0,0,m,p)}))}))}function D(e,t,a,r,n,i,o,l,s,c,d,_,u){var p=F("#"+e).width()-5,m=F("#"+e).height(),g=p/a.length,f=p/a.length-40;A.select("#"+e).selectAll(".features").data(a).join("svg").attr("class","features").attr("x",(function(e,t){return 20+g*t})).attr("width",f).attr("height",m).attr("add_lines",(function(e,a){A.select(this).selectAll(".items").data(t).join("g").attr("class","items").attr("transform",(function(e,t){return"translate(0,"+(8+12*t)+")"})).attr("add_lines_and_circles",(function(a,c){var d=e[0]+"_contribution";A.select(this).selectAll("line").data([a]).join("line").attr("x1",0).attr("x2",f-2).attr("y1",0).attr("y2",(function(e){return 0})).attr("stroke-width",2).attr("stroke","#CECECE");var _=[],p=[];i.map((function(e,i){r[e].map((function(r){r["1-qid"]==n&&t.includes(parseInt(r.two_realRank))&&(r.id=r.State.replace(/ /g,"").replace(/[^a-zA-Z ]/g,"")+e.replace(/ /g,"").replace(/[^a-zA-Z ]/g,""),p.push(r),a==parseInt(r.two_realRank)&&_.push(r))}))}));var m=A.scaleLinear().domain([0,A.max(p.map((function(e){return parseFloat(e[d])})))]).range([5,f-7]),g=A.symbol().size(30);A.select(this).selectAll(".symbols").data(_).join("g").attr("class",(function(e){return"symbols circle2 "+e.model.replace(/ /g,"").replace(/[^a-zA-Z ]/g,"")})).attr("transform",(function(e,t){var a=5;return parseFloat(e[d])>0&&(a=m(parseFloat(e[d]))),"translate("+a+",0)"})).attr("Add_symbol",(function(e,t){A.select(this.parentNode).classed(e.id,!0),A.select(this).selectAll("path").data([0]).join("path").attr("d",(function(){return g.type(A[u[e.model]]),g()})).attr("fill",(function(e){return s(a)}))})).on("click",(function(e){l(o.includes(e.id)?o.filter((function(t){return t!=e.id})):[].concat(Object(T.a)(o),[e.id]))}))}))})),M("top_exp",t,a,r,n,i,o,l,s,c,0,0,g,f,20,u)}function U(e,t,a,r,n,i,o,l,s,c,d,_){var u=15,p=5,m=25,g=3,f=F("#"+e).width()-m,h=F("#"+e).height()-2*u,y=f/a.length-g,v=h;a.map((function(a,d){var _=m+y*d+g*d,f=a[0],h=a[0]+"_contribution";i.map((function(i){var d=[];r[i].map((function(a){a["1-qid"]==n&&t.includes(parseInt(a.two_realRank))&&(a.id=e+a.State.replace(/ /g,"").replace(/[^a-zA-Z ]/g,"")+i.replace(/ /g,"").replace(/[^a-zA-Z ]/g,""),d.push(a))}));var m=A.scaleLinear().domain([A.min(d.map((function(e){return parseFloat(e[a[0]])}))),A.max(d.map((function(e){return parseFloat(e[a[0]])})))]).range([2*p,y-2*p]),g=A.scaleLinear().domain([A.min(d.map((function(e){return parseFloat(e[h])}))),A.max(d.map((function(e){return parseFloat(e[h])})))]).range([u+p,v-p]);A.select("#"+e).select("#"+a[0].replace(/[^\w\s]/gi,"")).selectAll(".my_circles"+i).data(d,(function(e){return e.id})).join((function(e){return e.append("circle").attr("id",(function(e){return e.id})).attr("class","circle2 my_circles"+i).attr("r",p).attr("cy",(function(e){return p/2+g(parseFloat(e[h]))})).attr("cx",(function(e,t){return m(parseFloat(e[f]))})).attr("fill",(function(e){return s(e.two_realRank)})).attr("cx2",(function(e,t){return _+m(parseFloat(e[f]))})).attr("two_realRank",(function(e){return e.two_realRank}))}),(function(e){return e.attr("class","circle2 my_circles"+i).transition().duration(c.circle_animation).delay(c.rank_animation+c.deviation_animation+c.feature_animation).on("end",(function(){return z(o,s)})).attr("id",(function(e){return e.id})).attr("class","circle2 my_circles"+i).attr("r",p).attr("cy",(function(e){return p/2+g(parseFloat(e[h]))})).attr("cx",(function(e,t){return m(parseFloat(e[f]))})).attr("fill",(function(e){return s(e.two_realRank)})).attr("cx2",(function(e,t){return _+m(parseFloat(e[f]))})).attr("two_realRank",(function(e){return e.two_realRank}))}),(function(e){return e.remove()})).attr("cx2",(function(e,t){return _+m(parseFloat(e[f]))})).on("click",(function(e){l(o.includes(e.id)?o.filter((function(t){return t!=e.id})):[].concat(Object(T.a)(o),[e.id]))}))}))}))}var H=a(15);function Y(e,t,a,r,n,i,o,l,s,c,d,_,u,p,m){var g=F("#"+e).width()-5,f=r.filter((function(e){return o==e["1-qid"]&&a.includes(parseInt(e.two_realRank))})),h=[];f.map((function(e){n.map((function(t){return h.push(Math.abs(parseInt(e[t])-parseInt(e.two_realRank)))}))}));var y={fontSize:12,font_dy:-6,sparkline_width:20,font_line_gap:24,line_stroke_width:10,animation_duration:0,container_height:100,my_svg_top_margin:10,myg_top_margin:10,left_margin:100},v=y.line_stroke_width+2,b=y.line_stroke_width/2,k=A.select("#"+e).attr("height",v+f.length*v).selectAll(".parent_g").data([0]).join("g").attr("class","parent_g").attr("transform","translate(0,8)").selectAll(".items").data(f,(function(e){return e.State})).join((function(e){return e.append("g").attr("class","items").attr("transform",(function(e,t){return"translate("+y.left_margin+","+t*v+")"}))}),(function(e){return e.transition().duration(i.rank_animation).attr("transform",(function(e,t){return"translate("+y.left_margin+","+t*v+")"}))}),(function(e){return e.remove()}));k.attr("add_state",(function(e){A.select(this).selectAll("text").data([e]).join("text").text(e.State+" "+e.two_realRank).attr("fill",(function(e){return d(e.two_realRank)})).attr("dominant-baseline","hanging").attr("font-size",y.fontSize).attr("x",0).attr("text-anchor","end").attr("dy",y.font_dy)})),k.attr("add_sparkline",(function(e){"house"!=p&&function(e,t,a,r,n,i,o,l){var s=o,c=0,d=0,_=0,u=4,p=t.sparkline_width-2,m=a-5,g=e.selectAll(".sparkline_svg").data([0]).join("svg").attr("class","sparkline_svg").attr("x",2).attr("y",-3).attr("width",p+u+d).attr("height",m+c+_),f=r[n.State.replace(/ /g,"").replace(/[^a-zA-Z ]/g,"")],h=A.scaleLinear().domain(A.extent(f,(function(e){return e.year}))).range([0,p]);g.selectAll("path").remove(),g.append("path").datum(f,(function(e){return e})).attr("id","A").attr("opacity",1).attr("fill",i(n.two_realRank)).attr("stroke",i(n.two_realRank)).attr("stroke-width",(function(e){return 1.5})).attr("d",A.area().x((function(e){return h(e.year)})).y0((function(){return A.scaleLinear().domain([0,A.max(f,(function(e){return+e.rank}))]).range([m,0])(0)})).y1((function(e){return A.scaleLinear().domain([0,A.max(f,(function(e){return+e.rank}))]).range([0,m])(e.rank)}))),g.selectAll("circle").raise().data(f).join("circle").attr("cx",(function(e,t){return h(e.year)})).attr("cy",m-2).attr("class","myid").on("mouseover",(function(e){A.select(this).style("fill","black"),A.select(this).attr("r",3)})).style("fill",(function(e){return e.year!=s?"transparent":"black"})).attr("class",(function(e){return e.year!=s?"transparent_class":"red_class"})).attr("r",2).on("dblclick",(function(e,t){A.event.preventDefault(),l(e.year)})).on("mouseout",(function(e){A.select(this).style("fill","transparent"),A.select(this).style("fill",e.year!=s?"transparent":"black"),A.select(this).attr("r",2)}))}(A.select(this),y,v,_,e,d,o,u)})),k.attr("add_lines_and_circles",(function(e){!function(e,t,a,r,n,i,o,l,s,c,d,_,u,p){var m=t.filter((function(e){return d.two_realRank==parseInt(e.two_realRank)})),g=[];a.map((function(e){m.map((function(t){var a={};a.two_realRank=parseInt(t.two_realRank),a.predicted_rank=parseInt(t[e]),a.model=e,a.year=t["1-qid"],g.push(a)}))}));var f=[];t.map((function(e){a.map((function(t){return f.push(Math.abs(parseInt(e[t])-parseInt(e.two_realRank)))}))}));var h=A.max(f),y=A.scaleLinear().domain([0,h]).range([r.font_line_gap,p-(r.left_margin+c)]);if(0==h)y=A.scaleLinear().domain([0,h]).range([r.font_line_gap,0]);e.selectAll("line").data([d]).join((function(e){return e.append("line").attr("x1",r.font_line_gap).attr("y1",(function(e,t){return u*t})).attr("y2",(function(e,t){return u*t})).attr("stroke-width",r.line_stroke_width).attr("stroke","#cecece").attr("x2",(function(e){var t=[];return g.map((function(e){return t.push(Math.abs(e.predicted_rank-e.two_realRank))})),y(A.max(t))}))}),(function(e){return e.transition().duration(_.deviation_animation).delay(_.rank_animation).attr("x2",(function(e){var t=[];return g.map((function(e){return t.push(Math.abs(e.predicted_rank-e.two_realRank))})),y(A.max(t))}))})),m=t.filter((function(e){return d.two_realRank==parseInt(e.two_realRank)}));var v=[];a.map((function(e){m.map((function(t){var a={};a.two_realRank=parseInt(t.two_realRank),a.predicted_rank=parseInt(t[e]),a.model=e,a.year=t["1-qid"],a.id=t.State.replace(/ /g,"").replace(/[^a-zA-Z ]/g,"")+e.replace(/ /g,"").replace(/[^a-zA-Z ]/g,""),v.push(a)}))}));var b=A.symbol().size(30);e.selectAll(".symbols").data(v).join("g").attr("class",(function(e){return e.id+" symbols circle "})).attr("transform",(function(e,t){return e.predicted_rank-e.two_realRank==0&&y(Math.abs(e.predicted_rank-e.two_realRank))+c,"translate("+y(Math.abs(e.predicted_rank-e.two_realRank))+",0)"})).attr("Add_symbol",(function(e,t){A.select(this).selectAll("path").data([0]).join("path").attr("d",(function(){return b.type(A[n[e.model]]),b()})).attr("fill",(function(){return s(e.two_realRank)}))})).attr("add_parent_id",(function(e){A.select(this.parentNode).classed(e.id,!0)})).attr("parent_id",l).on("click",(function(e){return o(i.includes(e.id)?i.filter((function(t){return t!=e.id})):[].concat(Object(T.a)(i),[e.id]))}))}(A.select(this),f,n,y,m,s,c,t,d,b,e,i,v,g)}))}var q=a(21),X=(a(67),a(181)),W=a(161),P=a(165);Object(W.a)((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},tRoot:{marginBottom:35},rang_input:{marginLeft:10}}}));Object(H.b)((function(e){return{selected_year:e.selected_year,state_range:e.state_range,mode:e.mode,slider_max:e.slider_max,range_mode_model:e.range_mode_model,range_mode_range1:e.range_mode_range1,range_mode_range2:e.range_mode_range2,time_mode_model:e.time_mode_model,time_mode_range:e.time_mode_range,time_mode_year1:e.time_mode_year1,time_mode_year2:e.time_mode_year2,years_for_dropdown:e.years_for_dropdown,dataset:e.dataset,defualt_models:e.defualt_models,slider_and_feature_value:e.slider_and_feature_value,sort_by:e.sort_by,grouped_by_year_data:e.grouped_by_year_data}}),(function(e){return{Set_state_range:function(t){return e({type:"state_range",value:t})},Set_changed:function(t){return e({type:"changed",value:t})}}}))((function(e){for(var t,a=n.a.useState(e.state_range),r=Object(q.a)(a,2),i=r[0],o=r[1],l=[],s=(e.slider_max-1)/5,c=0;c<6;c++)l.push(1+s*c);var d=l.map((function(e){var t=parseInt(e);return{value:t,label:t}}));return n.a.createElement("div",{className:"rangeslider",style:{width:"100%",padding:20,display:"inline-block"}},n.a.createElement("div",{style:{width:"70%"}},n.a.createElement(X.a,(t={value:i,onChange:function(e,t){return o(t)},onChangeCommitted:function(t,a){return e.Set_changed("range")},valueLabelDisplay:"auto","aria-labelledby":"range-slider"},Object(I.a)(t,"valueLabelDisplay","on"),Object(I.a)(t,"min",1),Object(I.a)(t,"max",e.slider_max),Object(I.a)(t,"marks",d),t))),n.a.createElement("div",{style:{width:"20%"}},n.a.createElement(P.a,{className:"range_button",style:{backgroundColor:"#ededed",height:30,marginBottom:5,marginLeft:-3},onClick:function(){e.Set_state_range(i)}},"Update range")))}));var V=function(e){Object(_.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).line_color=null,r.state={height_slope_exp_chart:700,mouseX:0,mouseY:0},r}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.setState({width:window.innerHeight})}},{key:"shouldComponentUpdate",value:function(e,t){return!0}},{key:"componentDidUpdate",value:function(e,t){var a=this.props.state_range[0],r=(this.props.state_range[1]-a)/8,n=A.scaleLinear().domain([a+7*r,a+6*r,a+5*r,a+4*r,a+3*r,a+2*r,a]).interpolate(A.interpolateRgb).range(["#00429d","#4771b2","#73a2c6","#a5d5d8","#ffbcaf","#f4777f","#cf3759","#93003a"]),i=A.range(this.props.state_range[0],this.props.state_range[1]+1),o=L(this.props.dataset,this.props.defualt_models,this.props.state_range,this.props.selected_year,9,this.props.rank_data),l=Object.entries(o).sort((function(e,t){return e[1]-t[1]})).slice(0,9);Y("dev_plot_container","exp",i,this.props.original_data,this.props.defualt_models,this.props.anim_config,this.props.selected_year,this.props.average_m,this.props.clicked_circles,this.props.Set_clicked_circles,n,this.props.sparkline_data,this.props.Set_selected_year,this.props.dataset,this.props.symbolTypes),D("exp",i,l,this.props.lime_data,this.props.selected_year,this.props.defualt_models,this.props.clicked_circles,this.props.Set_clicked_circles,n,this.props.anim_config,this.props.clicked_features,this.props.Set_clicked_features,this.props.symbolTypes),B(0,this.props.clicked_circles,this.props.anim_config)}},{key:"render",value:function(){return n.a.createElement("svg",{id:"dev_plot_container",style:{width:"100%",marginBottom:10}})}}]),a}(r.Component),Z=Object(H.b)((function(e){var t;return t={state_range:e.state_range,selected_year:e.selected_year,deviate_by:e.deviate_by,clicked_items_in_slopechart:e.clicked_items_in_slopechart,tracking:e.tracking,defualt_models:e.defualt_models,original_data:e.original_data,time_mode_model:e.time_mode_model,chart_scale_type:e.chart_scale_type,features_with_score:e.features_with_score,dataset:e.dataset,histogram_data:e.histogram_data,sparkline_data:e.sparkline_data},Object(I.a)(t,"dataset",e.dataset),Object(I.a)(t,"anim_config",e.anim_config),Object(I.a)(t,"show",e.show),Object(I.a)(t,"default_model_scores",e.default_model_scores),Object(I.a)(t,"average_m",e.average_m),Object(I.a)(t,"average_y",e.average_y),Object(I.a)(t,"lime_data",e.lime_data),Object(I.a)(t,"features_with_score",e.features_with_score),Object(I.a)(t,"rank_data",e.rank_data),Object(I.a)(t,"clicked_circles",e.clicked_circles),Object(I.a)(t,"clicked_features",e.clicked_features),Object(I.a)(t,"symbolTypes",e.symbolTypes),t}),(function(e){return{Set_clicked_circles:function(t){return e({type:"clicked_circles",value:t})},Set_prev_prop:function(t){return e({type:"prev_prop",value:t})},Set_sparkline_data:function(t){return e({type:"sparkline_data",value:t})},Set_clicked_items_in_slopechart:function(t){return e({type:"clicked_items_in_slopechart",value:t})},Set_replay:function(t){return e({type:"replay",value:t})},Set_clicked_features:function(t){return e({type:"clicked_features",value:t})},Set_selected_year:function(t){return e({type:"selected_year",value:t})}}}))(V),G=a(166),J=Object(W.a)((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},tRoot:{marginBottom:35},rang_input:{marginLeft:10}}}));var K=Object(H.b)((function(e){return{mode:e.mode,slider_max:e.slider_max,range_mode_range1:e.range_mode_range1}}),(function(e){return{Set_range_mode_range1:function(t){return e({type:"range_mode_range1",value:t})},Set_changed:function(t){return e({type:"changed",value:t})}}}))((function(e){J();for(var t,a=n.a.useState(e.range_mode_range1),r=Object(q.a)(a,2),i=r[0],o=r[1],l=[],s=(e.slider_max-1)/5,c=0;c<6;c++)l.push(1+s*c);var d=l.map((function(e){var t=parseInt(e);return{value:t,label:t}}));return n.a.createElement("div",{className:"rangeslider",style:{width:"95%",marginTop:30}},n.a.createElement(X.a,(t={value:i,onChange:function(e,t){return o(t)},onChangeCommitted:function(t,a){return e.Set_changed("range")},valueLabelDisplay:"auto","aria-labelledby":"range-slider"},Object(I.a)(t,"valueLabelDisplay","on"),Object(I.a)(t,"min",1),Object(I.a)(t,"max",e.slider_max),Object(I.a)(t,"marks",d),t)),n.a.createElement(G.a,{style:{marginBottom:15},container:!0,direction:"row",justify:"space-around",alignItems:"center"}),n.a.createElement(P.a,{className:"range_button",style:{width:F(".Sidebar").width()-11,backgroundColor:"#ededed",height:30,marginBottom:5,marginLeft:-3},onClick:function(){return e.Set_range_mode_range1(i)}},"Update range"))})),Q=Object(W.a)((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},tRoot:{marginBottom:35},rang_input:{marginLeft:10}}}));var $=Object(H.b)((function(e){return{selected_year:e.selected_year,state_range:e.state_range,mode:e.mode,slider_max:e.slider_max,range_mode_model:e.range_mode_model,range_mode_range1:e.range_mode_range1,range_mode_range2:e.range_mode_range2,time_mode_model:e.time_mode_model,time_mode_range:e.time_mode_range,time_mode_year1:e.time_mode_year1,time_mode_year2:e.time_mode_year2,years_for_dropdown:e.years_for_dropdown,dataset:e.dataset,defualt_models:e.defualt_models,slider_and_feature_value:e.slider_and_feature_value,sort_by:e.sort_by,grouped_by_year_data:e.grouped_by_year_data}}),(function(e){return{Set_range_mode_range2:function(t){return e({type:"range_mode_range2",value:t})},Set_changed:function(t){return e({type:"changed",value:t})}}}))((function(e){Q();for(var t,a=n.a.useState(e.range_mode_range2),r=Object(q.a)(a,2),i=r[0],o=r[1],l=[],s=(e.slider_max-1)/5,c=0;c<6;c++)l.push(1+s*c);var d=l.map((function(e){var t=parseInt(e);return{value:t,label:t}}));return n.a.createElement("div",{className:"rangeslider",style:{width:"95%",marginTop:30}},n.a.createElement(X.a,(t={value:i,onChange:function(e,t){return o(t)},onChangeCommitted:function(t,a){e.Set_changed("range")},valueLabelDisplay:"auto","aria-labelledby":"range-slider"},Object(I.a)(t,"valueLabelDisplay","on"),Object(I.a)(t,"min",1),Object(I.a)(t,"max",e.slider_max),Object(I.a)(t,"marks",d),t)),n.a.createElement(G.a,{style:{marginBottom:15},container:!0,direction:"row",justify:"space-around",alignItems:"center"}),n.a.createElement(P.a,{className:"range_button",style:{width:F(".Sidebar").width()-11,backgroundColor:"#ededed",height:30,marginBottom:5,marginLeft:0},onClick:function(){return e.Set_range_mode_range2(i)}},"Update range"))})),ee=function(e){Object(_.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).line_color=null,r.state={height_slope_exp_chart:700,mouseX:0,mouseY:0},r}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.setState({width:window.innerHeight})}},{key:"shouldComponentUpdate",value:function(e,t){return!0}},{key:"componentDidUpdate",value:function(e,t){var a=A.min([this.props.range_mode_range1[0],this.props.range_mode_range2[0]]),r=(A.max([this.props.range_mode_range1[1],this.props.range_mode_range2[1]])-a)/8,n=A.scaleLinear().domain([a+7*r,a+6*r,a+5*r,a+4*r,a+3*r,a+2*r,a]).interpolate(A.interpolateRgb).range(["#00429d","#4771b2","#73a2c6","#a5d5d8","#ffbcaf","#f4777f","#cf3759","#93003a"]),i=A.range(this.props.range_mode_range1[0],this.props.range_mode_range1[1]+1),o=L(this.props.dataset,this.props.defualt_models,this.props.range_mode_range1,this.props.selected_year,9,this.props.rank_data),l=Object.entries(o).sort((function(e,t){return e[1]-t[1]})).slice(0,9);Y("r1d","r1e",i,this.props.original_data,this.props.defualt_models,this.props.anim_config,this.props.selected_years,this.props.average_m,this.props.clicked_circles,this.props.Set_clicked_circles,n,this.props.sparkline_data,this.props.Set_selected_year),D("r1e",i,l,this.props.lime_data,this.props.selected_year,this.props.defualt_models,this.props.clicked_circles,this.props.Set_clicked_circles,n,this.props.anim_config,this.props.clicked_features,this.props.Set_clicked_features),U("r1e",i,l,this.props.lime_data,this.props.selected_year,this.props.defualt_models,this.props.clicked_circles,this.props.Set_clicked_circles,n,this.props.anim_config,this.props.clicked_features,this.props.Set_clicked_features);var s=A.range(this.props.range_mode_range2[0],this.props.range_mode_range2[1]+1),c=L(this.props.dataset,this.props.defualt_models,this.props.range_mode_range2,this.props.selected_year,9,this.props.rank_data),d=Object.entries(c).sort((function(e,t){return e[1]-t[1]})).slice(0,9);Y("r2d","r2e",s,this.props.original_data,this.props.defualt_models,this.props.anim_config,this.props.selected_years,this.props.average_m,this.props.clicked_circles,this.props.Set_clicked_circles,n,this.props.sparkline_data,this.props.Set_selected_year),D("r2e",s,d,this.props.lime_data,this.props.selected_year,this.props.defualt_models,this.props.clicked_circles,this.props.Set_clicked_circles,n,this.props.anim_config,this.props.clicked_features,this.props.Set_clicked_features),U("r2e",s,d,this.props.lime_data,this.props.selected_year,this.props.defualt_models,this.props.clicked_circles,this.props.Set_clicked_circles,n,this.props.anim_config,this.props.clicked_features,this.props.Set_clicked_features),z(this.props.clicked_circles,n,this.props.anim_config),B(0,this.props.clicked_circles,this.props.anim_config)}},{key:"render",value:function(){return n.a.createElement(G.a,{container:!0,direction:"row",justifyContent:"space-between",className:"slope_chart_exp",style:{backgroundColor:"white",padding:"0px 0px",border:"1px solid #eaeaea",width:"100%",boxShadow:"-2px 1px 4px -1px white"}},n.a.createElement(G.a,{container:!0,item:!0,direction:"column",justifyContent:"space-between",style:{paddingRight:0,border:"1px solid #a0a0a0",height:"100%",width:"49.4%"}},n.a.createElement("p",{style:{margin:0,paddingLeft:"45%",backgroundColor:"rgb(232, 232, 232,0.4)",fontWeight:"bolder",borderBottom:"1px solid #cecece"}},"Group 1"),n.a.createElement(G.a,{item:!0,style:{backgroundColor:"rgb(232, 232, 232,0.4)"}},n.a.createElement(K,null)),n.a.createElement(G.a,{item:!0,style:{backgroundColor:"rgb(232, 232, 232,0.4)",height:.5*F(".slope_chart_exp").height()-25,overflow:"scroll"}},n.a.createElement("svg",{id:"r1d",style:{width:"100%",marginRight:"3%"}})),n.a.createElement(G.a,{item:!0,style:{backgroundColor:"rgb(232, 232, 232,0.4)",marginTop:5,paddingTop:5,paddingRight:3,height:.3*F(".slope_chart_exp").height()}},n.a.createElement("svg",{id:"r1e",style:{width:"100%",height:"100%"}}))),n.a.createElement(G.a,{container:!0,item:!0,direction:"column",justifyContent:"space-between",style:{marginLeft:"1%",padding:0,border:"1px solid #a0a0a0",height:"100%",width:"49.4%"}},n.a.createElement("p",{style:{margin:0,paddingLeft:"45%",backgroundColor:"rgb(232, 232, 232,0.4)",fontWeight:"bolder",borderBottom:"1px solid #cecece"}},"Group 2"),n.a.createElement(G.a,{item:!0,style:{backgroundColor:"rgb(232, 232, 232,0.4)"}},n.a.createElement($,null)),n.a.createElement(G.a,{item:!0,style:{backgroundColor:"rgb(232, 232, 232,0.4)",height:.5*F(".slope_chart_exp").height()-25,overflow:"scroll"}},n.a.createElement("svg",{id:"r2d",style:{width:"100%",marginRight:"3%"}})),n.a.createElement(G.a,{item:!0,style:{backgroundColor:"rgb(232, 232, 232,0.4)",marginTop:5,paddingTop:5,paddingRight:3,height:.3*F(".slope_chart_exp").height()}},n.a.createElement("svg",{id:"r2e",style:{width:"100%",height:"100%"}}))))}}]),a}(r.Component),te=(Object(H.b)((function(e){var t;return t={range_mode_range1:e.range_mode_range1,range_mode_range2:e.range_mode_range2,selected_year:e.selected_year,selected_years:e.selected_years,deviate_by:e.deviate_by,clicked_items_in_slopechart:e.clicked_items_in_slopechart,tracking:e.tracking,defualt_models:e.defualt_models,original_data:e.original_data,time_mode_model:e.time_mode_model,chart_scale_type:e.chart_scale_type,features_with_score:e.features_with_score,dataset:e.dataset,histogram_data:e.histogram_data,sparkline_data:e.sparkline_data},Object(I.a)(t,"dataset",e.dataset),Object(I.a)(t,"anim_config",e.anim_config),Object(I.a)(t,"show",e.show),Object(I.a)(t,"default_model_scores",e.default_model_scores),Object(I.a)(t,"sort_by",e.sort_by),Object(I.a)(t,"average_m",e.average_m),Object(I.a)(t,"average_y",e.average_y),Object(I.a)(t,"lime_data",e.lime_data),Object(I.a)(t,"features_with_score",e.features_with_score),Object(I.a)(t,"rank_data",e.rank_data),Object(I.a)(t,"clicked_circles",e.clicked_circles),Object(I.a)(t,"clicked_features",e.clicked_features),t}),(function(e){return{Set_clicked_circles:function(t){return e({type:"clicked_circles",value:t})},Set_prev_prop:function(t){return e({type:"prev_prop",value:t})},Set_sparkline_data:function(t){return e({type:"sparkline_data",value:t})},Set_clicked_items_in_slopechart:function(t){return e({type:"clicked_items_in_slopechart",value:t})},Set_replay:function(t){return e({type:"replay",value:t})},Set_clicked_features:function(t){return e({type:"clicked_features",value:t})},Set_selected_year:function(t){return e({type:"selected_year",value:t})}}}))(ee),function(e){Object(_.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).line_color=null,r.state={height_slope_exp_chart:700,mouseX:0,mouseY:0},r}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.setState({width:window.innerHeight})}},{key:"shouldComponentUpdate",value:function(e,t){return!0}},{key:"componentDidUpdate",value:function(e,t){var a=this.props.time_mode_range[0],r=(this.props.time_mode_range[1]-a)/8,n=A.scaleLinear().domain([a+7*r,a+6*r,a+5*r,a+4*r,a+3*r,a+2*r,a]).interpolate(A.interpolateRgb).range(["#00429d","#4771b2","#73a2c6","#a5d5d8","#ffbcaf","#f4777f","#cf3759","#93003a"]),i=A.range(this.props.time_mode_range[0],this.props.time_mode_range[1]+1),o=L(this.props.dataset,this.props.defualt_models,this.props.time_mode_range,this.props.time_mode_year1,9,this.props.rank_data),l=Object.entries(o).sort((function(e,t){return e[1]-t[1]})).slice(0,9);Y("y1d","y1e",i,this.props.original_data,this.props.defualt_models,this.props.anim_config,this.props.time_mode_year1,this.props.average_m,this.props.clicked_circles,this.props.Set_clicked_circles,n),D("y1e",i,l,this.props.lime_data,this.props.time_mode_year1,this.props.defualt_models,this.props.clicked_circles,this.props.Set_clicked_circles,n,this.props.anim_config,this.props.clicked_features,this.props.Set_clicked_features);var s=A.range(this.props.time_mode_range[0],this.props.time_mode_range[1]+1),c=L(this.props.dataset,this.props.defualt_models,this.props.time_mode_range,this.props.time_mode_year2,9,this.props.rank_data),d=Object.entries(c).sort((function(e,t){return e[1]-t[1]})).slice(0,9);Y("y2d","y2e",s,this.props.original_data,this.props.defualt_models,this.props.anim_config,this.props.time_mode_year2,this.props.average_m,this.props.clicked_circles,this.props.Set_clicked_circles,n),D("y2e",s,d,this.props.lime_data,this.props.time_mode_year2,this.props.defualt_models,this.props.clicked_circles,this.props.Set_clicked_circles,n,this.props.anim_config,this.props.clicked_features,this.props.Set_clicked_features),z(this.props.clicked_circles,n,this.props.anim_config),B(0,this.props.clicked_circles,this.props.anim_config)}},{key:"render",value:function(){return n.a.createElement(G.a,{container:!0,direction:"row",justifyContent:"space-between",className:"slope_chart_exp",style:{backgroundColor:"white",padding:"0px 0px",border:"1px solid #eaeaea",width:"100%",boxShadow:"-2px 1px 4px -1px white"}},n.a.createElement(G.a,{container:!0,item:!0,direction:"column",justifyContent:"space-between",style:{paddingRight:0,border:"1px solid #a0a0a0",height:"100%",width:"49.4%"}},n.a.createElement("p",{style:{margin:0,paddingLeft:"45%",backgroundColor:"rgb(232, 232, 232,0.4)",fontWeight:"bolder",borderBottom:"1px solid #cecece"}},"Year : "+this.props.time_mode_year1),n.a.createElement(G.a,{item:!0,style:{backgroundColor:"rgb(232, 232, 232,0.4)",height:.69*F(".slope_chart_exp").height()-25,overflow:"scroll"}},n.a.createElement("svg",{id:"y1d",style:{width:"100%",marginRight:"3%"}})),n.a.createElement(G.a,{item:!0,style:{backgroundColor:"rgb(232, 232, 232,0.4)",marginTop:5,paddingTop:5,paddingRight:3,height:.3*F(".slope_chart_exp").height()}},n.a.createElement("svg",{id:"y1e",style:{width:"100%",height:"100%"}}))),n.a.createElement(G.a,{container:!0,item:!0,direction:"column",justifyContent:"space-between",style:{marginLeft:"1%",padding:0,border:"1px solid #a0a0a0",height:"100%",width:"49.4%"}},n.a.createElement("p",{style:{margin:0,paddingLeft:"45%",backgroundColor:"rgb(232, 232, 232,0.4)",fontWeight:"bolder",borderBottom:"1px solid #cecece"}},"Year : "+this.props.time_mode_year2),n.a.createElement(G.a,{item:!0,style:{backgroundColor:"rgb(232, 232, 232,0.4)",height:.69*F(".slope_chart_exp").height()-25,overflow:"scroll"}},n.a.createElement("svg",{id:"y2d",style:{width:"100%",marginRight:"3%"}})),n.a.createElement(G.a,{item:!0,style:{backgroundColor:"rgb(232, 232, 232,0.4)",marginTop:5,paddingTop:5,paddingRight:3,height:.3*F(".slope_chart_exp").height()}},n.a.createElement("svg",{id:"y2e",style:{width:"100%",height:"100%"}}))))}}]),a}(r.Component)),ae=(Object(H.b)((function(e){var t;return t={time_mode_model:e.time_mode_model,time_mode_range:e.time_mode_range,deviate_by:e.deviate_by,time_mode_year1:e.time_mode_year1,time_mode_year2:e.time_mode_year2},Object(I.a)(t,"deviate_by",e.deviate_by),Object(I.a)(t,"clicked_items_in_slopechart",e.clicked_items_in_slopechart),Object(I.a)(t,"tracking",e.tracking),Object(I.a)(t,"defualt_models",e.defualt_models),Object(I.a)(t,"original_data",e.original_data),Object(I.a)(t,"time_mode_model",e.time_mode_model),Object(I.a)(t,"chart_scale_type",e.chart_scale_type),Object(I.a)(t,"features_with_score",e.features_with_score),Object(I.a)(t,"dataset",e.dataset),Object(I.a)(t,"histogram_data",e.histogram_data),Object(I.a)(t,"sparkline_data",e.sparkline_data),Object(I.a)(t,"dataset",e.dataset),Object(I.a)(t,"anim_config",e.anim_config),Object(I.a)(t,"show",e.show),Object(I.a)(t,"default_model_scores",e.default_model_scores),Object(I.a)(t,"sort_by",e.sort_by),Object(I.a)(t,"average_m",e.average_m),Object(I.a)(t,"average_y",e.average_y),Object(I.a)(t,"lime_data",e.lime_data),Object(I.a)(t,"features_with_score",e.features_with_score),Object(I.a)(t,"rank_data",e.rank_data),Object(I.a)(t,"clicked_circles",e.clicked_circles),Object(I.a)(t,"clicked_features",e.clicked_features),t}),(function(e){return{Set_clicked_circles:function(t){return e({type:"clicked_circles",value:t})},Set_prev_prop:function(t){return e({type:"prev_prop",value:t})},Set_sparkline_data:function(t){return e({type:"sparkline_data",value:t})},Set_clicked_items_in_slopechart:function(t){return e({type:"clicked_items_in_slopechart",value:t})},Set_replay:function(t){return e({type:"replay",value:t})},Set_clicked_features:function(t){return e({type:"clicked_features",value:t})}}}))(te),a(123),Object(W.a)((function(e){return{MuiAutocompleteroot:{marginTop:0},root:{width:"100%"},listroot:{width:"100%"},paper:{},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular}}})));var re=Object(H.b)((function(e){var t;return t={all_models:e.all_models,selected_years:e.selected_years,tracking:e.tracking,selected_year:e.selected_year,years_for_dropdown:e.years_for_dropdown,defualt_models:e.defualt_models,mode:e.mode,prev_prop:e.prev_prop,state_range:e.state_range,replay:e.replay,grouped_by_year_data:e.grouped_by_year_data,clicked_items_in_slopechart:e.clicked_items_in_slopechart,range_mode_range1:e.range_mode_range1,range_mode_range2:e.range_mode_range2,time_mode_range:e.time_mode_range},Object(I.a)(t,"mode",e.mode),Object(I.a)(t,"sort_by",e.sort_by),Object(I.a)(t,"average_m",e.average_m),t}),(function(e){return{add:function(t){return e({type:"add",value:t})},Set_selected_year:function(t){return e({type:"selected_year",value:t})},set_tracking:function(t){return e({type:"tracking",value:t})},Set_histogram_data:function(t){return e({type:"histogram_data",value:t})},Set_changed:function(t){return e({type:"changed",value:t})},Set_state_range:function(t){return e({type:"state_range",value:t})},Set_slider_max:function(t){return e({type:"slider_max",value:t})},Set_range_mode_range1:function(t){return e({type:"range_mode_range1",value:t})},Set_range_mode_range2:function(t){return e({type:"range_mode_range2",value:t})},Set_time_mode_range:function(t){return e({type:"time_mode_range",value:t})},Set_pop_over_models:function(t){return e({type:"pop_over_models",value:t})},Set_defualt_models:function(t){return e({type:"defualt_models",value:t})},Set_default_model_scores:function(t){return e({type:"default_model_scores",value:t})},Set_average_m:function(t){return e({type:"average_m",value:t})}}}))((function(e){ae();var t=function(t){"All"==t?e.Set_defualt_models(Object(T.a)(e.all_models)):"Average"==t?e.Set_average_m(!e.average_m):e.defualt_models.includes(t)?e.Set_defualt_models(e.defualt_models.filter((function(e){return e!=t}))):e.Set_defualt_models([].concat(Object(T.a)(e.defualt_models),[t]))};return n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement("p",{style:{display:"inline-block",fontWeight:"bold",margin:0,marginRight:2}},"Years:"),e.years_for_dropdown.map((function(t){return n.a.createElement("p",{className:e.selected_years.includes(t)?"years_p_selected years_p":"years_p",onClick:function(){return a=t,void e.Set_selected_year(a);var a}},t)}))),n.a.createElement("div",{style:{marginTop:5}},n.a.createElement("p",{style:{display:"inline-block",fontWeight:"bold",margin:0,marginRight:2}},"Models:"),e.all_models.map((function(a){return n.a.createElement("p",{className:e.defualt_models.includes(a)?"years_p_selected years_p":"years_p",onClick:function(){return t(a)}},a)})),n.a.createElement("p",{className:"years_p",style:{display:"inline-block"},onClick:function(){return t("All")}},"All")))})),ne=a(179),ie=(a(82),a(172)),oe=a(173),le=a(178),se=a(175),ce=a(8);a(124);function de(e,t,a,r,n,i,o){var l=F(".Sidebar_parent").width(),s=A.select(a),c=30,d=7,_=l-d-15,u=r-c-20;if(isNaN(t[0].y)){var p={};t.map((function(e){e.y in p?p[e.y]=p[e.y]+1:p[e.y]=1}));var m=Object.keys(p).map((function(e){return[e,p[e]]}));m.sort((function(e,t){return t[1]-e[1]}));var g=m.map((function(e){return e[0]})),f=m.map((function(e){return e[1]})),h=A.sum(f),y=A.scaleSequential().interpolator(A.interpolate("#999999b3","#999999b3")).domain([0,f.length]);s.selectAll(".hist_title").data([0]).join("text").attr("class","hist_title").attr("y",15).attr("x",_/2).attr("text-anchor","middle").text(e);var v=s.selectAll(".g1").data([0]).join("g").attr("class","g1").attr("transform","translate("+d+","+c+")").selectAll(".svg1").data([0]).join("svg").attr("class","svg1").attr("width",_).attr("height",u);v.selectAll("rect").data(f).join("rect").style("fill",(function(e,t){return y(t)})).attr("height",u).attr("width",(function(e,t){return e/h*_-.2})).attr("x",(function(e,t){return A.sum(f.slice(0,t))/h*_})).attr("id",(function(e,t){return g[t]})).on("click",(function(e,t){A.select("#"+g[t]).classed("cat_item_clicked",(function(){if(A.select("#"+g[t]).classed("cat_item_clicked"))return!1;var e=function(e,t,a){var r=[];return e.forEach((function(e){e["1-qid"]==t&&e.country==a&&r.push(parseInt(e.two_realRank))})),r}(o,n,g[t]);return i(e,"histogram_data"),!0}))})),v.selectAll("text").data(g,(function(e){return e})).join("text").text((function(e,t){return f[t]/h*_>12?e:""})).attr("x",(function(e,t){return A.sum(f.slice(0,t))/h*_+8})).attr("y",u/2).style("font-size",9).style("writing-mode","tb").style("text-anchor","middle")}else{s.selectAll(".hist_title").data([e],(function(e){return e})).join("text").attr("class","hist_title").attr("y",15).attr("x",_/2).attr("text-anchor","middle").text(e.replace(/_/g," "));var b=t.map((function(e){return parseFloat(e.y)})),k=(f=A.scaleLinear().domain([A.min(b),A.max(b)]).range([0,_]).nice()).ticks(4),w=u,j=A.histogram().value((function(e){return e})).domain(f.domain()).thresholds(4)(b),S=A.scaleLinear().range([w,0]);S.domain([0,A.max(j,(function(e){return e.length}))]);var x=s.selectAll(".svg0").data([0]).join("svg").attr("class","svg0").selectAll(".myg0").data([0]).join("g").attr("class","myg0").attr("transform","translate("+d+","+c+")");x.selectAll("rect").data(j).join("rect").attr("x",1).attr("fill","#999999b3").attr("transform",(function(e){return e.x0==e.x1?"translate(0,"+S(e.length)+")":"translate("+f(e.x0)+","+S(e.length)+")"})).attr("width",(function(e){return e.x0==e.x1?_:f(e.x1)-f(e.x0)-.2})).attr("height",(function(e){return w-S(e.length)})),x.selectAll(".mylabel").data(j).join("text").attr("class","mylabel").attr("x",(function(e){return f(e.x0)+(f(e.x1)-f(e.x0))/3})).text((function(e){return e.length})).attr("y",(function(e){return S(e.length)-2})).attr("font-size",10),A.max(k)>1e3?x.selectAll(".myXaxis").data([0]).join("g").attr("class","myXaxis").attr("transform","translate(0,"+w+")").call(A.axisBottom(f).tickValues(k).tickFormat(A.format(".2s"))):x.selectAll(".myXaxis").data([0]).join("g").attr("class","myXaxis").attr("transform","translate(0,"+w+")").call(A.axisBottom(f).tickValues(k)),x.selectAll(".tick line,.domain").attr("stroke","#adadad");var O={element:null,previousElement:null,currentY:0,currentX:0,originX:0,originY:0,setElement:function(e){this.previousElement=this.element,this.element=e},getNewAttributes:function(){return{x:this.currentX<this.originX?this.currentX:this.originX,y:this.currentY<this.originY?this.currentY:this.originY,width:Math.abs(this.currentX-this.originX),height:Math.abs(this.currentY-this.originY)}},getCurrentAttributes:function(){var e=+this.element.attr("x"),t=+this.element.attr("y");return{x1:e,y1:t,x2:e+ +this.element.attr("width"),y2:t+ +this.element.attr("height")}},getCurrentAttributesAsText:function(){var e=this.getCurrentAttributes();return"x1: "+e.x1+" x2: "+e.x2+" y1: "+e.y1+" y2: "+e.y2},init:function(e,t){var a=s.append("rect").attr("rx",1).attr("ry",1).attr("x",0).attr("y",0).attr("width",0).attr("height",0).classed("selection",!0);this.setElement(a),this.originX=e,this.originY=t,this.update(e,t)},update:function(e,t){this.currentX=e,this.currentY=t;var a=this.getNewAttributes();this.element.attr("x",a.x).attr("y",a.y).attr("width",a.width).attr("height",a.height)},focus:function(){this.element.style("stroke","").style("stroke-width","1")},remove:function(){this.element.remove(),this.element=null},removePrevious:function(){this.previousElement&&this.previousElement.remove()}};var E=A.drag().on("start",(function(){var e=A.mouse(this);O.init(e[0],e[1]),O.removePrevious()})).on("drag",(function(){var e=A.mouse(this);O.update(e[0],e[1])})).on("end",(function(){var t=O.getCurrentAttributes();if(t.x1!=t.x2){var a=t.x1-d,r=t.x2-d,l=[f.invert(a).toFixed(4),f.invert(r).toFixed(4)],s=function(e,t,a,r){var n=[];return e.forEach((function(e){e["1-qid"]==a&&parseFloat(e[r])>=t[0]&&parseFloat(e[r])<=t[1]&&n.push(parseInt(e.two_realRank))})),n}(o,l,n,e);i(s,"histogram_data")}t.x2-t.x1>1&&t.y2-t.y1>1?O.focus():O.remove()}));s.call(E)}}var _e=a(69),ue=a.n(_e),pe=a(70),me=a.n(pe),ge=a(96),fe=a.n(ge),he=function(e){Object(_.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).handleHistogramselection=function(e,t){var a=r.state.selected_states;e.forEach((function(e){a.includes(e)||a.push(e)})),r.setState({selected_states:a})},r.update_histogram_data=function(){if(A.selectAll(".cat_item_clicked").classed("cat_item_clicked",!1),A.selectAll(".selection").remove(),r.state.selected_states.length<1)alert("Empty selection!");else{var e=r.props.appHandleChange,t=r.state.selected_states.filter((function(e){if(e>=r.props.state_range[0]&&e<=r.props.state_range[1])return e}));t.length<1&&alert("Empty Selection"),1==r.props.slider_and_feature_value.Feature&&1==r.props.slider_and_feature_value["Rank range"]?(r.props.Set_histogram_data(t),e(t,"histogram_data")):(r.props.Set_histogram_data(r.state.selected_states),e(r.state.selected_states,"histogram_data")),r.setState({selected_states:[]})}},r.makeArr=function(e){for(var t=e[0],a=e[1],r=[],n=t;n<=a;n++)r.push(n);return r},r.myRef=n.a.createRef(),r.state={feaures_dict:{},features_voted:null,feature_data:null,selected_states:[]},r}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e,t=this;"fiscal"==this.props.dataset?e=ue.a:"school"==this.props.dataset?e=me.a:"house"==this.props.dataset&&(e=fe.a),A.csv(e).then((function(e){t.setState({feature_data:e})}))}},{key:"shouldComponentUpdate",value:function(){return!0}},{key:"componentDidUpdate",value:function(){var e=this,t=this,a=this.makeArr(this.props.state_range),r=20,n=260,i=this.props.state_range[1]-this.props.state_range[0]+2*this.props.deviate_by;i*r<700&&(r=700/i);var o=i*r,l=3*Math.floor(o/n);l<9&&(l=9);var s=L(this.props.dataset,this.props.defualt_models,a,this.props.selected_year,l,this.props.rank_data),c=Object.keys(s).map((function(e){return[e,s[e]]}));if(c.sort((function(e,t){return t[1]-e[1]})),c=c.map((function(e){return e[0]})),"fiscal"==this.props.dataset?ue.a:"school"==this.props.dataset&&me.a,null!=this.state.feature_data){var d=F(".Sidebar_parent").width();n=150;c.forEach((function(a,r){var i="feature"+a.replace(/[^\w\s]/gi,""),o=[];e.state.feature_data.forEach((function(e){if(e["1-qid"]==t.props.selected_year){var r={};r.x=parseInt(e.two_realRank),r.y=e[a],o.push(r)}})),A.select("#histogram_container").attr("height",c.length*n).selectAll("#"+i).data([i],(function(e){return e})).join("svg").attr("id",i).attr("width",d).attr("x",(function(e){return de(a,o,"#"+i,n,t.props.selected_year,t.handleHistogramselection,t.state.feature_data),0})).attr("y",(function(e,t){return n*r}))}))}}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement(P.a,{className:"update",style:{marginLeft:0,padding:0,width:197},onClick:function(){var t=e;e.props.slider_and_feature_value["Rank range"]||(A.min(e.state.selected_states)<e.props.state_range[0]&&e.props.Set_state_range([A.min(e.state.selected_states),e.props.state_range[1]]),A.max(e.state.selected_states)>e.props.state_range[1]&&e.props.Set_state_range([e.props.state_range[0],A.max(e.state.selected_states)])),setTimeout((function(){t.update_histogram_data()}),500)}},"Update"),n.a.createElement("div",{className:"hitograms_container"},n.a.createElement("svg",{id:"histogram_container",style:{width:this.props.width}})))}}]),a}(r.Component),ye=Object(H.b)((function(e){return{state_range:e.state_range,defualt_models:e.defualt_models,dataset:e.dataset,selected_year:e.selected_year,slider_and_feature_value:e.slider_and_feature_value,deviate_by:e.deviate_by,rank_data:e.rank_data}}),(function(e){return{Set_defualt_models:function(t){return e({type:"defualt_models",value:t})},Set_sparkline_data:function(t){return e({type:"sparkline_data",value:t})},Set_histogram_data:function(t){return e({type:"histogram_data",value:t})},Set_state_range:function(t){return e({type:"state_range",value:t})},Set_clicked_items_in_slopechart:function(t){return e({type:"clicked_items_in_slopechart",value:t})}}}))(he),ve=a(176),be=a(127),ke=a(167);var we=Object(H.b)((function(e){return{tracking:e.tracking}}),(function(e){return{set_tracking:function(t){return e({type:"tracking",value:t})}}}))((function(e){return n.a.createElement(G.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"baseline"},n.a.createElement(ke.a,{labelPlacement:"start",control:n.a.createElement(le.a,{checked:e.tracking,onChange:function(t){return e.set_tracking(t.target.checked)},name:"checkedB",color:"primary"}),label:"Tracking"}))})),je=Object(W.a)((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},tRoot:{marginBottom:35},rang_input:{marginLeft:10}}}));var Se=Object(H.b)((function(e){return{selected_year:e.selected_year,state_range:e.state_range,mode:e.mode,slider_max:e.slider_max,range_mode_model:e.range_mode_model,range_mode_range1:e.range_mode_range1,range_mode_range2:e.range_mode_range2,time_mode_model:e.time_mode_model,time_mode_range:e.time_mode_range,time_mode_year1:e.time_mode_year1,time_mode_year2:e.time_mode_year2,years_for_dropdown:e.years_for_dropdown,dataset:e.dataset,defualt_models:e.defualt_models,slider_and_feature_value:e.slider_and_feature_value,sort_by:e.sort_by,grouped_by_year_data:e.grouped_by_year_data}}),(function(e){return{Set_slider_max:function(t){return e({type:"slider_max",value:t})},Set_years_for_dropdown:function(t){return e({type:"years_for_dropdown",value:t})},Set_state_range:function(t){return e({type:"state_range",value:t})},Set_mode:function(t){return e({type:"mode",value:t})},Set_range_mode_model:function(t){return e({type:"range_mode_model",value:t})},Set_time_mode_model:function(t){return e({type:"time_mode_model",value:t})},Set_range_mode_range1:function(t){return e({type:"range_mode_range1",value:t})},Set_range_mode_range2:function(t){return e({type:"range_mode_range2",value:t})},Set_time_mode_range:function(t){return e({type:"time_mode_range",value:t})},Set_time_mode_year1:function(t){return e({type:"time_mode_year1",value:t})},Set_time_mode_year2:function(t){return e({type:"time_mode_year2",value:t})},Set_histogram_data:function(t){return e({type:"histogram_data",value:t})},Set_slider_and_feature_value:function(t){return e({type:"slider_and_feature_value",value:t})},Set_clicked_items_in_slopechart:function(t){return e({type:"clicked_items_in_slopechart",value:t})},Set_changed:function(t){return e({type:"changed",value:t})},Set_pop_over_models:function(t){return e({type:"pop_over_models",value:t})},Set_defualt_models:function(t){return e({type:"defualt_models",value:t})},Set_default_model_scores:function(t){return e({type:"default_model_scores",value:t})}}}))((function(e){for(var t,a,r,i,o=je(),l=n.a.useState(e.state_range),s=Object(q.a)(l,2),c=s[0],d=s[1],_=n.a.useState(e.range_mode_range1),u=Object(q.a)(_,2),p=u[0],m=u[1],g=n.a.useState(e.range_mode_range2),f=Object(q.a)(g,2),h=f[0],y=f[1],v=n.a.useState(e.time_mode_range),b=Object(q.a)(v,2),k=b[0],w=b[1],j=n.a.useState(0),S=Object(q.a)(j,2),x=(S[0],S[1]),O=[],E=(e.slider_max-1)/5,R=0;R<6;R++)O.push(1+E*R);var C=O.map((function(e){var t=parseInt(e);return{value:t,label:t}}));return n.a.createElement("div",{style:{borderTop:"1px solid #eaeaea"}},n.a.createElement("p",{className:"title_show",style:{marginBottom:8}},"Compare:"),n.a.createElement(ve.a,{className:"autocomplete_mode",style:{border:"1px solid grey",borderRadius:0,paddingTop:0,paddingBottom:0,marginLeft:5,marginRight:30,width:F(".Sidebar").width()-10},defaultValue:"Models",id:"debug",debug:!0,options:["Models","Ranges","Time"],renderInput:function(e){return n.a.createElement(se.a,Object.assign({},e,{label:"",margin:"normal",fullWidth:!0,InputProps:Object(ce.a)({},e.InputProps,{disableUnderline:!0})}))},onChange:function(t,a){var r=a.replace("s","");e.Set_mode(r),e.Set_clicked_items_in_slopechart([])}}),"Model"==e.mode?n.a.createElement("div",{style:{marginTop:10,paddingLeft:5,width:F(".Sidebar").width()}},n.a.createElement("p",{style:{marginLeft:0,marginBottom:-5,marginTop:15,marginRight:12,paddingLeft:5,backgroundColor:"#f7f7f7",fontSize:16}},"fiscal"==e.dataset?"Select states":"Select "+e.dataset+"s"),n.a.createElement("div",{key:e.slider_and_feature_value,className:"slider_feature_container"},n.a.createElement(ie.a,{className:o.listroot},["Rank range","Feature"].map((function(t){var a="checkbox-list-label-".concat(t);return n.a.createElement("div",{className:"listItem"},n.a.createElement(oe.a,{key:t,role:void 0},n.a.createElement(le.a,{checked:e.slider_and_feature_value[t],edge:"start",tabIndex:-1,value:t,onChange:function(t){var a=e.slider_and_feature_value;e.slider_and_feature_value[t.target.value]?a[t.target.value]=0:a[t.target.value]=1,x(JSON.stringify(a)),e.Set_slider_and_feature_value(a)}}),n.a.createElement("p",{className:"list_item_label",id:a},t)))})))),1==e.slider_and_feature_value["Rank range"]?n.a.createElement("div",{className:"rangeslider",style:{width:F(".Sidebar").width()-12}},n.a.createElement(X.a,(t={value:c,onChange:function(e,t){return d(t)},onChangeCommitted:function(t,a){return e.Set_changed("range")},valueLabelDisplay:"auto","aria-labelledby":"range-slider"},Object(I.a)(t,"valueLabelDisplay","on"),Object(I.a)(t,"min",1),Object(I.a)(t,"max",e.slider_max),Object(I.a)(t,"marks",C),t)),n.a.createElement(G.a,{style:{marginBottom:15},container:!0,direction:"row",justify:"space-around",alignItems:"center"},n.a.createElement(se.a,{classes:{input:o.rang_input},id:"standard-basic",label:"Lower",value:c[0],style:{width:40},onChange:function(e){isNaN(parseInt(e.target.value))?d(["",c[1]]):e.target.value>c[1]?alert("Lower range can not be larger than the upper range"):d([e.target.value,c[1]])}}),n.a.createElement(se.a,{classes:{input:o.rang_input},id:"standard-basic",label:"Upper",value:c[1],style:{width:40},onChange:function(t){isNaN(parseInt(t.target.value))?d([c[0],""]):parseInt(t.target.value)>e.slider_max?(alert("Upper range can not exceed maximum"),d([c[0],e.slider_max])):d([c[0],parseInt(t.target.value)])}})),n.a.createElement(we,null),n.a.createElement(P.a,{className:"range_button",style:{width:F(".Sidebar").width()-11,backgroundColor:"#ededed",height:30,marginBottom:5,marginLeft:-3},onClick:function(){e.Set_state_range(c)}},"Update range")):null,1==e.slider_and_feature_value.Feature?n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement(ye,{year:e.selected_year.toString(),state_range:e.state_range,Sidebar_width:F(".Sidebar").width(),appHandleChange:e.appHandleChange}))):null):null,"Range"==e.mode?n.a.createElement("div",{style:{marginTop:10,paddingLeft:5,width:F(".Sidebar").width()}},n.a.createElement("div",{className:"range_model"},n.a.createElement(ve.a,{defaultValue:e.range_mode_model,id:"debug",debug:!0,options:["CordAscent","LambdaMART","LambdaRank","LinearReg","ListNet","MART","RandomFor","RankBoost","RankNet"].map((function(e){return e})),renderInput:function(e){return n.a.createElement(se.a,Object.assign({},e,{label:"Model",margin:"normal",InputProps:Object(ce.a)({},e.InputProps,{disableUnderline:!0})}))},onChange:function(t,a){return e.Set_range_mode_model(a)}}),n.a.createElement("p",{style:{marginLeft:0,marginBottom:-5,marginTop:15,marginRight:12,paddingLeft:5,backgroundColor:"#f7f7f7",fontSize:16}},"fiscal"==e.dataset?"Select states":"Select "+e.dataset+"s")),n.a.createElement("div",{className:"rangeslider",style:{width:F(".Sidebar").width()-12}},n.a.createElement(be.a,{classes:{root:o.tRoot}},"Group 1"),n.a.createElement(X.a,(a={value:p,onChange:function(e,t){return m(t)},onChangeCommitted:function(t,a){return e.Set_changed("range")},valueLabelDisplay:"auto","aria-labelledby":"range-slider"},Object(I.a)(a,"valueLabelDisplay","on"),Object(I.a)(a,"min",1),Object(I.a)(a,"max",e.slider_max),Object(I.a)(a,"marks",C),a)),n.a.createElement(G.a,{style:{marginBottom:15},container:!0,direction:"row",justify:"space-around",alignItems:"center"},n.a.createElement(se.a,{classes:{input:o.rang_input},id:"standard-basic",label:"Lower",value:p[0],style:{width:40},onChange:function(e){isNaN(parseInt(e.target.value))?m(["",p[1]]):e.target.value>p[1]?alert("Lower range can not be larger than the upper range"):m([e.target.value,p[1]])}}),n.a.createElement(se.a,{classes:{input:o.rang_input},id:"standard-basic",label:"Upper",value:p[1],style:{width:40},onChange:function(t){isNaN(parseInt(t.target.value))?m([p[0],""]):parseInt(t.target.value)>e.slider_max?(alert("Upper range can not exceed maximum"),m([p[0],e.slider_max])):m([p[0],parseInt(t.target.value)])}})),n.a.createElement(P.a,{className:"range_button",style:{width:F(".Sidebar").width()-11,backgroundColor:"#ededed",height:30,marginBottom:5,marginLeft:-3},onClick:function(){return e.Set_range_mode_range1(p)}},"Update range")),n.a.createElement("div",{className:"rangeslider",style:{width:F(".Sidebar").width()-12}},n.a.createElement(be.a,{classes:{root:o.tRoot}},"Group 2"),n.a.createElement(X.a,(r={value:h,onChange:function(e,t){return y(t)},onChangeCommitted:function(t,a){e.Set_changed("range")},valueLabelDisplay:"auto","aria-labelledby":"range-slider"},Object(I.a)(r,"valueLabelDisplay","on"),Object(I.a)(r,"min",1),Object(I.a)(r,"max",e.slider_max),Object(I.a)(r,"marks",C),r))),n.a.createElement(G.a,{style:{marginBottom:15},container:!0,direction:"row",justify:"space-around",alignItems:"center"},n.a.createElement(se.a,{classes:{input:o.rang_input},id:"standard-basic",label:"Lower",value:h[0],style:{width:40},onChange:function(e){isNaN(parseInt(e.target.value))?y(["",h[1]]):e.target.value>h[1]?alert("Lower range can not be larger than the upper range"):y([e.target.value,h[1]])}}),n.a.createElement(se.a,{classes:{input:o.rang_input},id:"standard-basic",label:"Upper",value:h[1],style:{width:40},onChange:function(t){isNaN(parseInt(t.target.value))?y([h[0],""]):parseInt(t.target.value)>e.slider_max?(alert("Upper range can not exceed maximum"),y([h[0],e.slider_max])):y([h[0],parseInt(t.target.value)])}})),n.a.createElement(P.a,{className:"range_button",style:{width:F(".Sidebar").width()-11,backgroundColor:"#ededed",height:30,marginBottom:5,marginLeft:0},onClick:function(){return e.Set_range_mode_range2(h)}},"Update range")):null,"Time"==e.mode?n.a.createElement("div",{style:{marginTop:10,paddingLeft:5,marginBottom:10,width:F(".Sidebar").width()}},n.a.createElement("div",{className:"model"},n.a.createElement(ve.a,{defaultValue:e.time_mode_model,id:"debug",debug:!0,options:["CordAscent","LambdaMART","LambdaRank","LinearReg","ListNet","MART","RandomFor","RankBoost","RankNet"].map((function(e){return e})),renderInput:function(e){return n.a.createElement(se.a,Object.assign({},e,{label:"Model",margin:"normal",InputProps:Object(ce.a)({},e.InputProps,{disableUnderline:!0})}))},onChange:function(t,a){return e.Set_time_mode_model(a)}}),n.a.createElement("p",{style:{marginLeft:0,marginBottom:-5,marginTop:15,marginRight:12,paddingLeft:5,backgroundColor:"#f7f7f7",fontSize:16}},"fiscal"==e.dataset?"Select states":"Select "+e.dataset+"s"),n.a.createElement("div",{className:"rangeslider",style:{width:F(".Sidebar").width()-12}},n.a.createElement(X.a,(i={value:k,onChange:function(e,t){return w(t)},onChangeCommitted:function(t,a){return e.Set_changed("range")},valueLabelDisplay:"auto","aria-labelledby":"range-slider"},Object(I.a)(i,"valueLabelDisplay","on"),Object(I.a)(i,"min",1),Object(I.a)(i,"max",e.slider_max),Object(I.a)(i,"marks",C),i)),n.a.createElement(G.a,{style:{marginBottom:15},container:!0,direction:"row",justify:"space-around",alignItems:"center"},n.a.createElement(se.a,{classes:{input:o.rang_input},id:"standard-basic",label:"Lower",value:k[0],style:{width:40},onChange:function(e){isNaN(parseInt(e.target.value))?w(["",k[1]]):e.target.value>k[1]?alert("Lower range can not be larger than the upper range"):w([e.target.value,k[1]])}}),n.a.createElement(se.a,{classes:{input:o.rang_input},id:"standard-basic",label:"Upper",value:k[1],style:{width:40},onChange:function(t){isNaN(parseInt(t.target.value))?w([k[0],""]):parseInt(t.target.value)>e.slider_max?(alert("Upper range can not exceed maximum"),w([k[0],e.slider_max])):w([k[0],parseInt(t.target.value)])}})),n.a.createElement(P.a,{className:"range_button",style:{width:F(".Sidebar").width()-11,backgroundColor:"#ededed",height:30,marginBottom:5,marginLeft:-3},onClick:function(){return e.Set_time_mode_range(k)}},"Update range")),n.a.createElement("div",{className:"year"},n.a.createElement(ve.a,{className:{root:o.MuiAutocompleteroot},defaultValue:e.time_mode_year1.toString(),id:"debug",debug:!0,options:e.years_for_dropdown.map((function(e){return e})),renderInput:function(e){return n.a.createElement(se.a,Object.assign({},e,{label:"Year 1",margin:"normal",fullWidth:!0,InputProps:Object(ce.a)({},e.InputProps,{disableUnderline:!0})}))},onChange:function(t,a){e.Set_time_mode_year1(a),e.Set_changed("year")}})),n.a.createElement("div",{className:"year"},n.a.createElement(ve.a,{className:{root:o.MuiAutocompleteroot},defaultValue:e.time_mode_year2.toString(),id:"debug",debug:!0,options:e.years_for_dropdown.map((function(e){return e})),renderInput:function(e){return n.a.createElement(se.a,Object.assign({},e,{label:"Year 2",margin:"normal",fullWidth:!0,InputProps:Object(ce.a)({},e.InputProps,{disableUnderline:!0})}))},onChange:function(t,a){e.Set_time_mode_year2(a),e.Set_changed("year")}})))):null)}));var xe=Object(W.a)((function(e){return{root:{width:"100%"},listroot:{width:"100%",maxWidth:360},paper:{},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular}}}));var Oe,Ee=Object(H.b)((function(e){return{deviate_by:e.deviate_by,state_range:e.state_range,defualt_models:e.defualt_models,selected_year:e.selected_year,sparkline_data:e.sparkline_data,show:e.show,view_data:e.view_data,symbolTypes:e.symbolTypes}}),(function(e){return{Set_defualt_models:function(t){return e({type:"defualt_models",value:t})},Set_sparkline_data:function(t){return e({type:"sparkline_data",value:t})},Set_slider_max:function(t){return e({type:"slider_max",value:t})},Set_years_for_dropdown:function(t){return e({type:"years_for_dropdown",value:t})},Set_selected_year:function(t){return e({type:"selected_year",value:t})},Set_ref_year:function(t){return e({type:"ref_year",value:t})},Set_original_data:function(t){return e({type:"original_data",value:t})},Set_state_range:function(t){return e({type:"state_range",value:t})},Set_deviate_by:function(t){return e({type:"deviate_by",value:t})},Set_show:function(t){return e({type:"show",value:t})}}}))((function(e){!function(e,t){F(".symbols_container").width();var a=A.symbol().size(80);A.select(".symbols_container").selectAll("g").data(e,(function(e){return e})).join("g").attr("transform",(function(e,t){return"translate(10,"+25*t+")"})).attr("add_text",(function(e){A.select(this).selectAll("text").data([e]).join("text").text(e).attr("dominant-baseline","hanging")})).attr("Add_symbol",(function(e){A.select(this).selectAll("path").data([0]).join("path").attr("d",(function(){return a.type(A[t[e]]),a()})).attr("fill","grey").attr("transform","translate(120,10)")}))}(e.defualt_models,e.symbolTypes);var t=xe(),a=n.a.useState([0]),r=Object(q.a)(a,2),i=r[0],o=r[1],l=function(e){return function(){var t=i.indexOf(e),a=Object(T.a)(i);-1===t?a.push(e):a.splice(t,1),o(a)}};return n.a.createElement("div",{className:"Sidebar_parent",style:{height:window.innerHeight}},1==e.view_data?n.a.createElement("div",{className:"rangeSlidercontainer"},n.a.createElement(Se,{appHandleChange:e.appHandleChange}),n.a.createElement("div",{className:"deviation",style:{marginLeft:5,borderTop:"0px solid #eaeaea"}},n.a.createElement("p",{className:"title_show"},"Margin:"),n.a.createElement(se.a,{id:"outlined-size-normal",defaultValue:e.deviate_by,variant:"filled",color:"primary",onChange:function(t){return function(t){var a=parseInt(t.target.value);a>-1&&setTimeout((function(){e.Set_deviate_by(a)}),100)}(t)},fullWidth:!1,style:{height:24}})),n.a.createElement("div",{className:"show"},n.a.createElement("p",{className:"title_show"},"Show:"),n.a.createElement(ie.a,{className:t.listroot},["Rankings","Explanation"].map((function(t){var a="checkbox-list-label-".concat(t);return n.a.createElement(oe.a,{key:t,role:void 0,onClick:l(t)},n.a.createElement(le.a,{checked:e.show.includes(t),edge:"start",tabIndex:-1,value:t,onChange:function(t,a){var r=Object(T.a)(e.show);r.includes(t.target.value)&&"Rankings"!=t.target.value?r=r.filter((function(e){return e!=t.target.value})):r.push(t.target.value),e.Set_show(r)}}),n.a.createElement("p",{className:"list_item_label",id:a},t))}))))):null,n.a.createElement("div",{style:{width:"100%",padding:3,borderTop:"1px solid #bfbbbb"}},n.a.createElement("svg",{className:"symbols_container",style:{width:"100%"}})))})),Re=a(170),Ce=a(177),Ae=a(180),Ne=a(171),Le=function(e){Object(_.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).handleradioChange=function(e){r.setState({show:["Slope charts","Rankings","Explanation"]}),r.props.Set_slider_and_feature_value({"Rank range":1,Feature:0}),r.props.Set_clicked_items_in_slopechart([]),r.props.Set_state_range([1,25]),r.props.Set_histogram_data([]),r.props.Set_mode("Model"),r.props.Set_range_mode_range1([1,25]),r.props.Set_range_mode_range2([15,40]),r.props.Set_time_mode_range([5,35]),"Fiscal Dataset"==e.target.value?(r.setState({dataset:"fiscal"}),r.props.Set_dataset("fiscal"),r.dataprocessor("fiscal")):"House Dataset"==e.target.value?(r.setState({dataset:"house"}),r.props.Set_dataset("house"),r.dataprocessor("house")):(r.setState({dataset:"school"}),r.props.Set_dataset("school"),r.dataprocessor("school"))},r.dataprocessor=function(e){"school"==e&&r.process_data(g.a,j.a,x.a,e),"fiscal"==e&&r.process_data(p.a,v.a,k.a,e),"house"==e&&r.process_data(h.a,E.a,C.a,e)},r.process_data=function(e,t,a,n){var i=Object(c.a)(r);A.csv(e).then((function(e){var t=N(e).years,a=N(e).sparkline_data,r=Object.keys(t);i.props.Set_sparkline_data(a),i.props.Set_slider_max(t[r[0]].length),i.setState({years_for_dropdown:r}),i.props.Set_years_for_dropdown(r),i.props.Set_time_mode_year1(r[0]),i.props.Set_time_mode_year2(r[1]),i.props.Set_legend_year(r[0]),i.setState({ref_year:r[0]}),i.props.Set_grouped_by_year_data(t),i.setState({grouped_by_year_data:t},(function(){})),i.setState({original_data:e}),i.props.Set_original_data(e),i.props.Set_selected_year(r[0])})),A.csv(t).then((function(e){var t={};A.nest().key((function(e){return e.model})).entries(e).map((function(e){t[e.key]=e.values})),i.props.Set_rank_data(t)})),A.csv(a).then((function(e){var t={};A.nest().key((function(e){return e.model})).entries(e).map((function(e){t[e.key]=e.values})),i.props.Set_lime_data(t)}))},r.buttonclickHandler=function(e,t){setTimeout((function(){r.setState({random:Math.random()})}),500),r.setState({view_data:e}),r.setState({view_data:e})},r.state={view_data:1,grouped_by_year_data:null},r}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.dataprocessor("fiscal")}},{key:"shouldComponentUpdate",value:function(){return!0}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"root_container"},n.a.createElement("div",{className:"uploader_topbar"},n.a.createElement(G.a,{container:!0,spacing:0,className:"myheader",style:{left:F(".Sidebar").width(),overflow:"hidden"}},n.a.createElement(G.a,{item:!0}," ",n.a.createElement("h4",{className:"app_title"},"RIEVAL ")),n.a.createElement(G.a,{item:!0,style:{marginLeft:100,borderRight:"1px dashed #eaeaea",width:100}},n.a.createElement(P.a,{onClick:function(){return e.buttonclickHandler(1,"button")}},"View Data")),n.a.createElement(G.a,{item:!0,style:{borderRight:"1px dashed #eaeaea",width:120}},n.a.createElement(P.a,{onClick:function(){return e.buttonclickHandler(0,"button")}},"Load Data"))),0==this.state.view_data?n.a.createElement(ne.a,{className:"Topbar_container"},n.a.createElement("div",{className:"load"},n.a.createElement("form",{onSubmit:function(){return e.buttonclickHandler(1,"form")}},n.a.createElement(Re.a,{component:"fieldset"},n.a.createElement(Ne.a,{component:"legend"}),n.a.createElement(Ae.a,{"aria-label":"gender",name:"gender1",onChange:this.handleradioChange},["Fiscal Dataset","School Dataset","House Dataset"].map((function(e){return n.a.createElement(ke.a,{value:e,control:n.a.createElement(Ce.a,null),label:e})}))),n.a.createElement(P.a,{type:"submit",variant:"outlined",color:"primary"},"Load"))))):null),0!=this.state.view_data?n.a.createElement("div",{className:"app_container"},n.a.createElement("div",{className:"sidebar"},n.a.createElement("div",{className:"div2 Sidebar"},n.a.createElement(Ee,null))),n.a.createElement("div",{className:"dev_container"},n.a.createElement("div",{className:"top"},n.a.createElement(re,null)),n.a.createElement("div",{className:"bottom"},"Model"==this.props.mode&&null!=this.props.original_data&&null!=this.props.lime_data?n.a.createElement(Z,null):null)),n.a.createElement("div",{className:"feature_container"},n.a.createElement("div",{className:"top"},n.a.createElement("svg",{id:"top_exp",style:{width:"100%",height:"100%",marginBottom:10}})),n.a.createElement("div",{className:"bottom"},n.a.createElement("svg",{id:"exp",style:{width:"100%",height:"100%",marginBottom:10}})))):null)}}]),a}(r.Component),Ie=Object(H.b)((function(e){return{tracking:e.tracking,state_range:e.state_range,deviate_by:e.deviate_by,defualt_models:e.defualt_models,sparkline_data:e.sparkline_data,selected_year:e.selected_year,mode:e.mode,range_mode_model:e.range_mode_model,original_data:e.original_data,time_mode_model:e.time_mode_model,chart_scale_type:e.chart_scale_type,dataset:e.dataset,histogram_data:e.histogram_data,sort_by:e.sort_by,time_mode_year1:e.time_mode_year1,time_mode_year2:e.time_mode_year2,popup_chart_data:e.popup_chart_data,clicked_items_in_slopechart:e.clicked_items_in_slopechart,config:e.config,lime_data:e.lime_data,rank_data:e.rank_data}}),(function(e){return{Set_dataset:function(t){return e({type:"dataset",value:t})},Set_defualt_models:function(t){return e({type:"defualt_models",value:t})},Set_sparkline_data:function(t){return e({type:"sparkline_data",value:t})},Set_slider_max:function(t){return e({type:"slider_max",value:t})},Set_years_for_dropdown:function(t){return e({type:"years_for_dropdown",value:t})},Set_selected_year:function(t){return e({type:"selected_year",value:parseInt(t)})},Set_ref_year:function(t){return e({type:"ref_year",value:t})},Set_original_data:function(t){return e({type:"original_data",value:t})},Set_grouped_by_year_data:function(t){return e({type:"grouped_by_year_data",value:t})},Set_slider_and_feature_value:function(t){return e({type:"slider_and_feature_value",value:t})},Set_clicked_items_in_slopechart:function(t){return e({type:"clicked_items_in_slopechart",value:t})},Set_histogram_data:function(t){return e({type:"histogram_data",value:t})},Set_state_range:function(t){return e({type:"state_range",value:t})},Set_legend_year:function(t){return e({type:"legend_year",value:t})},Set_mode:function(t){return e({type:"mode",value:t})},Set_range_mode_range1:function(t){return e({type:"range_mode_range1",value:t})},Set_range_mode_range2:function(t){return e({type:"range_mode_range2",value:t})},Set_time_mode_range:function(t){return e({type:"time_mode_range",value:t})},Set_time_mode_year1:function(t){return e({type:"time_mode_year1",value:t})},Set_time_mode_year2:function(t){return e({type:"time_mode_year2",value:t})},Set_rank_data:function(t){return e({type:"rank_data",value:t})},Set_lime_data:function(t){return e({type:"lime_data",value:t})},Set_pop_over_models:function(t){return e({type:"pop_over_models",value:t})},Set_default_model_scores:function(t){return e({type:"default_model_scores",value:t})}}}))(Le),Te=(a(125),a(56)),Fe=(Oe={anim_config:{rank_animation:3e3,deviation_animation:3e3,feature_animation:3e3,circle_animation:3e3},appHandleChange:null,sparkline_data:null,sort_by:"Average Precision",original_data:null,rank_data:null,lime_data:null,grouped_by_year_data:null,slope_chart_ready_to_vis:null,defualt_models:["LinearReg"],state_range:[1,40],deviate_by:0,show:["Slope charts","Rankings","Explanation"],years_for_dropdown:["2006"],selected_year:2006,selected_years:["2006"],slider_min:1,slider_max:50,view_data:1,dataset:"fiscal",histogram_data:[],chart_scale_type:"true",features_with_score:null,ref_year:null,cmodel:"CordAscent",clicked_items_in_slopechart:[],tracking:!1,dummy:null,features_dict:{},features_voted:null,Legend_ready_to_vis:null,legend_model:"CordAscent",legend_show_option:"Model",legend_year:2012,mode:"Model",range_mode_model:"CordAscent",range_mode_range1:[1,25],range_mode_range2:[15,40],time_mode_model:"CordAscent",time_mode_year1:"Null",time_mode_year2:"Null",time_mode_range:[6,32]},Object(I.a)(Oe,"chart_scale_type","true"),Object(I.a)(Oe,"slider_and_feature_value",{"Rank range":1,Feature:0}),Object(I.a)(Oe,"prev_prop",{}),Object(I.a)(Oe,"replay",!1),Object(I.a)(Oe,"changed","year"),Object(I.a)(Oe,"popup_chart_data",null),Object(I.a)(Oe,"pop_over",!0),Object(I.a)(Oe,"pop_over_models",["MART","LinearReg"]),Object(I.a)(Oe,"clicked_features",[]),Object(I.a)(Oe,"drag_drop_feautre_data",{}),Object(I.a)(Oe,"dbclicked_features",[]),Object(I.a)(Oe,"default_model_scores",{}),Object(I.a)(Oe,"all_models",["MART","RandomFor","LinearReg","CordAscent","LambdaMART","LambdaRank","RankBoost","RankNet"]),Object(I.a)(Oe,"average_y",!1),Object(I.a)(Oe,"average_m",!1),Object(I.a)(Oe,"clicked_circles",[]),Object(I.a)(Oe,"symbolTypes",{LinearReg:"symbolDiamond"}),Oe),Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0;if("clicked_circles"===t.type)return Object(ce.a)({},e,{clicked_circles:t.value});if("average_y"===t.type)return console.log(t.value),Object(ce.a)({},e,{average_y:t.value});if("average_m"===t.type)return console.log(t.value),Object(ce.a)({},e,{average_m:t.value});if("selected_years"===t.type)return console.log(t.value),Object(ce.a)({},e,{selected_years:t.value[t.value.length-1],selected_year:t.value[t.value.length-1]});if("default_model_scores"===t.type)return Object(ce.a)({},e,{default_model_scores:t.value});if("dbclicked_features"===t.type)return Object(ce.a)({},e,{dbclicked_features:t.value});if("drag_drop_feautre_data"===t.type)return Object(ce.a)({},e,{drag_drop_feautre_data:t.value});if("anim_config"===t.type)return Object(ce.a)({},e,{config:t.value});if("show"===t.type)return Object(ce.a)({},e,{show:t.value});if("lime_data"===t.type)return Object(ce.a)({},e,{lime_data:t.value});if("defualt_models"===t.type){var a=["symbolDiamond","symbolSquare","symbolStar","symbolTriangle","symbolCircle","symbolWye",,"symbolCross"],r={};return t.value.map((function(e,t){r[e]=a[t]})),Object(ce.a)({},e,{symbolTypes:r,defualt_models:t.value})}if("rank_data"===t.type)return Object(ce.a)({},e,{rank_data:t.value});if("original_data"===t.type)return Object(ce.a)({},e,{original_data:t.value});if("years_for_dropdown"===t.type)return Object(ce.a)({},e,{years_for_dropdown:t.value});if("appHandleChange"===t.type)return Object(ce.a)({},e,{appHandleChange:t.value});if("state_range"===t.type)return Object(ce.a)({},e,{state_range:t.value});if("selected_year"===t.type)return Object(ce.a)({},e,{selected_year:t.value,selected_years:[t.value.toString()]});if("tracking"===t.type)return Object(ce.a)({},e,{tracking:t.value});if("grouped_by_year_data"===t.type)return Object(ce.a)({},e,{grouped_by_year_data:t.value});if("sort_by"===t.type)return Object(ce.a)({},e,{sort_by:t.value});if("deviate_by"===t.type)return Object(ce.a)({},e,{deviate_by:t.value});if("mode"===t.type)return Object(ce.a)({},e,{mode:t.value});if("slider_max"===t.type)return Object(ce.a)({},e,{slider_max:t.value});if("range_mode_model"===t.type)return Object(ce.a)({},e,{range_mode_model:t.value});if("range_mode_range1"===t.type)return Object(ce.a)({},e,{range_mode_range1:t.value});if("range_mode_range2"===t.type)return Object(ce.a)({},e,{range_mode_range2:t.value});if("time_mode_range"===t.type)return Object(ce.a)({},e,{time_mode_range:t.value});if("time_mode_model"===t.type)return Object(ce.a)({},e,{time_mode_model:t.value});if("time_mode_year1"===t.type)return Object(ce.a)({},e,{time_mode_year1:t.value});if("time_mode_year2"===t.type)return Object(ce.a)({},e,{time_mode_year2:t.value});if("clicked_items_in_slopechart"===t.type)return Object(ce.a)({},e,{clicked_items_in_slopechart:t.value});if("features_with_score"===t.type)return Object(ce.a)({},e,{features_with_score:t.value});if("sparkline_data"===t.type)return Object(ce.a)({},e,{sparkline_data:t.value});if("legend_show_option"===t.type)return Object(ce.a)({},e,{legend_show_option:t.value});if("legend_model"===t.type)return Object(ce.a)({},e,{legend_model:t.value});if("histogram_data"===t.type)return Object(ce.a)({},e,{histogram_data:t.value});if("dataset"===t.type)return Object(ce.a)({},e,{dataset:t.value});if("slider_and_feature_value"===t.type)return Object(ce.a)({},e,{slider_and_feature_value:t.value});if("legend_year"===t.type)return Object(ce.a)({},e,{legend_year:t.value});if("prev_prop"===t.type)return Object(ce.a)({},e,{prev_prop:t.value});if("replay"===t.type)return Object(ce.a)({},e,{replay:t.value});if("changed"===t.type)return Object(ce.a)({},e,{changed:t.value});if("popup_chart_data"===t.type)return Object(ce.a)({},e,{popup_chart_data:t.value});if("pop_over"===t.type)return Object(ce.a)({},e,{pop_over:t.value});if("pop_over_models"===t.type){var n=t.value.filter((function(e){return"ListNet"!=e}));return Object(ce.a)({},e,{pop_over_models:n})}return"clicked_features"===t.type?Object(ce.a)({},e,{clicked_features:t.value}):e},ze=a(100),Me=Object(ze.a)({typography:{button:{textTransform:"none"}}}),De=a(174),Ue=Object(Te.b)(Be);o.a.render(n.a.createElement(De.a,{theme:Me},n.a.createElement(H.a,{store:Ue},n.a.createElement(Ie,null))),document.getElementById("root"))},67:function(e,t,a){},69:function(e,t,a){e.exports=a.p+"static/media/chart1_data.d3b20544.csv"},70:function(e,t,a){e.exports=a.p+"static/media/chart1_data.cca71c9e.csv"},80:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){e.exports=a.p+"static/media/fiscal.977bae2d.csv"},84:function(e,t,a){e.exports=a.p+"static/media/school.2d2c77ef.csv"},85:function(e,t,a){e.exports=a.p+"static/media/house.88979d03.csv"},86:function(e,t,a){e.exports=a.p+"static/media/fiscal_rank.6e0a824e.csv"},87:function(e,t,a){e.exports=a.p+"static/media/fiscal_lime.7992abf1.csv"},88:function(e,t,a){e.exports=a.p+"static/media/school_rank.edf0b9e3.csv"},89:function(e,t,a){e.exports=a.p+"static/media/school_lime.644683c6.csv"},90:function(e,t,a){e.exports=a.p+"static/media/house_rank.f85c2352.csv"},91:function(e,t,a){e.exports=a.p+"static/media/house_lime.b31dfb61.csv"},96:function(e,t,a){e.exports=a.p+"static/media/chart1_data.45acbae8.csv"}},[[113,1,2]]]);
//# sourceMappingURL=main.f0ad1454.chunk.js.map